import{a as b,b as $,c as A4,d as Cr,e as T4,f as P4,g as br,h as f,j as V2,k as H2,n as R4,o as q2}from"./chunk-5WDXYQDS.js";var _r={};T4(_r,{__addDisposableResource:()=>Ip,__assign:()=>Hs,__asyncDelegator:()=>kp,__asyncGenerator:()=>zs,__asyncValues:()=>Us,__await:()=>Yt,__awaiter:()=>I,__classPrivateFieldGet:()=>Cp,__classPrivateFieldIn:()=>xp,__classPrivateFieldSet:()=>bp,__createBinding:()=>Bs,__decorate:()=>ap,__disposeResources:()=>_p,__esDecorate:()=>cp,__exportStar:()=>fp,__extends:()=>ip,__generator:()=>pp,__importDefault:()=>wp,__importStar:()=>Mp,__makeTemplateObject:()=>vp,__metadata:()=>hp,__param:()=>sp,__propKey:()=>dp,__read:()=>fu,__rest:()=>vn,__rewriteRelativeImportExtension:()=>Sp,__runInitializers:()=>lp,__setFunctionName:()=>up,__spread:()=>yp,__spreadArray:()=>mp,__spreadArrays:()=>gp,__values:()=>qs,default:()=>K4});function ip(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");hu(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function vn(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e}function ap(n,t,e,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(t,e,i):a(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i}function sp(n,t){return function(e,r){t(e,r,n)}}function cp(n,t,e,r,o,i){function a(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var s=r.kind,c=s==="getter"?"get":s==="setter"?"set":"value",l=!t&&n?r.static?n:n.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),u,p=!1,h=e.length-1;h>=0;h--){var m={};for(var w in r)m[w]=w==="access"?{}:r[w];for(var w in r.access)m.access[w]=r.access[w];m.addInitializer=function(x){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(x||null))};var M=(0,e[h])(s==="accessor"?{get:d.get,set:d.set}:d[c],m);if(s==="accessor"){if(M===void 0)continue;if(M===null||typeof M!="object")throw new TypeError("Object expected");(u=a(M.get))&&(d.get=u),(u=a(M.set))&&(d.set=u),(u=a(M.init))&&o.unshift(u)}else(u=a(M))&&(s==="field"?o.unshift(u):d[c]=u)}l&&Object.defineProperty(l,r.name,d),p=!0}function lp(n,t,e){for(var r=arguments.length>2,o=0;o<t.length;o++)e=r?t[o].call(n,e):t[o].call(n);return r?e:void 0}function dp(n){return typeof n=="symbol"?n:"".concat(n)}function up(n,t,e){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:e?"".concat(e," ",t):t})}function hp(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function I(n,t,e,r){function o(i){return i instanceof e?i:new e(function(a){a(i)})}return new(e||(e=Promise))(function(i,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?i(d.value):o(d.value).then(s,c)}l((r=r.apply(n,t||[])).next())})}function pp(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(d){return c([l,d])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(e=0)),e;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,o=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){e.label=l[1];break}if(l[0]===6&&e.label<i[1]){e.label=i[1],i=l;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(l);break}i[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(d){l=[6,d],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function fp(n,t){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&Bs(t,n,e)}function qs(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fu(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return i}function yp(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(fu(arguments[t]));return n}function gp(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var r=Array(n),o=0,t=0;t<e;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function mp(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))}function Yt(n){return this instanceof Yt?(this.v=n,this):new Yt(n)}function zs(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(h){return function(m){return Promise.resolve(m).then(h,u)}}function s(h,m){r[h]&&(o[h]=function(w){return new Promise(function(M,x){i.push([h,w,M,x])>1||c(h,w)})},m&&(o[h]=m(o[h])))}function c(h,m){try{l(r[h](m))}catch(w){p(i[0][3],w)}}function l(h){h.value instanceof Yt?Promise.resolve(h.value.v).then(d,u):p(i[0][2],h)}function d(h){c("next",h)}function u(h){c("throw",h)}function p(h,m){h(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function kp(n){var t,e;return t={},r("next"),r("throw",function(o){throw o}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(o,i){t[o]=n[o]?function(a){return(e=!e)?{value:Yt(n[o](a)),done:!1}:i?i(a):a}:i}}function Us(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof qs=="function"?qs(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=n[i]&&function(a){return new Promise(function(s,c){a=n[i](a),o(s,c,a.done,a.value)})}}function o(i,a,s,c){Promise.resolve(c).then(function(l){i({value:l,done:s})},a)}}function vp(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function Mp(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e=pu(n),r=0;r<e.length;r++)e[r]!=="default"&&Bs(t,n,e[r]);return W4(t,n),t}function wp(n){return n&&n.__esModule?n:{default:n}}function Cp(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)}function bp(n,t,e,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!o:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,e):o?o.value=e:t.set(n,e),e}function xp(n,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?t===n:n.has(t)}function Ip(n,t,e){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,o;if(e){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],e&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),n.stack.push({value:t,dispose:r,async:e})}else e&&n.stack.push({async:!0});return t}function _p(n){function t(i){n.error=n.hasError?new Z4(i,n.error,"An error was suppressed during disposal."):i,n.hasError=!0}var e,r=0;function o(){for(;e=n.stack.pop();)try{if(!e.async&&r===1)return r=0,n.stack.push(e),Promise.resolve().then(o);if(e.dispose){var i=e.dispose.call(e.value);if(e.async)return r|=2,Promise.resolve(i).then(o,function(a){return t(a),o()})}else r|=1}catch(a){t(a)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return o()}function Sp(n,t){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,o,i,a){return r?t?".jsx":".js":o&&(!i||!a)?e:o+i+"."+a.toLowerCase()+"js"}):n}var hu,Hs,Bs,W4,pu,Z4,K4,de=A4(()=>{"use strict";hu=function(n,t){return hu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},hu(n,t)};Hs=function(){return Hs=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hs.apply(this,arguments)};Bs=Object.create?function(n,t,e,r){r===void 0&&(r=e);var o=Object.getOwnPropertyDescriptor(t,e);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(n,r,o)}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]};W4=Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t},pu=function(n){return pu=Object.getOwnPropertyNames||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[e.length]=r);return e},pu(n)};Z4=typeof SuppressedError=="function"?SuppressedError:function(n,t,e){var r=new Error(e);return r.name="SuppressedError",r.error=n,r.suppressed=t,r};K4={__extends:ip,__assign:Hs,__rest:vn,__decorate:ap,__param:sp,__esDecorate:cp,__runInitializers:lp,__propKey:dp,__setFunctionName:up,__metadata:hp,__awaiter:I,__generator:pp,__createBinding:Bs,__exportStar:fp,__values:qs,__read:fu,__spread:yp,__spreadArrays:gp,__spreadArray:mp,__await:Yt,__asyncGenerator:zs,__asyncDelegator:kp,__asyncValues:Us,__makeTemplateObject:vp,__importStar:Mp,__importDefault:wp,__classPrivateFieldGet:Cp,__classPrivateFieldSet:bp,__classPrivateFieldIn:xp,__addDisposableResource:Ip,__disposeResources:_p,__rewriteRelativeImportExtension:Sp}});var t2=Cr(e2=>{"use strict";Object.defineProperty(e2,"__esModule",{value:!0});var J0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};e2.default=J0});var o2=Cr(r2=>{"use strict";Object.defineProperty(r2,"__esModule",{value:!0});var iv=(de(),br(_r)),Zb=iv.__importDefault((q2(),br(R4))),Kb=iv.__importDefault(t2()),n2=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Zb.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>f(this,null,function*(){var a,s,c,l;let d=null,u=null,p=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){let te=yield i.text();te===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?u=te:u=JSON.parse(te))}let M=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),x=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");M&&x&&x.length>1&&(p=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,p=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let M=yield i.text();try{d=JSON.parse(M),Array.isArray(d)&&i.status===404&&(u=[],d=null,h=200,m="OK")}catch{i.status===404&&M===""?(h=204,m="No Content"):d={message:M}}if(d&&this.isMaybeSingle&&(!((l=d?.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,h=200,m="OK"),d&&this.shouldThrowOnError)throw new Kb.default(d)}return{error:d,data:u,count:p,status:h,statusText:m}}));return this.shouldThrowOnError||(o=o.catch(i=>{var a,s,c;return{error:{message:`${(a=i?.name)!==null&&a!==void 0?a:"FetchError"}: ${i?.message}`,details:`${(s=i?.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}};r2.default=n2});var s2=Cr(a2=>{"use strict";Object.defineProperty(a2,"__esModule",{value:!0});var Xb=(de(),br(_r)),Qb=Xb.__importDefault(o2()),i2=class extends Qb.default{select(t){let e=!1,r=(t??"*").split("").map(o=>/\s/.test(o)&&!e?"":(o==='"'&&(e=!e),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:a="text"}={}){var s;let c=[t?"analyze":null,e?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};a2.default=i2});var hd=Cr(l2=>{"use strict";Object.defineProperty(l2,"__esModule",{value:!0});var Yb=(de(),br(_r)),Jb=Yb.__importDefault(s2()),e7=new RegExp("[,()]"),c2=class extends Jb.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(o=>typeof o=="string"&&e7.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};l2.default=c2});var h2=Cr(u2=>{"use strict";Object.defineProperty(u2,"__esModule",{value:!0});var t7=(de(),br(_r)),as=t7.__importDefault(hd()),d2=class{constructor(t,{headers:e={},schema:r,fetch:o}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=o}select(t,e){let{head:r=!1,count:o}=e??{},i=r?"HEAD":"GET",a=!1,s=(t??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",s),o&&this.headers.append("Prefer",`count=${o}`),new as.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var o;let i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let a=t.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(a.length>0){let s=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new as.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var a;let s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let c=t.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(c.length>0){let l=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new as.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var r;let o="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new as.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new as.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}};u2.default=d2});var sv=Cr(f2=>{"use strict";Object.defineProperty(f2,"__esModule",{value:!0});var av=(de(),br(_r)),n7=av.__importDefault(h2()),r7=av.__importDefault(hd()),p2=class n{constructor(t,{headers:e={},schema:r,fetch:o}={}){this.url=t,this.headers=new Headers(e),this.schemaName=r,this.fetch=o}from(t){let e=new URL(`${this.url}/${t}`);return new n7.default(e,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:o=!1,count:i}={}){var a;let s,c=new URL(`${this.url}/rpc/${t}`),l;r||o?(s=r?"HEAD":"GET",Object.entries(e).filter(([u,p])=>p!==void 0).map(([u,p])=>[u,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([u,p])=>{c.searchParams.append(u,p)})):(s="POST",l=e);let d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new r7.default({method:s,url:c,headers:d,schema:this.schemaName,body:l,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};f2.default=p2});var fv=Cr(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.PostgrestError=it.PostgrestBuilder=it.PostgrestTransformBuilder=it.PostgrestFilterBuilder=it.PostgrestQueryBuilder=it.PostgrestClient=void 0;var vi=(de(),br(_r)),cv=vi.__importDefault(sv());it.PostgrestClient=cv.default;var lv=vi.__importDefault(h2());it.PostgrestQueryBuilder=lv.default;var dv=vi.__importDefault(hd());it.PostgrestFilterBuilder=dv.default;var uv=vi.__importDefault(s2());it.PostgrestTransformBuilder=uv.default;var hv=vi.__importDefault(o2());it.PostgrestBuilder=hv.default;var pv=vi.__importDefault(t2());it.PostgrestError=pv.default;it.default={PostgrestClient:cv.default,PostgrestQueryBuilder:lv.default,PostgrestFilterBuilder:dv.default,PostgrestTransformBuilder:uv.default,PostgrestBuilder:hv.default,PostgrestError:pv.default}});var Kd;function bs(){return Kd}function Qt(n){let t=Kd;return Kd=n,t}var B2=Symbol("NotFound");function fo(n){return n===B2||n?.name==="\u0275NotFound"}var Ge=null,xs=!1,Xd=1,O4=null,We=Symbol("SIGNAL");function z(n){let t=Ge;return Ge=n,t}function Ds(){return Ge}var yo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function go(n){if(xs)throw new Error("");if(Ge===null)return;Ge.consumerOnSignalRead(n);let t=Ge.producersTail;if(t!==void 0&&t.producer===n)return;let e,r=Ge.recomputing;if(r&&(e=t!==void 0?t.nextProducer:Ge.producers,e!==void 0&&e.producer===n)){Ge.producersTail=e,e.lastReadVersion=n.version;return}let o=n.consumersTail;if(o!==void 0&&o.consumer===Ge&&(!r||F4(o,Ge)))return;let i=ko(Ge),a={producer:n,consumer:Ge,nextProducer:e,prevConsumer:o,lastReadVersion:n.version,nextConsumer:void 0};Ge.producersTail=a,t!==void 0?t.nextProducer=a:Ge.producers=a,i&&G2(n,a)}function z2(){Xd++}function Es(n){if(!(ko(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Xd)){if(!n.producerMustRecompute(n)&&!Ri(n)){Ss(n);return}n.producerRecomputeValue(n),Ss(n)}}function Qd(n){if(n.consumers===void 0)return;let t=xs;xs=!0;try{for(let e=n.consumers;e!==void 0;e=e.nextConsumer){let r=e.consumer;r.dirty||N4(r)}}finally{xs=t}}function Yd(){return Ge?.consumerAllowSignalWrites!==!1}function N4(n){n.dirty=!0,Qd(n),n.consumerMarkedDirty?.(n)}function Ss(n){n.dirty=!1,n.lastCleanEpoch=Xd}function mo(n){return n&&U2(n),z(n)}function U2(n){n.producersTail=void 0,n.recomputing=!0}function Pi(n,t){z(t),n&&$2(n)}function $2(n){n.recomputing=!1;let t=n.producersTail,e=t!==void 0?t.nextProducer:n.producers;if(e!==void 0){if(ko(n))do e=Jd(e);while(e!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function Ri(n){for(let t=n.producers;t!==void 0;t=t.nextProducer){let e=t.producer,r=t.lastReadVersion;if(r!==e.version||(Es(e),r!==e.version))return!0}return!1}function Oi(n){if(ko(n)){let t=n.producers;for(;t!==void 0;)t=Jd(t)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function G2(n,t){let e=n.consumersTail,r=ko(n);if(e!==void 0?(t.nextConsumer=e.nextConsumer,e.nextConsumer=t):(t.nextConsumer=void 0,n.consumers=t),t.prevConsumer=e,n.consumersTail=t,!r)for(let o=n.producers;o!==void 0;o=o.nextProducer)G2(o.producer,o)}function Jd(n){let t=n.producer,e=n.nextProducer,r=n.nextConsumer,o=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!ko(t)){let i=t.producers;for(;i!==void 0;)i=Jd(i)}return e}function ko(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Ls(n){O4?.(n)}function F4(n,t){let e=t.producersTail;if(e!==void 0){let r=t.producers;do{if(r===n)return!0;if(r===e)break;r=r.nextProducer}while(r!==void 0)}return!1}function As(n,t){return Object.is(n,t)}function Ts(n,t){let e=Object.create(j4);e.computation=n,t!==void 0&&(e.equal=t);let r=()=>{if(Es(e),go(e),e.value===Ti)throw e.error;return e.value};return r[We]=e,Ls(e),r}var Is=Symbol("UNSET"),_s=Symbol("COMPUTING"),Ti=Symbol("ERRORED"),j4=$(b({},yo),{value:Is,dirty:!0,error:null,equal:As,kind:"computed",producerMustRecompute(n){return n.value===Is||n.value===_s},producerRecomputeValue(n){if(n.value===_s)throw new Error("");let t=n.value;n.value=_s;let e=mo(n),r,o=!1;try{r=n.computation(),z(null),o=t!==Is&&t!==Ti&&r!==Ti&&n.equal(t,r)}catch(i){r=Ti,n.error=i}finally{Pi(n,e)}if(o){n.value=t;return}n.value=r,n.version++}});function V4(){throw new Error}var W2=V4;function Z2(n){W2(n)}function eu(n){W2=n}var H4=null;function tu(n,t){let e=Object.create(Ps);e.value=n,t!==void 0&&(e.equal=t);let r=()=>K2(e);return r[We]=e,Ls(e),[r,a=>vo(e,a),a=>nu(e,a)]}function K2(n){return go(n),n.value}function vo(n,t){Yd()||Z2(n),n.equal(n.value,t)||(n.value=t,q4(n))}function nu(n,t){Yd()||Z2(n),vo(n,t(n.value))}var Ps=$(b({},yo),{equal:As,value:void 0,kind:"signal"});function q4(n){n.version++,z2(),Qd(n),H4?.(n)}function U(n){return typeof n=="function"}function Mo(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Rs=Mo(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Ni(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var xe=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let i of e)i.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(U(r))try{r()}catch(i){t=i instanceof Rs?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{X2(i)}catch(a){t=t??[],a instanceof Rs?t=[...t,...a.errors]:t.push(a)}}if(t)throw new Rs(t)}}add(t){var e;if(t&&t!==this)if(this.closed)X2(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ni(e,t)}remove(t){let{_finalizers:e}=this;e&&Ni(e,t),t instanceof n&&t._removeParent(this)}};xe.EMPTY=(()=>{let n=new xe;return n.closed=!0,n})();var ru=xe.EMPTY;function Os(n){return n instanceof xe||n&&"closed"in n&&U(n.remove)&&U(n.add)&&U(n.unsubscribe)}function X2(n){U(n)?n():n.unsubscribe()}var jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wo={setTimeout(n,t,...e){let{delegate:r}=wo;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=wo;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ns(n){wo.setTimeout(()=>{let{onUnhandledError:t}=jt;if(t)t(n);else throw n})}function Fi(){}var Q2=ou("C",void 0,void 0);function Y2(n){return ou("E",void 0,n)}function J2(n){return ou("N",n,void 0)}function ou(n,t,e){return{kind:n,value:t,error:e}}var xr=null;function Co(n){if(jt.useDeprecatedSynchronousErrorHandling){let t=!xr;if(t&&(xr={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=xr;if(xr=null,e)throw r}}else n()}function ep(n){jt.useDeprecatedSynchronousErrorHandling&&xr&&(xr.errorThrown=!0,xr.error=n)}var Ir=class extends xe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Os(t)&&t.add(this)):this.destination=U4}static create(t,e,r){return new bo(t,e,r)}next(t){this.isStopped?au(J2(t),this):this._next(t)}error(t){this.isStopped?au(Y2(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?au(Q2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},B4=Function.prototype.bind;function iu(n,t){return B4.call(n,t)}var su=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Fs(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Fs(r)}else Fs(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Fs(e)}}},bo=class extends Ir{constructor(t,e,r){super();let o;if(U(t)||!t)o={next:t??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&jt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&iu(t.next,i),error:t.error&&iu(t.error,i),complete:t.complete&&iu(t.complete,i)}):o=t}this.destination=new su(o)}};function Fs(n){jt.useDeprecatedSynchronousErrorHandling?ep(n):Ns(n)}function z4(n){throw n}function au(n,t){let{onStoppedNotification:e}=jt;e&&wo.setTimeout(()=>e(n,t))}var U4={closed:!0,next:Fi,error:z4,complete:Fi};var xo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kt(n){return n}function cu(...n){return lu(n)}function lu(n){return n.length===0?kt:n.length===1?n[0]:function(e){return n.reduce((r,o)=>o(r),e)}}var Q=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,o){let i=G4(e)?e:new bo(e,r,o);return Co(()=>{let{operator:a,source:s}=this;i.add(a?a.call(i,s):s?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=tp(r),new r((o,i)=>{let a=new bo({next:s=>{try{e(s)}catch(c){i(c),a.unsubscribe()}},error:i,complete:o});this.subscribe(a)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[xo](){return this}pipe(...e){return lu(e)(this)}toPromise(e){return e=tp(e),new e((r,o)=>{let i;this.subscribe(a=>i=a,a=>o(a),()=>r(i))})}}return n.create=t=>new n(t),n})();function tp(n){var t;return(t=n??jt.Promise)!==null&&t!==void 0?t:Promise}function $4(n){return n&&U(n.next)&&U(n.error)&&U(n.complete)}function G4(n){return n&&n instanceof Ir||$4(n)&&Os(n)}function du(n){return U(n?.lift)}function Y(n){return t=>{if(du(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function K(n,t,e,r,o){return new uu(n,t,e,r,o)}var uu=class extends Ir{constructor(t,e,r,o,i,a){super(t),this.onFinalize=i,this.shouldUnsubscribe=a,this._next=e?function(s){try{e(s)}catch(c){t.error(c)}}:super._next,this._error=o?function(s){try{o(s)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Io(){return Y((n,t)=>{let e=null;n._refCount++;let r=K(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let o=n._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var _o=class extends Q{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,du(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new xe;let e=this.getSubject();t.add(this.source.subscribe(K(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=xe.EMPTY)}return t}refCount(){return Io()(this)}};var np=Mo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=(()=>{class n extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new js(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new np}next(e){Co(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){Co(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Co(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:o,observers:i}=this;return r||o?ru:(this.currentObservers=null,i.push(e),new xe(()=>{this.currentObservers=null,Ni(i,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){let e=new Q;return e.source=this,e}}return n.create=(t,e)=>new js(t,e),n})(),js=class extends we{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:ru}};var Le=class extends we{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var st=new Q(n=>n.complete());function rp(n){return n&&U(n.schedule)}function op(n){return n[n.length-1]}function Vs(n){return U(op(n))?n.pop():void 0}function Bn(n){return rp(op(n))?n.pop():void 0}de();var $s=n=>n&&typeof n.length=="number"&&typeof n!="function";function Gs(n){return U(n?.then)}function Ws(n){return U(n[xo])}function Zs(n){return Symbol.asyncIterator&&U(n?.[Symbol.asyncIterator])}function Ks(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function X4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xs=X4();function Qs(n){return U(n?.[Xs])}de();function Ys(n){return zs(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:o}=yield Yt(e.read());if(o)return yield Yt(void 0);yield yield Yt(r)}}finally{e.releaseLock()}})}function Js(n){return U(n?.getReader)}function Ie(n){if(n instanceof Q)return n;if(n!=null){if(Ws(n))return Q4(n);if($s(n))return Y4(n);if(Gs(n))return J4(n);if(Zs(n))return Dp(n);if(Qs(n))return e5(n);if(Js(n))return t5(n)}throw Ks(n)}function Q4(n){return new Q(t=>{let e=n[xo]();if(U(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Y4(n){return new Q(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function J4(n){return new Q(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ns)})}function e5(n){return new Q(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function Dp(n){return new Q(t=>{n5(n,t).catch(e=>t.error(e))})}function t5(n){return Dp(Ys(n))}function n5(n,t){var e,r,o,i;return I(this,void 0,void 0,function*(){try{for(e=Us(n);r=yield e.next(),!r.done;){let a=r.value;if(t.next(a),t.closed)return}}catch(a){o={error:a}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}t.complete()})}function ct(n,t,e,r=0,o=!1){let i=t.schedule(function(){e(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function ec(n,t=0){return Y((e,r)=>{e.subscribe(K(r,o=>ct(r,n,()=>r.next(o),t),()=>ct(r,n,()=>r.complete(),t),o=>ct(r,n,()=>r.error(o),t)))})}function tc(n,t=0){return Y((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Ep(n,t){return Ie(n).pipe(tc(t),ec(t))}function Lp(n,t){return Ie(n).pipe(tc(t),ec(t))}function Ap(n,t){return new Q(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function Tp(n,t){return new Q(e=>{let r;return ct(e,t,()=>{r=n[Xs](),ct(e,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(a){e.error(a);return}i?e.complete():e.next(o)},0,!0)}),()=>U(r?.return)&&r.return()})}function nc(n,t){if(!n)throw new Error("Iterable cannot be null");return new Q(e=>{ct(e,t,()=>{let r=n[Symbol.asyncIterator]();ct(e,t,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function Pp(n,t){return nc(Ys(n),t)}function Rp(n,t){if(n!=null){if(Ws(n))return Ep(n,t);if($s(n))return Ap(n,t);if(Gs(n))return Lp(n,t);if(Zs(n))return nc(n,t);if(Qs(n))return Tp(n,t);if(Js(n))return Pp(n,t)}throw Ks(n)}function ue(n,t){return t?Rp(n,t):Ie(n)}function F(...n){let t=Bn(n);return ue(n,t)}function So(n,t){let e=U(n)?n:()=>n,r=o=>o.error(e());return new Q(t?o=>t.schedule(r,0,o):r)}function yu(n){return!!n&&(n instanceof Q||U(n.lift)&&U(n.subscribe))}var Mn=Mo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function X(n,t){return Y((e,r)=>{let o=0;e.subscribe(K(r,i=>{r.next(n.call(t,i,o++))}))})}var{isArray:r5}=Array;function o5(n,t){return r5(t)?n(...t):n(t)}function rc(n){return X(t=>o5(n,t))}var{isArray:i5}=Array,{getPrototypeOf:a5,prototype:s5,keys:c5}=Object;function oc(n){if(n.length===1){let t=n[0];if(i5(t))return{args:t,keys:null};if(l5(t)){let e=c5(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function l5(n){return n&&typeof n=="object"&&a5(n)===s5}function ic(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}function ji(...n){let t=Bn(n),e=Vs(n),{args:r,keys:o}=oc(n);if(r.length===0)return ue([],t);let i=new Q(d5(r,t,o?a=>ic(o,a):kt));return e?i.pipe(rc(e)):i}function d5(n,t,e=kt){return r=>{Op(t,()=>{let{length:o}=n,i=new Array(o),a=o,s=o;for(let c=0;c<o;c++)Op(t,()=>{let l=ue(n[c],t),d=!1;l.subscribe(K(r,u=>{i[c]=u,d||(d=!0,s--),s||r.next(e(i.slice()))},()=>{--a||r.complete()}))},r)},r)}}function Op(n,t,e){n?ct(e,n,t):t()}function Np(n,t,e,r,o,i,a,s){let c=[],l=0,d=0,u=!1,p=()=>{u&&!c.length&&!l&&t.complete()},h=w=>l<r?m(w):c.push(w),m=w=>{i&&t.next(w),l++;let M=!1;Ie(e(w,d++)).subscribe(K(t,x=>{o?.(x),i?h(x):t.next(x)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;c.length&&l<r;){let x=c.shift();a?ct(t,a,()=>m(x)):m(x)}p()}catch(x){t.error(x)}}))};return n.subscribe(K(t,h,()=>{u=!0,p()})),()=>{s?.()}}function Ce(n,t,e=1/0){return U(t)?Ce((r,o)=>X((i,a)=>t(r,i,o,a))(Ie(n(r,o))),e):(typeof t=="number"&&(e=t),Y((r,o)=>Np(r,o,n,e)))}function zn(n=1/0){return Ce(kt,n)}function Fp(){return zn(1)}function Do(...n){return Fp()(ue(n,Bn(n)))}function Vi(n){return new Q(t=>{Ie(n()).subscribe(t)})}function gu(...n){let t=Vs(n),{args:e,keys:r}=oc(n),o=new Q(i=>{let{length:a}=e;if(!a){i.complete();return}let s=new Array(a),c=a,l=a;for(let d=0;d<a;d++){let u=!1;Ie(e[d]).subscribe(K(i,p=>{u||(u=!0,l--),s[d]=p},()=>c--,void 0,()=>{(!c||!u)&&(l||i.next(r?ic(r,s):s),i.complete())}))}});return t?o.pipe(rc(t)):o}function lt(n,t){return Y((e,r)=>{let o=0;e.subscribe(K(r,i=>n.call(t,i,o++)&&r.next(i)))})}function wn(n){return Y((t,e)=>{let r=null,o=!1,i;r=t.subscribe(K(e,void 0,void 0,a=>{i=Ie(n(a,wn(n)(t))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function jp(n,t,e,r,o){return(i,a)=>{let s=e,c=t,l=0;i.subscribe(K(a,d=>{let u=l++;c=s?n(c,d,u):(s=!0,d),r&&a.next(c)},o&&(()=>{s&&a.next(c),a.complete()})))}}function Un(n,t){return U(t)?Ce(n,t,1):Ce(n,1)}function $n(n){return Y((t,e)=>{let r=!1;t.subscribe(K(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function Cn(n){return n<=0?()=>st:Y((t,e)=>{let r=0;t.subscribe(K(e,o=>{++r<=n&&(e.next(o),n<=r&&e.complete())}))})}function ac(n=u5){return Y((t,e)=>{let r=!1;t.subscribe(K(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function u5(){return new Mn}function Hi(n){return Y((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function bn(n,t){let e=arguments.length>=2;return r=>r.pipe(n?lt((o,i)=>n(o,i,r)):kt,Cn(1),e?$n(t):ac(()=>new Mn))}function Eo(n){return n<=0?()=>st:Y((t,e)=>{let r=[];t.subscribe(K(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(let o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function mu(n,t){let e=arguments.length>=2;return r=>r.pipe(n?lt((o,i)=>n(o,i,r)):kt,Eo(1),e?$n(t):ac(()=>new Mn))}function ku(n,t){return Y(jp(n,t,arguments.length>=2,!0))}function vu(...n){let t=Bn(n);return Y((e,r)=>{(t?Do(n,e,t):Do(n,e)).subscribe(r)})}function et(n,t){return Y((e,r)=>{let o=null,i=0,a=!1,s=()=>a&&!o&&r.complete();e.subscribe(K(r,c=>{o?.unsubscribe();let l=0,d=i++;Ie(n(c,d)).subscribe(o=K(r,u=>r.next(t?t(c,u,d,l++):u),()=>{o=null,s()}))},()=>{a=!0,s()}))})}function sc(n){return Y((t,e)=>{Ie(n).subscribe(K(e,()=>e.complete(),Fi)),!e.closed&&t.subscribe(e)})}function je(n,t,e){let r=U(n)||t||e?{next:n,error:t,complete:e}:n;return r?Y((o,i)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;o.subscribe(K(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;s=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):kt}function Vp(n){let t=z(null);try{return n()}finally{z(t)}}var uc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",D=class extends Error{code;constructor(t,e){super(Zn(t,e)),this.code=t}};function h5(n){return`NG0${Math.abs(n)}`}function Zn(n,t){return`${h5(n)}${t?": "+t:""}`}var Ui=globalThis;function oe(n){for(let t in n)if(n[t]===oe)return t;throw Error("")}function Bp(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function In(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(In).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function Tu(n,t){return n?t?`${n} ${t}`:n:t||""}var p5=oe({__forward_ref__:oe});function wt(n){return n.__forward_ref__=wt,n.toString=function(){return In(this())},n}function Be(n){return Pu(n)?n():n}function Pu(n){return typeof n=="function"&&n.hasOwnProperty(p5)&&n.__forward_ref__===wt}function E(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ct(n){return{providers:n.providers||[],imports:n.imports||[]}}function $i(n){return f5(n,hc)}function Ru(n){return $i(n)!==null}function f5(n,t){return n.hasOwnProperty(t)&&n[t]||null}function y5(n){let t=n?.[hc]??null;return t||null}function wu(n){return n&&n.hasOwnProperty(lc)?n[lc]:null}var hc=oe({\u0275prov:oe}),lc=oe({\u0275inj:oe}),A=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ou(n){return n&&!!n.\u0275providers}var Nu=oe({\u0275cmp:oe}),Fu=oe({\u0275dir:oe}),ju=oe({\u0275pipe:oe}),Vu=oe({\u0275mod:oe}),Bi=oe({\u0275fac:oe}),Tr=oe({__NG_ELEMENT_ID__:oe}),Hp=oe({__NG_ENV_ID__:oe});function Gi(n){return typeof n=="string"?n:n==null?"":String(n)}function zp(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Gi(n)}var Up=oe({ngErrorCode:oe}),g5=oe({ngErrorMessage:oe}),m5=oe({ngTokenPath:oe});function Hu(n,t){return $p("",-200,t)}function pc(n,t){throw new D(-201,!1)}function $p(n,t,e){let r=new D(t,n);return r[Up]=t,r[g5]=n,e&&(r[m5]=e),r}function k5(n){return n[Up]}var Cu;function Gp(){return Cu}function vt(n){let t=Cu;return Cu=n,t}function qu(n,t,e){let r=$i(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&8)return null;if(t!==void 0)return t;pc(n,"Injector")}var v5={},Sr=v5,bu="__NG_DI_FLAG__",xu=class{injector;constructor(t){this.injector=t}retrieve(t,e){let r=Dr(e)||0;try{return this.injector.get(t,r&8?null:Sr,r)}catch(o){if(fo(o))return o;throw o}}};function M5(n,t=0){let e=bs();if(e===void 0)throw new D(-203,!1);if(e===null)return qu(n,void 0,t);{let r=w5(t),o=e.retrieve(n,r);if(fo(o)){if(r.optional)return null;throw o}return o}}function j(n,t=0){return(Gp()||M5)(Be(n),t)}function k(n,t){return j(n,Dr(t))}function Dr(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function w5(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Iu(n){let t=[];for(let e=0;e<n.length;e++){let r=Be(n[e]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let o,i=0;for(let a=0;a<r.length;a++){let s=r[a],c=C5(s);typeof c=="number"?c===-1?o=s.token:i|=c:o=s}t.push(j(o,i))}else t.push(j(r))}return t}function Wp(n,t){return n[bu]=t,n.prototype[bu]=t,n}function C5(n){return n[bu]}function Er(n,t){let e=n.hasOwnProperty(Bi);return e?n[Bi]:null}function Zp(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=t[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}function Kp(n){return n.flat(Number.POSITIVE_INFINITY)}function fc(n,t){n.forEach(e=>Array.isArray(e)?fc(e,t):t(e))}function Bu(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Wi(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Xp(n,t){let e=[];for(let r=0;r<n;r++)e.push(t);return e}function Qp(n,t,e,r){let o=n.length;if(o==t)n.push(e,r);else if(o===1)n.push(r,n[0]),n[0]=e;else{for(o--,n.push(n[o-1],n[o]);o>t;){let i=o-2;n[o]=n[i],o--}n[t]=e,n[t+1]=r}}function Yp(n,t,e){let r=Ao(n,t);return r>=0?n[r|1]=e:(r=~r,Qp(n,r,t,e)),r}function yc(n,t){let e=Ao(n,t);if(e>=0)return n[e|1]}function Ao(n,t){return b5(n,t,1)}function b5(n,t,e){let r=0,o=n.length>>e;for(;o!==r;){let i=r+(o-r>>1),a=n[i<<e];if(t===a)return i<<e;a>t?o=i:r=i+1}return~(o<<e)}var Kn={},Mt=[],Xn=new A(""),zu=new A("",-1),Uu=new A(""),zi=class{get(t,e=Sr){if(e===Sr){let o=$p("",-201);throw o.name="\u0275NotFound",o}return e}};function $u(n){return n[Vu]||null}function _n(n){return n[Nu]||null}function Gu(n){return n[Fu]||null}function Jp(n){return n[ju]||null}function Zi(n){return{\u0275providers:n}}function gc(...n){return{\u0275providers:Wu(!0,n),\u0275fromNgModule:!0}}function Wu(n,...t){let e=[],r=new Set,o,i=a=>{e.push(a)};return fc(t,a=>{let s=a;dc(s,i,[],r)&&(o||=[],o.push(s))}),o!==void 0&&ef(o,i),e}function ef(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:o}=n[e];Zu(o,i=>{t(i,r)})}}function dc(n,t,e,r){if(n=Be(n),!n)return!1;let o=null,i=wu(n),a=!i&&_n(n);if(!i&&!a){let c=n.ngModule;if(i=wu(c),i)o=c;else return!1}else{if(a&&!a.standalone)return!1;o=n}let s=r.has(o);if(a){if(s)return!1;if(r.add(o),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let l of c)dc(l,t,e,r)}}else if(i){if(i.imports!=null&&!s){r.add(o);let l;try{fc(i.imports,d=>{dc(d,t,e,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&ef(l,t)}if(!s){let l=Er(o)||(()=>new o);t({provide:o,useFactory:l,deps:Mt},o),t({provide:Uu,useValue:o,multi:!0},o),t({provide:Xn,useValue:()=>j(o),multi:!0},o)}let c=i.providers;if(c!=null&&!s){let l=n;Zu(c,d=>{t(d,l)})}}else return!1;return o!==n&&n.providers!==void 0}function Zu(n,t){for(let e of n)Ou(e)&&(e=e.\u0275providers),Array.isArray(e)?Zu(e,t):t(e)}var x5=oe({provide:String,useValue:oe});function tf(n){return n!==null&&typeof n=="object"&&x5 in n}function I5(n){return!!(n&&n.useExisting)}function _5(n){return!!(n&&n.useFactory)}function Lr(n){return typeof n=="function"}function nf(n){return!!n.useClass}var Ki=new A(""),cc={},qp={},Mu;function Xi(){return Mu===void 0&&(Mu=new zi),Mu}var Ae=class{},Ar=class extends Ae{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,Su(t,a=>this.processProvider(a)),this.records.set(zu,Lo(void 0,this)),o.has("environment")&&this.records.set(Ae,Lo(void 0,this));let i=this.records.get(Ki);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Uu,Mt,{self:!0}))}retrieve(t,e){let r=Dr(e)||0;try{return this.get(t,Sr,r)}catch(o){if(fo(o))return o;throw o}}destroy(){qi(this),this._destroyed=!0;let t=z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),z(t)}}onDestroy(t){return qi(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){qi(this);let e=Qt(this),r=vt(void 0),o;try{return t()}finally{Qt(e),vt(r)}}get(t,e=Sr,r){if(qi(this),t.hasOwnProperty(Hp))return t[Hp](this);let o=Dr(r),i,a=Qt(this),s=vt(void 0);try{if(!(o&4)){let l=this.records.get(t);if(l===void 0){let d=A5(t)&&$i(t);d&&this.injectableDefInScope(d)?l=Lo(_u(t),cc):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,o)}let c=o&2?Xi():this.parent;return e=o&8&&e===Sr?null:e,c.get(t,e)}catch(c){let l=k5(c);throw l===-200||l===-201?new D(l,null):c}finally{vt(s),Qt(a)}}resolveInjectorInitializers(){let t=z(null),e=Qt(this),r=vt(void 0),o;try{let i=this.get(Xn,Mt,{self:!0});for(let a of i)a()}finally{Qt(e),vt(r),z(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(In(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Be(t);let e=Lr(t)?t:Be(t&&t.provide),r=D5(t);if(!Lr(t)&&t.multi===!0){let o=this.records.get(e);o||(o=Lo(void 0,cc,!0),o.factory=()=>Iu(o.multi),this.records.set(e,o)),e=t,o.multi.push(t)}this.records.set(e,r)}hydrate(t,e,r){let o=z(null);try{if(e.value===qp)throw Hu(In(t));return e.value===cc&&(e.value=qp,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&L5(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{z(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=Be(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function _u(n){let t=$i(n),e=t!==null?t.factory:Er(n);if(e!==null)return e;if(n instanceof A)throw new D(204,!1);if(n instanceof Function)return S5(n);throw new D(204,!1)}function S5(n){if(n.length>0)throw new D(204,!1);let e=y5(n);return e!==null?()=>e.factory(n):()=>new n}function D5(n){if(tf(n))return Lo(void 0,n.useValue);{let t=Ku(n);return Lo(t,cc)}}function Ku(n,t,e){let r;if(Lr(n)){let o=Be(n);return Er(o)||_u(o)}else if(tf(n))r=()=>Be(n.useValue);else if(_5(n))r=()=>n.useFactory(...Iu(n.deps||[]));else if(I5(n))r=(o,i)=>j(Be(n.useExisting),i!==void 0&&i&8?8:void 0);else{let o=Be(n&&(n.useClass||n.provide));if(E5(n))r=()=>new o(...Iu(n.deps));else return Er(o)||_u(o)}return r}function qi(n){if(n.destroyed)throw new D(205,!1)}function Lo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function E5(n){return!!n.deps}function L5(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function A5(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Su(n,t){for(let e of n)Array.isArray(e)?Su(e,t):e&&Ou(e)?Su(e.\u0275providers,t):t(e)}function Ze(n,t){let e;n instanceof Ar?(qi(n),e=n):e=new xu(n);let r,o=Qt(e),i=vt(void 0);try{return t()}finally{Qt(o),vt(i)}}function rf(){return Gp()!==void 0||bs()!=null}var Ht=0,H=1,q=2,Ve=3,Et=4,tt=5,To=6,Po=7,ze=8,Qn=9,Jt=10,ye=11,Ro=12,Xu=13,Pr=14,ut=15,Yn=16,Rr=17,en=18,Qi=19,Qu=20,xn=21,mc=22,Yi=23,bt=24,Or=25,Ji=26,Te=27,of=1;var Jn=7,ea=8,Nr=9,Ke=10;function tn(n){return Array.isArray(n)&&typeof n[of]=="object"}function qt(n){return Array.isArray(n)&&n[of]===!0}function Yu(n){return(n.flags&4)!==0}function er(n){return n.componentOffset>-1}function ta(n){return(n.flags&1)===1}function nn(n){return!!n.template}function Oo(n){return(n[q]&512)!==0}function Fr(n){return(n[q]&256)===256}var af="svg",sf="math";function Lt(n){for(;Array.isArray(n);)n=n[Ht];return n}function Ju(n,t){return Lt(t[n])}function Bt(n,t){return Lt(t[n.index])}function na(n,t){return n.data[t]}function At(n,t){let e=t[n];return tn(e)?e:e[Ht]}function cf(n){return(n[q]&4)===4}function kc(n){return(n[q]&128)===128}function lf(n){return qt(n[Ve])}function rn(n,t){return t==null?null:n[t]}function e1(n){n[Rr]=0}function t1(n){n[q]&1024||(n[q]|=1024,kc(n)&&No(n))}function df(n,t){for(;n>0;)t=t[Pr],n--;return t}function ra(n){return!!(n[q]&9216||n[bt]?.dirty)}function vc(n){n[Jt].changeDetectionScheduler?.notify(8),n[q]&64&&(n[q]|=1024),ra(n)&&No(n)}function No(n){n[Jt].changeDetectionScheduler?.notify(0);let t=Gn(n);for(;t!==null&&!(t[q]&8192||(t[q]|=8192,!kc(t)));)t=Gn(t)}function n1(n,t){if(Fr(n))throw new D(911,!1);n[xn]===null&&(n[xn]=[]),n[xn].push(t)}function uf(n,t){if(n[xn]===null)return;let e=n[xn].indexOf(t);e!==-1&&n[xn].splice(e,1)}function Gn(n){let t=n[Ve];return qt(t)?t[Ve]:t}function r1(n){return n[Po]??=[]}function o1(n){return n.cleanup??=[]}function hf(n,t,e,r){let o=r1(t);o.push(e),n.firstCreatePass&&o1(n).push(r,o.length-1)}var W={lFrame:bf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Du=!1;function pf(){return W.lFrame.elementDepthCount}function ff(){W.lFrame.elementDepthCount++}function i1(){W.lFrame.elementDepthCount--}function a1(){return W.bindingsEnabled}function s1(){return W.skipHydrationRootTNode!==null}function c1(n){return W.skipHydrationRootTNode===n}function l1(){W.skipHydrationRootTNode=null}function Z(){return W.lFrame.lView}function Pe(){return W.lFrame.tView}function O(n){return W.lFrame.contextLView=n,n[ze]}function N(n){return W.lFrame.contextLView=null,n}function Re(){let n=d1();for(;n!==null&&n.type===64;)n=n.parent;return n}function d1(){return W.lFrame.currentTNode}function yf(){let n=W.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Fo(n,t){let e=W.lFrame;e.currentTNode=n,e.isParent=t}function u1(){return W.lFrame.isParent}function h1(){W.lFrame.isParent=!1}function p1(){return Du}function f1(n){let t=Du;return Du=n,t}function gf(n){return W.lFrame.bindingIndex=n}function jo(){return W.lFrame.bindingIndex++}function mf(n){let t=W.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function kf(){return W.lFrame.inI18n}function vf(n,t){let e=W.lFrame;e.bindingIndex=e.bindingRootIndex=n,Mc(t)}function Mf(){return W.lFrame.currentDirectiveIndex}function Mc(n){W.lFrame.currentDirectiveIndex=n}function wf(n){let t=W.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function y1(){return W.lFrame.currentQueryIndex}function wc(n){W.lFrame.currentQueryIndex=n}function T5(n){let t=n[H];return t.type===2?t.declTNode:t.type===1?n[tt]:null}function g1(n,t,e){if(e&4){let o=t,i=n;for(;o=o.parent,o===null&&!(e&1);)if(o=T5(i),o===null||(i=i[Pr],o.type&10))break;if(o===null)return!1;t=o,n=i}let r=W.lFrame=Cf();return r.currentTNode=t,r.lView=n,!0}function Cc(n){let t=Cf(),e=n[H];W.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Cf(){let n=W.lFrame,t=n===null?null:n.child;return t===null?bf(n):t}function bf(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function xf(){let n=W.lFrame;return W.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var m1=xf;function bc(){let n=xf();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function If(n){return(W.lFrame.contextLView=df(n,W.lFrame.contextLView))[ze]}function jr(){return W.lFrame.selectedIndex}function tr(n){W.lFrame.selectedIndex=n}function xc(){let n=W.lFrame;return na(n.tView,n.selectedIndex)}function _f(){return W.lFrame.currentNamespace}var Sf=!0;function Ic(){return Sf}function _c(n){Sf=n}function Eu(n,t=null,e=null,r){let o=k1(n,t,e,r);return o.resolveInjectorInitializers(),o}function k1(n,t=null,e=null,r,o=new Set){let i=[e||Mt,gc(n)];return r=r||(typeof n=="object"?void 0:In(n)),new Ar(i,t||Xi(),r||null,o)}var dt=class n{static THROW_IF_NOT_FOUND=Sr;static NULL=new zi;static create(t,e){if(Array.isArray(t))return Eu({name:""},e,t,"");{let r=t.name??"";return Eu({name:r},t.parent,t.providers,r)}}static \u0275prov=E({token:n,providedIn:"any",factory:()=>j(zu)});static __NG_ELEMENT_ID__=-1},_e=new A(""),Sn=(()=>{class n{static __NG_ELEMENT_ID__=P5;static __NG_ENV_ID__=e=>e}return n})(),Lu=class extends Sn{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Fr(this._lView)}onDestroy(t){let e=this._lView;return n1(e,t),()=>uf(e,t)}};function P5(){return new Lu(Z())}var Vt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},xt=new A("",{providedIn:"root",factory:()=>{let n=k(Ae),t;return e=>{n.destroyed&&!t?setTimeout(()=>{throw e}):(t??=n.get(Vt),t.handleError(e))}}}),Df={provide:Xn,useValue:()=>void k(Vt),multi:!0};function v1(n){return typeof n=="function"&&n[We]!==void 0}function ht(n,t){let[e,r,o]=tu(n,t?.equal),i=e,a=i[We];return i.set=r,i.update=o,i.asReadonly=Ef.bind(i),i}function Ef(){let n=this[We];if(n.readonlyFn===void 0){let t=()=>this();t[We]=n,n.readonlyFn=t}return n.readonlyFn}function M1(n){return v1(n)&&typeof n.set=="function"}var Sc=(()=>{class n{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=R5}return n})();function R5(){return new Sc(Z(),Re())}var Wn=class{},Dc=new A("",{providedIn:"root",factory:()=>!1});var w1=new A(""),C1=new A(""),Dn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Le(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Q(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=E({token:n,providedIn:"root",factory:()=>new n})}return n})();function oa(...n){}var b1=(()=>{class n{static \u0275prov=E({token:n,providedIn:"root",factory:()=>new Au})}return n})(),Au=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let e=t.zone,r=this.queues.get(e);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[e,r]of this.queues)e===null?t||=this.flushQueue(r):t||=e.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,e=!0,r.run());return e}};function $o(n){return{toString:n}.toString()}var Ec="__parameters__";function U5(n){return function(...e){if(n){let r=n(...e);for(let o in r)this[o]=r[o]}}}function $5(n,t,e){return $o(()=>{let r=U5(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;let a=new o(...i);return s.annotation=a,s;function s(c,l,d){let u=c.hasOwnProperty(Ec)?c[Ec]:Object.defineProperty(c,Ec,{value:[]})[Ec];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(a),c}}return o.prototype.ngMetadataName=n,o.annotationCls=o,o})}var oh=Wp($5("Optional"),8);function G5(n){return typeof n=="function"}var Fc=class{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function ay(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}var Tt=(()=>{let n=()=>sy;return n.ngInherit=!0,n})();function sy(n){return n.type.prototype.ngOnChanges&&(n.setInput=Z5),W5}function W5(){let n=ly(this),t=n?.current;if(t){let e=n.previous;if(e===Kn)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function Z5(n,t,e,r,o){let i=this.declaredInputs[r],a=ly(n)||K5(n,{previous:Kn,current:null}),s=a.current||(a.current={}),c=a.previous,l=c[i];s[i]=new Fc(l&&l.currentValue,e,c===Kn),ay(n,t,o,e)}var cy="__ngSimpleChanges__";function ly(n){return n[cy]||null}function K5(n,t){return n[cy]=t}var Lf=[];var ie=function(n,t=null,e){for(let r=0;r<Lf.length;r++){let o=Lf[r];o(n,t,e)}};function X5(n,t,e){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let a=sy(t);(e.preOrderHooks??=[]).push(n,a),(e.preOrderCheckHooks??=[]).push(n,a)}o&&(e.preOrderHooks??=[]).push(0-n,o),i&&((e.preOrderHooks??=[]).push(n,i),(e.preOrderCheckHooks??=[]).push(n,i))}function dy(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let i=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=i;a&&(n.contentHooks??=[]).push(-e,a),s&&((n.contentHooks??=[]).push(e,s),(n.contentCheckHooks??=[]).push(e,s)),c&&(n.viewHooks??=[]).push(-e,c),l&&((n.viewHooks??=[]).push(e,l),(n.viewCheckHooks??=[]).push(e,l)),d!=null&&(n.destroyHooks??=[]).push(e,d)}}function Tc(n,t,e){uy(n,t,3,e)}function Pc(n,t,e,r){(n[q]&3)===e&&uy(n,t,e,r)}function x1(n,t){let e=n[q];(e&3)===t&&(e&=16383,e+=1,n[q]=e)}function uy(n,t,e,r){let o=r!==void 0?n[Rr]&65535:0,i=r??-1,a=t.length-1,s=0;for(let c=o;c<a;c++)if(typeof t[c+1]=="number"){if(s=t[c],r!=null&&s>=r)break}else t[c]<0&&(n[Rr]+=65536),(s<i||i==-1)&&(Q5(n,e,t,c),n[Rr]=(n[Rr]&4294901760)+c+2),c++}function Af(n,t){ie(4,n,t);let e=z(null);try{t.call(n)}finally{z(e),ie(5,n,t)}}function Q5(n,t,e,r){let o=e[r]<0,i=e[r+1],a=o?-e[r]:e[r],s=n[a];o?n[q]>>14<n[Rr]>>16&&(n[q]&3)===t&&(n[q]+=16384,Af(s,i)):Af(s,i)}var Ho=-1,Hr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=e,this.injectImpl=r}};function Y5(n){return(n.flags&8)!==0}function J5(n){return(n.flags&16)!==0}function eM(n,t,e){let r=0;for(;r<e.length;){let o=e[r];if(typeof o=="number"){if(o!==0)break;r++;let i=e[r++],a=e[r++],s=e[r++];n.setAttribute(t,a,s,i)}else{let i=o,a=e[++r];tM(i)?n.setProperty(t,i,a):n.setAttribute(t,i,a),r++}}return r}function hy(n){return n===3||n===4||n===6}function tM(n){return n.charCodeAt(0)===64}function qo(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?e=o:e===0||(e===-1||e===2?Tf(n,e,o,null,t[++r]):Tf(n,e,o,null,null))}}return n}function Tf(n,t,e,r,o){let i=0,a=n.length;if(t===-1)a=-1;else for(;i<n.length;){let s=n[i++];if(typeof s=="number"){if(s===t){a=-1;break}else if(s>t){a=i-1;break}}}for(;i<n.length;){let s=n[i];if(typeof s=="number")break;if(s===e){o!==null&&(n[i+1]=o);return}i++,o!==null&&i++}a!==-1&&(n.splice(a,0,t),i=a+1),n.splice(i++,0,e),o!==null&&n.splice(i++,0,o)}function py(n){return n!==Ho}function jc(n){return n&32767}function nM(n){return n>>16}function Vc(n,t){let e=nM(n),r=t;for(;e>0;)r=r[Pr],e--;return r}var P1=!0;function Pf(n){let t=P1;return P1=n,t}var rM=256,fy=rM-1,yy=5,oM=0,on={};function iM(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Tr)&&(r=e[Tr]),r==null&&(r=e[Tr]=oM++);let o=r&fy,i=1<<o;t.data[n+(o>>yy)]|=i}function Hc(n,t){let e=gy(n,t);if(e!==-1)return e;let r=t[H];r.firstCreatePass&&(n.injectorIndex=t.length,I1(r.data,n),I1(t,null),I1(r.blueprint,null));let o=ih(n,t),i=n.injectorIndex;if(py(o)){let a=jc(o),s=Vc(o,t),c=s[H].data;for(let l=0;l<8;l++)t[i+l]=s[a+l]|c[a+l]}return t[i+8]=o,i}function I1(n,t){n.push(0,0,0,0,0,0,0,0,t)}function gy(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function ih(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,o=t;for(;o!==null;){if(r=wy(o),r===null)return Ho;if(e++,o=o[Pr],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Ho}function R1(n,t,e){iM(n,t,e)}function aM(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,o=0;for(;o<r;){let i=e[o];if(hy(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof e[o]=="string";)o++;else{if(i===t)return e[o+1];o=o+2}}}return null}function my(n,t,e){if(e&8||n!==void 0)return n;pc(t,"NodeInjector")}function ky(n,t,e,r){if(e&8&&r===void 0&&(r=null),(e&3)===0){let o=n[Qn],i=vt(void 0);try{return o?o.get(t,r,e&8):qu(t,r,e&8)}finally{vt(i)}}return my(r,t,e)}function vy(n,t,e,r=0,o){if(n!==null){if(t[q]&2048&&!(r&2)){let a=dM(n,t,e,r,on);if(a!==on)return a}let i=My(n,t,e,r,on);if(i!==on)return i}return ky(t,e,r,o)}function My(n,t,e,r,o){let i=cM(e);if(typeof i=="function"){if(!g1(t,n,r))return r&1?my(o,e,r):ky(t,e,r,o);try{let a;if(a=i(r),a==null&&!(r&8))pc(e);else return a}finally{m1()}}else if(typeof i=="number"){let a=null,s=gy(n,t),c=Ho,l=r&1?t[ut][tt]:null;for((s===-1||r&4)&&(c=s===-1?ih(n,t):t[s+8],c===Ho||!Of(r,!1)?s=-1:(a=t[H],s=jc(c),t=Vc(c,t)));s!==-1;){let d=t[H];if(Rf(i,s,d.data)){let u=sM(s,t,e,a,r,l);if(u!==on)return u}c=t[s+8],c!==Ho&&Of(r,t[H].data[s+8]===l)&&Rf(i,s,t)?(a=d,s=jc(c),t=Vc(c,t)):s=-1}}return o}function sM(n,t,e,r,o,i){let a=t[H],s=a.data[n+8],c=r==null?er(s)&&P1:r!=a&&(s.type&3)!==0,l=o&1&&i===s,d=Rc(s,a,e,c,l);return d!==null?sa(t,a,d,s,o):on}function Rc(n,t,e,r,o){let i=n.providerIndexes,a=t.data,s=i&1048575,c=n.directiveStart,l=n.directiveEnd,d=i>>20,u=r?s:s+d,p=o?s+d:l;for(let h=u;h<p;h++){let m=a[h];if(h<c&&e===m||h>=c&&m.type===e)return h}if(o){let h=a[c];if(h&&nn(h)&&h.type===e)return c}return null}function sa(n,t,e,r,o){let i=n[e],a=t.data;if(i instanceof Hr){let s=i;if(s.resolving){let h=zp(a[e]);throw Hu(h)}let c=Pf(s.canSeeViewProviders);s.resolving=!0;let l=a[e].type||a[e],d,u=s.injectImpl?vt(s.injectImpl):null,p=g1(n,r,0);try{i=n[e]=s.factory(void 0,o,a,n,r),t.firstCreatePass&&e>=r.directiveStart&&X5(e,a[e],t)}finally{u!==null&&vt(u),Pf(c),s.resolving=!1,m1()}}return i}function cM(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Tr)?n[Tr]:void 0;return typeof t=="number"?t>=0?t&fy:lM:t}function Rf(n,t,e){let r=1<<n;return!!(e[t+(n>>yy)]&r)}function Of(n,t){return!(n&2)&&!(n&1&&t)}var Vr=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return vy(this._tNode,this._lView,t,Dr(r),e)}};function lM(){return new Vr(Re(),Z())}function Ut(n){return $o(()=>{let t=n.prototype.constructor,e=t[Bi]||O1(t),r=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){let i=o[Bi]||O1(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function O1(n){return Pu(n)?()=>{let t=O1(Be(n));return t&&t()}:Er(n)}function dM(n,t,e,r,o){let i=n,a=t;for(;i!==null&&a!==null&&a[q]&2048&&!Oo(a);){let s=My(i,a,e,r|2,on);if(s!==on)return s;let c=i.parent;if(!c){let l=a[Qu];if(l){let d=l.get(e,on,r);if(d!==on)return d}c=wy(a),a=a[Pr]}i=c}return o}function wy(n){let t=n[H],e=t.type;return e===2?t.declTNode:e===1?n[tt]:null}function ua(n){return aM(Re(),n)}function uM(){return Go(Re(),Z())}function Go(n,t){return new Ue(Bt(n,t))}var Ue=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=uM}return n})();function hM(n){return n instanceof Ue?n.nativeElement:n}function pM(){return this._results[Symbol.iterator]()}var qc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new we}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let r=Kp(t);(this._changesDetected=!Zp(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=pM};function Cy(n){return(n.flags&128)===128}var ah=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(ah||{}),by=new Map,fM=0;function yM(){return fM++}function gM(n){by.set(n[Qi],n)}function N1(n){by.delete(n[Qi])}var Nf="__ngContext__";function Bo(n,t){tn(t)?(n[Nf]=t[Qi],gM(t)):n[Nf]=t}function xy(n){return _y(n[Ro])}function Iy(n){return _y(n[Et])}function _y(n){for(;n!==null&&!qt(n);)n=n[Et];return n}var F1;function sh(n){F1=n}function Sy(){if(F1!==void 0)return F1;if(typeof document<"u")return document;throw new D(210,!1)}var nl=new A("",{providedIn:"root",factory:()=>mM}),mM="ng",rl=new A(""),Wo=new A("",{providedIn:"platform",factory:()=>"unknown"});var ol=new A("",{providedIn:"root",factory:()=>Sy().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var kM="h",vM="b";var Dy=!1,Ey=new A("",{providedIn:"root",factory:()=>Dy});var ch=new A("");var MM=(n,t,e,r)=>{};function wM(n,t,e,r){MM(n,t,e,r)}function il(n){return(n.flags&32)===32}var CM=()=>null;function Ly(n,t,e=!1){return CM(n,t,e)}function Ay(n,t){let e=n.contentQueries;if(e!==null){let r=z(null);try{for(let o=0;o<e.length;o+=2){let i=e[o],a=e[o+1];if(a!==-1){let s=n.data[a];wc(i),s.contentQueries(2,t[a],a)}}}finally{z(r)}}}function j1(n,t,e){wc(0);let r=z(null);try{t(n,e)}finally{z(r)}}function Ty(n,t,e){if(Yu(t)){let r=z(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let a=o;a<i;a++){let s=n.data[a];if(s.contentQueries){let c=e[a];s.contentQueries(1,c,a)}}}finally{z(r)}}}var En=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(En||{});var Lc;function bM(){if(Lc===void 0&&(Lc=null,Ui.trustedTypes))try{Lc=Ui.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Lc}function Ff(n){return bM()?.createScriptURL(n)||n}var Bc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${uc})`}};function ha(n){return n instanceof Bc?n.changingThisBreaksApplicationSecurity:n}function lh(n,t){let e=Py(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${uc})`)}return e===t}function Py(n){return n instanceof Bc&&n.getTypeName()||null}var xM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ry(n){return n=String(n),n.match(xM)?n:"unsafe:"+n}var al=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(al||{});function Oy(n){let t=Fy();return t?t.sanitize(al.URL,n)||"":lh(n,"URL")?ha(n):Ry(Gi(n))}function Ny(n){let t=Fy();if(t)return Ff(t.sanitize(al.RESOURCE_URL,n)||"");if(lh(n,"ResourceURL"))return Ff(ha(n));throw new D(904,!1)}function IM(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?Ny:Oy}function dh(n,t,e){return IM(t,e)(n)}function Fy(){let n=Z();return n&&n[Jt].sanitizer}function jy(n){return n instanceof Function?n():n}function _M(n,t,e){let r=n.length;for(;;){let o=n.indexOf(t,e);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}e=o+1}}var Vy="ng-template";function SM(n,t,e,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&_M(t[o+1].toLowerCase(),e,0)!==-1)return!0}else if(uh(n))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===e)return!0}return!1}function uh(n){return n.type===4&&n.value!==Vy}function DM(n,t,e){let r=n.type===4&&!e?Vy:n.value;return t===r}function EM(n,t,e){let r=4,o=n.attrs,i=o!==null?TM(o):0,a=!1;for(let s=0;s<t.length;s++){let c=t[s];if(typeof c=="number"){if(!a&&!zt(r)&&!zt(c))return!1;if(a&&zt(c))continue;a=!1,r=c|r&1;continue}if(!a)if(r&4){if(r=2|r&1,c!==""&&!DM(n,c,e)||c===""&&t.length===1){if(zt(r))return!1;a=!0}}else if(r&8){if(o===null||!SM(n,o,c,e)){if(zt(r))return!1;a=!0}}else{let l=t[++s],d=LM(c,o,uh(n),e);if(d===-1){if(zt(r))return!1;a=!0;continue}if(l!==""){let u;if(d>i?u="":u=o[d+1].toLowerCase(),r&2&&l!==u){if(zt(r))return!1;a=!0}}}}return zt(r)||a}function zt(n){return(n&1)===0}function LM(n,t,e,r){if(t===null)return-1;let o=0;if(r||!e){let i=!1;for(;o<t.length;){let a=t[o];if(a===n)return o;if(a===3||a===6)i=!0;else if(a===1||a===2){let s=t[++o];for(;typeof s=="string";)s=t[++o];continue}else{if(a===4)break;if(a===0){o+=4;continue}}o+=i?1:2}return-1}else return PM(t,n)}function Hy(n,t,e=!1){for(let r=0;r<t.length;r++)if(EM(n,t[r],e))return!0;return!1}function AM(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if((e&1)===0)return t[e+1]}return null}function TM(n){for(let t=0;t<n.length;t++){let e=n[t];if(hy(e))return t}return n.length}function PM(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function RM(n,t){e:for(let e=0;e<t.length;e++){let r=t[e];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function jf(n,t){return n?":not("+t.trim()+")":t}function OM(n){let t=n[0],e=1,r=2,o="",i=!1;for(;e<n.length;){let a=n[e];if(typeof a=="string")if(r&2){let s=n[++e];o+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?o+="."+a:r&4&&(o+=" "+a);else o!==""&&!zt(a)&&(t+=jf(i,o),o=""),r=a,i=i||!zt(r);e++}return o!==""&&(t+=jf(i,o)),t}function NM(n){return n.map(OM).join(",")}function FM(n){let t=[],e=[],r=1,o=2;for(;r<n.length;){let i=n[r];if(typeof i=="string")o===2?i!==""&&t.push(i,n[++r]):o===8&&e.push(i);else{if(!zt(o))break;o=i}r++}return e.length&&t.push(1,...e),t}var Ln={};function jM(n,t){return n.createText(t)}function VM(n,t,e){n.setValue(t,e)}function qy(n,t,e){return n.createElement(t,e)}function zc(n,t,e,r,o){n.insertBefore(t,e,r,o)}function By(n,t,e){n.appendChild(t,e)}function Vf(n,t,e,r,o){r!==null?zc(n,t,e,r,o):By(n,t,e)}function HM(n,t,e,r){n.removeChild(null,t,e,r)}function qM(n,t,e){n.setAttribute(t,"style",e)}function BM(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function zy(n,t,e){let{mergedAttrs:r,classes:o,styles:i}=e;r!==null&&eM(n,t,r),o!==null&&BM(n,t,o),i!==null&&qM(n,t,i)}function hh(n,t,e,r,o,i,a,s,c,l,d){let u=Te+r,p=u+o,h=zM(u,p),m=typeof l=="function"?l():l;return h[H]={type:n,blueprint:h,template:e,queries:null,viewQuery:s,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:d}}function zM(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:Ln);return e}function UM(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=hh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function ph(n,t,e,r,o,i,a,s,c,l,d){let u=t.blueprint.slice();return u[Ht]=o,u[q]=r|4|128|8|64|1024,(l!==null||n&&n[q]&2048)&&(u[q]|=2048),e1(u),u[Ve]=u[Pr]=n,u[ze]=e,u[Jt]=a||n&&n[Jt],u[ye]=s||n&&n[ye],u[Qn]=c||n&&n[Qn]||null,u[tt]=i,u[Qi]=yM(),u[To]=d,u[Qu]=l,u[ut]=t.type==2?n[ut]:u,u}function $M(n,t,e){let r=Bt(t,n),o=UM(e),i=n[Jt].rendererFactory,a=fh(n,ph(n,o,null,Uy(e),r,t,null,i.createRenderer(r,e),null,null,null));return n[t.index]=a}function Uy(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function $y(n,t,e,r){if(e===0)return-1;let o=t.length;for(let i=0;i<e;i++)t.push(r),n.blueprint.push(r),n.data.push(null);return o}function fh(n,t){return n[Ro]?n[Xu][Et]=t:n[Ro]=t,n[Xu]=t,t}function C(n=1){Gy(Pe(),Z(),jr()+n,!1)}function Gy(n,t,e,r){if(!r)if((t[q]&3)===3){let i=n.preOrderCheckHooks;i!==null&&Tc(t,i,e)}else{let i=n.preOrderHooks;i!==null&&Pc(t,i,0,e)}tr(e)}var sl=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(sl||{});function V1(n,t,e,r){let o=z(null);try{let[i,a,s]=n.inputs[e],c=null;(a&sl.SignalBased)!==0&&(c=t[i][We]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(t,r)),n.setInput!==null?n.setInput(t,c,r,e,i):ay(t,c,i,r)}finally{z(o)}}var an=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(an||{}),GM;function yh(n,t){return GM(n,t)}var zo=new Set,cl=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(cl||{}),$r=new A(""),Hf=new Set;function An(n){Hf.has(n)||(Hf.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Wy=!1,H1=class extends we{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,rf()&&(this.destroyRef=k(Sn,{optional:!0})??void 0,this.pendingTasks=k(Dn,{optional:!0})??void 0)}emit(t){let e=z(null);try{super.next(t)}finally{z(e)}}subscribe(t,e,r){let o=t,i=e||(()=>null),a=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:o,error:i,complete:a});return t instanceof xe&&t.add(s),s}wrapInTimeout(t){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},me=H1;function Zy(n){let t,e;function r(){n=oa;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function qf(n){return queueMicrotask(()=>n()),()=>{n=oa}}var gh="isAngularZone",Uc=gh+"_ID",WM=0,Se=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new me(!1);onMicrotaskEmpty=new me(!1);onStable=new me(!1);onError=new me(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Wy}=t;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&r,a.shouldCoalesceRunChangeDetection=o,a.callbackScheduled=!1,a.scheduleInRootZone=i,XM(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(gh)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new D(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,o){let i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+o,t,ZM,oa,oa);try{return i.runTask(a,e,r)}finally{i.cancelTask(a)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},ZM={};function mh(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function KM(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){Zy(()=>{n.callbackScheduled=!1,q1(n),n.isCheckStableRunning=!0,mh(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),q1(n)}function XM(n){let t=()=>{KM(n)},e=WM++;n._inner=n._inner.fork({name:"angular",properties:{[gh]:!0,[Uc]:e,[Uc+e]:!0},onInvokeTask:(r,o,i,a,s,c)=>{if(QM(c))return r.invokeTask(i,a,s,c);try{return Bf(n),r.invokeTask(i,a,s,c)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),zf(n)}},onInvoke:(r,o,i,a,s,c,l)=>{try{return Bf(n),r.invoke(i,a,s,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!YM(c)&&t(),zf(n)}},onHasTask:(r,o,i,a)=>{r.hasTask(i,a),o===i&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,q1(n),mh(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,o,i,a)=>(r.handleError(i,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function q1(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Bf(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function zf(n){n._nesting--,mh(n)}var $c=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new me;onMicrotaskEmpty=new me;onStable=new me;onError=new me;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,o){return t.apply(e,r)}};function QM(n){return Ky(n,"__ignore_ng_zone__")}function YM(n){return Ky(n,"__scheduler_tick__")}function Ky(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var kh=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=E({token:n,providedIn:"root",factory:()=>new n})}return n})(),Xy=[0,1,2,3],Qy=(()=>{class n{ngZone=k(Se);scheduler=k(Wn);errorHandler=k(Vt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){k($r,{optional:!0})}execute(){let e=this.sequences.size>0;e&&ie(16),this.executing=!0;for(let r of Xy)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&ie(17)}register(e){let{view:r}=e;r!==void 0?((r[Or]??=[]).push(e),No(r),r[q]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(cl.AFTER_NEXT_RENDER,e):e()}static \u0275prov=E({token:n,providedIn:"root",factory:()=>new n})}return n})(),Gc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,o,i,a=null){this.impl=t,this.hooks=e,this.view=r,this.once=o,this.snapshot=a,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Or];t&&(this.view[Or]=t.filter(e=>e!==this))}};function pa(n,t){let e=t?.injector??k(dt);return An("NgAfterNextRender"),e3(n,e,t,!0)}function JM(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function e3(n,t,e,r){let o=t.get(kh);o.impl??=t.get(Qy);let i=t.get($r,null,{optional:!0}),a=e?.manualCleanup!==!0?t.get(Sn):null,s=t.get(Sc,null,{optional:!0}),c=new Gc(o.impl,JM(n),s?.view,r,a,i?.snapshot(null));return o.impl.register(c),c}var t3=new A("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Yy(n,t){let e=n.get(t3);if(Array.isArray(t))for(let r of t)e.queue.add(r);else e.queue.add(t);e.scheduler&&e.scheduler(n)}function n3(n,t){for(let[e,r]of t)Yy(n,r.animateFns)}function Uf(n,t,e,r){let o=n?.[Ji]?.enter;t!==null&&o&&o.has(e.index)&&n3(r,o)}function Vo(n,t,e,r,o,i,a,s){if(o!=null){let c,l=!1;qt(o)?c=o:tn(o)&&(l=!0,o=o[Ht]);let d=Lt(o);n===0&&r!==null?(Uf(s,r,i,e),a==null?By(t,r,d):zc(t,r,d,a||null,!0)):n===1&&r!==null?(Uf(s,r,i,e),zc(t,r,d,a||null,!0)):n===2?$f(s,i,e,u=>{HM(t,d,l,u)}):n===3&&$f(s,i,e,()=>{t.destroyNode(d)}),c!=null&&p3(t,n,e,c,i,r,a)}}function r3(n,t){Jy(n,t),t[Ht]=null,t[tt]=null}function o3(n,t,e,r,o,i){r[Ht]=o,r[tt]=t,ll(n,r,e,1,o,i)}function Jy(n,t){t[Jt].changeDetectionScheduler?.notify(9),ll(n,t,t[ye],2,null,null)}function i3(n){let t=n[Ro];if(!t)return _1(n[H],n);for(;t;){let e=null;if(tn(t))e=t[Ro];else{let r=t[Ke];r&&(e=r)}if(!e){for(;t&&!t[Et]&&t!==n;)tn(t)&&_1(t[H],t),t=t[Ve];t===null&&(t=n),tn(t)&&_1(t[H],t),e=t&&t[Et]}t=e}}function vh(n,t){let e=n[Nr],r=e.indexOf(t);e.splice(r,1)}function Mh(n,t){if(Fr(t))return;let e=t[ye];e.destroyNode&&ll(n,t,e,3,null,null),i3(t)}function _1(n,t){if(Fr(t))return;let e=z(null);try{t[q]&=-129,t[q]|=256,t[bt]&&Oi(t[bt]),c3(n,t),s3(n,t),t[H].type===1&&t[ye].destroy();let r=t[Yn];if(r!==null&&qt(t[Ve])){r!==t[Ve]&&vh(r,t);let o=t[en];o!==null&&o.detachView(n)}N1(t)}finally{z(e)}}function $f(n,t,e,r){let o=n?.[Ji];if(o==null||o.leave==null||!o.leave.has(t.index))return r(!1);if(o.skipLeaveAnimations)return o.skipLeaveAnimations=!1,r(!1);n&&zo.add(n),Yy(e,()=>{if(o.leave&&o.leave.has(t.index)){let a=o.leave.get(t.index),s=[];if(a)for(let c=0;c<a.animateFns.length;c++){let l=a.animateFns[c],{promise:d}=l();s.push(d)}o.running=Promise.allSettled(s),a3(n,r)}else n&&zo.delete(n),r(!1)})}function a3(n,t){let e=n[Ji]?.running;if(e){e.then(()=>{n[Ji].running=void 0,zo.delete(n),t(!0)});return}t(!1)}function s3(n,t){let e=n.cleanup,r=t[Po];if(e!==null)for(let a=0;a<e.length-1;a+=2)if(typeof e[a]=="string"){let s=e[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[e[a+1]];e[a].call(s)}r!==null&&(t[Po]=null);let o=t[xn];if(o!==null){t[xn]=null;for(let a=0;a<o.length;a++){let s=o[a];s()}}let i=t[Yi];if(i!==null){t[Yi]=null;for(let a of i)a.destroy()}}function c3(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let o=t[e[r]];if(!(o instanceof Hr)){let i=e[r+1];if(Array.isArray(i))for(let a=0;a<i.length;a+=2){let s=o[i[a]],c=i[a+1];ie(4,s,c);try{c.call(s)}finally{ie(5,s,c)}}else{ie(4,o,i);try{i.call(o)}finally{ie(5,o,i)}}}}}function eg(n,t,e){return l3(n,t.parent,e)}function l3(n,t,e){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return e[Ht];if(er(r)){let{encapsulation:o}=n.data[r.directiveStart+r.componentOffset];if(o===En.None||o===En.Emulated)return null}return Bt(r,e)}function tg(n,t,e){return u3(n,t,e)}function d3(n,t,e){return n.type&40?Bt(n,e):null}var u3=d3,Gf;function wh(n,t,e,r){let o=eg(n,r,t),i=t[ye],a=r.parent||t[tt],s=tg(a,r,t);if(o!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)Vf(i,o,e[c],s,!1);else Vf(i,o,e,s,!1);Gf!==void 0&&Gf(i,r,t,e,o)}function ia(n,t){if(t!==null){let e=t.type;if(e&3)return Bt(t,n);if(e&4)return B1(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return ia(n,r);{let o=n[t.index];return qt(o)?B1(-1,o):Lt(o)}}else{if(e&128)return ia(n,t.next);if(e&32)return yh(t,n)()||Lt(n[t.index]);{let r=ng(n,t);if(r!==null){if(Array.isArray(r))return r[0];let o=Gn(n[ut]);return ia(o,r)}else return ia(n,t.next)}}}return null}function ng(n,t){if(t!==null){let r=n[ut][tt],o=t.projection;return r.projection[o]}return null}function B1(n,t){let e=Ke+n+1;if(e<t.length){let r=t[e],o=r[H].firstChild;if(o!==null)return ia(r,o)}return t[Jn]}function Ch(n,t,e,r,o,i,a){for(;e!=null;){let s=r[Qn];if(e.type===128){e=e.next;continue}let c=r[e.index],l=e.type;if(a&&t===0&&(c&&Bo(Lt(c),r),e.flags|=2),!il(e))if(l&8)Ch(n,t,e.child,r,o,i,!1),Vo(t,n,s,o,c,e,i,r);else if(l&32){let d=yh(e,r),u;for(;u=d();)Vo(t,n,s,o,u,e,i,r);Vo(t,n,s,o,c,e,i,r)}else l&16?rg(n,t,r,e,o,i):Vo(t,n,s,o,c,e,i,r);e=a?e.projectionNext:e.next}}function ll(n,t,e,r,o,i){Ch(e,r,n.firstChild,t,o,i,!1)}function h3(n,t,e){let r=t[ye],o=eg(n,e,t),i=e.parent||t[tt],a=tg(i,e,t);rg(r,0,t,e,o,a)}function rg(n,t,e,r,o,i){let a=e[ut],c=a[tt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Vo(t,n,e[Qn],o,d,r,i,e)}else{let l=c,d=a[Ve];Cy(r)&&(l.flags|=128),Ch(n,t,l,d,o,i,!0)}}function p3(n,t,e,r,o,i,a){let s=r[Jn],c=Lt(r);s!==c&&Vo(t,n,e,i,s,o,a);for(let l=Ke;l<r.length;l++){let d=r[l];ll(d[H],d,n,t,i,s)}}function f3(n,t,e,r,o){if(t)o?n.addClass(e,r):n.removeClass(e,r);else{let i=r.indexOf("-")===-1?void 0:an.DashCase;o==null?n.removeStyle(e,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=an.Important),n.setStyle(e,r,o,i))}}function og(n,t,e,r,o){let i=jr(),a=r&2;try{tr(-1),a&&t.length>Te&&Gy(n,t,Te,!1),ie(a?2:0,o,e),e(r,o)}finally{tr(i),ie(a?3:1,o,e)}}function bh(n,t,e){w3(n,t,e),(e.flags&64)===64&&C3(n,t,e)}function dl(n,t,e=Bt){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let a=r[i+1],s=a===-1?e(t,n):n[a];n[o++]=s}}}function y3(n,t,e,r){let i=r.get(Ey,Dy)||e===En.ShadowDom,a=n.selectRootElement(t,i);return g3(a),a}function g3(n){m3(n)}var m3=()=>null;function k3(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function ig(n,t,e,r,o,i){let a=t[H];if(xh(n,a,t,e,r)){er(n)&&M3(t,n.index);return}n.type&3&&(e=k3(e)),v3(n,t,e,r,o,i)}function v3(n,t,e,r,o,i){if(n.type&3){let a=Bt(n,t);r=i!=null?i(r,n.value||"",e):r,o.setProperty(a,e,r)}else n.type&12}function M3(n,t){let e=At(t,n);e[q]&16||(e[q]|=64)}function w3(n,t,e){let r=e.directiveStart,o=e.directiveEnd;er(e)&&$M(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||Hc(e,t);let i=e.initialInputs;for(let a=r;a<o;a++){let s=n.data[a],c=sa(t,n,a,e);if(Bo(c,t),i!==null&&_3(t,a-r,c,s,e,i),nn(s)){let l=At(e.index,t);l[ze]=sa(t,n,a,e)}}}function C3(n,t,e){let r=e.directiveStart,o=e.directiveEnd,i=e.index,a=Mf();try{tr(i);for(let s=r;s<o;s++){let c=n.data[s],l=t[s];Mc(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&b3(c,l)}}finally{tr(-1),Mc(a)}}function b3(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function ag(n,t){let e=n.directiveRegistry,r=null;if(e)for(let o=0;o<e.length;o++){let i=e[o];Hy(t,i.selectors,!1)&&(r??=[],nn(i)?r.unshift(i):r.push(i))}return r}function x3(n,t,e,r,o,i){let a=Bt(n,t);I3(t[ye],a,i,n.value,e,r,o)}function I3(n,t,e,r,o,i,a){if(i==null)n.removeAttribute(t,o,e);else{let s=a==null?Gi(i):a(i,r||"",o);n.setAttribute(t,o,s,e)}}function _3(n,t,e,r,o,i){let a=i[t];if(a!==null)for(let s=0;s<a.length;s+=2){let c=a[s],l=a[s+1];V1(r,e,c,l)}}function sg(n,t,e,r,o){let i=Te+e,a=t[H],s=o(a,t,n,r,e);t[i]=s,Fo(n,!0);let c=n.type===2;return c?(zy(t[ye],s,n),(pf()===0||ta(n))&&Bo(s,t),ff()):Bo(s,t),Ic()&&(!c||!il(n))&&wh(a,t,s,n),n}function cg(n){let t=n;return u1()?h1():(t=t.parent,Fo(t,!1)),t}function S3(n,t){let e=n[Qn];if(!e)return;let r;try{r=e.get(xt,null)}catch{r=null}r?.(t)}function xh(n,t,e,r,o){let i=n.inputs?.[r],a=n.hostDirectiveInputs?.[r],s=!1;if(a)for(let c=0;c<a.length;c+=2){let l=a[c],d=a[c+1],u=t.data[l];V1(u,e[l],d,o),s=!0}if(i)for(let c of i){let l=e[c],d=t.data[c];V1(d,l,r,o),s=!0}return s}function D3(n,t){let e=At(t,n),r=e[H];E3(r,e);let o=e[Ht];o!==null&&e[To]===null&&(e[To]=Ly(o,e[Qn])),ie(18),Ih(r,e,e[ze]),ie(19,e[ze])}function E3(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function Ih(n,t,e){Cc(t);try{let r=n.viewQuery;r!==null&&j1(1,r,e);let o=n.template;o!==null&&og(n,t,o,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[en]?.finishViewCreation(n),n.staticContentQueries&&Ay(n,t),n.staticViewQueries&&j1(2,n.viewQuery,e);let i=n.components;i!==null&&L3(t,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[q]&=-5,bc()}}function L3(n,t){for(let e=0;e<t.length;e++)D3(n,t[e])}function _h(n,t,e,r){let o=z(null);try{let i=t.tView,s=n[q]&4096?4096:16,c=ph(n,i,e,s,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[t.index];c[Yn]=l;let d=n[en];return d!==null&&(c[en]=d.createEmbeddedView(i)),Ih(i,c,e),c}finally{z(o)}}function Wc(n,t){return!t||t.firstChild===null||Cy(n)}function ca(n,t,e,r,o=!1){for(;e!==null;){if(e.type===128){e=o?e.projectionNext:e.next;continue}let i=t[e.index];i!==null&&r.push(Lt(i)),qt(i)&&lg(i,r);let a=e.type;if(a&8)ca(n,t,e.child,r);else if(a&32){let s=yh(e,t),c;for(;c=s();)r.push(c)}else if(a&16){let s=ng(t,e);if(Array.isArray(s))r.push(...s);else{let c=Gn(t[ut]);ca(c[H],c,s,r,!0)}}e=o?e.projectionNext:e.next}return r}function lg(n,t){for(let e=Ke;e<n.length;e++){let r=n[e],o=r[H].firstChild;o!==null&&ca(r[H],r,o,t)}n[Jn]!==n[Ht]&&t.push(n[Jn])}function dg(n){if(n[Or]!==null){for(let t of n[Or])t.impl.addSequence(t);n[Or].length=0}}var ug=[];function A3(n){return n[bt]??T3(n)}function T3(n){let t=ug.pop()??Object.create(R3);return t.lView=n,t}function P3(n){n.lView[bt]!==n&&(n.lView=null,ug.push(n))}var R3=$(b({},yo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{No(n.lView)},consumerOnSignalRead(){this.lView[bt]=this}});function O3(n){let t=n[bt]??Object.create(N3);return t.lView=n,t}var N3=$(b({},yo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Gn(n.lView);for(;t&&!hg(t[H]);)t=Gn(t);t&&t1(t)},consumerOnSignalRead(){this.lView[bt]=this}});function hg(n){return n.type!==2}function pg(n){if(n[Yi]===null)return;let t=!0;for(;t;){let e=!1;for(let r of n[Yi])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(n[q]&8192)}}var F3=100;function fg(n,t=0){let r=n[Jt].rendererFactory,o=!1;o||r.begin?.();try{j3(n,t)}finally{o||r.end?.()}}function j3(n,t){let e=p1();try{f1(!0),z1(n,t);let r=0;for(;ra(n);){if(r===F3)throw new D(103,!1);r++,z1(n,1)}}finally{f1(e)}}function V3(n,t,e,r){if(Fr(t))return;let o=t[q],i=!1,a=!1;Cc(t);let s=!0,c=null,l=null;i||(hg(n)?(l=A3(t),c=mo(l)):Ds()===null?(s=!1,l=O3(t),c=mo(l)):t[bt]&&(Oi(t[bt]),t[bt]=null));try{e1(t),gf(n.bindingStartIndex),e!==null&&og(n,t,e,2,r);let d=(o&3)===3;if(!i)if(d){let h=n.preOrderCheckHooks;h!==null&&Tc(t,h,null)}else{let h=n.preOrderHooks;h!==null&&Pc(t,h,0,null),x1(t,0)}if(a||H3(t),pg(t),yg(t,0),n.contentQueries!==null&&Ay(n,t),!i)if(d){let h=n.contentCheckHooks;h!==null&&Tc(t,h)}else{let h=n.contentHooks;h!==null&&Pc(t,h,1),x1(t,1)}B3(n,t);let u=n.components;u!==null&&mg(t,u,0);let p=n.viewQuery;if(p!==null&&j1(2,p,r),!i)if(d){let h=n.viewCheckHooks;h!==null&&Tc(t,h)}else{let h=n.viewHooks;h!==null&&Pc(t,h,2),x1(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[mc]){for(let h of t[mc])h();t[mc]=null}i||(dg(t),t[q]&=-73)}catch(d){throw i||No(t),d}finally{l!==null&&(Pi(l,c),s&&P3(l)),bc()}}function yg(n,t){for(let e=xy(n);e!==null;e=Iy(e))for(let r=Ke;r<e.length;r++){let o=e[r];gg(o,t)}}function H3(n){for(let t=xy(n);t!==null;t=Iy(t)){if(!(t[q]&2))continue;let e=t[Nr];for(let r=0;r<e.length;r++){let o=e[r];t1(o)}}}function q3(n,t,e){ie(18);let r=At(t,n);gg(r,e),ie(19,r[ze])}function gg(n,t){kc(n)&&z1(n,t)}function z1(n,t){let r=n[H],o=n[q],i=n[bt],a=!!(t===0&&o&16);if(a||=!!(o&64&&t===0),a||=!!(o&1024),a||=!!(i?.dirty&&Ri(i)),a||=!1,i&&(i.dirty=!1),n[q]&=-9217,a)V3(r,n,r.template,n[ze]);else if(o&8192){let s=z(null);try{pg(n),yg(n,1);let c=r.components;c!==null&&mg(n,c,1),dg(n)}finally{z(s)}}}function mg(n,t,e){for(let r=0;r<t.length;r++)q3(n,t[r],e)}function B3(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let o=e[r];if(o<0)tr(~o);else{let i=o,a=e[++r],s=e[++r];vf(a,i);let c=t[i];ie(24,c),s(2,c),ie(25,c)}}}finally{tr(-1)}}function Sh(n,t){let e=p1()?64:1088;for(n[Jt].changeDetectionScheduler?.notify(t);n;){n[q]|=e;let r=Gn(n);if(Oo(n)&&!r)return n;n=r}return null}function kg(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function z3(n,t){let e=Ke+t;if(e<n.length)return n[e]}function Dh(n,t,e,r=!0){let o=t[H];if($3(o,t,n,e),r){let a=B1(e,n),s=t[ye],c=s.parentNode(n[Jn]);c!==null&&o3(o,n[tt],s,t,c,a)}let i=t[To];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function U3(n,t){let e=Zc(n,t);return e!==void 0&&Mh(e[H],e),e}function Zc(n,t){if(n.length<=Ke)return;let e=Ke+t,r=n[e];if(r){let o=r[Yn];o!==null&&o!==n&&vh(o,r),t>0&&(n[e-1][Et]=r[Et]);let i=Wi(n,Ke+t);r3(r[H],r);let a=i[en];a!==null&&a.detachView(i[H]),r[Ve]=null,r[Et]=null,r[q]&=-129}return r}function $3(n,t,e,r){let o=Ke+r,i=e.length;r>0&&(e[o-1][Et]=t),r<i-Ke?(t[Et]=e[o],Bu(e,Ke+r,t)):(e.push(t),t[Et]=null),t[Ve]=e;let a=t[Yn];a!==null&&e!==a&&vg(a,t);let s=t[en];s!==null&&s.insertView(n),vc(t),t[q]|=128}function vg(n,t){let e=n[Nr],r=t[Ve];if(tn(r))n[q]|=2;else{let o=r[Ve][ut];t[ut]!==o&&(n[q]|=2)}e===null?n[Nr]=[t]:e.push(t)}var nr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,e=t[H];return ca(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[ze]}set context(t){this._lView[ze]=t}get destroyed(){return Fr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ve];if(qt(t)){let e=t[ea],r=e?e.indexOf(this):-1;r>-1&&(Zc(t,r),Wi(e,r))}this._attachedToViewContainer=!1}Mh(this._lView[H],this._lView)}onDestroy(t){n1(this._lView,t)}markForCheck(){Sh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){vc(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,fg(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Oo(this._lView),e=this._lView[Yn];e!==null&&!t&&vh(e,this._lView),Jy(this._lView[H],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=t;let e=Oo(this._lView),r=this._lView[Yn];r!==null&&!e&&vg(r,this._lView),vc(this._lView)}};var rr=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=G3;constructor(e,r,o){this._declarationLView=e,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,o){let i=_h(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:r,dehydratedView:o});return new nr(i)}}return n})();function G3(){return Eh(Re(),Z())}function Eh(n,t){return n.type&4?new rr(t,n,Go(n,t)):null}function Zo(n,t,e,r,o){let i=n.data[t];if(i===null)i=W3(n,t,e,r,o),kf()&&(i.flags|=32);else if(i.type&64){i.type=e,i.value=r,i.attrs=o;let a=yf();i.injectorIndex=a===null?-1:a.injectorIndex}return Fo(i,!0),i}function W3(n,t,e,r,o){let i=d1(),a=u1(),s=a?i:i&&i.parent,c=n.data[t]=K3(n,s,e,t,r,o);return Z3(n,c,i,a),c}function Z3(n,t,e,r){n.firstChild===null&&(n.firstChild=t),e!==null&&(r?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function K3(n,t,e,r,o,i){let a=t?t.injectorIndex:-1,s=0;return s1()&&(s|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var jL=new RegExp(`^(\\d+)*(${vM}|${kM})*(.*)`);var X3=()=>null,Q3=()=>null;function U1(n,t){return X3(n,t)}function Y3(n,t,e){return Q3(n,t,e)}var Mg=class{},ul=class{},$1=class{resolveComponentFactory(t){throw new D(917,!1)}},fa=class{static NULL=new $1},qr=class{},It=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>J3()}return n})();function J3(){let n=Z(),t=Re(),e=At(t.index,n);return(tn(e)?e:n)[ye]}var wg=(()=>{class n{static \u0275prov=E({token:n,providedIn:"root",factory:()=>null})}return n})();var Oc={},G1=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){let o=this.injector.get(t,Oc,r);return o!==Oc||e===Oc?o:this.parentInjector.get(t,e,r)}};function Kc(n,t,e){let r=e?n.styles:null,o=e?n.classes:null,i=0;if(t!==null)for(let a=0;a<t.length;a++){let s=t[a];if(typeof s=="number")i=s;else if(i==1)o=Tu(o,s);else if(i==2){let c=s,l=t[++a];r=Tu(r,c+": "+l+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=o:n.classesWithoutHost=o}function L(n,t=0){let e=Z();if(e===null)return j(n,t);let r=Re();return vy(r,e,Be(n),t)}function Lh(){let n="invalid";throw new Error(n)}function Cg(n,t,e,r,o){let i=r===null?null:{"":-1},a=o(n,e);if(a!==null){let s=a,c=null,l=null;for(let d of a)if(d.resolveHostDirectives!==null){[s,c,l]=d.resolveHostDirectives(a);break}nw(n,t,e,s,i,c,l)}i!==null&&r!==null&&ew(e,r,i)}function ew(n,t,e){let r=n.localNames=[];for(let o=0;o<t.length;o+=2){let i=e[t[o+1]];if(i==null)throw new D(-301,!1);r.push(t[o],i)}}function tw(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function nw(n,t,e,r,o,i,a){let s=r.length,c=!1;for(let p=0;p<s;p++){let h=r[p];!c&&nn(h)&&(c=!0,tw(n,e,p)),R1(Hc(e,t),n,h.type)}cw(e,n.data.length,s);for(let p=0;p<s;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let l=!1,d=!1,u=$y(n,t,s,null);s>0&&(e.directiveToIndex=new Map);for(let p=0;p<s;p++){let h=r[p];if(e.mergedAttrs=qo(e.mergedAttrs,h.hostAttrs),ow(n,e,t,u,h),sw(u,h,o),a!==null&&a.has(h)){let[w,M]=a.get(h);e.directiveToIndex.set(h.type,[u,w+e.directiveStart,M+e.directiveStart])}else(i===null||!i.has(h))&&e.directiveToIndex.set(h.type,u);h.contentQueries!==null&&(e.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(e.flags|=64);let m=h.type.prototype;!l&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),l=!0),!d&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),d=!0),u++}rw(n,e,i)}function rw(n,t,e){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=n.data[r];if(e===null||!e.has(o))Wf(0,t,o,r),Wf(1,t,o,r),Kf(t,r,!1);else{let i=e.get(o);Zf(0,t,i,r),Zf(1,t,i,r),Kf(t,r,!0)}}}function Wf(n,t,e,r){let o=n===0?e.inputs:e.outputs;for(let i in o)if(o.hasOwnProperty(i)){let a;n===0?a=t.inputs??={}:a=t.outputs??={},a[i]??=[],a[i].push(r),bg(t,i)}}function Zf(n,t,e,r){let o=n===0?e.inputs:e.outputs;for(let i in o)if(o.hasOwnProperty(i)){let a=o[i],s;n===0?s=t.hostDirectiveInputs??={}:s=t.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,i),bg(t,a)}}function bg(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function Kf(n,t,e){let{attrs:r,inputs:o,hostDirectiveInputs:i}=n;if(r===null||!e&&o===null||e&&i===null||uh(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!e&&o.hasOwnProperty(c)){let l=o[c];for(let d of l)if(d===t){a??=[],a.push(c,r[s+1]);break}}else if(e&&i.hasOwnProperty(c)){let l=i[c];for(let d=0;d<l.length;d+=2)if(l[d]===t){a??=[],a.push(l[d+1],r[s+1]);break}}s+=2}n.initialInputs??=[],n.initialInputs.push(a)}function ow(n,t,e,r,o){n.data[r]=o;let i=o.factory||(o.factory=Er(o.type,!0)),a=new Hr(i,nn(o),L,null);n.blueprint[r]=a,e[r]=a,iw(n,t,r,$y(n,e,o.hostVars,Ln),o)}function iw(n,t,e,r,o){let i=o.hostBindings;if(i){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let s=~t.index;aw(a)!=s&&a.push(s),a.push(e,r,i)}}function aw(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function sw(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;nn(t)&&(e[""]=n)}}function cw(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function xg(n,t,e,r,o,i,a,s){let c=t[H],l=c.consts,d=rn(l,a),u=Zo(c,n,e,r,d);return i&&Cg(c,t,u,rn(l,s),o),u.mergedAttrs=qo(u.mergedAttrs,u.attrs),u.attrs!==null&&Kc(u,u.attrs,!1),u.mergedAttrs!==null&&Kc(u,u.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,u),u}function Ig(n,t){dy(n,t),Yu(t)&&n.queries.elementEnd(t)}function lw(n,t,e,r,o,i){let a=t.consts,s=rn(a,o),c=Zo(t,n,e,r,s);if(c.mergedAttrs=qo(c.mergedAttrs,c.attrs),i!=null){let l=rn(a,i);c.localNames=[];for(let d=0;d<l.length;d+=2)c.localNames.push(l[d],-1)}return c.attrs!==null&&Kc(c,c.attrs,!1),c.mergedAttrs!==null&&Kc(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Ah(n){return Sg(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function _g(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function Sg(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Ko(n,t,e){if(e===Ln)return!1;let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function Nc(n,t,e){return function r(o){let i=er(n)?At(n.index,t):t;Sh(i,5);let a=t[ze],s=Xf(t,a,e,o),c=r.__ngNextListenerFn__;for(;c;)s=Xf(t,a,c,o)&&s,c=c.__ngNextListenerFn__;return s}}function Xf(n,t,e,r){let o=z(null);try{return ie(6,t,e),e(r)!==!1}catch(i){return S3(n,i),!1}finally{ie(7,t,e),z(o)}}function Dg(n,t,e,r,o,i,a,s){let c=ta(n),l=!1,d=null;if(!r&&c&&(d=uw(t,e,i,n.index)),d!==null){let u=d.__ngLastListenerFn__||d;u.__ngNextListenerFn__=a,d.__ngLastListenerFn__=a,l=!0}else{let u=Bt(n,e),p=r?r(u):u;wM(e,p,i,s);let h=o.listen(p,i,s);if(!dw(i)){let m=r?w=>r(Lt(w[n.index])):n.index;Eg(m,t,e,i,s,h,!1)}}return l}function dw(n){return n.startsWith("animation")||n.startsWith("transition")}function uw(n,t,e,r){let o=n.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let a=o[i];if(a===e&&o[i+1]===r){let s=t[Po],c=o[i+2];return s&&s.length>c?s[c]:null}typeof a=="string"&&(i+=2)}return null}function Eg(n,t,e,r,o,i,a){let s=t.firstCreatePass?o1(t):null,c=r1(e),l=c.length;c.push(o,i),s&&s.push(r,n,l,(l+1)*(a?-1:1))}function Qf(n,t,e,r,o,i){let a=t[e],s=t[H],l=s.data[e].outputs[r],u=a[l].subscribe(i);Eg(n.index,s,t,o,i,u,!0)}var W1=Symbol("BINDING");var Xc=class extends fa{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=_n(t);return new Br(e,this.ngModule)}};function hw(n){return Object.keys(n).map(t=>{let[e,r,o]=n[t],i={propName:e,templateName:t,isSignal:(r&sl.SignalBased)!==0};return o&&(i.transform=o),i})}function pw(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function fw(n,t,e){let r=t instanceof Ae?t:t?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new G1(e,r):e}function yw(n){let t=n.get(qr,null);if(t===null)throw new D(407,!1);let e=n.get(wg,null),r=n.get(Wn,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:r,ngReflect:!1}}function gw(n,t){let e=Lg(n);return qy(t,e,e==="svg"?af:e==="math"?sf:null)}function Lg(n){return(n.selectors[0][0]||"div").toLowerCase()}var Br=class extends ul{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=hw(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=pw(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=NM(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,r,o,i,a){ie(22);let s=z(null);try{let c=this.componentDef,l=mw(r,c,a,i),d=fw(c,o||this.ngModule,t),u=yw(d),p=u.rendererFactory.createRenderer(null,c),h=r?y3(p,r,c.encapsulation,d):gw(c,p),m=a?.some(Yf)||i?.some(x=>typeof x!="function"&&x.bindings.some(Yf)),w=ph(null,l,null,512|Uy(c),null,null,u,p,d,null,Ly(h,d,!0));w[Te]=h,Cc(w);let M=null;try{let x=xg(Te,w,2,"#host",()=>l.directiveRegistry,!0,0);zy(p,h,x),Bo(h,w),bh(l,w,x),Ty(l,x,w),Ig(l,x),e!==void 0&&vw(x,this.ngContentSelectors,e),M=At(x.index,w),w[ze]=M[ze],Ih(l,w,null)}catch(x){throw M!==null&&N1(M),N1(w),x}finally{ie(23),bc()}return new Qc(this.componentType,w,!!m)}finally{z(s)}}};function mw(n,t,e,r){let o=n?["ng-version","20.3.9"]:FM(t.selectors[0]),i=null,a=null,s=0;if(e)for(let d of e)s+=d[W1].requiredVars,d.create&&(d.targetIdx=0,(i??=[]).push(d)),d.update&&(d.targetIdx=0,(a??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let u=r[d];if(typeof u!="function")for(let p of u.bindings){s+=p[W1].requiredVars;let h=d+1;p.create&&(p.targetIdx=h,(i??=[]).push(p)),p.update&&(p.targetIdx=h,(a??=[]).push(p))}}let c=[t];if(r)for(let d of r){let u=typeof d=="function"?d:d.type,p=Gu(u);c.push(p)}return hh(0,null,kw(i,a),1,s,c,null,null,null,[o],null)}function kw(n,t){return!n&&!t?null:e=>{if(e&1&&n)for(let r of n)r.create();if(e&2&&t)for(let r of t)r.update()}}function Yf(n){let t=n[W1].kind;return t==="input"||t==="twoWay"}var Qc=class extends Mg{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,r){super(),this._rootLView=e,this._hasInputBindings=r,this._tNode=na(e[H],Te),this.location=Go(this._tNode,e),this.instance=At(this._tNode.index,e)[ze],this.hostView=this.changeDetectorRef=new nr(e,void 0),this.componentType=t}setInput(t,e){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView,i=xh(r,o[H],o,t,e);this.previousInputValues.set(t,e);let a=At(r.index,o);Sh(a,1)}get injector(){return new Vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function vw(n,t,e){let r=n.projection=[];for(let o=0;o<t.length;o++){let i=e[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Tn=(()=>{class n{static __NG_ELEMENT_ID__=Mw}return n})();function Mw(){let n=Re();return Tg(n,Z())}var ww=Tn,Ag=class extends ww{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Go(this._hostTNode,this._hostLView)}get injector(){return new Vr(this._hostTNode,this._hostLView)}get parentInjector(){let t=ih(this._hostTNode,this._hostLView);if(py(t)){let e=Vc(t,this._hostLView),r=jc(t),o=e[H].data[r+8];return new Vr(o,e)}else return new Vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=Jf(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-Ke}createEmbeddedView(t,e,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let a=U1(this._lContainer,t.ssrId),s=t.createEmbeddedViewImpl(e||{},i,a);return this.insertImpl(s,o,Wc(this._hostTNode,a)),s}createComponent(t,e,r,o,i,a,s){let c=t&&!G5(t),l;if(c)l=e;else{let M=e||{};l=M.index,r=M.injector,o=M.projectableNodes,i=M.environmentInjector||M.ngModuleRef,a=M.directives,s=M.bindings}let d=c?t:new Br(_n(t)),u=r||this.parentInjector;if(!i&&d.ngModule==null){let x=(c?u:this.parentInjector).get(Ae,null);x&&(i=x)}let p=_n(d.componentType??{}),h=U1(this._lContainer,p?.id??null),m=h?.firstChild??null,w=d.create(u,o,m,i,a,s);return this.insertImpl(w.hostView,l,Wc(this._hostTNode,h)),w}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let o=t._lView;if(lf(o)){let s=this.indexOf(t);if(s!==-1)this.detach(s);else{let c=o[Ve],l=new Ag(c,c[tt],c[Ve]);l.detach(l.indexOf(t))}}let i=this._adjustIndex(e),a=this._lContainer;return Dh(a,o,i,r),t.attachToViewContainerRef(),Bu(S1(a),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=Jf(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=Zc(this._lContainer,e);r&&(Wi(S1(this._lContainer),e),Mh(r[H],r))}detach(t){let e=this._adjustIndex(t,-1),r=Zc(this._lContainer,e);return r&&Wi(S1(this._lContainer),e)!=null?new nr(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function Jf(n){return n[ea]}function S1(n){return n[ea]||(n[ea]=[])}function Tg(n,t){let e,r=t[n.index];return qt(r)?e=r:(e=kg(r,t,null,n),t[n.index]=e,fh(t,e)),bw(e,t,n,r),new Ag(e,n,t)}function Cw(n,t){let e=n[ye],r=e.createComment(""),o=Bt(t,n),i=e.parentNode(o);return zc(e,i,r,e.nextSibling(o),!1),r}var bw=_w,xw=()=>!1;function Iw(n,t,e){return xw(n,t,e)}function _w(n,t,e,r){if(n[Jn])return;let o;e.type&8?o=Lt(r):o=Cw(t,e),n[Jn]=o}var Z1=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},K1=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let r=t.contentQueries!==null?t.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){let a=e.getByIndex(i),s=this.queries[a.indexInDeclarationView];o.push(s.clone())}return new n(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)Th(t,e).matches!==null&&this.queries[e].setDirty()}},X1=class{flags;read;predicate;constructor(t,e,r=null){this.flags=e,this.read=r,typeof t=="string"?this.predicate=Rw(t):this.predicate=t}},Q1=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){let o=e!==null?e.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,e!==null?e.push(i):e=[i])}return e!==null?new n(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Y1=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,e,Sw(e,i)),this.matchTNodeWithReadOption(t,e,Rc(e,t,i,!1,!1))}else r===rr?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Rc(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===Ue||o===Tn||o===rr&&e.type&4)this.addMatch(e.index,-2);else{let i=Rc(e,t,o,!1,!1);i!==null&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function Sw(n,t){let e=n.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1]}return null}function Dw(n,t){return n.type&11?Go(n,t):n.type&4?Eh(n,t):null}function Ew(n,t,e,r){return e===-1?Dw(t,n):e===-2?Lw(n,t,r):sa(n,n[H],e,t)}function Lw(n,t,e){if(e===Ue)return Go(t,n);if(e===rr)return Eh(t,n);if(e===Tn)return Tg(t,n)}function Pg(n,t,e,r){let o=t[en].queries[r];if(o.matches===null){let i=n.data,a=e.matches,s=[];for(let c=0;a!==null&&c<a.length;c+=2){let l=a[c];if(l<0)s.push(null);else{let d=i[l];s.push(Ew(t,d,a[c+1],e.metadata.read))}}o.matches=s}return o.matches}function J1(n,t,e,r){let o=n.queries.getByIndex(e),i=o.matches;if(i!==null){let a=Pg(n,t,o,e);for(let s=0;s<i.length;s+=2){let c=i[s];if(c>0)r.push(a[s/2]);else{let l=i[s+1],d=t[-c];for(let u=Ke;u<d.length;u++){let p=d[u];p[Yn]===p[Ve]&&J1(p[H],p,l,r)}if(d[Nr]!==null){let u=d[Nr];for(let p=0;p<u.length;p++){let h=u[p];J1(h[H],h,l,r)}}}}}return r}function Aw(n,t){return n[en].queries[t].queryList}function Tw(n,t,e){let r=new qc((e&4)===4);return hf(n,t,r,r.destroy),(t[en]??=new K1).queries.push(new Z1(r))-1}function Pw(n,t,e,r){let o=Pe();if(o.firstCreatePass){let i=Re();Ow(o,new X1(t,e,r),i.index),Nw(o,n),(e&2)===2&&(o.staticContentQueries=!0)}return Tw(o,Z(),e)}function Rw(n){return n.split(",").map(t=>t.trim())}function Ow(n,t,e){n.queries===null&&(n.queries=new Q1),n.queries.track(new Y1(t,e))}function Nw(n,t){let e=n.contentQueries||(n.contentQueries=[]),r=e.length?e[e.length-1]:-1;t!==r&&e.push(n.queries.length-1,t)}function Th(n,t){return n.queries.getByIndex(t)}function Fw(n,t){let e=n[H],r=Th(e,t);return r.crossesNgTemplate?J1(e,n,t,[]):Pg(e,n,r,t)}var zr=class{},hl=class{};var Yc=class extends zr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Xc(this);constructor(t,e,r,o=!0){super(),this.ngModuleType=t,this._parent=e;let i=$u(t);this._bootstrapComponents=jy(i.bootstrap),this._r3Injector=k1(t,e,[{provide:zr,useValue:this},{provide:fa,useValue:this.componentFactoryResolver},...r],In(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Jc=class extends hl{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Yc(this.moduleType,t,[])}};var la=class extends zr{injector;componentFactoryResolver=new Xc(this);instance=null;constructor(t){super();let e=new Ar([...t.providers,{provide:zr,useValue:this},{provide:fa,useValue:this.componentFactoryResolver}],t.parent||Xi(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Xo(n,t,e=null){return new la({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var jw=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=Wu(!1,e.type),o=r.length>0?Xo([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=E({token:n,providedIn:"environment",factory:()=>new n(j(Ae))})}return n})();function he(n){return $o(()=>{let t=Rg(n),e=$(b({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ah.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(jw).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||En.Emulated,styles:n.styles||Mt,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&An("NgStandalone"),Og(e);let r=n.dependencies;return e.directiveDefs=ey(r,Vw),e.pipeDefs=ey(r,Jp),e.id=Bw(e),e})}function Vw(n){return _n(n)||Gu(n)}function Pt(n){return $o(()=>({type:n.type,bootstrap:n.bootstrap||Mt,declarations:n.declarations||Mt,imports:n.imports||Mt,exports:n.exports||Mt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Hw(n,t){if(n==null)return Kn;let e={};for(let r in n)if(n.hasOwnProperty(r)){let o=n[r],i,a,s,c;Array.isArray(o)?(s=o[0],i=o[1],a=o[2]??i,c=o[3]||null):(i=o,a=o,s=sl.None,c=null),e[i]=[r,s,c],t[i]=a}return e}function qw(n){if(n==null)return Kn;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function le(n){return $o(()=>{let t=Rg(n);return Og(t),t})}function Rg(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||Kn,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Mt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Hw(n.inputs,t),outputs:qw(n.outputs),debugInfo:null}}function Og(n){n.features?.forEach(t=>t(n))}function ey(n,t){return n?()=>{let e=typeof n=="function"?n():n,r=[];for(let o of e){let i=t(o);i!==null&&r.push(i)}return r}:null}function Bw(n){let t=0,e=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function zw(n){return Object.getPrototypeOf(n.prototype).constructor}function pt(n){let t=zw(n.type),e=!0,r=[n];for(;t;){let o;if(nn(n))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new D(903,!1);o=t.\u0275dir}if(o){if(e){r.push(o);let a=n;a.inputs=D1(n.inputs),a.declaredInputs=D1(n.declaredInputs),a.outputs=D1(n.outputs);let s=o.hostBindings;s&&Zw(n,s);let c=o.viewQuery,l=o.contentQueries;if(c&&Gw(n,c),l&&Ww(n,l),Uw(n,o),Bp(n.outputs,o.outputs),nn(o)&&o.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let a=0;a<i.length;a++){let s=i[a];s&&s.ngInherit&&s(n),s===pt&&(e=!1)}}t=Object.getPrototypeOf(t)}$w(r)}function Uw(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e])}}function $w(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let o=n[r];o.hostVars=t+=o.hostVars,o.hostAttrs=qo(o.hostAttrs,e=qo(e,o.hostAttrs))}}function D1(n){return n===Kn?{}:n===Mt?[]:n}function Gw(n,t){let e=n.viewQuery;e?n.viewQuery=(r,o)=>{t(r,o),e(r,o)}:n.viewQuery=t}function Ww(n,t){let e=n.contentQueries;e?n.contentQueries=(r,o,i)=>{t(r,o,i),e(r,o,i)}:n.contentQueries=t}function Zw(n,t){let e=n.hostBindings;e?n.hostBindings=(r,o)=>{t(r,o),e(r,o)}:n.hostBindings=t}function Ng(n,t,e,r,o,i,a,s){if(e.firstCreatePass){n.mergedAttrs=qo(n.mergedAttrs,n.attrs);let d=n.tView=hh(2,n,o,i,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,n),d.queries=e.queries.embeddedTView(n))}s&&(n.flags|=s),Fo(n,!1);let c=Xw(e,t,n,r);Ic()&&wh(e,t,c,n),Bo(c,t);let l=kg(c,t,c,n);t[r+Te]=l,fh(t,l),Iw(l,n,t)}function Kw(n,t,e,r,o,i,a,s,c,l,d){let u=e+Te,p;return t.firstCreatePass?(p=Zo(t,u,4,a||null,s||null),a1()&&Cg(t,n,p,rn(t.consts,l),ag),dy(t,p)):p=t.data[u],Ng(p,n,t,e,r,o,i,c),ta(p)&&bh(t,n,p),l!=null&&dl(n,p,d),p}function Ph(n,t,e,r,o,i,a,s,c,l,d){let u=e+Te,p;if(t.firstCreatePass){if(p=Zo(t,u,4,a||null,s||null),l!=null){let h=rn(t.consts,l);p.localNames=[];for(let m=0;m<h.length;m+=2)p.localNames.push(h[m],-1)}}else p=t.data[u];return Ng(p,n,t,e,r,o,i,c),l!=null&&dl(n,p,d),p}function pe(n,t,e,r,o,i,a,s){let c=Z(),l=Pe(),d=rn(l.consts,i);return Kw(c,l,n,t,e,r,o,d,void 0,a,s),pe}var Xw=Qw;function Qw(n,t,e,r){return _c(!0),t[ye].createComment("")}var Rh=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Oh=new A("");function or(n){return!!n&&typeof n.then=="function"}function Nh(n){return!!n&&typeof n.subscribe=="function"}var Fh=new A("");function pl(n){return Zi([{provide:Fh,multi:!0,useValue:n}])}var jh=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=k(Fh,{optional:!0})??[];injector=k(dt);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let o of this.appInits){let i=Ze(this.injector,o);if(or(i))e.push(i);else if(Nh(i)){let a=new Promise((s,c)=>{i.subscribe({complete:s,error:c})});e.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ya=new A("");function Fg(){eu(()=>{let n="";throw new D(600,n)})}function jg(n){return n.isBoundToModule}var Yw=10;var Pn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=k(xt);afterRenderManager=k(kh);zonelessEnabled=k(Dc);rootEffectScheduler=k(b1);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new we;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=k(Dn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(X(e=>!e))}constructor(){k($r,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=k(Ae);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,o=dt.NULL){return this._injector.get(Se).run(()=>{ie(10);let a=e instanceof ul;if(!this._injector.get(jh).done){let m="";throw new D(405,m)}let c;a?c=e:c=this._injector.get(fa).resolveComponentFactory(e),this.componentTypes.push(c.componentType);let l=jg(c)?void 0:this._injector.get(zr),d=r||c.selector,u=c.create(o,[],d,l),p=u.location.nativeElement,h=u.injector.get(Oh,null);return h?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),aa(this.components,u),h?.unregisterApplication(p)}),this._loadComponent(u),ie(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ie(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(cl.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new D(101,!1);let e=z(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,z(e),this.afterTick.next(),ie(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(qr,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<Yw;)ie(14),this.synchronizeOnce(),ie(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!ra(o))continue;let i=r&&!this.zonelessEnabled?0:1;fg(o,i),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>ra(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;aa(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(e),this._injector.get(ya,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>aa(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new D(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aa(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Gr(n,t,e,r){let o=Z(),i=jo();if(Ko(o,i,t)){let a=Pe(),s=xc();x3(s,o,n,t,e,r)}return Gr}var $L=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Qo(n,t,e,r,o,i,a,s){An("NgControlFlow");let c=Z(),l=Pe(),d=rn(l.consts,i);return Ph(c,l,n,t,e,r,o,d,256,a,s),Vh}function Vh(n,t,e,r,o,i,a,s){An("NgControlFlow");let c=Z(),l=Pe(),d=rn(l.consts,i);return Ph(c,l,n,t,e,r,o,d,512,a,s),Vh}function Yo(n,t){An("NgControlFlow");let e=Z(),r=jo(),o=e[r]!==Ln?e[r]:-1,i=o!==-1?ty(e,Te+o):void 0,a=0;if(Ko(e,r,n)){let s=z(null);try{if(i!==void 0&&U3(i,a),n!==-1){let c=Te+n,l=ty(e,c),d=Jw(e[H],c),u=Y3(l,d,e),p=_h(e,d,t,{dehydratedView:u});Dh(l,p,a,Wc(d,u))}}finally{z(s)}}else if(i!==void 0){let s=z3(i,a);s!==void 0&&(s[ze]=t)}}function ty(n,t){return n[t]}function Jw(n,t){return na(n,t)}function G(n,t,e){let r=Z(),o=jo();if(Ko(r,o,t)){let i=Pe(),a=xc();ig(a,r,n,t,r[ye],e)}return G}function ny(n,t,e,r,o){xh(t,n,e,o?"class":"style",r)}function y(n,t,e,r){let o=Z(),i=o[H],a=n+Te,s=i.firstCreatePass?xg(a,o,2,t,ag,a1(),e,r):i.data[a];if(sg(s,o,n,t,Vg),ta(s)){let c=o[H];bh(c,o,s),Ty(c,s,o)}return r!=null&&dl(o,s),y}function g(){let n=Pe(),t=Re(),e=cg(t);return n.firstCreatePass&&Ig(n,e),c1(e)&&l1(),i1(),e.classesWithoutHost!=null&&Y5(e)&&ny(n,e,Z(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&J5(e)&&ny(n,e,Z(),e.stylesWithoutHost,!1),g}function ke(n,t,e,r){return y(n,t,e,r),g(),ke}function sn(n,t,e,r){let o=Z(),i=o[H],a=n+Te,s=i.firstCreatePass?lw(a,i,2,t,e,r):i.data[a];return sg(s,o,n,t,Vg),r!=null&&dl(o,s),sn}function cn(){let n=Re(),t=cg(n);return c1(t)&&l1(),i1(),cn}var Vg=(n,t,e,r,o)=>(_c(!0),qy(t[ye],r,_f()));function De(){return Z()}var ga="en-US";var e8=ga;function Hg(n){typeof n=="string"&&(e8=n.toLowerCase().replace(/_/g,"-"))}function _(n,t,e){let r=Z(),o=Pe(),i=Re();return qg(o,r,r[ye],i,n,t,e),_}function ma(n,t,e){let r=Z(),o=Pe(),i=Re();return(i.type&3||e)&&Dg(i,o,r,e,r[ye],n,t,Nc(i,r,t)),ma}function qg(n,t,e,r,o,i,a){let s=!0,c=null;if((r.type&3||a)&&(c??=Nc(r,t,i),Dg(r,n,t,a,e,o,i,c)&&(s=!1)),s){let l=r.outputs?.[o],d=r.hostDirectiveOutputs?.[o];if(d&&d.length)for(let u=0;u<d.length;u+=2){let p=d[u],h=d[u+1];c??=Nc(r,t,i),Qf(r,t,p,h,o,c)}if(l&&l.length)for(let u of l)c??=Nc(r,t,i),Qf(r,t,u,o,o,c)}}function S(n=1){return If(n)}function t8(n,t){let e=null,r=AM(n);for(let o=0;o<t.length;o++){let i=t[o];if(i==="*"){e=o;continue}if(r===null?Hy(n,i,!0):RM(r,i))return o}return e}function Hh(n){let t=Z()[ut][tt];if(!t.projection){let e=n?n.length:1,r=t.projection=Xp(e,null),o=r.slice(),i=t.child;for(;i!==null;){if(i.type!==128){let a=n?t8(i,n):0;a!==null&&(o[a]?o[a].projectionNext=i:r[a]=i,o[a]=i)}i=i.next}}}function qh(n,t=0,e,r,o,i){let a=Z(),s=Pe(),c=r?n+1:null;c!==null&&Ph(a,s,c,r,o,i,null,e);let l=Zo(s,Te+n,16,null,e||null);l.projection===null&&(l.projection=t),h1();let u=!a[To]||s1();a[ut][tt].projection[l.projection]===null&&c!==null?n8(a,s,c):u&&!il(l)&&h3(s,a,l)}function n8(n,t,e){let r=Te+e,o=t.data[r],i=n[r],a=U1(i,o.tView.ssrId),s=_h(n,o,void 0,{dehydratedView:a});Dh(i,s,0,Wc(o,a))}function Bh(n,t,e,r){Pw(n,t,e,r)}function zh(n){let t=Z(),e=Pe(),r=y1();wc(r+1);let o=Th(e,r);if(n.dirty&&cf(t)===((o.metadata.flags&2)===2)){if(o.matches===null)n.reset([]);else{let i=Fw(t,r);n.reset(i,hM),n.notifyOnChanges()}return!0}return!1}function Uh(){return Aw(Z(),y1())}function Ac(n,t){return n<<17|t<<2}function Ur(n){return n>>17&32767}function r8(n){return(n&2)==2}function o8(n,t){return n&131071|t<<17}function eh(n){return n|2}function Uo(n){return(n&131068)>>2}function E1(n,t){return n&-131069|t<<2}function i8(n){return(n&1)===1}function th(n){return n|1}function a8(n,t,e,r,o,i){let a=i?t.classBindings:t.styleBindings,s=Ur(a),c=Uo(a);n[r]=e;let l=!1,d;if(Array.isArray(e)){let u=e;d=u[1],(d===null||Ao(u,d)>0)&&(l=!0)}else d=e;if(o)if(c!==0){let p=Ur(n[s+1]);n[r+1]=Ac(p,s),p!==0&&(n[p+1]=E1(n[p+1],r)),n[s+1]=o8(n[s+1],r)}else n[r+1]=Ac(s,0),s!==0&&(n[s+1]=E1(n[s+1],r)),s=r;else n[r+1]=Ac(c,0),s===0?s=r:n[c+1]=E1(n[c+1],r),c=r;l&&(n[r+1]=eh(n[r+1])),ry(n,d,r,!0),ry(n,d,r,!1),s8(t,d,n,r,i),a=Ac(s,c),i?t.classBindings=a:t.styleBindings=a}function s8(n,t,e,r,o){let i=o?n.residualClasses:n.residualStyles;i!=null&&typeof t=="string"&&Ao(i,t)>=0&&(e[r+1]=th(e[r+1]))}function ry(n,t,e,r){let o=n[e+1],i=t===null,a=r?Ur(o):Uo(o),s=!1;for(;a!==0&&(s===!1||i);){let c=n[a],l=n[a+1];c8(c,t)&&(s=!0,n[a+1]=r?th(l):eh(l)),a=r?Ur(l):Uo(l)}s&&(n[e+1]=r?eh(o):th(o))}function c8(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Ao(n,t)>=0:!1}function Xe(n,t){return l8(n,t,null,!0),Xe}function l8(n,t,e,r){let o=Z(),i=Pe(),a=mf(2);if(i.firstUpdatePass&&u8(i,n,a,r),t!==Ln&&Ko(o,a,t)){let s=i.data[jr()];g8(i,s,o,o[ye],n,o[a+1]=m8(t,e),r,a)}}function d8(n,t){return t>=n.expandoStartIndex}function u8(n,t,e,r){let o=n.data;if(o[e+1]===null){let i=o[jr()],a=d8(n,e);k8(i,r)&&t===null&&!a&&(t=!1),t=h8(o,i,t,r),a8(o,i,t,e,a,r)}}function h8(n,t,e,r){let o=wf(n),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(e=L1(null,n,t,e,r),e=da(e,t.attrs,r),i=null);else{let a=t.directiveStylingLast;if(a===-1||n[a]!==o)if(e=L1(o,n,t,e,r),i===null){let c=p8(n,t,r);c!==void 0&&Array.isArray(c)&&(c=L1(null,n,t,c[1],r),c=da(c,t.attrs,r),f8(n,t,r,c))}else i=y8(n,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),e}function p8(n,t,e){let r=e?t.classBindings:t.styleBindings;if(Uo(r)!==0)return n[Ur(r)]}function f8(n,t,e,r){let o=e?t.classBindings:t.styleBindings;n[Ur(o)]=r}function y8(n,t,e){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let a=n[i].hostAttrs;r=da(r,a,e)}return da(r,t.attrs,e)}function L1(n,t,e,r,o){let i=null,a=e.directiveEnd,s=e.directiveStylingLast;for(s===-1?s=e.directiveStart:s++;s<a&&(i=t[s],r=da(r,i.hostAttrs,o),i!==n);)s++;return n!==null&&(e.directiveStylingLast=s),r}function da(n,t,e){let r=e?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let a=t[i];typeof a=="number"?o=a:o===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Yp(n,a,e?!0:t[++i]))}return n===void 0?null:n}function g8(n,t,e,r,o,i,a,s){if(!(t.type&3))return;let c=n.data,l=c[s+1],d=i8(l)?oy(c,t,e,o,Uo(l),a):void 0;if(!el(d)){el(i)||r8(l)&&(i=oy(c,null,e,o,s,a));let u=Ju(jr(),e);f3(r,a,u,o,i)}}function oy(n,t,e,r,o,i){let a=t===null,s;for(;o>0;){let c=n[o],l=Array.isArray(c),d=l?c[1]:c,u=d===null,p=e[o+1];p===Ln&&(p=u?Mt:void 0);let h=u?yc(p,r):d===r?p:void 0;if(l&&!el(h)&&(h=yc(c,r)),el(h)&&(s=h,a))return s;let m=n[o+1];o=a?Ur(m):Uo(m)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(s=yc(c,r))}return s}function el(n){return n!==void 0}function m8(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=In(ha(n)))),n}function k8(n,t){return(n.flags&(t?8:16))!==0}function v(n,t=""){let e=Z(),r=Pe(),o=n+Te,i=r.firstCreatePass?Zo(r,o,1,t,null):r.data[o],a=v8(r,e,i,t,n);e[o]=a,Ic()&&wh(r,e,a,i),Fo(i,!1)}var v8=(n,t,e,r,o)=>(_c(!0),jM(t[ye],r));function M8(n,t,e,r=""){return Ko(n,jo(),e)?t+Gi(e)+r:Ln}function Oe(n){return ge("",n),Oe}function ge(n,t,e){let r=Z(),o=M8(r,n,t,e);return o!==Ln&&w8(r,jr(),o),ge}function w8(n,t,e){let r=Ju(t,n);VM(n[ye],r,e)}function J(n,t,e){M1(t)&&(t=t());let r=Z(),o=jo();if(Ko(r,o,t)){let i=Pe(),a=xc();ig(a,r,n,t,r[ye],e)}return J}function ne(n,t){let e=M1(n);return e&&n.set(t),e}function ee(n,t){let e=Z(),r=Pe(),o=Re();return qg(r,e,e[ye],o,n,t),ee}function C8(n,t,e){let r=Pe();if(r.firstCreatePass){let o=nn(n);nh(e,r.data,r.blueprint,o,!0),nh(t,r.data,r.blueprint,o,!1)}}function nh(n,t,e,r,o){if(n=Be(n),Array.isArray(n))for(let i=0;i<n.length;i++)nh(n[i],t,e,r,o);else{let i=Pe(),a=Z(),s=Re(),c=Lr(n)?n:Be(n.provide),l=Ku(n),d=s.providerIndexes&1048575,u=s.directiveStart,p=s.providerIndexes>>20;if(Lr(n)||!n.multi){let h=new Hr(l,o,L,null),m=T1(c,t,o?d:d+p,u);m===-1?(R1(Hc(s,a),i,c),A1(i,n,t.length),t.push(c),s.directiveStart++,s.directiveEnd++,o&&(s.providerIndexes+=1048576),e.push(h),a.push(h)):(e[m]=h,a[m]=h)}else{let h=T1(c,t,d+p,u),m=T1(c,t,d,d+p),w=h>=0&&e[h],M=m>=0&&e[m];if(o&&!M||!o&&!w){R1(Hc(s,a),i,c);let x=I8(o?x8:b8,e.length,o,r,l,n);!o&&M&&(e[m].providerFactory=x),A1(i,n,t.length,0),t.push(c),s.directiveStart++,s.directiveEnd++,o&&(s.providerIndexes+=1048576),e.push(x),a.push(x)}else{let x=Bg(e[o?m:h],l,!o&&r);A1(i,n,h>-1?h:m,x)}!o&&r&&M&&e[m].componentProviders++}}}function A1(n,t,e,r){let o=Lr(t),i=nf(t);if(o||i){let c=(i?Be(t.useClass):t).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!o&&t.multi){let d=l.indexOf(e);d===-1?l.push(e,[r,c]):l[d+1].push(r,c)}else l.push(e,c)}}}function Bg(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function T1(n,t,e,r){for(let o=e;o<r;o++)if(t[o]===n)return o;return-1}function b8(n,t,e,r,o){return rh(this.multi,[])}function x8(n,t,e,r,o){let i=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=sa(r,r[H],this.providerFactory.index,o);a=c.slice(0,s),rh(i,a);for(let l=s;l<c.length;l++)a.push(c[l])}else a=[],rh(i,a);return a}function rh(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function I8(n,t,e,r,o,i){let a=new Hr(n,e,L,null);return a.multi=[],a.index=t,a.componentProviders=0,Bg(a,o,r&&!e),a}function ln(n,t=[]){return e=>{e.providersResolver=(r,o)=>C8(r,o?o(n):n,t)}}var tl=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},$h=(()=>{class n{compileModuleSync(e){return new Jc(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),o=$u(e),i=jy(o.declarations).reduce((a,s)=>{let c=_n(s);return c&&a.push(new Br(c)),a},[]);return new tl(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _8=(()=>{class n{zone=k(Se);changeDetectionScheduler=k(Wn);applicationRef=k(Pn);applicationErrorHandler=k(xt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zg({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Se($(b({},Ug()),{scheduleInRootZone:e})),[{provide:Se,useFactory:n},{provide:Xn,multi:!0,useFactory:()=>{let r=k(_8,{optional:!0});return()=>r.initialize()}},{provide:Xn,multi:!0,useFactory:()=>{let r=k(S8);return()=>{r.initialize()}}},t===!0?{provide:w1,useValue:!0}:[],{provide:C1,useValue:e??Wy},{provide:xt,useFactory:()=>{let r=k(Se),o=k(Ae),i;return a=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw a}):(i??=o.get(Vt),i.handleError(a))})}}}]}function Ug(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var S8=(()=>{class n{subscription=new xe;initialized=!1;zone=k(Se);pendingTasks=k(Dn);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $g=(()=>{class n{applicationErrorHandler=k(xt);appRef=k(Pn);taskService=k(Dn);ngZone=k(Se);zonelessEnabled=k(Dc);tracing=k($r,{optional:!0});disableScheduling=k(w1,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new xe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Uc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(C1,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $c||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?qf:Zy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Uc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(e),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,qf(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function D8(){return typeof $localize<"u"&&$localize.locale||ga}var fl=new A("",{providedIn:"root",factory:()=>k(fl,{optional:!0,skipSelf:!0})||D8()});function He(n){return Vp(n)}function Jo(n,t){return Ts(n,t?.equal)}var Gg=class{[We];constructor(t){this[We]=t}destroy(){this[We].destroy()}};var Yg=Symbol("InputSignalNode#UNSET"),z8=$(b({},Ps),{transformFn:void 0,applyValueToInputSignal(n,t){vo(n,t)}});function Jg(n,t){let e=Object.create(z8);e.value=n,e.transformFn=t?.transform;function r(){if(go(e),e.value===Yg){let o=null;throw new D(-950,o)}return e.value}return r[We]=e,r}var gl=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>ua(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},U8=new A("");U8.__NG_ELEMENT_ID__=n=>{let t=Re();if(t===null)throw new D(204,!1);if(t.type&2)return t.value;if(n&8)return null;throw new D(204,!1)};function Wg(n,t){return Jg(n,t)}function $8(n){return Jg(Yg,n)}var em=(Wg.required=$8,Wg);var Gh=new A(""),G8=new A("");function ka(n){return!n.moduleRef}function W8(n){let t=ka(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Se);return e.run(()=>{ka(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=t.get(xt),o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:r})}),ka(n)){let i=()=>t.destroy(),a=n.platformInjector.get(Gh);a.add(i),t.onDestroy(()=>{o.unsubscribe(),a.delete(i)})}else{let i=()=>n.moduleRef.destroy(),a=n.platformInjector.get(Gh);a.add(i),n.moduleRef.onDestroy(()=>{aa(n.allPlatformModules,n.moduleRef),o.unsubscribe(),a.delete(i)})}return K8(r,e,()=>{let i=t.get(Dn),a=i.add(),s=t.get(jh);return s.runInitializers(),s.donePromise.then(()=>{let c=t.get(fl,ga);if(Hg(c||ga),!t.get(G8,!0))return ka(n)?t.get(Pn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ka(n)){let d=t.get(Pn);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return Z8?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void i.remove(a))})})}var Z8;function K8(n,t,e){try{let r=e();return or(r)?r.catch(o=>{throw t.runOutsideAngular(()=>n(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>n(r)),r}}var yl=null;function X8(n=[],t){return dt.create({name:t,providers:[{provide:Ki,useValue:"platform"},{provide:Gh,useValue:new Set([()=>yl=null])},...n]})}function Q8(n=[]){if(yl)return yl;let t=X8(n);return yl=t,Fg(),Y8(t),t}function Y8(n){let t=n.get(rl,null);Ze(n,()=>{t?.forEach(e=>e())})}var $t=(()=>{class n{static __NG_ELEMENT_ID__=J8}return n})();function J8(n){return e6(Re(),Z(),(n&16)===16)}function e6(n,t,e){if(er(n)&&!e){let r=At(n.index,t);return new nr(r,r)}else if(n.type&175){let r=t[ut];return new nr(r,t)}return null}var Wh=class{constructor(){}supports(t){return Ah(t)}create(t){return new Zh(t)}},t6=(n,t)=>t,Zh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||t6}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){let a=!r||e&&e.currentIndex<Zg(r,o,i)?e:r,s=Zg(a,o,i),c=a.currentIndex;if(a===r)o--,r=r._nextRemoved;else if(e=e._next,a.previousIndex==null)o++;else{i||(i=[]);let l=s-o,d=c-o;if(l!=d){for(let p=0;p<l;p++){let h=p<i.length?i[p]:i[p]=0,m=h+p;d<=m&&m<l&&(i[p]=h+1)}let u=a.previousIndex;i[u]=d-l}}s!==c&&t(a,s,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!Ah(t))throw new D(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,o,i,a;if(Array.isArray(t)){this.length=t.length;for(let s=0;s<this.length;s++)i=t[s],a=this._trackByFn(s,i),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,i,a,s),r=!0):(r&&(e=this._verifyReinsertion(e,i,a,s)),Object.is(e.item,i)||this._addIdentityChange(e,i)),e=e._next}else o=0,_g(t,s=>{a=this._trackByFn(o,s),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,s,a,o),r=!0):(r&&(e=this._verifyReinsertion(e,s,a,o)),Object.is(e.item,s)||this._addIdentityChange(e,s)),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,o)):t=this._addAfter(new Kh(e,r),i,o)),t}_verifyReinsertion(t,e,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let o=e===null?this._itHead:e._next;return t._next=o,t._prev=e,o===null?this._itTail=t:o._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new ml),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ml),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Kh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Xh=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},ml=class{map=new Map;put(t){let e=t.trackById,r=this.map.get(e);r||(r=new Xh,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,o=this.map.get(r);return o?o.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Zg(n,t,e){let r=n.previousIndex;if(r===null)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+t+o}function Kg(){return new Qh([new Wh])}var Qh=(()=>{class n{factories;static \u0275prov=E({token:n,providedIn:"root",factory:Kg});constructor(e){this.factories=e}static create(e,r){if(r!=null){let o=r.factories.slice();e=e.concat(o)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let r=k(n,{optional:!0,skipSelf:!0});return n.create(e,r||Kg())}}}find(e){let r=this.factories.find(o=>o.supports(e));if(r!=null)return r;throw new D(901,!1)}}return n})();function tm(n){let{rootComponent:t,appProviders:e,platformProviders:r,platformRef:o}=n;ie(8);try{let i=o?.injector??Q8(r),a=[zg({}),{provide:Wn,useExisting:$g},Df,...e||[]],s=new la({providers:a,parent:i,debugName:"",runEnvironmentInitializers:!1});return W8({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{ie(9)}}function ir(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function nm(n){let t=_n(n);if(!t)return null;let e=new Br(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var im=null;function Rt(){return im}function Yh(n){im??=n}var va=class{},Ma=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>k(am),providedIn:"platform"})}return n})(),Jh=new A(""),am=(()=>{class n extends Ma{_location;_history;_doc=k(_e);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rt().getBaseHref(this._doc)}onPopState(e){let r=Rt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Rt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,o){this._history.pushState(e,r,o)}replaceState(e,r,o){this._history.replaceState(e,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function kl(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function rm(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function Gt(n){return n&&n[0]!=="?"?`?${n}`:n}var Wt=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>k(Ml),providedIn:"root"})}return n})(),vl=new A(""),Ml=(()=>{class n extends Wt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return kl(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+Gt(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){let a=this.prepareExternalUrl(o+Gt(i));this._platformLocation.pushState(e,r,a)}replaceState(e,r,o,i){let a=this.prepareExternalUrl(o+Gt(i));this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(j(Ma),j(vl,8))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ar=(()=>{class n{_subject=new we;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=o6(rm(om(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Gt(r))}normalize(e){return n.stripTrailingSlash(r6(this._basePath,om(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Gt(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Gt(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Gt;static joinWithSlash=kl;static stripTrailingSlash=rm;static \u0275fac=function(r){return new(r||n)(j(Wt))};static \u0275prov=E({token:n,factory:()=>n6(),providedIn:"root"})}return n})();function n6(){return new ar(j(Wt))}function r6(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function om(n){return n.replace(/\/index.html$/,"")}function o6(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var e0=(()=>{class n extends Wt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=kl(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let a=this.prepareExternalUrl(o+Gt(i))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,a)}replaceState(e,r,o,i){let a=this.prepareExternalUrl(o+Gt(i))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(j(Ma),j(vl,8))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})();var wl=class{$implicit;ngForOf;index;count;constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},sr=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((o,i,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new wl(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(i===null?void 0:i);else if(i!==null){let s=r.get(i);r.move(s,a),sm(s,o)}});for(let o=0,i=r.length;o<i;o++){let s=r.get(o).context;s.index=o,s.count=i,s.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);sm(i,o)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(L(Tn),L(rr),L(Qh))};static \u0275dir=le({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function sm(n,t){n.context.$implicit=t.item}var nt=(()=>{class n{_viewContainer;_context=new Cl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){cm(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){cm(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(L(Tn),L(rr))};static \u0275dir=le({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Cl=class{$implicit=null;ngIf=null};function cm(n,t){if(n&&!n.createEmbeddedView)throw new D(2020,!1)}var qe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Ct({})}return n})();function t0(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[o,i]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var wa=class{};var lm="browser";var dm=(()=>{class n{static \u0275prov=E({token:n,providedIn:"root",factory:()=>new n0(k(_e),window)})}return n})(),n0=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo($(b({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let r=i6(this.document,t);r&&(this.scrollToElement(r,e),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(Zn(2400,!1))}}scrollToElement(t,e){let r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo($(b({},e),{left:o-a[0],top:i-a[1]}))}};function i6(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let a=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(a)return a}o=r.nextNode()}}return null}var Ca=class{_doc;constructor(t){this._doc=t}manager},bl=(()=>{class n extends Ca{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o,i){return e.addEventListener(r,o,i),()=>this.removeEventListener(e,r,o,i)}removeEventListener(e,r,o,i){return e.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||n)(j(_e))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),Il=new A(""),s0=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(a=>{a.manager=this});let o=e.filter(a=>!(a instanceof bl));this._plugins=o.slice().reverse();let i=e.find(a=>a instanceof bl);i&&this._plugins.push(i)}addEventListener(e,r,o,i){return this._findPluginFor(r).addEventListener(e,r,o,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(i=>i.supports(e)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(j(Il),j(Se))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),r0="ng-app-id";function um(n){for(let t of n)t.remove()}function hm(n,t){let e=t.createElement("style");return e.textContent=n,e}function a6(n,t,e,r){let o=n.head?.querySelectorAll(`style[${r0}="${t}"],link[${r0}="${t}"]`);if(o)for(let i of o)i.removeAttribute(r0),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&e.set(i.textContent,{usage:0,elements:[i]})}function i0(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var c0=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,r,o,i={}){this.doc=e,this.appId=r,this.nonce=o,a6(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let o of e)this.addUsage(o,this.inline,hm);r?.forEach(o=>this.addUsage(o,this.external,i0))}removeStyles(e,r){for(let o of e)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,r,o){let i=r.get(e);i?i.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,o(e,this.doc)))})}removeUsage(e,r){let o=r.get(e);o&&(o.usage--,o.usage<=0&&(um(o.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])um(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(e,hm(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(e,i0(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(j(_e),j(nl),j(ol,8),j(Wo))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),o0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},l0=/%COMP%/g;var fm="%COMP%",s6=`_nghost-${fm}`,c6=`_ngcontent-${fm}`,l6=!0,d6=new A("",{providedIn:"root",factory:()=>l6});function u6(n){return c6.replace(l0,n)}function h6(n){return s6.replace(l0,n)}function ym(n,t){return t.map(e=>e.replace(l0,n))}var d0=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,o,i,a,s,c,l=null,d=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=a,this.platformId=s,this.ngZone=c,this.nonce=l,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new ba(e,a,c,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(e,r);return o instanceof xl?o.applyToHost(e):o instanceof xa&&o.applyStyles(),o}getOrCreateRenderer(e,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let a=this.doc,s=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case En.Emulated:i=new xl(c,l,r,this.appId,d,a,s,u,p);break;case En.ShadowDom:return new a0(c,l,e,r,a,s,this.nonce,u,p);default:i=new xa(c,l,r,d,a,s,u,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(j(s0),j(c0),j(nl),j(d6),j(_e),j(Wo),j(Se),j(ol),j($r,8))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),ba=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,o,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(o0[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(pm(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(pm(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new D(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;let i=o0[o];i?t.setAttributeNS(i,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let o=o0[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(an.DashCase|an.Important)?t.style.setProperty(e,r,o&an.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&an.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,o){if(typeof t=="string"&&(t=Rt().getGlobalEventTarget(this.doc,t),!t))throw new D(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,e,i)),this.eventManager.addEventListener(t,e,i,o)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function pm(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var a0=class extends ba{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,o,i,a,s,c,l){super(t,i,a,c,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=ym(o.id,d);for(let p of d){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let u=o.getExternalStyles?.();if(u)for(let p of u){let h=i0(p,i);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xa=class extends ba{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,o,i,a,s,c,l){super(t,i,a,s,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let d=r.styles;this.styles=l?ym(l,d):d,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&zo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},xl=class extends xa{contentAttr;hostAttr;constructor(t,e,r,o,i,a,s,c,l){let d=o+"-"+r.id;super(t,e,r,i,a,s,c,l,d),this.contentAttr=u6(d),this.hostAttr=h6(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var _l=class n extends va{supportsDOMEvents=!0;static makeCurrent(){Yh(new n)}onAndCancel(t,e,r,o){return t.addEventListener(e,r,o),()=>{t.removeEventListener(e,r,o)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=p6();return e==null?null:f6(e)}resetBaseElement(){Ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return t0(document.cookie,t)}},Ia=null;function p6(){return Ia=Ia||document.head.querySelector("base"),Ia?Ia.getAttribute("href"):null}function f6(n){return new URL(n,document.baseURI).pathname}var y6=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),gm=["alt","control","meta","shift"],g6={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},m6={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},mm=(()=>{class n extends Ca{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,o,i){let a=n.parseEventName(r),s=n.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rt().onAndCancel(e,a.domEventName,s,i))}static parseEventName(e){let r=e.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=n._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),gm.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),a+=l+".")}),a+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(e,r){let o=g6[e.key]||e.key,i="";return r.indexOf("code.")>-1&&(o=e.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),gm.forEach(a=>{if(a!==o){let s=m6[a];s(e)&&(i+=a+".")}}),i+=o,i===r)}static eventCallback(e,r,o){return i=>{n.matchEventFullKeyCode(i,e)&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(j(_e))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})();function u0(n,t,e){let r=b({rootComponent:n,platformRef:e?.platformRef},k6(t));return tm(r)}function k6(n){return{appProviders:[...b6,...n?.providers??[]],platformProviders:C6}}function v6(){_l.makeCurrent()}function M6(){return new Vt}function w6(){return sh(document),document}var C6=[{provide:Wo,useValue:lm},{provide:rl,useValue:v6,multi:!0},{provide:_e,useFactory:w6}];var b6=[{provide:Ki,useValue:"root"},{provide:Vt,useFactory:M6},{provide:Il,useClass:bl,multi:!0,deps:[_e]},{provide:Il,useClass:mm,multi:!0,deps:[_e]},d0,c0,s0,{provide:qr,useExisting:d0},{provide:wa,useClass:y6},[]];var km=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(j(_e))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var B="primary",ja=Symbol("RouteTitle"),g0=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Kr(n){return new g0(n)}function _m(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let o={};for(let i=0;i<r.length;i++){let a=r[i],s=n[i];if(a[0]===":")o[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function I6(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!dn(n[e],t[e]))return!1;return!0}function dn(n,t){let e=n?m0(n):void 0,r=t?m0(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!Sm(n[o],t[o]))return!1;return!0}function m0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Sm(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((o,i)=>r[i]===o)}else return n===t}function Dm(n){return n.length>0?n[n.length-1]:null}function Rn(n){return yu(n)?n:or(n)?ue(Promise.resolve(n)):F(n)}var _6={exact:Lm,subset:Am},Em={exact:S6,subset:D6,ignored:()=>!0};function vm(n,t,e){return _6[e.paths](n.root,t.root,e.matrixParams)&&Em[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function S6(n,t){return dn(n,t)}function Lm(n,t,e){if(!Wr(n.segments,t.segments)||!El(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!Lm(n.children[r],t.children[r],e))return!1;return!0}function D6(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Sm(n[e],t[e]))}function Am(n,t,e){return Tm(n,t,t.segments,e)}function Tm(n,t,e,r){if(n.segments.length>e.length){let o=n.segments.slice(0,e.length);return!(!Wr(o,e)||t.hasChildren()||!El(o,e,r))}else if(n.segments.length===e.length){if(!Wr(n.segments,e)||!El(n.segments,e,r))return!1;for(let o in t.children)if(!n.children[o]||!Am(n.children[o],t.children[o],r))return!1;return!0}else{let o=e.slice(0,n.segments.length),i=e.slice(n.segments.length);return!Wr(n.segments,o)||!El(n.segments,o,r)||!n.children[B]?!1:Tm(n.children[B],t,i,r)}}function El(n,t,e){return t.every((r,o)=>Em[e](n[o].parameters,r.parameters))}var hn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new re([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Kr(this.queryParams),this._queryParamMap}toString(){return A6.serialize(this)}},re=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ll(this)}},lr=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Kr(this.parameters),this._parameterMap}toString(){return Rm(this)}};function E6(n,t){return Wr(n,t)&&n.every((e,r)=>dn(e.parameters,t[r].parameters))}function Wr(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function L6(n,t){let e=[];return Object.entries(n.children).forEach(([r,o])=>{r===B&&(e=e.concat(t(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==B&&(e=e.concat(t(o,r)))}),e}var Xr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>new dr,providedIn:"root"})}return n})(),dr=class{parse(t){let e=new v0(t);return new hn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${_a(t.root,!0)}`,r=R6(t.queryParams),o=typeof t.fragment=="string"?`#${T6(t.fragment)}`:"";return`${e}${r}${o}`}},A6=new dr;function Ll(n){return n.segments.map(t=>Rm(t)).join("/")}function _a(n,t){if(!n.hasChildren())return Ll(n);if(t){let e=n.children[B]?_a(n.children[B],!1):"",r=[];return Object.entries(n.children).forEach(([o,i])=>{o!==B&&r.push(`${o}:${_a(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=L6(n,(r,o)=>o===B?[_a(n.children[B],!1)]:[`${o}:${_a(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[B]!=null?`${Ll(n)}/${e[0]}`:`${Ll(n)}/(${e.join("//")})`}}function Pm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sl(n){return Pm(n).replace(/%3B/gi,";")}function T6(n){return encodeURI(n)}function k0(n){return Pm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Al(n){return decodeURIComponent(n)}function Mm(n){return Al(n.replace(/\+/g,"%20"))}function Rm(n){return`${k0(n.path)}${P6(n.parameters)}`}function P6(n){return Object.entries(n).map(([t,e])=>`;${k0(t)}=${k0(e)}`).join("")}function R6(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(o=>`${Sl(e)}=${Sl(o)}`).join("&"):`${Sl(e)}=${Sl(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var O6=/^[^\/()?;#]+/;function h0(n){let t=n.match(O6);return t?t[0]:""}var N6=/^[^\/()?;=#]+/;function F6(n){let t=n.match(N6);return t?t[0]:""}var j6=/^[^=?&#]+/;function V6(n){let t=n.match(j6);return t?t[0]:""}var H6=/^[^&#]+/;function q6(n){let t=n.match(H6);return t?t[0]:""}var v0=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[B]=new re(t,e)),r}parseSegment(){let t=h0(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(t),new lr(Al(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=F6(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let o=h0(this.remaining);o&&(r=o,this.capture(r))}t[Al(e)]=Al(r)}parseQueryParam(t){let e=V6(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let a=q6(this.remaining);a&&(r=a,this.capture(r))}let o=Mm(e),i=Mm(r);if(t.hasOwnProperty(o)){let a=t[o];Array.isArray(a)||(a=[a],t[o]=a),a.push(i)}else t[o]=i}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=h0(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new D(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=B);let a=this.parseChildren();e[i??B]=Object.keys(a).length===1&&a[B]?a[B]:new re([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new D(4011,!1)}};function Om(n){return n.segments.length>0?new re([],{[B]:n}):n}function Nm(n){let t={};for(let[r,o]of Object.entries(n.children)){let i=Nm(o);if(r===B&&i.segments.length===0&&i.hasChildren())for(let[a,s]of Object.entries(i.children))t[a]=s;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let e=new re(n.segments,t);return B6(e)}function B6(n){if(n.numberOfChildren===1&&n.children[B]){let t=n.children[B];return new re(n.segments.concat(t.segments),t.children)}return n}function ur(n){return n instanceof hn}function Fm(n,t,e=null,r=null){let o=jm(n);return Vm(o,t,e,r)}function jm(n){let t;function e(i){let a={};for(let c of i.children){let l=e(c);a[c.outlet]=l}let s=new re(i.url,a);return i===n&&(t=s),s}let r=e(n.root),o=Om(r);return t??o}function Vm(n,t,e,r){let o=n;for(;o.parent;)o=o.parent;if(t.length===0)return p0(o,o,o,e,r);let i=z6(t);if(i.toRoot())return p0(o,o,new re([],{}),e,r);let a=U6(i,o,n),s=a.processChildren?Da(a.segmentGroup,a.index,i.commands):qm(a.segmentGroup,a.index,i.commands);return p0(o,a.segmentGroup,s,e,r)}function Tl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function La(n){return typeof n=="object"&&n!=null&&n.outlets}function p0(n,t,e,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let a;n===t?a=e:a=Hm(n,t,e);let s=Om(Nm(a));return new hn(s,i,o)}function Hm(n,t,e){let r={};return Object.entries(n.children).forEach(([o,i])=>{i===t?r[o]=e:r[o]=Hm(i,t,e)}),new re(n.segments,r)}var Pl=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Tl(r[0]))throw new D(4003,!1);let o=r.find(La);if(o&&o!==Dm(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function z6(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Pl(!0,0,n);let t=0,e=!1,r=n.reduce((o,i,a)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let s={};return Object.entries(i.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:s}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:a===0?(i.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?e=!0:s===".."?t++:s!=""&&o.push(s))}),o):[...o,i]},[]);return new Pl(e,t,r)}var ni=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function U6(n,t,e){if(n.isAbsolute)return new ni(t,!0,0);if(!e)return new ni(t,!1,NaN);if(e.parent===null)return new ni(e,!0,0);let r=Tl(n.commands[0])?0:1,o=e.segments.length-1+r;return $6(e,o,n.numberOfDoubleDots)}function $6(n,t,e){let r=n,o=t,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new D(4005,!1);o=r.segments.length}return new ni(r,!1,o-i)}function G6(n){return La(n[0])?n[0].outlets:{[B]:n}}function qm(n,t,e){if(n??=new re([],{}),n.segments.length===0&&n.hasChildren())return Da(n,t,e);let r=W6(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let i=new re(n.segments.slice(0,r.pathIndex),{});return i.children[B]=new re(n.segments.slice(r.pathIndex),n.children),Da(i,0,o)}else return r.match&&o.length===0?new re(n.segments,{}):r.match&&!n.hasChildren()?M0(n,t,e):r.match?Da(n,0,o):M0(n,t,e)}function Da(n,t,e){if(e.length===0)return new re(n.segments,{});{let r=G6(e),o={};if(Object.keys(r).some(i=>i!==B)&&n.children[B]&&n.numberOfChildren===1&&n.children[B].segments.length===0){let i=Da(n.children[B],t,e);return new re(n.segments,i.children)}return Object.entries(r).forEach(([i,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(o[i]=qm(n.children[i],t,a))}),Object.entries(n.children).forEach(([i,a])=>{r[i]===void 0&&(o[i]=a)}),new re(n.segments,o)}}function W6(n,t,e){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return i;let a=n.segments[o],s=e[r];if(La(s))break;let c=`${s}`,l=r<e.length-1?e[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Cm(c,l,a))return i;r+=2}else{if(!Cm(c,{},a))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function M0(n,t,e){let r=n.segments.slice(0,t),o=0;for(;o<e.length;){let i=e[o];if(La(i)){let c=Z6(i.outlets);return new re(r,c)}if(o===0&&Tl(e[0])){let c=n.segments[t];r.push(new lr(c.path,wm(e[0]))),o++;continue}let a=La(i)?i.outlets[B]:`${i}`,s=o<e.length-1?e[o+1]:null;a&&s&&Tl(s)?(r.push(new lr(a,wm(s))),o+=2):(r.push(new lr(a,{})),o++)}return new re(r,{})}function Z6(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=M0(new re([],{}),0,r))}),t}function wm(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function Cm(n,t,e){return n==e.path&&dn(t,e.parameters)}var ri="imperative",Ne=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Ne||{}),St=class{id;url;constructor(t,e){this.id=t,this.url=e}},hr=class extends St{type=Ne.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",o=null){super(t,e),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Dt=class extends St{urlAfterRedirects;type=Ne.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(rt||{}),ii=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(ii||{}),un=class extends St{reason;code;type=Ne.NavigationCancel;constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pn=class extends St{reason;code;type=Ne.NavigationSkipped;constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o}},ai=class extends St{error;target;type=Ne.NavigationError;constructor(t,e,r,o){super(t,e),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Aa=class extends St{urlAfterRedirects;state;type=Ne.RoutesRecognized;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rl=class extends St{urlAfterRedirects;state;type=Ne.GuardsCheckStart;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ol=class extends St{urlAfterRedirects;state;shouldActivate;type=Ne.GuardsCheckEnd;constructor(t,e,r,o,i){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Nl=class extends St{urlAfterRedirects;state;type=Ne.ResolveStart;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fl=class extends St{urlAfterRedirects;state;type=Ne.ResolveEnd;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jl=class{route;type=Ne.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vl=class{route;type=Ne.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hl=class{snapshot;type=Ne.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ql=class{snapshot;type=Ne.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bl=class{snapshot;type=Ne.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zl=class{snapshot;type=Ne.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},si=class{routerEvent;position;anchor;type=Ne.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ta=class{},ci=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function K6(n){return!(n instanceof Ta)&&!(n instanceof ci)}function X6(n,t){return n.providers&&!n._injector&&(n._injector=Xo(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Zt(n){return n.outlet||B}function Q6(n,t){let e=n.filter(r=>Zt(r)===t);return e.push(...n.filter(r=>Zt(r)!==t)),e}function ui(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Ul=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ui(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Qr(this.rootInjector)}},Qr=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Ul(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(j(Ae))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$l=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=w0(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=w0(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=C0(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return C0(t,this._root).map(e=>e.value)}};function w0(n,t){if(n===t.value)return t;for(let e of t.children){let r=w0(n,e);if(r)return r}return null}function C0(n,t){if(n===t.value)return[t];for(let e of t.children){let r=C0(n,e);if(r.length)return r.unshift(t),r}return[]}var _t=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function ti(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Pa=class extends $l{snapshot;constructor(t,e){super(t),this.snapshot=e,L0(this,t)}toString(){return this.snapshot.toString()}};function Bm(n){let t=Y6(n),e=new Le([new lr("",{})]),r=new Le({}),o=new Le({}),i=new Le({}),a=new Le(""),s=new fn(e,r,i,a,o,B,n,t.root);return s.snapshot=t.root,new Pa(new _t(s,[]),t)}function Y6(n){let t={},e={},r={},i=new Zr([],t,r,"",e,B,n,null,{});return new Ra("",new _t(i,[]))}var fn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,o,i,a,s,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(X(l=>l[ja]))??F(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(t=>Kr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(t=>Kr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gl(n,t,e="emptyOnly"){let r,{routeConfig:o}=n;return t!==null&&(e==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:b(b({},t.params),n.params),data:b(b({},t.data),n.data),resolve:b(b(b(b({},n.data),t.data),o?.data),n._resolvedData)}:r={params:b({},n.params),data:b({},n.data),resolve:b(b({},n.data),n._resolvedData??{})},o&&Um(o)&&(r.resolve[ja]=o.title),r}var Zr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ja]}constructor(t,e,r,o,i,a,s,c,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Kr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Kr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ra=class extends $l{url;constructor(t,e){super(e),this.url=t,L0(this,e)}toString(){return zm(this._root)}};function L0(n,t){t.value._routerState=n,t.children.forEach(e=>L0(n,e))}function zm(n){let t=n.children.length>0?` { ${n.children.map(zm).join(", ")} } `:"";return`${n.value}${t}`}function f0(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,dn(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),dn(t.params,e.params)||n.paramsSubject.next(e.params),I6(t.url,e.url)||n.urlSubject.next(e.url),dn(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function b0(n,t){let e=dn(n.params,t.params)&&E6(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||b0(n.parent,t.parent))}function Um(n){return typeof n.title=="string"||n.title===null}var $m=new A(""),Va=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=B;activateEvents=new me;deactivateEvents=new me;attachEvents=new me;detachEvents=new me;routerOutletData=em();parentContexts=k(Qr);location=k(Tn);changeDetector=k($t);inputBinder=k(Ha,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:o}=e.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=e;let o=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new x0(e,s,o.injector,this.routerOutletData);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=le({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Tt]})}return n})(),x0=class{route;childContexts;parent;outletData;constructor(t,e,r,o){this.route=t,this.childContexts=e,this.parent=r,this.outletData=o}get(t,e){return t===fn?this.route:t===Qr?this.childContexts:t===$m?this.outletData:this.parent.get(t,e)}},Ha=new A(""),A0=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,o=ji([r.queryParams,r.params,r.data]).pipe(et(([i,a,s],c)=>(s=b(b(b({},i),a),s),c===0?F(s):Promise.resolve(s)))).subscribe(i=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let a=nm(r.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:s}of a.inputs)e.activatedComponentRef.setInput(s,i[s])});this.outletDataSubscriptions.set(e,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),T0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=he({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&ke(0,"router-outlet")},dependencies:[Va],encapsulation:2})}return n})();function P0(n){let t=n.children&&n.children.map(P0),e=t?$(b({},n),{children:t}):b({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==B&&(e.component=T0),e}function J6(n,t,e){let r=Oa(n,t._root,e?e._root:void 0);return new Pa(r,t)}function Oa(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let o=eC(n,t,e);return new _t(r,o)}else{if(n.shouldAttach(t.value)){let i=n.retrieve(t.value);if(i!==null){let a=i.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>Oa(n,s)),a}}let r=tC(t.value),o=t.children.map(i=>Oa(n,i));return new _t(r,o)}}function eC(n,t,e){return t.children.map(r=>{for(let o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Oa(n,r,o);return Oa(n,r)})}function tC(n){return new fn(new Le(n.url),new Le(n.params),new Le(n.queryParams),new Le(n.fragment),new Le(n.data),n.outlet,n.component,n)}var li=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Gm="ngNavigationCancelingError";function Wl(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=ur(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=Wm(!1,rt.Redirect);return o.url=e,o.navigationBehaviorOptions=r,o}function Wm(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Gm]=!0,e.cancellationCode=t,e}function nC(n){return Zm(n)&&ur(n.url)}function Zm(n){return!!n&&n[Gm]}var rC=(n,t,e,r)=>X(o=>(new I0(t,o.targetRouterState,o.currentRouterState,e,r).activate(n),o)),I0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,o,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),f0(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let o=ti(e);t.children.forEach(i=>{let a=i.value.outlet;this.deactivateRoutes(i,o[a],r),delete o[a]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,e,r){let o=t.value,i=e?e.value:null;if(o===i)if(o.component){let a=r.getContext(o.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,i=ti(t);for(let a of Object.values(i))this.deactivateRouteAndItsChildren(a,o);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,i=ti(t);for(let a of Object.values(i))this.deactivateRouteAndItsChildren(a,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let o=ti(e);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new zl(i.value.snapshot))}),t.children.length&&this.forwardEvent(new ql(t.value.snapshot))}activateRoutes(t,e,r){let o=t.value,i=e?e.value:null;if(f0(o),o===i)if(o.component){let a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,r);else if(o.component){let a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let s=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),f0(s.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=o,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,r)}},Zl=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},oi=class{component;route;constructor(t,e){this.component=t,this.route=e}};function oC(n,t,e){let r=n._root,o=t?t._root:null;return Sa(r,o,e,[r.value])}function iC(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function hi(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!Ru(n)?n:t.get(n):r}function Sa(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=ti(t);return n.children.forEach(a=>{aC(a,i[a.value.outlet],e,r.concat([a.value]),o),delete i[a.value.outlet]}),Object.entries(i).forEach(([a,s])=>Ea(s,e.getContext(a),o)),o}function aC(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=n.value,a=t?t.value:null,s=e?e.getContext(n.value.outlet):null;if(a&&i.routeConfig===a.routeConfig){let c=sC(a,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Zl(r)):(i.data=a.data,i._resolvedData=a._resolvedData),i.component?Sa(n,t,s?s.children:null,r,o):Sa(n,t,e,r,o),c&&s&&s.outlet&&s.outlet.isActivated&&o.canDeactivateChecks.push(new oi(s.outlet.component,a))}else a&&Ea(t,s,o),o.canActivateChecks.push(new Zl(r)),i.component?Sa(n,null,s?s.children:null,r,o):Sa(n,null,e,r,o);return o}function sC(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Wr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Wr(n.url,t.url)||!dn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!b0(n,t)||!dn(n.queryParams,t.queryParams);case"paramsChange":default:return!b0(n,t)}}function Ea(n,t,e){let r=ti(n),o=n.value;Object.entries(r).forEach(([i,a])=>{o.component?t?Ea(a,t.children.getContext(i),e):Ea(a,null,e):Ea(a,t,e)}),o.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new oi(t.outlet.component,o)):e.canDeactivateChecks.push(new oi(null,o)):e.canDeactivateChecks.push(new oi(null,o))}function qa(n){return typeof n=="function"}function cC(n){return typeof n=="boolean"}function lC(n){return n&&qa(n.canLoad)}function dC(n){return n&&qa(n.canActivate)}function uC(n){return n&&qa(n.canActivateChild)}function hC(n){return n&&qa(n.canDeactivate)}function pC(n){return n&&qa(n.canMatch)}function Km(n){return n instanceof Mn||n?.name==="EmptyError"}var Dl=Symbol("INITIAL_VALUE");function di(){return et(n=>ji(n.map(t=>t.pipe(Cn(1),vu(Dl)))).pipe(X(t=>{for(let e of t)if(e!==!0){if(e===Dl)return Dl;if(e===!1||fC(e))return e}return!0}),lt(t=>t!==Dl),Cn(1)))}function fC(n){return ur(n)||n instanceof li}function yC(n,t){return Ce(e=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:a}}=e;return a.length===0&&i.length===0?F($(b({},e),{guardsResult:!0})):gC(a,r,o,n).pipe(Ce(s=>s&&cC(s)?mC(r,i,n,t):F(s)),X(s=>$(b({},e),{guardsResult:s})))})}function gC(n,t,e,r){return ue(n).pipe(Ce(o=>CC(o.component,o.route,e,t,r)),bn(o=>o!==!0,!0))}function mC(n,t,e,r){return ue(t).pipe(Un(o=>Do(vC(o.route.parent,r),kC(o.route,r),wC(n,o.path,e),MC(n,o.route,e))),bn(o=>o!==!0,!0))}function kC(n,t){return n!==null&&t&&t(new Bl(n)),F(!0)}function vC(n,t){return n!==null&&t&&t(new Hl(n)),F(!0)}function MC(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return F(!0);let o=r.map(i=>Vi(()=>{let a=ui(t)??e,s=hi(i,a),c=dC(s)?s.canActivate(t,n):Ze(a,()=>s(t,n));return Rn(c).pipe(bn())}));return F(o).pipe(di())}function wC(n,t,e){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(a=>iC(a)).filter(a=>a!==null).map(a=>Vi(()=>{let s=a.guards.map(c=>{let l=ui(a.node)??e,d=hi(c,l),u=uC(d)?d.canActivateChild(r,n):Ze(l,()=>d(r,n));return Rn(u).pipe(bn())});return F(s).pipe(di())}));return F(i).pipe(di())}function CC(n,t,e,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return F(!0);let a=i.map(s=>{let c=ui(t)??o,l=hi(s,c),d=hC(l)?l.canDeactivate(n,t,e,r):Ze(c,()=>l(n,t,e,r));return Rn(d).pipe(bn())});return F(a).pipe(di())}function bC(n,t,e,r){let o=t.canLoad;if(o===void 0||o.length===0)return F(!0);let i=o.map(a=>{let s=hi(a,n),c=lC(s)?s.canLoad(t,e):Ze(n,()=>s(t,e));return Rn(c)});return F(i).pipe(di(),Xm(r))}function Xm(n){return cu(je(t=>{if(typeof t!="boolean")throw Wl(n,t)}),X(t=>t===!0))}function xC(n,t,e,r){let o=t.canMatch;if(!o||o.length===0)return F(!0);let i=o.map(a=>{let s=hi(a,n),c=pC(s)?s.canMatch(t,e):Ze(n,()=>s(t,e));return Rn(c)});return F(i).pipe(di(),Xm(r))}var Na=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Fa=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function ei(n){return So(new Na(n))}function IC(n){return So(new D(4e3,!1))}function _C(n){return So(Wm(!1,rt.GuardRejected))}var _0=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return F(r);if(o.numberOfChildren>1||!o.children[B])return IC(`${t.redirectTo}`);o=o.children[B]}}applyRedirectCommands(t,e,r,o,i){return SC(e,o,i).pipe(X(a=>{if(a instanceof hn)throw new Fa(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),t,r);if(a[0]==="/")throw new Fa(s);return s}))}applyRedirectCreateUrlTree(t,e,r,o){let i=this.createSegmentGroup(t,e.root,r,o);return new hn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let s=i.substring(1);r[o]=e[s]}else r[o]=i}),r}createSegmentGroup(t,e,r,o){let i=this.createSegments(t,e.segments,r,o),a={};return Object.entries(e.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(t,c,r,o)}),new re(i,a)}createSegments(t,e,r,o){return e.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,e,r){let o=r[e.path.substring(1)];if(!o)throw new D(4001,!1);return o}findOrReturn(t,e){let r=0;for(let o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}};function SC(n,t,e){if(typeof n=="string")return F(n);let r=n,{queryParams:o,fragment:i,routeConfig:a,url:s,outlet:c,params:l,data:d,title:u}=t;return Rn(Ze(e,()=>r({params:l,data:d,queryParams:o,fragment:i,routeConfig:a,url:s,outlet:c,title:u})))}var S0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function DC(n,t,e,r,o){let i=Qm(n,t,e);return i.matched?(r=X6(t,r),xC(r,t,e,o).pipe(X(a=>a===!0?i:b({},S0)))):F(i)}function Qm(n,t,e){if(t.path==="**")return EC(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?b({},S0):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(t.matcher||_m)(e,n,t);if(!o)return b({},S0);let i={};Object.entries(o.posParams??{}).forEach(([s,c])=>{i[s]=c.path});let a=o.consumed.length>0?b(b({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:o.posParams??{}}}function EC(n){return{matched:!0,parameters:n.length>0?Dm(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function bm(n,t,e,r){return e.length>0&&TC(n,e,r)?{segmentGroup:new re(t,AC(r,new re(e,n.children))),slicedSegments:[]}:e.length===0&&PC(n,e,r)?{segmentGroup:new re(n.segments,LC(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new re(n.segments,n.children),slicedSegments:e}}function LC(n,t,e,r){let o={};for(let i of e)if(Xl(n,t,i)&&!r[Zt(i)]){let a=new re([],{});o[Zt(i)]=a}return b(b({},r),o)}function AC(n,t){let e={};e[B]=t;for(let r of n)if(r.path===""&&Zt(r)!==B){let o=new re([],{});e[Zt(r)]=o}return e}function TC(n,t,e){return e.some(r=>Xl(n,t,r)&&Zt(r)!==B)}function PC(n,t,e){return e.some(r=>Xl(n,t,r))}function Xl(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function RC(n,t,e){return t.length===0&&!n.children[e]}var D0=class{};function OC(n,t,e,r,o,i,a="emptyOnly"){return new E0(n,t,e,r,o,a,i).recognize()}var NC=31,E0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,o,i,a,s){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new _0(this.urlSerializer,this.urlTree)}noMatchError(t){return new D(4002,`'${t.segmentGroup}'`)}recognize(){let t=bm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(X(({children:e,rootSnapshot:r})=>{let o=new _t(r,e),i=new Ra("",o),a=Fm(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(a),{state:i,tree:a}}))}match(t){let e=new Zr([],Object.freeze({}),Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),B,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,B,e).pipe(X(r=>({children:r,rootSnapshot:e})),wn(r=>{if(r instanceof Fa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Na?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,i):this.processSegment(t,e,r,r.segments,o,!0,i).pipe(X(a=>a instanceof _t?[a]:[]))}processChildren(t,e,r,o){let i=[];for(let a of Object.keys(r.children))a==="primary"?i.unshift(a):i.push(a);return ue(i).pipe(Un(a=>{let s=r.children[a],c=Q6(e,a);return this.processSegmentGroup(t,c,s,a,o)}),ku((a,s)=>(a.push(...s),a)),$n(null),mu(),Ce(a=>{if(a===null)return ei(r);let s=Ym(a);return FC(s),F(s)}))}processSegment(t,e,r,o,i,a,s){return ue(e).pipe(Un(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,r,o,i,a,s).pipe(wn(l=>{if(l instanceof Na)return F(null);throw l}))),bn(c=>!!c),wn(c=>{if(Km(c))return RC(r,o,i)?F(new D0):ei(r);throw c}))}processSegmentAgainstRoute(t,e,r,o,i,a,s,c){return Zt(r)!==a&&(a===B||!Xl(o,i,r))?ei(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,a,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,o,e,r,i,a,c):ei(o)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,i,a,s){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:u,remainingSegments:p}=Qm(e,o,i);if(!c)return ei(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>NC&&(this.allowRedirects=!1));let h=new Zr(i,l,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,xm(o),Zt(o),o.component??o._loadedComponent??null,o,Im(o)),m=Gl(h,s,this.paramsInheritanceStrategy);return h.params=Object.freeze(m.params),h.data=Object.freeze(m.data),this.applyRedirects.applyRedirectCommands(d,o.redirectTo,u,h,t).pipe(et(M=>this.applyRedirects.lineralizeSegments(o,M)),Ce(M=>this.processSegment(t,r,e,M.concat(p),a,!1,s)))}matchSegmentAgainstRoute(t,e,r,o,i,a){let s=DC(e,r,o,t,this.urlSerializer);return r.path==="**"&&(e.children={}),s.pipe(et(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(et(({routes:l})=>{let d=r._loadedInjector??t,{parameters:u,consumedSegments:p,remainingSegments:h}=c,m=new Zr(p,u,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,xm(r),Zt(r),r.component??r._loadedComponent??null,r,Im(r)),w=Gl(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(w.params),m.data=Object.freeze(w.data);let{segmentGroup:M,slicedSegments:x}=bm(e,p,h,l);if(x.length===0&&M.hasChildren())return this.processChildren(d,l,M,m).pipe(X(R=>new _t(m,R)));if(l.length===0&&x.length===0)return F(new _t(m,[]));let te=Zt(r)===i;return this.processSegment(d,l,M,x,te?B:i,!0,m).pipe(X(R=>new _t(m,R instanceof _t?[R]:[])))}))):ei(e)))}getChildConfig(t,e,r){return e.children?F({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?F({routes:e._loadedRoutes,injector:e._loadedInjector}):bC(t,e,r,this.urlSerializer).pipe(Ce(o=>o?this.configLoader.loadChildren(t,e).pipe(je(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):_C(e))):F({routes:[],injector:t})}};function FC(n){n.sort((t,e)=>t.value.outlet===B?-1:e.value.outlet===B?1:t.value.outlet.localeCompare(e.value.outlet))}function jC(n){let t=n.value.routeConfig;return t&&t.path===""}function Ym(n){let t=[],e=new Set;for(let r of n){if(!jC(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),e.add(o)):t.push(r)}for(let r of e){let o=Ym(r.children);t.push(new _t(r.value,o))}return t.filter(r=>!e.has(r))}function xm(n){return n.data||{}}function Im(n){return n.resolve||{}}function VC(n,t,e,r,o,i){return Ce(a=>OC(n,t,e,r,a.extractedUrl,o,i).pipe(X(({state:s,tree:c})=>$(b({},a),{targetSnapshot:s,urlAfterRedirects:c}))))}function HC(n,t){return Ce(e=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return F(e);let i=new Set(o.map(c=>c.route)),a=new Set;for(let c of i)if(!a.has(c))for(let l of Jm(c))a.add(l);let s=0;return ue(a).pipe(Un(c=>i.has(c)?qC(c,r,n,t):(c.data=Gl(c,c.parent,n).resolve,F(void 0))),je(()=>s++),Eo(1),Ce(c=>s===a.size?F(e):st))})}function Jm(n){let t=n.children.map(e=>Jm(e)).flat();return[n,...t]}function qC(n,t,e,r){let o=n.routeConfig,i=n._resolve;return o?.title!==void 0&&!Um(o)&&(i[ja]=o.title),Vi(()=>(n.data=Gl(n,n.parent,e).resolve,BC(i,n,t,r).pipe(X(a=>(n._resolvedData=a,n.data=b(b({},n.data),a),null)))))}function BC(n,t,e,r){let o=m0(n);if(o.length===0)return F({});let i={};return ue(o).pipe(Ce(a=>zC(n[a],t,e,r).pipe(bn(),je(s=>{if(s instanceof li)throw Wl(new dr,s);i[a]=s}))),Eo(1),X(()=>i),wn(a=>Km(a)?st:So(a)))}function zC(n,t,e,r){let o=ui(t)??r,i=hi(n,o),a=i.resolve?i.resolve(t,e):Ze(o,()=>i(t,e));return Rn(a)}function y0(n){return et(t=>{let e=n(t);return e?ue(e).pipe(X(()=>t)):F(t)})}var R0=(()=>{class n{buildTitle(e){let r,o=e.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===B);return r}getResolvedTitleForRoute(e){return e.data[ja]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>k(ek),providedIn:"root"})}return n})(),ek=(()=>{class n extends R0{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(j(km))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pr=new A("",{providedIn:"root",factory:()=>({})}),Yr=new A(""),Ql=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=k($h);loadComponent(e,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return F(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=Rn(Ze(e,()=>r.loadComponent())).pipe(X(nk),et(rk),je(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),Hi(()=>{this.componentLoaders.delete(r)})),i=new _o(o,()=>new we).pipe(Io());return this.componentLoaders.set(r,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return F({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=tk(r,this.compiler,e,this.onLoadEndListener).pipe(Hi(()=>{this.childrenLoaders.delete(r)})),a=new _o(i,()=>new we).pipe(Io());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tk(n,t,e,r){return Rn(Ze(e,()=>n.loadChildren())).pipe(X(nk),et(rk),Ce(o=>o instanceof hl||Array.isArray(o)?F(o):ue(t.compileModuleAsync(o))),X(o=>{r&&r(n);let i,a,s=!1;return Array.isArray(o)?(a=o,s=!0):(i=o.create(e).injector,a=i.get(Yr,[],{optional:!0,self:!0}).flat()),{routes:a.map(P0),injector:i}}))}function UC(n){return n&&typeof n=="object"&&"default"in n}function nk(n){return UC(n)?n.default:n}function rk(n){return F(n)}var Yl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>k($C),providedIn:"root"})}return n})(),$C=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),O0=new A(""),N0=new A("");function ok(n,t,e){let r=n.get(N0),o=n.get(_e);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let i,a=new Promise(l=>{i=l}),s=o.startViewTransition(()=>(i(),GC(n)));s.ready.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&Ze(n,()=>c({transition:s,from:t,to:e})),a}function GC(n){return new Promise(t=>{pa({read:()=>setTimeout(t)},{injector:n})})}var F0=new A(""),Jl=(()=>{class n{currentNavigation=ht(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new we;transitionAbortWithErrorSubject=new we;configLoader=k(Ql);environmentInjector=k(Ae);destroyRef=k(Sn);urlSerializer=k(Xr);rootContexts=k(Qr);location=k(ar);inputBindingEnabled=k(Ha,{optional:!0})!==null;titleStrategy=k(R0);options=k(pr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=k(Yl);createViewTransition=k(O0,{optional:!0});navigationErrorHandler=k(F0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>F(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new jl(o)),r=o=>this.events.next(new Vl(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;He(()=>{this.transitions?.next($(b({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(e){return this.transitions=new Le(null),this.transitions.pipe(lt(r=>r!==null),et(r=>{let o=!1;return F(r).pipe(et(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",rt.SupersededByNewNavigation),st;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?$(b({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=i.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&s!=="reload")return this.events.next(new pn(i.id,this.urlSerializer.serialize(i.rawUrl),"",ii.IgnoredSameUrlNavigation)),i.resolve(!1),st;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return F(i).pipe(et(c=>(this.events.next(new hr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?st:Promise.resolve(c))),VC(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),je(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=c.urlAfterRedirects,d));let l=new Aa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:l,source:d,restoredState:u,extras:p}=i,h=new hr(c,this.urlSerializer.serialize(l),d,u);this.events.next(h);let m=Bm(this.rootComponentType).snapshot;return this.currentTransition=r=$(b({},i),{targetSnapshot:m,urlAfterRedirects:l,extras:$(b({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(w=>(w.finalUrl=l,w)),F(r)}else return this.events.next(new pn(i.id,this.urlSerializer.serialize(i.extractedUrl),"",ii.IgnoredByUrlHandlingStrategy)),i.resolve(!1),st}),je(i=>{let a=new Rl(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(a)}),X(i=>(this.currentTransition=r=$(b({},i),{guards:oC(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),yC(this.environmentInjector,i=>this.events.next(i)),je(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw Wl(this.urlSerializer,i.guardsResult);let a=new Ol(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(a)}),lt(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",rt.GuardRejected),!1)),y0(i=>{if(i.guards.canActivateChecks.length!==0)return F(i).pipe(je(a=>{let s=new Nl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),et(a=>{let s=!1;return F(a).pipe(HC(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(a,"",rt.NoDataFromResolver)}}))}),je(a=>{let s=new Fl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}))}),y0(i=>{let a=s=>{let c=[];if(s.routeConfig?.loadComponent){let l=ui(s)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,s.routeConfig).pipe(je(d=>{s.component=d}),X(()=>{})))}for(let l of s.children)c.push(...a(l));return c};return ji(a(i.targetSnapshot.root)).pipe($n(null),Cn(1))}),y0(()=>this.afterPreactivation()),et(()=>{let{currentSnapshot:i,targetSnapshot:a}=r,s=this.createViewTransition?.(this.environmentInjector,i.root,a.root);return s?ue(s).pipe(X(()=>r)):F(r)}),X(i=>{let a=J6(e.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=$(b({},i),{targetRouterState:a}),this.currentNavigation.update(s=>(s.targetRouterState=a,s)),r}),je(()=>{this.events.next(new Ta)}),rC(this.rootContexts,e.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Cn(1),sc(new Q(i=>{let a=r.abortController.signal,s=()=>i.next();return a.addEventListener("abort",s),()=>a.removeEventListener("abort",s)}).pipe(lt(()=>!o&&!r.targetRouterState),je(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",rt.Aborted)}))),je({next:i=>{o=!0,this.lastSuccessfulNavigation=He(this.currentNavigation),this.events.next(new Dt(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),sc(this.transitionAbortWithErrorSubject.pipe(je(i=>{throw i}))),Hi(()=>{o||this.cancelNavigationTransition(r,"",rt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),wn(i=>{if(this.destroyed)return r.resolve(!1),st;if(o=!0,Zm(i))this.events.next(new un(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),nC(i)?this.events.next(new ci(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ai(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let s=Ze(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(s instanceof li){let{message:c,cancellationCode:l}=Wl(this.urlSerializer,s);this.events.next(new un(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new ci(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(a),i}catch(s){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(s)}}return st}))}))}cancelNavigationTransition(e,r,o){let i=new un(e.id,this.urlSerializer.serialize(e.extractedUrl),r,o);this.events.next(i),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=He(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return e.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WC(n){return n!==ri}var ik=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>k(ZC),providedIn:"root"})}return n})(),Kl=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},ZC=(()=>{class n extends Kl{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ut(n)))(o||n)}})();static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ak=(()=>{class n{urlSerializer=k(Xr);options=k(pr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=k(ar);urlHandlingStrategy=k(Yl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new hn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:o}){let i=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,a=o??i;return a instanceof hn?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:o}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=e):this.rawUrlTree=o}routerState=Bm(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:()=>k(KC),providedIn:"root"})}return n})(),KC=(()=>{class n extends ak{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof hr?this.updateStateMemento():e instanceof pn?this.commitTransition(r):e instanceof Aa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Ta?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof un&&e.code!==rt.SupersededByNewNavigation&&e.code!==rt.Redirect?this.restoreHistory(r):e instanceof ai?this.restoreHistory(r,!0):e instanceof Dt&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:o}){let{replaceUrl:i,state:a}=r;if(this.location.isCurrentPathEqualTo(e)||i){let s=this.browserPageId,c=b(b({},a),this.generateNgRouterState(o,s));this.location.replaceState(e,"",c)}else{let s=b(b({},a),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===e.finalUrl&&i===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ut(n)))(o||n)}})();static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ed(n,t){n.events.pipe(lt(e=>e instanceof Dt||e instanceof un||e instanceof ai||e instanceof pn),X(e=>e instanceof Dt||e instanceof pn?0:(e instanceof un?e.code===rt.Redirect||e.code===rt.SupersededByNewNavigation:!1)?2:1),lt(e=>e!==2),Cn(1)).subscribe(()=>{t()})}var XC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ve=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=k(Rh);stateManager=k(ak);options=k(pr,{optional:!0})||{};pendingTasks=k(Dn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=k(Jl);urlSerializer=k(Xr);location=k(ar);urlHandlingStrategy=k(Yl);injector=k(Ae);_events=new we;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=k(ik);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=k(Yr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!k(Ha,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new xe;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=He(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof un&&r.code!==rt.Redirect&&r.code!==rt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Dt)this.navigated=!0;else if(r instanceof ci){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=b({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||WC(o.source)},a);this.scheduleNavigation(s,ri,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}K6(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ri,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,o)=>{this.navigateToSyncWithBrowser(e,o,r)})}navigateToSyncWithBrowser(e,r,o){let i={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=b({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let s=this.parseUrl(e);this.scheduleNavigation(s,r,a,i).catch(c=>{this.disposed||this.injector.get(xt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return He(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(P0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:o,queryParams:i,fragment:a,queryParamsHandling:s,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:a,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=b(b({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let p=o?o.snapshot:this.routerState.snapshot.root;u=jm(p)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),u=this.currentUrlTree.root}return Vm(u,e,d,l??null)}navigateByUrl(e,r={skipLocationChange:!1}){let o=ur(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,ri,null,r)}navigate(e,r={skipLocationChange:!1}){return YC(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Zn(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,r){let o;if(r===!0?o=b({},XC):r===!1?o=b({},QC):o=r,ur(e))return vm(this.currentUrlTree,e,o);let i=this.parseUrl(e);return vm(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.entries(e).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(e,r,o,i,a){if(this.disposed)return Promise.resolve(!1);let s,c,l;a?(s=a.resolve,c=a.reject,l=a.promise):l=new Promise((u,p)=>{s=u,c=p});let d=this.pendingTasks.add();return ed(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:i,resolve:s,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function YC(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new D(4008,!1)}var pi=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ht(null);get href(){return He(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new we;applicationErrorHandler=k(xt);options=k(pr,{optional:!0});constructor(e,r,o,i,a,s){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=a,this.locationStrategy=s,this.reactiveHref.set(k(new gl("href"),{optional:!0}));let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,r=o=>o==="merge"||o==="preserve";e||=r(this.queryParamsHandling),e||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(o=>{o instanceof Dt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ur(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,o,i,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||r||o||i||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,e,r):o.removeAttribute(i,e)}get urlTree(){return this.routerLinkInput===null?null:ur(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(L(ve),L(fn),ua("tabindex"),L(It),L(Ue),L(Wt))};static \u0275dir=le({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,o){r&1&&_("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Gr("href",o.reactiveHref(),dh)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ir],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ir],replaceUrl:[2,"replaceUrl","replaceUrl",ir],routerLink:"routerLink"},features:[Tt]})}return n})(),V0=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new me;constructor(e,r,o,i,a){this.router=e,this.element=r,this.renderer=o,this.cdr=i,this.link=a,this.routerEventsSubscription=e.events.subscribe(s=>{s instanceof Dt&&this.update()})}ngAfterContentInit(){F(this.links.changes,F(null)).pipe(zn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ue(e).pipe(zn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=JC(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let i=o.urlTree;return i?e.isActive(i,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||n)(L(ve),L(Ue),L(It),L($t),L(pi,8))};static \u0275dir=le({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,i){if(r&1&&Bh(i,pi,5),r&2){let a;zh(a=Uh())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Tt]})}return n})();function JC(n){return!!n.paths}var Ba=class{};var sk=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,o,i){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(lt(e=>e instanceof Dt),Un(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=Xo(i.providers,e,`Route: ${i.path}`));let a=i._injector??e,s=i._loadedInjector??a;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(a,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(s,i.children??i._loadedRoutes))}return ue(o).pipe(zn())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(e,r):o=F(null);let i=o.pipe(Ce(a=>a===null?F(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(e,r);return ue([i,a]).pipe(zn())}else return i})}static \u0275fac=function(r){return new(r||n)(j(ve),j(Ae),j(Ba),j(Ql))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ck=new A(""),eb=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ri;restoredId=0;store={};constructor(e,r,o,i,a={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof hr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Dt?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof pn&&e.code===ii.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof si))return;let r={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,r):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>f(this,null,function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new si(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Lh()};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})();function H0(n,...t){return Zi([{provide:Yr,multi:!0,useValue:n},[],{provide:fn,useFactory:lk,deps:[ve]},{provide:ya,multi:!0,useFactory:dk},t.map(e=>e.\u0275providers)])}function lk(n){return n.routerState.root}function za(n,t){return{\u0275kind:n,\u0275providers:t}}function dk(){let n=k(dt);return t=>{let e=n.get(Pn);if(t!==e.components[0])return;let r=n.get(ve),o=n.get(uk);n.get(q0)===1&&r.initialNavigation(),n.get(fk,null,{optional:!0})?.setUpPreloading(),n.get(ck,null,{optional:!0})?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var uk=new A("",{factory:()=>new we}),q0=new A("",{providedIn:"root",factory:()=>1});function hk(){let n=[{provide:ch,useValue:!0},{provide:q0,useValue:0},pl(()=>{let t=k(dt);return t.get(Jh,Promise.resolve()).then(()=>new Promise(r=>{let o=t.get(ve),i=t.get(uk);ed(o,()=>{r(!0)}),t.get(Jl).afterPreactivation=()=>(r(!0),i.closed?F(void 0):i),o.initialNavigation()}))})];return za(2,n)}function pk(){let n=[pl(()=>{k(ve).setUpLocationChangeListener()}),{provide:q0,useValue:2}];return za(3,n)}var fk=new A("");function yk(n){return za(0,[{provide:fk,useExisting:sk},{provide:Ba,useExisting:n}])}function gk(){return za(8,[A0,{provide:Ha,useExisting:A0}])}function mk(n){An("NgRouterViewTransitions");let t=[{provide:O0,useValue:ok},{provide:N0,useValue:b({skipNextTransition:!!n?.skipInitialTransition},n)}];return za(9,t)}var kk=[ar,{provide:Xr,useClass:dr},ve,Qr,{provide:fn,useFactory:lk,deps:[ve]},Ql,[]],B0=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[kk,[],{provide:Yr,multi:!0,useValue:e},[],r?.errorHandler?{provide:F0,useValue:r.errorHandler}:[],{provide:pr,useValue:r||{}},r?.useHash?nb():rb(),tb(),r?.preloadingStrategy?yk(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?ob(r):[],r?.bindToComponentInputs?gk().\u0275providers:[],r?.enableViewTransitions?mk().\u0275providers:[],ib()]}}static forChild(e){return{ngModule:n,providers:[{provide:Yr,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Ct({})}return n})();function tb(){return{provide:ck,useFactory:()=>{let n=k(dm),t=k(Se),e=k(pr),r=k(Jl),o=k(Xr);return e.scrollOffset&&n.setOffset(e.scrollOffset),new eb(o,r,n,t,e)}}}function nb(){return{provide:Wt,useClass:e0}}function rb(){return{provide:Wt,useClass:Ml}}function ob(n){return[n.initialNavigation==="disabled"?pk().\u0275providers:[],n.initialNavigation==="enabledBlocking"?hk().\u0275providers:[]]}var j0=new A("");function ib(){return[{provide:j0,useFactory:dk},{provide:ya,multi:!0,useExisting:j0}]}var Ek=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(L(It),L(Ue))};static \u0275dir=le({type:n})}return n})(),ld=(()=>{class n extends Ek{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ut(n)))(o||n)}})();static \u0275dir=le({type:n,features:[pt]})}return n})(),Xa=new A(""),ab={provide:Xa,useExisting:wt(()=>$0),multi:!0},$0=(()=>{class n extends ld{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ut(n)))(o||n)}})();static \u0275dir=le({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){r&1&&_("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[ln([ab]),pt]})}return n})(),sb={provide:Xa,useExisting:wt(()=>Qe),multi:!0};function cb(){let n=Rt()?Rt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var lb=new A(""),Qe=(()=>{class n extends Ek{_compositionMode;_composing=!1;constructor(e,r,o){super(e,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!cb())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(L(It),L(Ue),L(lb,8))};static \u0275dir=le({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&_("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},standalone:!1,features:[ln([sb]),pt]})}return n})();function db(n){return n==null||Lk(n)===0}function Lk(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var dd=new A(""),Ak=new A("");function ub(n){return db(n.value)?{required:!0}:null}function hb(n){return t=>{let e=t.value?.length??Lk(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function Mk(n){return null}function Tk(n){return n!=null}function Pk(n){return or(n)?ue(n):n}function Rk(n){let t={};return n.forEach(e=>{t=e!=null?b(b({},t),e):t}),Object.keys(t).length===0?null:t}function Ok(n,t){return t.map(e=>e(n))}function pb(n){return!n.validate}function Nk(n){return n.map(t=>pb(t)?t:e=>t.validate(e))}function fb(n){if(!n)return null;let t=n.filter(Tk);return t.length==0?null:function(e){return Rk(Ok(e,t))}}function G0(n){return n!=null?fb(Nk(n)):null}function yb(n){if(!n)return null;let t=n.filter(Tk);return t.length==0?null:function(e){let r=Ok(e,t).map(Pk);return gu(r).pipe(X(Rk))}}function W0(n){return n!=null?yb(Nk(n)):null}function wk(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function gb(n){return n._rawValidators}function mb(n){return n._rawAsyncValidators}function z0(n){return n?Array.isArray(n)?n:[n]:[]}function nd(n,t){return Array.isArray(n)?n.includes(t):n===t}function Ck(n,t){let e=z0(t);return z0(n).forEach(o=>{nd(e,o)||e.push(o)}),e}function bk(n,t){return z0(t).filter(e=>!nd(n,e))}var rd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=G0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=W0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},gi=class extends rd{name;get formDirective(){return null}get path(){return null}},Ka=class extends rd{_parent=null;name=null;valueAccessor=null},od=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},kb={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},RH=$(b({},kb),{"[class.ng-submitted]":"isSubmitted"}),ft=(()=>{class n extends od{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(L(Ka,2))};static \u0275dir=le({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Xe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[pt]})}return n})(),yr=(()=>{class n extends od{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(L(gi,10))};static \u0275dir=le({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Xe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[pt]})}return n})();var Ua="VALID",td="INVALID",fi="PENDING",$a="DISABLED",fr=class{},id=class extends fr{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Wa=class extends fr{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Za=class extends fr{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},yi=class extends fr{status;source;constructor(t,e){super(),this.status=t,this.source=e}},U0=class extends fr{source;constructor(t){super(),this.source=t}},ad=class extends fr{source;constructor(t){super(),this.source=t}};function Fk(n){return(ud(n)?n.validators:n)||null}function vb(n){return Array.isArray(n)?G0(n):n||null}function jk(n,t){return(ud(t)?t.asyncValidators:n)||null}function Mb(n){return Array.isArray(n)?W0(n):n||null}function ud(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function wb(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new D(1e3,"");if(!r[e])throw new D(1001,"")}function Cb(n,t,e){n._forEachChild((r,o)=>{if(e[o]===void 0)throw new D(1002,"")})}var sd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return He(this.statusReactive)}set status(t){He(()=>this.statusReactive.set(t))}_status=Jo(()=>this.statusReactive());statusReactive=ht(void 0);get valid(){return this.status===Ua}get invalid(){return this.status===td}get pending(){return this.status==fi}get disabled(){return this.status===$a}get enabled(){return this.status!==$a}errors;get pristine(){return He(this.pristineReactive)}set pristine(t){He(()=>this.pristineReactive.set(t))}_pristine=Jo(()=>this.pristineReactive());pristineReactive=ht(!0);get dirty(){return!this.pristine}get touched(){return He(this.touchedReactive)}set touched(t){He(()=>this.touchedReactive.set(t))}_touched=Jo(()=>this.touchedReactive());touchedReactive=ht(!1);get untouched(){return!this.touched}_events=new we;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ck(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ck(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(bk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(bk(t,this._rawAsyncValidators))}hasValidator(t){return nd(this._rawValidators,t)}hasAsyncValidator(t){return nd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched($(b({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new Za(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new Za(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty($(b({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new Wa(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new Wa(!0,r))}markAsPending(t={}){this.status=fi;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new yi(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending($(b({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=$a,this.errors=null,this._forEachChild(o=>{o.disable($(b({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new id(this.value,r)),this._events.next(new yi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(b({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ua,this._forEachChild(r=>{r.enable($(b({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors($(b({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ua||this.status===fi)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new id(this.value,e)),this._events.next(new yi(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity($(b({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$a:Ua}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=fi,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let r=Pk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new yi(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new me,this.statusChanges=new me}_calculateStatus(){return this._allControlsDisabled()?$a:this.errors?td:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fi)?fi:this._anyControlsHaveStatus(td)?td:Ua}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),o&&this._events.next(new Wa(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Za(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ud(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=vb(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Mb(this._rawAsyncValidators)}},cd=class extends sd{constructor(t,e,r){super(Fk(e),jk(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Cb(this,!0,t),Object.keys(t).forEach(r=>{wb(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new ad(this))}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Z0=new A("",{providedIn:"root",factory:()=>K0}),K0="always";function bb(n,t){return[...t.path,n]}function Vk(n,t,e=K0){Hk(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),Ib(n,t),Sb(n,t),_b(n,t),xb(n,t)}function xk(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function xb(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Hk(n,t){let e=gb(n);t.validator!==null?n.setValidators(wk(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=mb(n);t.asyncValidator!==null?n.setAsyncValidators(wk(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let o=()=>n.updateValueAndValidity();xk(t._rawValidators,o),xk(t._rawAsyncValidators,o)}function Ib(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&qk(n,t)})}function _b(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&qk(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function qk(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Sb(n,t){let e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function Db(n,t){n==null,Hk(n,t)}function Eb(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Lb(n){return Object.getPrototypeOf(n.constructor)===ld}function Ab(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Tb(n,t){if(!t)return null;Array.isArray(t);let e,r,o;return t.forEach(i=>{i.constructor===Qe?e=i:Lb(i)?r=i:o=i}),o||r||e||null}var Pb={provide:gi,useExisting:wt(()=>On)},Ga=Promise.resolve(),On=(()=>{class n extends gi{callSetDisabledState;get submitted(){return He(this.submittedReactive)}_submitted=Jo(()=>this.submittedReactive());submittedReactive=ht(!1);_directives=new Set;form;ngSubmit=new me;options;constructor(e,r,o){super(),this.callSetDisabledState=o,this.form=new cd({},G0(e),W0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ga.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Vk(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ga.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Ga.then(()=>{let r=this._findContainer(e.path),o=new cd({});Db(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ga.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Ga.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Ab(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new U0(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||n)(L(dd,10),L(Ak,10),L(Z0,8))};static \u0275dir=le({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&_("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ln([Pb]),pt]})}return n})();function Ik(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function _k(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Rb=class extends sd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(Fk(e),jk(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ud(e)&&(e.nonNullable||e.initialValueIsDefault)&&(_k(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new ad(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ik(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ik(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){_k(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Ob={provide:Ka,useExisting:wt(()=>ot)},Sk=Promise.resolve(),ot=(()=>{class n extends Ka{_changeDetectorRef;callSetDisabledState;control=new Rb;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new me;constructor(e,r,o,i,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Tb(this,i)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Eb(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Vk(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Sk.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,o=r!==0&&ir(r);Sk.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?bb(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(L(gi,9),L(dd,10),L(Ak,10),L(Xa,10),L($t,8),L(Z0,8))};static \u0275dir=le({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ln([Ob]),pt,Tt]})}return n})();var gr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=le({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var Nb={provide:Xa,useExisting:wt(()=>mr),multi:!0};function Bk(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Fb(n){return n.split(":")[0]}var mr=(()=>{class n extends ld{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=k(Pn).injector;destroyRef=k(Sn);cdr=k($t);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,pa({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let r=this._getOptionId(e),o=Bk(r,e);this.setProperty("value",o)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=Fb(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ut(n)))(o||n)}})();static \u0275dir=le({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&_("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ln([Nb]),pt]})}return n})(),mi=(()=>{class n{_element;_renderer;_select;id;constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Bk(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(L(Ue),L(It),L(mr,9))};static \u0275dir=le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),jb={provide:Xa,useExisting:wt(()=>zk),multi:!0};function Dk(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Vb(n){return n.split(":")[0]}var zk=(()=>{class n extends ld{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let o=e.map(i=>this._getOptionId(i));r=(i,a)=>{i._setSelected(o.indexOf(a.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let a=i;for(let s=0;s<a.length;s++){let c=a[s],l=this._getOptionValue(c.value);o.push(l)}}else{let a=r.options;for(let s=0;s<a.length;s++){let c=a[s];if(c.selected){let l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,e(o)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=Vb(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ut(n)))(o||n)}})();static \u0275dir=le({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&_("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ln([jb]),pt]})}return n})(),ki=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Dk(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Dk(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(L(Ue),L(It),L(zk,9))};static \u0275dir=le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function Hb(n){return typeof n=="number"?n:parseInt(n,10)}var Uk=(()=>{class n{_validator=Mk;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Mk,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=le({type:n,features:[Tt]})}return n})();var qb={provide:dd,useExisting:wt(()=>Nn),multi:!0};var Nn=(()=>{class n extends Uk{required;inputName="required";normalizeInput=ir;createValidator=e=>ub;enabled(e){return e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ut(n)))(o||n)}})();static \u0275dir=le({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Gr("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ln([qb]),pt]})}return n})();var Bb={provide:dd,useExisting:wt(()=>Qa),multi:!0},Qa=(()=>{class n extends Uk{minlength;inputName="minlength";normalizeInput=e=>Hb(e);createValidator=e=>hb(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ut(n)))(o||n)}})();static \u0275dir=le({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Gr("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[ln([Bb]),pt]})}return n})();var zb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Ct({})}return n})();var yt=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Z0,useValue:e.callSetDisabledState??K0}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Ct({imports:[zb]})}return n})();var Ub=["*"];var $k=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]];var Gk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]];var Wk=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]];var Zk=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]];var Kk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]];var Xk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]];var Qk=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]];var Yk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]];var Jk=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]];var ev=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]];var tv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]];var nv=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]];var rv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]];var Ya={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},X0=new A("LucideIcons",{factory:()=>new Ja({})}),Ja=class{constructor(t){this.icons=t}getIcon(t){return this.hasIcon(t)?this.icons[t]:null}hasIcon(t){return typeof this.icons=="object"&&t in this.icons}},$b=(()=>{class n{constructor(){this.color=Ya.stroke,this.size=Ya.width,this.strokeWidth=Ya["stroke-width"],this.absoluteStrokeWidth=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gb(n,t=3){return parseFloat(n.toFixed(t)).toString(10)}var yn=(()=>{class n{constructor(e,r,o,i,a){this.elem=e,this.renderer=r,this.changeDetector=o,this.iconProviders=i,this.iconConfig=a,this.absoluteStrokeWidth=!1,this.defaultSize=Ya.height}get size(){return this._size??this.iconConfig.size}set size(e){e?this._size=this.parseNumber(e):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(e){e?this._strokeWidth=this.parseNumber(e):delete this._strokeWidth}ngOnChanges(e){if(e.name||e.img||e.color||e.size||e.absoluteStrokeWidth||e.strokeWidth||e.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let o=this.getIcon(this.toPascalCase(r));if(o)this.replaceElement(o);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(e){let r=$(b({},Ya),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?Gb(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),o=this.createElement(["svg",r,e]);o.classList.add("lucide"),typeof this.name=="string"&&o.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&o.classList.add(...this.class.split(/ /).map(a=>a.trim()).filter(a=>a.length>0));let i=this.elem.nativeElement.childNodes;for(let a of i)this.renderer.removeChild(this.elem.nativeElement,a);this.renderer.appendChild(this.elem.nativeElement,o)}toPascalCase(e){return e.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,o,i)=>o.toUpperCase()+i.toLowerCase())}parseNumber(e){if(typeof e=="string"){let r=parseInt(e,10);if(isNaN(r))throw new Error(`${e} is not numeric.`);return r}return e}getIcon(e){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(e))return r.getIcon(e);return null}createElement([e,r,o=[]]){let i=this.renderer.createElement(e,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(a=>{let s=typeof r[a]=="string"?r[a]:r[a].toString(10);this.renderer.setAttribute(i,a,s)}),o.length&&o.forEach(a=>{let s=this.createElement(a);this.renderer.appendChild(i,s)}),i}}return n.\u0275fac=function(e){return new(e||n)(L(Ue),L(It),L($t),L(X0),L($b))},n.\u0275cmp=he({type:n,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[Tt],ngContentSelectors:Ub,decls:1,vars:0,template:function(e,r){e&1&&(Hh(),qh(0))},encapsulation:2}),n})(),Q0=class{constructor(t){this.icons=t}},Wb=n=>new Ja(n??{}),Kt=(()=>{class n{static pick(e){return{ngModule:n,providers:[{provide:X0,multi:!0,useValue:new Ja(e)},{provide:X0,multi:!0,useFactory:Wb,deps:[[new oh,Q0]]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Pt({type:n}),n.\u0275inj=Ct({imports:[[]]}),n})();de();var ov=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};var ts=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},ns=class extends ts{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},rs=class extends ts{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},os=class extends ts{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Y0=(function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n})(Y0||{});var is=class{constructor(t,{headers:e={},customFetch:r,region:o=Y0.Any}={}){this.url=t,this.headers=e,this.region=o,this.fetch=ov(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return I(this,arguments,void 0,function*(e,r={}){var o;try{let{headers:i,method:a,body:s,signal:c}=r,l={},{region:d}=r;d||(d=this.region);let u=new URL(`${this.url}/${e}`);d&&d!=="any"&&(l["x-region"]=d,u.searchParams.set("forceFunctionRegion",d));let p;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",p=s):typeof s=="string"?(l["Content-Type"]="text/plain",p=s):typeof FormData<"u"&&s instanceof FormData?p=s:(l["Content-Type"]="application/json",p=JSON.stringify(s)):p=s;let h=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:p,signal:c}).catch(x=>{throw x.name==="AbortError"?x:new ns(x)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new rs(h);if(!h.ok)throw new os(h);let w=((o=h.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),M;return w==="application/json"?M=yield h.json():w==="application/octet-stream"||w==="application/pdf"?M=yield h.blob():w==="text/event-stream"?M=h:w==="multipart/form-data"?M=yield h.formData():M=yield h.text(),{data:M,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new ns(i)}:{data:null,error:i,response:i instanceof os||i instanceof rs?i.context:void 0}}})}};var y2=P4(fv(),1),{PostgrestClient:yv,PostgrestQueryBuilder:aq,PostgrestFilterBuilder:sq,PostgrestTransformBuilder:cq,PostgrestBuilder:lq,PostgrestError:o7}=y2.default||y2;var g2=class{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let e=process.versions;if(e&&e.node){let r=e.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){let r=this.getWebSocketConstructor();return new r(t,e)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},m2=g2;var gv="2.78.0";var mv=`realtime-js/${gv}`,kv="1.0.0";var ss=1e4,vv=1e3,Mv=100,cs=(function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n})(cs||{}),Fe=(function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n})(Fe||{}),Ot=(function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n})(Ot||{}),k2=(function(n){return n.websocket="websocket",n})(k2||{}),eo=(function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n})(eo||{});var pd=class{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let e=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,e,r)}_decodeBroadcast(t,e,r){let o=e.getUint8(1),i=e.getUint8(2),a=this.HEADER_LENGTH+2,s=r.decode(t.slice(a,a+o));a=a+o;let c=r.decode(t.slice(a,a+i));a=a+i;let l=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:s,event:c,payload:l}}};var Mi=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var fe=(function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n})(fe||{}),M2=(n,t,e={})=>{var r;let o=(r=e.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=i7(a,n,t,o),i),{}):{}},i7=(n,t,e,r)=>{let o=t.find(s=>s.name===n),i=o?.type,a=e[n];return i&&!r.includes(i)?wv(i,a):v2(a)},wv=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return l7(t,e)}switch(n){case fe.bool:return a7(t);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return s7(t);case fe.json:case fe.jsonb:return c7(t);case fe.timestamp:return d7(t);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return v2(t);default:return v2(t)}},v2=n=>n,a7=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},s7=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},c7=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},l7=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let i,a=n.slice(1,e);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(s=>wv(t,s))}return n},d7=n=>typeof n=="string"?n.replace(" ","T"):n,fd=n=>{let t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var wi=class{constructor(t,e,r={},o=ss){this.channel=t,this.event=e,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var ls=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,o,i,a),this.pendingDiffs.forEach(c=>{this.state=n.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=n.syncDiff(this.state,o,i,a),s())}),this.onJoin((o,i,a)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:a})}),this.onLeave((o,i,a)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,o){let i=this.cloneDeep(t),a=this.transformState(e),s={},c={};return this.map(i,(l,d)=>{a[l]||(c[l]=d)}),this.map(a,(l,d)=>{let u=i[l];if(u){let p=d.map(M=>M.presence_ref),h=u.map(M=>M.presence_ref),m=d.filter(M=>h.indexOf(M.presence_ref)<0),w=u.filter(M=>p.indexOf(M.presence_ref)<0);m.length>0&&(s[l]=m),w.length>0&&(c[l]=w)}else s[l]=d}),this.syncDiff(i,{joins:s,leaves:c},r,o)}static syncDiff(t,e,r,o){let{joins:i,leaves:a}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(s,c)=>{var l;let d=(l=t[s])!==null&&l!==void 0?l:[];if(t[s]=this.cloneDeep(c),d.length>0){let u=t[s].map(h=>h.presence_ref),p=d.filter(h=>u.indexOf(h.presence_ref)<0);t[s].unshift(...p)}r(s,d,c)}),this.map(a,(s,c)=>{let l=t[s];if(!l)return;let d=c.map(u=>u.presence_ref);l=l.filter(u=>d.indexOf(u.presence_ref)<0),t[s]=l,o(s,l,c),l.length===0&&delete t[s]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let o=t[r];return"metas"in o?e[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):e[r]=o,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var ds=(function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n})(ds||{}),Fn=(function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n})(Fn||{});var us=class n{constructor(t,e={config:{}},r){var o,i;if(this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new wi(this,Ot.join,this.params,this.timeout),this.rejoinTimer=new Mi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ot.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new ls(this),this.broadcastEndpointURL=fd(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,e=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){let{config:{broadcast:a,presence:s,private:c}}=this.params,l=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&o!==void 0?o:[],d=!!this.bindings[ds.PRESENCE]&&this.bindings[ds.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,u={},p={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>t?.(Fn.CHANNEL_ERROR,h)),this._onClose(()=>t?.(Fn.CLOSED)),this.updateJoinPayload(Object.assign({config:p},u)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",m=>f(this,[m],function*({postgres_changes:h}){var w;if(this.socket.setAuth(),h===void 0){t?.(Fn.SUBSCRIBED);return}else{let M=this.bindings.postgres_changes,x=(w=M?.length)!==null&&w!==void 0?w:0,te=[];for(let R=0;R<x;R++){let P=M[R],{filter:{event:ae,schema:Xt,table:ce,filter:Ee}}=P,qn=h&&h[R];if(qn&&qn.event===ae&&qn.schema===Xt&&qn.table===ce&&qn.filter===Ee)te.push(Object.assign(Object.assign({},P),{id:qn.id}));else{this.unsubscribe(),this.state=Fe.errored,t?.(Fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=te,t&&t(Fn.SUBSCRIBED);return}})).receive("error",h=>{this.state=Fe.errored,t?.(Fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(Fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return f(this,arguments,function*(t,e={}){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)})}untrack(){return f(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,e,r){return this.state===Fe.joined&&t===ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,r)}httpSend(o,i){return f(this,arguments,function*(t,e,r={}){var a;let s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(e==null)return Promise.reject("Payload is required for httpSend()");let c={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:e,private:this.private}]})},l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let d=l.statusText;try{let u=yield l.json();d=u.error||u.message||d}catch{}return Promise.reject(new Error(d))})}send(r){return f(this,arguments,function*(t,e={}){var o,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{let d=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=e.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=d.body)===null||i===void 0?void 0:i.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,c,l;let d=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Fe.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ot.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new wi(this,Ot.leave,{},t),r.receive("ok",()=>{e(),o("ok")}).receive("timeout",()=>{e(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}_fetchWithTimeout(t,e,r){return f(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),a=yield this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:o.signal}));return clearTimeout(i),a})}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new wi(this,t,e,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Mv){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var o,i;let a=t.toLocaleLowerCase(),{close:s,error:c,leave:l,join:d}=Ot;if(r&&[s,c,l,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,e,r);if(e&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(h=>{var m,w,M;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((M=(w=h.filter)===null||w===void 0?void 0:w.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===a}).map(h=>h.callback(p,r)):(i=this.bindings[a])===null||i===void 0||i.filter(h=>{var m,w,M,x,te,R;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){let P=h.id,ae=(m=h.filter)===null||m===void 0?void 0:m.event;return P&&((w=e.ids)===null||w===void 0?void 0:w.includes(P))&&(ae==="*"||ae?.toLocaleLowerCase()===((M=e.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{let P=(te=(x=h?.filter)===null||x===void 0?void 0:x.event)===null||te===void 0?void 0:te.toLocaleLowerCase();return P==="*"||P===((R=e?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof p=="object"&&"ids"in p){let m=p.data,{schema:w,table:M,commit_timestamp:x,type:te,errors:R}=m;p=Object.assign(Object.assign({},{schema:w,table:M,commit_timestamp:x,eventType:te,new:{},old:{},errors:R}),this._getPayloadRecords(m))}h.callback(p,r)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let o=t.toLocaleLowerCase(),i={type:o,filter:e,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&n.isEqual(o.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ot.close,{},t)}_onError(t){this._on(Ot.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=M2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=M2(t.columns,t.old_record)),e}};var w2=()=>{},yd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},h7=[1e3,2e3,5e3,1e4],p7=1e4,f7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,hs=class{constructor(t,e){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ss,this.transport=null,this.heartbeatIntervalMs=yd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=w2,this.ref=0,this.reconnectTimer=null,this.logger=w2,this.conn=null,this.sendBuffer=[],this.serializer=new pd,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>import("./chunk-Z76GK7AR.js").then(({default:s})=>s(...a)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((r=e?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${k2.websocket}`,this.httpEndpoint=fd(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=m2.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kv}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,e??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return f(this,null,function*(){let e=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return f(this,null,function*(){let t=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case cs.connecting:return eo.Connecting;case cs.open:return eo.Open;case cs.closing:return eo.Closing;default:return eo.Closed}}isConnected(){return this.connectionState()===eo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){let r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new us(`realtime:${t}`,e,this);return this.channels.push(i),i}}push(t){let{topic:e,event:r,payload:o,ref:i}=t,a=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${e} ${r} (${i})`,o),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(t=null){return f(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return f(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(vv,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},yd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:a}=e,s=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${s}`.trim(),i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(o,i,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ot.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(e);return`${t}${r}${o}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([f7],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}_performAuth(t=null){return f(this,null,function*(){let e;t?e=t:this.accessToken?e=yield this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(r=>{let o={access_token:e,version:mv};e&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Ot.access_token,{access_token:e})}))})}_waitForAuthIfNeeded(){return f(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(e)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Mi(()=>f(this,null,function*(){setTimeout(()=>f(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),yd.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var e,r,o,i,a,s,c,l,d;if(this.transport=(e=t?.transport)!==null&&e!==void 0?e:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:ss,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:yd.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=t?.heartbeatCallback)!==null&&s!==void 0?s:w2,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:u=>h7[u-1]||p7,this.encode=(l=t?.encode)!==null&&l!==void 0?l:(u,p)=>p(JSON.stringify(u)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};de();var Ci=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function se(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var gd=class extends Ci{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},to=class extends Ci{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};de();de();var bi=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},Cv=()=>I(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-Z76GK7AR.js")).Response:Response}),md=n=>{if(Array.isArray(n))return n.map(e=>md(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let o=e.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=md(r)}),t},bv=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var C2=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},y7=(n,t,e)=>I(void 0,void 0,void 0,function*(){let r=yield Cv();n instanceof r&&!e?.noResolveJson?n.json().then(o=>{let i=n.status||500,a=o?.statusCode||i+"";t(new gd(C2(o),i,a))}).catch(o=>{t(new to(C2(o),o))}):t(new to(C2(n),n))}),g7=(n,t,e,r)=>{let o={method:n,headers:t?.headers||{}};return n==="GET"||!r?o:(bv(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),e))};function ps(n,t,e,r,o,i){return I(this,void 0,void 0,function*(){return new Promise((a,s)=>{n(e,g7(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>y7(c,s,r))})})}function kr(n,t,e,r){return I(this,void 0,void 0,function*(){return ps(n,"GET",t,e,r)})}function gt(n,t,e,r,o){return I(this,void 0,void 0,function*(){return ps(n,"POST",t,r,o,e)})}function fs(n,t,e,r,o){return I(this,void 0,void 0,function*(){return ps(n,"PUT",t,r,o,e)})}function xv(n,t,e,r){return I(this,void 0,void 0,function*(){return ps(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function xi(n,t,e,r,o){return I(this,void 0,void 0,function*(){return ps(n,"DELETE",t,r,o,e)})}de();de();var kd=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}execute(){return I(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(se(t))return{data:null,error:t};throw t}})}};var Iv,b2=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Iv]="BlobDownloadBuilder",this.promise=null}asStream(){return new kd(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return I(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(se(t))return{data:null,error:t};throw t}})}};Iv=Symbol.toStringTag;var _v=b2;var m7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},vd=class{constructor(t,e={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=bi(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,e,r,o){return I(this,void 0,void 0,function*(){try{let i,a=Object.assign(Object.assign({},Sv),o),s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)}),c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(s=Object.assign(Object.assign({},s),o.headers));let l=this._removeEmptyFolders(e),d=this._getFinalPath(l),u=yield(t=="PUT"?fs:gt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:s},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(se(i))return{data:null,error:i};throw i}})}upload(t,e,r){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,o){return I(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(t),a=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let c,l=Object.assign({upsert:Sv.upsert},o),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType);let u=yield fs(this.fetch,s.toString(),c,{headers:d});return{data:{path:i,fullPath:u.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(se(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,e){return I(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=Object.assign({},this.headers);e?.upsert&&(o["x-upsert"]="true");let i=yield gt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),a=new URL(this.url+i.url),s=a.searchParams.get("token");if(!s)throw new Ci("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}update(t,e,r){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return I(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(se(o))return{data:null,error:o};throw o}})}copy(t,e,r){return I(this,void 0,void 0,function*(){try{return{data:{path:(yield gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(se(o))return{data:null,error:o};throw o}})}createSignedUrl(t,e,r){return I(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield gt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(se(o))return{data:null,error:o};throw o}})}createSignedUrls(t,e,r){return I(this,void 0,void 0,function*(){try{let o=yield gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(se(o))return{data:null,error:o};throw o}})}download(t,e){let o=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),a=i?`?${i}`:"",s=this._getFinalPath(t),c=()=>kr(this.fetch,`${this.url}/${o}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new _v(c,this.shouldThrowOnError)}info(t){return I(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield kr(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:md(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}exists(t){return I(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield xv(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r)&&r instanceof to){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),o=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&o.push(i);let s=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${l}`)}}}remove(t){return I(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(se(e))return{data:null,error:e};throw e}})}list(t,e,r){return I(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},m7),e),{prefix:t||""});return{data:yield gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(se(o))return{data:null,error:o};throw o}})}listV2(t,e){return I(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield gt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};de();var Md="2.78.0";var wd={"X-Client-Info":`storage-js/${Md}`};var Cd=class{constructor(t,e={},r,o){this.shouldThrowOnError=!1;let i=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wd),e),this.fetch=bi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return I(this,void 0,void 0,function*(){try{let e=this.listBucketOptionsToQueryString(t);return{data:yield kr(this.fetch,`${this.url}/bucket${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(se(e))return{data:null,error:e};throw e}})}getBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(se(e))return{data:null,error:e};throw e}})}createBucket(t){return I(this,arguments,void 0,function*(e,r={public:!1}){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(se(o))return{data:null,error:o};throw o}})}updateBucket(t,e){return I(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}emptyBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(se(e))return{data:null,error:e};throw e}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(se(e))return{data:null,error:e};throw e}})}listBucketOptionsToQueryString(t){let e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}};de();var bd=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wd),e),this.fetch=bi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(se(e))return{data:null,error:e};throw e}})}listBuckets(t){return I(this,void 0,void 0,function*(){try{let e=new URLSearchParams;t?.limit!==void 0&&e.set("limit",t.limit.toString()),t?.offset!==void 0&&e.set("offset",t.offset.toString()),t?.sortColumn&&e.set("sortColumn",t.sortColumn),t?.sortOrder&&e.set("sortOrder",t.sortOrder),t?.search&&e.set("search",t.search);let r=e.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield kr(this.fetch,o,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(se(e))return{data:null,error:e};throw e}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(se(e))return{data:null,error:e};throw e}})}};de();de();var Ii={"X-Client-Info":`storage-js/${Md}`,"Content-Type":"application/json"};var xd=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ye(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var _i=class extends xd{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Id=class extends xd{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};de();var Si=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};var Dv=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Ev=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),k7=(n,t,e)=>I(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!e?.noResolveJson){let o=n.status||500,i=n;if(typeof i.json=="function")i.json().then(a=>{let s=a?.statusCode||a?.code||o+"";t(new _i(Ev(a),o,s))}).catch(()=>{let a=o+"",s=i.statusText||`HTTP ${o} error`;t(new _i(s,o,a))});else{let a=o+"",s=i.statusText||`HTTP ${o} error`;t(new _i(s,o,a))}}else t(new Id(Ev(n),n))}),v7=(n,t,e,r)=>{let o={method:n,headers:t?.headers||{}};return n==="GET"||!r?o:(Dv(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),e))};function M7(n,t,e,r,o,i){return I(this,void 0,void 0,function*(){return new Promise((a,s)=>{n(e,v7(t,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>k7(c,s,r))})})}function Je(n,t,e,r,o){return I(this,void 0,void 0,function*(){return M7(n,"POST",t,r,o,e)})}var _d=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ii),e),this.fetch=Si(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return I(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}getIndex(t,e){return I(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}listIndexes(t){return I(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}deleteIndex(t,e){return I(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}};de();var Sd=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ii),e),this.fetch=Si(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return I(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Je(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}getVectors(t){return I(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}listVectors(t){return I(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Je(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}queryVectors(t){return I(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}deleteVectors(t){return I(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Je(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}};de();var Dd=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ii),e),this.fetch=Si(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return I(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}getBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}listBuckets(){return I(this,arguments,void 0,function*(t={}){try{return{data:yield Je(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}})}};var ys=class extends Dd{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Ed(this.url,this.headers,t,this.fetch)}},Ed=class extends _d{constructor(t,e,r,o){super(t,e,o),this.vectorBucketName=r}createIndex(t){let e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return I(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return I(this,arguments,void 0,function*(e={}){return t.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){let e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return I(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){let e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return I(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Ld(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Ld=class extends Sd{constructor(t,e,r,o,i){super(t,e,i),this.vectorBucketName=r,this.indexName=o}putVectors(t){let e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return I(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){let e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return I(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return I(this,arguments,void 0,function*(e={}){return t.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){let e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return I(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){let e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return I(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var gs=class extends Cd{constructor(t,e={},r,o){super(t,e,r,o)}from(t){return new vd(this.url,this.headers,t,this.fetch)}get vectors(){return new ys(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bd(this.url+"/iceberg",this.headers,this.fetch)}};var Lv="2.78.0";var ms="";typeof Deno<"u"?ms="deno":typeof document<"u"?ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ms="react-native":ms="node";var w7={"X-Client-Info":`supabase-js-${ms}/${Lv}`},Av={headers:w7},Tv={schema:"public"},Pv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rv={};q2();var C7=n=>{let t;return n?t=n:typeof fetch>"u"?t=V2:t=fetch,(...e)=>t(...e)},b7=()=>typeof Headers>"u"?H2:Headers,Ov=(n,t,e)=>{let r=C7(e),o=b7();return(i,a)=>f(null,null,function*(){var s;let c=(s=yield t())!==null&&s!==void 0?s:n,l=new o(a?.headers);return l.has("apikey")||l.set("apikey",n),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:l}))})};function x7(n){return n.endsWith("/")?n:n+"/"}function Nv(n,t){var e,r;let{db:o,auth:i,realtime:a,global:s}=n,{db:c,auth:l,realtime:d,global:u}=t,p={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},u),s),{headers:Object.assign(Object.assign({},(e=u?.headers)!==null&&e!==void 0?e:{}),(r=s?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>f(null,null,function*(){return""})};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}function Fv(n){let t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(x7(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}de();de();var Ad="2.78.0";var no=30*1e3,Td=3,Pd=Td*no,jv="http://localhost:9999",Vv="supabase.auth.token";var Hv={"X-Client-Info":`gotrue-js/${Ad}`};var ks="X-Supabase-Api-Version",x2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Bv=600*1e3;var vr=class extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function T(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var Rd=class extends vr{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function zv(n){return T(n)&&n.name==="AuthApiError"}var Nt=class extends vr{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},gn=class extends vr{constructor(t,e,r,o){super(t,r,o),this.name=e,this.status=r}},at=class extends gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Uv(n){return T(n)&&n.name==="AuthSessionMissingError"}var jn=class extends gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ro=class extends gn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},oo=class extends gn{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function $v(n){return T(n)&&n.name==="AuthImplicitGrantRedirectError"}var vs=class extends gn{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Di=class extends gn{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};function Od(n){return T(n)&&n.name==="AuthRetryableFetchError"}var Ms=class extends gn{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var io=class extends gn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Nd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gv=` 	
\r=`.split(""),I7=(()=>{let n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<Gv.length;t+=1)n[Gv[t].charCodeAt(0)]=-2;for(let t=0;t<Nd.length;t+=1)n[Nd[t].charCodeAt(0)]=t;return n})();function Wv(n,t,e){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(Nd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(Nd[r]),t.queuedBits-=6}}function Zv(n,t,e){let r=I7[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function I2(n){let t=[],e=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=a=>{D7(a,r,e)};for(let a=0;a<n.length;a+=1)Zv(n.charCodeAt(a),o,i);return t.join("")}function _7(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function S7(n,t){for(let e=0;e<n.length;e+=1){let r=n.charCodeAt(e);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(n.charCodeAt(e+1)-56320&65535|o)+65536,e+=1}_7(r,t)}}function D7(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function Mr(n){let t=[],e={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<n.length;o+=1)Zv(n.charCodeAt(o),e,r);return new Uint8Array(t)}function Kv(n){let t=[];return S7(n,e=>t.push(e)),new Uint8Array(t)}function Vn(n){let t=[],e={queue:0,queuedBits:0},r=o=>{t.push(o)};return n.forEach(o=>Wv(o,e,r)),Wv(null,e,r),t.join("")}function Xv(n){return Math.round(Date.now()/1e3)+n}function Qv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}var $e=()=>typeof window<"u"&&typeof document<"u",ao={tested:!1,writable:!1},Fd=()=>{if(!$e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ao.tested)return ao.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ao.tested=!0,ao.writable=!0}catch{ao.tested=!0,ao.writable=!1}return ao.writable};function Yv(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return e.searchParams.forEach((r,o)=>{t[o]=r}),t}var jd=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},Jv=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",so=(n,t,e)=>f(null,null,function*(){yield n.setItem(t,JSON.stringify(e))}),wr=(n,t)=>f(null,null,function*(){let e=yield n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),Hn=(n,t)=>f(null,null,function*(){yield n.removeItem(t)}),ws=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};ws.promiseConstructor=Promise;function Vd(n){let t=n.split(".");if(t.length!==3)throw new io("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!qv.test(t[r]))throw new io("JWT not in base64url format");return{header:JSON.parse(I2(t[0])),payload:JSON.parse(I2(t[1])),signature:Mr(t[2]),raw:{header:t[0],payload:t[1]}}}function e4(n){return f(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),n)})})}function t4(n,t){return new Promise((r,o)=>{f(null,null,function*(){for(let i=0;i<1/0;i++)try{let a=yield n(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){o(a);return}}})})}function E7(n){return("0"+n.toString(16)).substr(-2)}function L7(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,o="";for(let i=0;i<56;i++)o+=e.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,E7).join("")}function A7(n){return f(this,null,function*(){let e=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",e),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function T7(n){return f(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=yield A7(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function co(n,t,e=!1){return f(this,null,function*(){let r=L7(),o=r;e&&(o+="/PASSWORD_RECOVERY"),yield so(n,`${t}-code-verifier`,o);let i=yield T7(r);return[i,r===i?"plain":"s256"]})}var P7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function n4(n){let t=n.headers.get(ks);if(!t||!t.match(P7))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function r4(n){if(!n)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function o4(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var R7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lo(n){if(!R7.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hd(){let n={};return new Proxy(n,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){let r=e.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function i4(n,t){return new Proxy(n,{get:(e,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(e,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,r,o)}})}function _2(n){return JSON.parse(JSON.stringify(n))}var uo=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),O7=[502,503,504];function a4(n){return f(this,null,function*(){var t;if(!Jv(n))throw new Di(uo(n),0);if(O7.includes(n.status))throw new Di(uo(n),n.status);let e;try{e=yield n.json()}catch(i){throw new Nt(uo(i),i)}let r,o=n4(n);if(o&&o.getTime()>=x2["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new Ms(uo(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new at}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Ms(uo(e),n.status,e.weak_password.reasons);throw new Rd(uo(e),n.status||500,r)})}var N7=(n,t,e,r)=>{let o={method:n,headers:t?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),e))};function V(n,t,e,r){return f(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[ks]||(i[ks]=x2["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let a=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=yield F7(n,t,e+s,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function F7(n,t,e,r,o,i){return f(this,null,function*(){let a=N7(t,r,o,i),s;try{s=yield n(e,Object.assign({},a))}catch(c){throw console.error(c),new Di(uo(c),0)}if(s.ok||(yield a4(s)),r?.noResolveJson)return s;try{return yield s.json()}catch(c){yield a4(c)}})}function Ft(n){var t;let e=null;j7(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=Xv(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function S2(n){let t=Ft(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function mn(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function s4(n){return{data:n,error:null}}function c4(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:o,verification_type:i}=n,a=vn(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:e,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},a);return{data:{properties:s,user:c},error:null}}function D2(n){return n}function j7(n){return n.access_token&&n.refresh_token&&n.expires_in}var qd=["global","local","others"];var Ei=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=jd(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return f(this,arguments,function*(t,e=qd[0]){if(qd.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qd.join(", ")}`);try{return yield V(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(T(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return f(this,arguments,function*(t,e={}){try{return yield V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:mn})}catch(o){if(T(o))return{data:{user:null},error:o};throw o}})}generateLink(t){return f(this,null,function*(){try{let{options:e}=t,r=vn(t,["options"]),o=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:c4,redirectTo:e?.redirectTo})}catch(e){if(T(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(t){return f(this,null,function*(){try{return yield V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:mn})}catch(e){if(T(e))return{data:{user:null},error:e};throw e}})}listUsers(t){return f(this,null,function*(){var e,r,o,i,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=yield V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:D2});if(d.error)throw d.error;let u=yield d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(m=>{let w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(m.split(";")[1].split("=")[1]);l[`${M}Page`]=w}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(T(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return f(this,null,function*(){lo(t);try{return yield V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:mn})}catch(e){if(T(e))return{data:{user:null},error:e};throw e}})}updateUserById(t,e){return f(this,null,function*(){lo(t);try{return yield V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:mn})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,e=!1){return f(this,null,function*(){lo(t);try{return yield V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:mn})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return f(this,null,function*(){lo(t.userId);try{let{data:e,error:r}=yield V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:e,error:r}}catch(e){if(T(e))return{data:null,error:e};throw e}})}_deleteFactor(t){return f(this,null,function*(){lo(t.userId),lo(t.id);try{return{data:yield V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(T(e))return{data:null,error:e};throw e}})}_listOAuthClients(t){return f(this,null,function*(){var e,r,o,i,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=yield V(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:D2});if(d.error)throw d.error;let u=yield d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(m=>{let w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(m.split(";")[1].split("=")[1]);l[`${M}Page`]=w}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(T(l))return{data:{clients:[]},error:l};throw l}})}_createOAuthClient(t){return f(this,null,function*(){try{return yield V(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(T(e))return{data:null,error:e};throw e}})}_getOAuthClient(t){return f(this,null,function*(){try{return yield V(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(T(e))return{data:null,error:e};throw e}})}_updateOAuthClient(t,e){return f(this,null,function*(){try{return yield V(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(T(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(t){return f(this,null,function*(){try{return yield V(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(T(e))return{data:null,error:e};throw e}})}_regenerateOAuthClientSecret(t){return f(this,null,function*(){try{return yield V(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(T(e))return{data:null,error:e};throw e}})}};function E2(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}var ho={debug:!!(globalThis&&Fd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Cs=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Bd=class extends Cs{};function L2(n,t,e){return f(this,null,function*(){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>f(null,null,function*(){if(o){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return yield e()}finally{ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(t===0)throw ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Bd(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ho.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}function l4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function A2(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function d4(n){return parseInt(n,16)}function u4(n){let t=new TextEncoder().encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function h4(n){var t;let{chainId:e,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:a,notBefore:s,requestId:c,resources:l,scheme:d,uri:u,version:p}=n;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}let h=A2(n.address),m=d?`${d}://${r}`:r,w=n.statement?`${n.statement}
`:"",M=`${m} wants you to sign in with your Ethereum account:
${h}

${w}`,x=`URI: ${u}
Version: ${p}
Chain ID: ${e}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(o&&(x+=`
Expiration Time: ${o.toISOString()}`),s&&(x+=`
Not Before: ${s.toISOString()}`),c&&(x+=`
Request ID: ${c}`),l){let te=`
Resources:`;for(let R of l){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);te+=`
- ${R}`}x+=te}return`${M}
${x}`}de();var Me=class extends Error{constructor({message:t,code:e,cause:r,name:o}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=e}},po=class extends Me{constructor(t,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:t}),this.name="WebAuthnUnknownError",this.originalError=e}};function p4({error:n,options:t}){var e,r,o;let{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((e=i.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new Me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Me({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){let a=window.location.hostname;if(T2(a)){if(i.rp.id!==a)return new Me({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function f4({error:n,options:t}){let{publicKey:e}=t;if(!e)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Me({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){let r=window.location.hostname;if(T2(r)){if(e.rpId!==r)return new Me({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var P2=class{createNewAbortSignal(){if(this.controller){let e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},V7=new P2;function g4(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);let{challenge:t,user:e,excludeCredentials:r}=n,o=vn(n,["challenge","user","excludeCredentials"]),i=Mr(t).buffer,a=Object.assign(Object.assign({},e),{id:Mr(e.id).buffer}),s=Object.assign(Object.assign({},o),{challenge:i,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];s.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:Mr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function m4(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);let{challenge:t,allowCredentials:e}=n,r=vn(n,["challenge","allowCredentials"]),o=Mr(t).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(e&&e.length>0){i.allowCredentials=new Array(e.length);for(let a=0;a<e.length;a++){let s=e[a];i.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Mr(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function k4(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n;return{id:n.id,rawId:n.id,response:{attestationObject:Vn(new Uint8Array(n.response.attestationObject)),clientDataJSON:Vn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function v4(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n,r=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Vn(new Uint8Array(o.authenticatorData)),clientDataJSON:Vn(new Uint8Array(o.clientDataJSON)),signature:Vn(new Uint8Array(o.signature)),userHandle:o.userHandle?Vn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function T2(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function y4(){var n,t;return!!($e()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}function H7(n){return f(this,null,function*(){try{let t=yield navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new po("Browser returned unexpected credential type",t)}:{data:null,error:new po("Empty credential response",t)}}catch(t){return{data:null,error:p4({error:t,options:n})}}})}function q7(n){return f(this,null,function*(){try{let t=yield navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new po("Browser returned unexpected credential type",t)}:{data:null,error:new po("Empty credential response",t)}}catch(t){return{data:null,error:f4({error:t,options:n})}}})}var B7={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},z7={userVerification:"preferred",hints:["security-key"]};function zd(...n){let t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),e=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of n)if(o)for(let i in o){let a=o[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(e(a))r[i]=a;else if(t(a)){let s=r[i];t(s)?r[i]=zd(s,a):r[i]=zd(a)}else r[i]=a}return r}function U7(n,t){return zd(B7,n,t||{})}function $7(n,t){return zd(z7,n,t||{})}var Ud=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){return f(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})}_challenge(a,s){return f(this,arguments,function*({factorId:t,webauthn:e,friendlyName:r,signal:o},i){try{let{data:c,error:l}=yield this.client.mfa.challenge({factorId:t,webauthn:e});if(!c)return{data:null,error:l};let d=o??V7.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:u}=c.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(c.webauthn.type){case"create":{let u=U7(c.webauthn.credential_options.publicKey,i?.create),{data:p,error:h}=yield H7({publicKey:u,signal:d});return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{let u=$7(c.webauthn.credential_options.publicKey,i?.request),{data:p,error:h}=yield q7(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:u,signal:d}));return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(c){return T(c)?{data:null,error:c}:{data:null,error:new Nt("Unexpected error in challenge",c)}}})}_verify(o){return f(this,arguments,function*({challengeId:t,factorId:e,webauthn:r}){return this.client.mfa.verify({factorId:e,challengeId:t,webauthn:r})})}_authenticate(a,s){return f(this,arguments,function*({factorId:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},i){if(!e)return{data:null,error:new vr("rpId is required for WebAuthn authentication")};try{if(!y4())return{data:null,error:new Nt("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this.challenge({factorId:t,webauthn:{rpId:e,rpOrigins:r},signal:o},{request:i});if(!c)return{data:null,error:l};let{webauthn:d}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:d.type,rpId:e,rpOrigins:r,credential_response:d.credential_response}})}catch(c){return T(c)?{data:null,error:c}:{data:null,error:new Nt("Unexpected error in authenticate",c)}}})}_register(a,s){return f(this,arguments,function*({friendlyName:t,rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},i){if(!e)return{data:null,error:new vr("rpId is required for WebAuthn registration")};try{if(!y4())return{data:null,error:new Nt("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this._enroll({friendlyName:t});if(!c)return yield this.client.mfa.listFactors().then(p=>{var h;return(h=p.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};let{data:d,error:u}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:e,rpOrigins:r},signal:o},{create:i});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:e,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:u}}catch(c){return T(c)?{data:null,error:c}:{data:null,error:new Nt("Unexpected error in register",c)}}})}};l4();var G7={url:jv,storageKey:Vv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function M4(n,t,e){return f(this,null,function*(){return yield e()})}var Li={},W7=(()=>{class n{get jwks(){var e,r;return(r=(e=Li[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Li[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{cachedAt:e})}constructor(e){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&$e()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},G7),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ei({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=jd(i.fetch),this.lock=i.lock||M4,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:$e()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=L2:this.lock=M4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ud(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Fd()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=E2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=E2(this.memoryStorage)),$e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>f(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ad}) ${new Date().toISOString()}`,...e),this}initialize(){return f(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=f(this,null,function*(){return yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return f(this,null,function*(){var e;try{let r=Yv(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),$e()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:a}=yield this._getSessionFromURL(r,o);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),$v(a)){let l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return yield this._removeSession(),{error:a}}let{session:s,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),yield this._saveSession(s),setTimeout(()=>f(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return T(r)?{error:r}:{error:new Nt("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return f(this,null,function*(){var r,o,i;try{let a=yield V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ft}),{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(T(a))return{data:{user:null,session:null},error:a};throw a}})}signUp(e){return f(this,null,function*(){var r,o,i;try{let a;if("email"in e){let{email:u,password:p,options:h}=e,m=null,w=null;this.flowType==="pkce"&&([m,w]=yield co(this.storage,this.storageKey)),a=yield V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:w},xform:Ft})}else if("phone"in e){let{phone:u,password:p,options:h}=e;a=yield V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:p,data:(o=h?.data)!==null&&o!==void 0?o:{},channel:(i=h?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ft})}else throw new ro("You must provide either an email or phone number and a password");let{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(T(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithPassword(e){return f(this,null,function*(){try{let r;if("email"in e){let{email:a,password:s,options:c}=e;r=yield V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:S2})}else if("phone"in e){let{phone:a,password:s,options:c}=e;r=yield V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:S2})}else throw new ro("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new jn}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){return f(this,null,function*(){var r,o,i,a;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})})}exchangeCodeForSession(e){return f(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>f(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return f(this,null,function*(){let{chain:r}=e;switch(r){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(e){return f(this,null,function*(){var r,o,i,a,s,c,l,d,u,p,h;let m,w;if("message"in e)m=e.message,w=e.signature;else{let{chain:M,wallet:x,statement:te,options:R}=e,P;if($e())if(typeof x=="object")P=x;else{let kn=window;if("ethereum"in kn&&typeof kn.ethereum=="object"&&"request"in kn.ethereum&&typeof kn.ethereum.request=="function")P=kn.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=x}let ae=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href),Xt=yield P.request({method:"eth_requestAccounts"}).then(kn=>kn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Xt||Xt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let ce=A2(Xt[0]),Ee=(o=R?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!Ee){let kn=yield P.request({method:"eth_chainId"});Ee=d4(kn)}let qn={domain:ae.host,address:ce,statement:te,uri:ae.href,version:"1",chainId:Ee,nonce:(i=R?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=R?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(c=R?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=R?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(d=R?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=R?.signInWithEthereum)===null||u===void 0?void 0:u.resources};m=h4(qn),w=yield P.request({method:"personal_sign",params:[u4(m),ce]})}try{let{data:M,error:x}=yield V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:w},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ft});if(x)throw x;return!M||!M.session||!M.user?{data:{user:null,session:null},error:new jn}:(M.session&&(yield this._saveSession(M.session),yield this._notifyAllSubscribers("SIGNED_IN",M.session)),{data:Object.assign({},M),error:x})}catch(M){if(T(M))return{data:{user:null,session:null},error:M};throw M}})}signInWithSolana(e){return f(this,null,function*(){var r,o,i,a,s,c,l,d,u,p,h,m;let w,M;if("message"in e)w=e.message,M=e.signature;else{let{chain:x,wallet:te,statement:R,options:P}=e,ae;if($e())if(typeof te=="object")ae=te;else{let ce=window;if("solana"in ce&&typeof ce.solana=="object"&&("signIn"in ce.solana&&typeof ce.solana.signIn=="function"||"signMessage"in ce.solana&&typeof ce.solana.signMessage=="function"))ae=ce.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof te!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ae=te}let Xt=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in ae&&ae.signIn){let ce=yield ae.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:Xt.host,uri:Xt.href}),R?{statement:R}:null)),Ee;if(Array.isArray(ce)&&ce[0]&&typeof ce[0]=="object")Ee=ce[0];else if(ce&&typeof ce=="object"&&"signedMessage"in ce&&"signature"in ce)Ee=ce;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Ee&&"signature"in Ee&&(typeof Ee.signedMessage=="string"||Ee.signedMessage instanceof Uint8Array)&&Ee.signature instanceof Uint8Array)w=typeof Ee.signedMessage=="string"?Ee.signedMessage:new TextDecoder().decode(Ee.signedMessage),M=Ee.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ae)||typeof ae.signMessage!="function"||!("publicKey"in ae)||typeof ae!="object"||!ae.publicKey||!("toBase58"in ae.publicKey)||typeof ae.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${Xt.host} wants you to sign in with your Solana account:`,ae.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${Xt.href}`,`Issued At: ${(i=(o=P?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=P?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((s=P?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((c=P?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((l=P?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((d=P?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((p=(u=P?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||p===void 0)&&p.length?["Resources",...P.signInWithSolana.resources.map(Ee=>`- ${Ee}`)]:[]].join(`
`);let ce=yield ae.signMessage(new TextEncoder().encode(w),"utf8");if(!ce||!(ce instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");M=ce}}try{let{data:x,error:te}=yield V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Vn(M)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ft});if(te)throw te;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new jn}:(x.session&&(yield this._saveSession(x.session),yield this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:te})}catch(x){if(T(x))return{data:{user:null,session:null},error:x};throw x}})}_exchangeCodeForSession(e){return f(this,null,function*(){let r=yield wr(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:a,error:s}=yield V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:Ft});if(yield Hn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new jn}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(T(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})}signInWithIdToken(e){return f(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:a,nonce:s}=e,c=yield V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ft}),{data:l,error:d}=c;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new jn}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){return f(this,null,function*(){var r,o,i,a,s;try{if("email"in e){let{email:c,options:l}=e,d=null,u=null;this.flowType==="pkce"&&([d,u]=yield co(this.storage,this.storageKey));let{error:p}=yield V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){let{phone:c,options:l}=e,{data:d,error:u}=yield V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(s=l?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:u}}throw new ro("You must provide either an email or phone number.")}catch(c){if(T(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(e){return f(this,null,function*(){var r,o;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(o=e.options)===null||o===void 0?void 0:o.captchaToken);let{data:s,error:c}=yield V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ft});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");let l=s.session,d=s.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(T(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(e){return f(this,null,function*(){var r,o,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=yield co(this.storage,this.storageKey)),yield V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:s4})}catch(a){if(T(a))return{data:null,error:a};throw a}})}reauthenticate(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return f(this,null,function*(){try{return yield this._useSession(e=>f(this,null,function*(){let{data:{session:r},error:o}=e;if(o)throw o;if(!r)throw new at;let{error:i}=yield V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(e){if(T(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return f(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:o,type:i,options:a}=e,{error:s}=yield V(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){let{phone:o,type:i,options:a}=e,{data:s,error:c}=yield V(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:c}}throw new ro("You must provide either an email or phone number and a type")}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return this._useSession(r=>f(this,null,function*(){return r}))}))})}_acquireLock(e,r){return f(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=f(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(f(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,e,()=>f(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(f(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return f(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return f(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield wr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let o=e.expires_at?e.expires_at*1e3-Date.now()<Pd:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){let s=yield wr(this.userStorage,this.storageKey+"-user");s?.user?e.user=s.user:e.user=Hd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let s={value:this.suppressGetSessionWarning};e.user=i4(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:i,error:a}=yield this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return f(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return f(this,null,function*(){try{return e?yield V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:mn}):yield this._useSession(r=>f(this,null,function*(){var o,i,a;let{data:s,error:c}=r;if(c)throw c;return!(!((o=s.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new at}:yield V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:mn})}))}catch(r){if(T(r))return Uv(r)&&(yield this._removeSession(),yield Hn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return f(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(o){return f(this,arguments,function*(e,r={}){try{return yield this._useSession(i=>f(this,null,function*(){let{data:a,error:s}=i;if(s)throw s;if(!a.session)throw new at;let c=a.session,l=null,d=null;this.flowType==="pkce"&&e.email!=null&&([l,d]=yield co(this.storage,this.storageKey));let{data:u,error:p}=yield V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:d}),jwt:c.access_token,xform:mn});if(p)throw p;return c.user=u.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(T(i))return{data:{user:null},error:i};throw i}})}setSession(e){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return f(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new at;let r=Date.now()/1e3,o=r,i=!0,a=null,{payload:s}=Vd(e.access_token);if(s.exp&&(o=s.exp,i=o<=r),i){let{data:c,error:l}=yield this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};a=c}else{let{data:c,error:l}=yield this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(T(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;if(!e){let{data:s,error:c}=r;if(c)throw c;e=(o=s.session)!==null&&o!==void 0?o:void 0}if(!e?.refresh_token)throw new at;let{data:i,error:a}=yield this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(e,r){return f(this,null,function*(){try{if(!$e())throw new oo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new oo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vs("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vs("No code detected.");let{data:R,error:P}=yield this._exchangeCodeForSession(e.code);if(P)throw P;let ae=new URL(window.location.href);return ae.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ae.toString()),{data:{session:R.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:c,expires_at:l,token_type:d}=e;if(!a||!c||!s||!d)throw new oo("No session defined in URL");let u=Math.round(Date.now()/1e3),p=parseInt(c),h=u+p;l&&(h=parseInt(l));let m=h-u;m*1e3<=no&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);let w=h-p;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,u);let{data:M,error:x}=yield this._getUser(a);if(x)throw x;let te={provider_token:o,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:h,refresh_token:s,token_type:d,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:te,redirectType:e.type},error:null}}catch(o){if(T(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return f(this,null,function*(){let r=yield wr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return f(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return f(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return{error:a};let s=(o=i.session)===null||o===void 0?void 0:o.access_token;if(s){let{error:c}=yield this.admin.signOut(s,e);if(c&&!(zv(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(yield this._removeSession(),yield Hn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let r=Qv(),o={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),f(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(e){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var o,i;try{let{data:{session:a},error:s}=r;if(s)throw s;yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",a),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}}))})}resetPasswordForEmail(o){return f(this,arguments,function*(e,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=yield co(this.storage,this.storageKey,!0));try{return yield V(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(T(s))return{data:null,error:s};throw s}})}getUserIdentities(){return f(this,null,function*(){var e;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}})}linkIdentity(e){return f(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return f(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(a=>f(this,null,function*(){var s,c,l,d,u;let{data:p,error:h}=a;if(h)throw h;let m=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield V(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})}));if(i)throw i;return $e()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:e.provider,url:o?.url},error:null}}catch(o){if(T(o))return{data:{provider:e.provider,url:null},error:o};throw o}})}linkIdentityIdToken(e){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var o;try{let{error:i,data:{session:a}}=r;if(i)throw i;let{options:s,provider:c,token:l,access_token:d,nonce:u}=e,p=yield V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=a?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:l,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Ft}),{data:h,error:m}=p;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new jn}:(h.session&&(yield this._saveSession(h.session),yield this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(i){if(T(i))return{data:{user:null,session:null},error:i};throw i}}))})}unlinkIdentity(e){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o,i;let{data:a,error:s}=r;if(s)throw s;return yield V(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(T(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return f(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield t4(i=>f(this,null,function*(){return i>0&&(yield e4(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ft})}),(i,a)=>{let s=200*Math.pow(2,i);return a&&Od(a)&&Date.now()+s-o<no})}catch(o){if(this._debug(r,"error",o),T(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return f(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",o),$e()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}})}_recoverAndRefresh(){return f(this,null,function*(){var e,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=yield wr(this.storage,this.storageKey);if(i&&this.userStorage){let s=yield wr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},yield so(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s?.user)!==null&&e!==void 0?e:Hd()}else if(i&&!i.user&&!i.user){let s=yield wr(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,yield Hn(this.storage,this.storageKey+"-user"),yield so(this.storage,this.storageKey,i)):i.user=Hd()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&(yield this._removeSession());return}let a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Pd;if(this._debug(o,`session has${a?"":" not"} expired with margin of ${Pd}s`),a){if(this.autoRefreshToken&&i.refresh_token){let{error:s}=yield this._callRefreshToken(i.refresh_token);s&&(console.error(s),Od(s)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:s,error:c}=yield this._getUser(i.access_token);!c&&s?.user?(i.user=s.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(o,"error getting user data, skipping SIGNED_IN notification",s)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}})}_callRefreshToken(e){return f(this,null,function*(){var r,o;if(!e)throw new at;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ws;let{data:a,error:s}=yield this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new at;yield this._saveSession(a.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);let c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),T(a)){let s={data:null,error:a};return Od(a)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(e,r,o=!0){return f(this,null,function*(){let i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:r});let a=[],s=Array.from(this.stateChangeEmitters.values()).map(c=>f(this,null,function*(){try{yield c.callback(e,r)}catch(l){a.push(l)}}));if(yield Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}})}_saveSession(e){return f(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;let r=Object.assign({},e),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&(yield so(this.userStorage,this.storageKey+"-user",{user:r.user}));let i=Object.assign({},r);delete i.user;let a=_2(i);yield so(this.storage,this.storageKey,a)}else{let i=_2(r);yield so(this.storage,this.storageKey,i)}})}_removeSession(){return f(this,null,function*(){this._debug("#_removeSession()"),yield Hn(this.storage,this.storageKey),yield Hn(this.storage,this.storageKey+"-code-verifier"),yield Hn(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Hn(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$e()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return f(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),no);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>f(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return f(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return f(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>f(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-e)/no);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${no}ms, refresh threshold is ${Td} ticks`),i<=Td&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Cs)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return f(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!$e()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>f(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return f(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,o){return f(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[a,s]=yield co(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(c.toString())}if(o?.queryParams){let a=new URLSearchParams(o.queryParams);i.push(a.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${i.join("&")}`})}_unenroll(e){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;return a?{data:null,error:a}:yield V(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(T(r))return{data:null,error:r};throw r}})}_enroll(e){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o,i;let{data:a,error:s}=r;if(s)return{data:null,error:s};let c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:d}=yield V(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(T(r))return{data:null,error:r};throw r}})}_verify(e){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return{data:null,error:a};let s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?k4(e.webauthn.credential_response):v4(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:l}=yield V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:l})}))}catch(r){if(T(r))return{data:null,error:r};throw r}}))})}_challenge(e){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return{data:null,error:a};let s=yield V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(s.error)return s;let{data:c}=s;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g4(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m4(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(T(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(e){return f(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:e.factorId});return o?{data:null,error:o}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return f(this,null,function*(){var e;let{data:{user:r},error:o}=yield this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let a of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}})}_getAuthenticatorAssuranceLevel(){return f(this,null,function*(){var e,r;let{data:{session:o},error:i}=yield this.getSession();if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Vd(o.access_token),s=null;a.aal&&(s=a.aal);let c=s;((r=(e=o.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:d},error:null}})}_getAuthorizationDetails(e){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:o},error:i}=r;return i?{data:null,error:i}:o?yield V(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:a=>({data:a,error:null})}):{data:null,error:new at}}))}catch(r){if(T(r))return{data:null,error:r};throw r}})}_approveAuthorization(e,r){return f(this,null,function*(){try{return yield this._useSession(o=>f(this,null,function*(){let{data:{session:i},error:a}=o;if(a)return{data:null,error:a};if(!i)return{data:null,error:new at};let s=yield V(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&$e()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s}))}catch(o){if(T(o))return{data:null,error:o};throw o}})}_denyAuthorization(e,r){return f(this,null,function*(){try{return yield this._useSession(o=>f(this,null,function*(){let{data:{session:i},error:a}=o;if(a)return{data:null,error:a};if(!i)return{data:null,error:new at};let s=yield V(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&$e()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s}))}catch(o){if(T(o))return{data:null,error:o};throw o}})}fetchJwk(o){return f(this,arguments,function*(e,r={keys:[]}){let i=r.keys.find(l=>l.kid===e);if(i)return i;let a=Date.now();if(i=this.jwks.keys.find(l=>l.kid===e),i&&this.jwks_cached_at+Bv>a)return i;let{data:s,error:c}=yield V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,i=s.keys.find(l=>l.kid===e),!i)?null:i})}getClaims(o){return f(this,arguments,function*(e,r={}){try{let i=e;if(!i){let{data:w,error:M}=yield this.getSession();if(M||!w.session)return{data:null,error:M};i=w.session.access_token}let{header:a,payload:s,signature:c,raw:{header:l,payload:d}}=Vd(i);r?.allowExpired||r4(s.exp);let u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){let{error:w}=yield this.getUser(i);if(w)throw w;return{data:{claims:s,header:a,signature:c},error:null}}let p=o4(a.alg),h=yield crypto.subtle.importKey("jwk",u,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,h,c,Kv(`${l}.${d}`))))throw new io("Invalid JWT signature");return{data:{claims:s,header:a,signature:c},error:null}}catch(i){if(T(i))return{data:null,error:i};throw i}})}}return n.nextInstanceID=0,n})(),R2=W7;var Z7=R2,O2=Z7;var $d=class extends O2{constructor(t){super(t)}};var Gd=class{constructor(t,e,r){var o,i,a;this.supabaseUrl=t,this.supabaseKey=e;let s=Fv(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);let c=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:Tv,realtime:Rv,auth:Object.assign(Object.assign({},Pv),{storageKey:c}),global:Av},d=Nv(r??{},l);this.storageKey=(o=d.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(u,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=Ov(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new yv(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new gs(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new is(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return f(this,null,function*(){var t,e;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:a,flowType:s,lock:c,debug:l},d,u){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $d({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:o,userStorage:i,flowType:s,lock:c,debug:l,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new hs(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var w4=(n,t,e)=>new Gd(n,t,e);function K7(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}K7()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var N2={production:!1,supabaseUrl:"https://zrkzkteruybaujoekdan.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpya3prdGVydXliYXVqb2VrZGFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxODAzNTUsImV4cCI6MjA3Nzc1NjM1NX0._UT310p01cnP0oH0OsEdaE06XuzhlzEC1UWJruld_N8"};var mt=(()=>{let t=class t{constructor(){this.supabase=w4(N2.supabaseUrl,N2.supabaseKey)}getClient(){return this.supabase}signInWithEmail(r){return f(this,null,function*(){return yield this.supabase.auth.signInWithPassword({email:r.email,password:r.password})})}signUpWithEmail(r){return f(this,null,function*(){let o=document.querySelector("base")?.href||window.location.origin;return yield this.supabase.auth.signUp({email:r.email,password:r.password,options:{emailRedirectTo:o,data:{displayName:r.name}}})})}getUser(){return f(this,null,function*(){return yield this.supabase.auth.getUser()})}signOut(){return f(this,null,function*(){return yield this.supabase.auth.signOut()})}resetPasswordForEmail(r){return f(this,null,function*(){try{let o=document.querySelector("base")?.href||window.location.origin,{error:i}=yield this.supabase.auth.resetPasswordForEmail(r,{redirectTo:o+"update-password"});if(i)throw i}catch(o){throw new Error(o.message||"Erreur lors de l\u2019envoi du mail de r\xE9initialisation.")}})}exchangeCodeForSession(r){return f(this,null,function*(){if(!r.includes("access_token"))throw new Error("Token manquant");let o=yield this.supabase.auth.exchangeCodeForSession(r);if(o.error)throw new Error(o.error.message);return o})}updatePassword(r){return f(this,null,function*(){let o=yield this.supabase.auth.updateUser({password:r});if(o.error)throw new Error(o.error.message);return o})}getSession(){return f(this,null,function*(){return this.supabase.auth.getSession()})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Ai=(()=>{let t=class t{constructor(r){this.supabase=r,this.eventsSubject=new Le([]),this.events$=this.eventsSubject.asObservable(),this.loadEvents()}loadEvents(){return f(this,null,function*(){let{data:r,error:o}=yield this.supabase.getClient().from("events").select("*").order("event_date",{ascending:!0});if(o){console.error("Error loading events:",o);return}this.eventsSubject.next(r||[])})}createEvent(r){return f(this,null,function*(){let{data:o,error:i}=yield this.supabase.getClient().from("events").insert([r]).select().single();return i?(console.error("Error creating event:",i),null):(yield this.loadEvents(),o)})}updateEvent(r,o){return f(this,null,function*(){let{error:i}=yield this.supabase.getClient().from("events").update($(b({},o),{updated_at:new Date().toISOString()})).eq("id",r);return i?(console.error("Error updating event:",i),!1):(yield this.loadEvents(),!0)})}deleteEvent(r){return f(this,null,function*(){let{error:o}=yield this.supabase.getClient().from("events").delete().eq("id",r);return o?(console.error("Error deleting event:",o),!1):(yield this.loadEvents(),!0)})}getEventsByDateRange(r,o){return this.eventsSubject.value.filter(a=>{let s=new Date(a.event_date);return s>=r&&s<=o})}getEventsByDate(r){return this.eventsSubject.value.filter(o=>o.event_date===r)}};t.\u0275fac=function(o){return new(o||t)(j(mt))},t.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function X7(n,t){if(n&1){let e=De();y(0,"button",18),_("click",function(){O(e);let o=S();return N(o.openAddEventModal())}),ke(1,"lucide-icon",19),v(2," Ajouter "),g()}}function Q7(n,t){n&1&&(y(0,"span",31),v(1,"Pass\xE9"),g())}function Y7(n,t){if(n&1){let e=De();y(0,"div",30)(1,"button",32),_("click",function(){O(e);let o=S().$implicit,i=S();return N(i.openEditEventModal(o))}),ke(2,"lucide-icon",33),g(),y(3,"button",34),_("click",function(){O(e);let o=S().$implicit,i=S();return N(i.deleteEvent(o.id))}),ke(4,"lucide-icon",35),g()()}}function J7(n,t){if(n&1&&(y(0,"div",20)(1,"div",21)(2,"div",22),ke(3,"lucide-icon",23),g(),y(4,"div",24)(5,"div",25)(6,"span",26),v(7),g(),pe(8,Q7,2,0,"span",27),g(),y(9,"div",28),v(10),g(),y(11,"div",29),v(12),g()()(),Qo(13,Y7,5,0,"div",30),g()),n&2){let e=t.$implicit,r=S();Xe("past-event",r.isPastEvent(e.event_date)),C(2),Xe("badge-livraison",e.event_type==="livraison")("badge-mep",e.event_type==="mep"),C(),G("name",e.event_type==="livraison"?"package":"rocket"),C(4),Oe(e.title),C(),G("ngIf",r.isPastEvent(e.event_date)),C(2),ge(" ",r.formatDate(e.event_date)," "),C(2),ge(" ",e.description," "),C(),Yo(r.readonly?-1:13)}}function ex(n,t){if(n&1){let e=De();y(0,"button",51),_("click",function(){O(e);let o=S(2);return N(o.confirmDelete())}),v(1,"Supprimer"),g()}}function tx(n,t){if(n&1){let e=De();y(0,"div",36),_("click",function(){O(e);let o=S();return N(o.closeModal())}),y(1,"div",37),_("click",function(o){return O(e),N(o.stopPropagation())}),y(2,"div",38)(3,"h3"),v(4),g(),y(5,"button",39),_("click",function(){O(e);let o=S();return N(o.closeModal())}),v(6,"\xD7"),g()(),y(7,"div",40)(8,"div",41)(9,"label"),v(10,"Type"),g(),y(11,"select",42),ee("ngModelChange",function(o){O(e);let i=S();return ne(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),N(o)}),_("ngModelChange",function(){O(e);let o=S();return N(o.updateModalTitle())}),y(12,"option",43),v(13,"Livraison (LV)"),g(),y(14,"option",44),v(15,"Mise en Production (MEP)"),g()()(),y(16,"div",41)(17,"label"),v(18,"Version"),g(),y(19,"input",45),ee("ngModelChange",function(o){O(e);let i=S();return ne(i.modalEvent.version,o)||(i.modalEvent.version=o),N(o)}),_("ngModelChange",function(){O(e);let o=S();return N(o.updateModalTitle())}),g()(),y(20,"div",41)(21,"label"),v(22,"Date"),g(),y(23,"input",46),ee("ngModelChange",function(o){O(e);let i=S();return ne(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),N(o)}),g()(),y(24,"div",41)(25,"label"),v(26,"Description"),g(),y(27,"textarea",47),ee("ngModelChange",function(o){O(e);let i=S();return ne(i.modalEvent.description,o)||(i.modalEvent.description=o),N(o)}),g()()(),y(28,"div",48),pe(29,ex,2,0,"button",49),y(30,"button",50),_("click",function(){O(e);let o=S();return N(o.closeModal())}),v(31,"Annuler"),g(),y(32,"button",18),_("click",function(){O(e);let o=S();return N(o.saveEvent())}),v(33),g()()()()}if(n&2){let e=S();C(4),Oe(e.isEditMode?"Modifier":"Nouvel \xE9v\xE9nement"),C(7),J("ngModel",e.modalEvent.event_type),C(8),J("ngModel",e.modalEvent.version),C(4),J("ngModel",e.modalEvent.event_date),C(4),J("ngModel",e.modalEvent.description),C(2),G("ngIf",e.isEditMode),C(4),Oe(e.isEditMode?"Sauvegarder":"Cr\xE9er")}}var Wd=(()=>{let t=class t{constructor(r){this.eventService=r,this.events=[],this.filteredEvents=[],this.searchText="",this.showPastEvents=!1,this.showModal=!1,this.isEditMode=!1,this.readonly=!1,this.modalEvent={},this.modalEventId=null}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.filterEvents()})}filterEvents(){let r=this.events;if(!this.showPastEvents){let o=new Date;o.setHours(0,0,0,0),r=r.filter(i=>new Date(i.event_date)>=o)}if(this.searchText){let o=this.searchText.toLowerCase();r=r.filter(i=>i.title.toLowerCase().includes(o)||i.version.toLowerCase().includes(o)||i.description.toLowerCase().includes(o))}this.filteredEvents=r.sort((o,i)=>new Date(o.event_date).getTime()-new Date(i.event_date).getTime())}isPastEvent(r){let o=new Date(r),i=new Date;return i.setHours(0,0,0,0),o<i}openAddEventModal(){this.isEditMode=!1,this.modalEventId=null,this.modalEvent={event_type:"livraison",version:"",event_date:new Date().toISOString().split("T")[0],description:"",title:""},this.showModal=!0}openEditEventModal(r){this.isEditMode=!0,this.modalEventId=r.id,this.modalEvent=b({},r),this.showModal=!0}closeModal(){this.showModal=!1,this.modalEvent={},this.modalEventId=null}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return f(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode&&this.modalEventId?yield this.eventService.updateEvent(this.modalEventId,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}confirmDelete(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&this.deleteEvent(this.modalEventId)}deleteEvent(r){return f(this,null,function*(){yield this.eventService.deleteEvent(r),this.closeModal()})}formatDate(r){return new Date(r).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}};t.\u0275fac=function(o){return new(o||t)(L(Ai))},t.\u0275cmp=he({type:t,selectors:[["app-event-list"]],inputs:{readonly:"readonly"},decls:22,vars:6,consts:[[1,"event-list-container"],[1,"header"],["name","calendar","size","22"],[1,"btn-primary"],[1,"filters-section"],[1,"search-box"],["name","search","size","18",1,"search-icon"],["type","text","placeholder","Rechercher...","lucide-icon","",3,"ngModelChange","ngModel"],[1,"toggle-row"],[1,"toggle-label"],["name","lucide-history","size","18"],[1,"toggle-material"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"slider"],[1,"events-info"],[1,"badge","coming"],["class","event-card",3,"past-event",4,"ngFor","ngForOf"],["class","modal",3,"click",4,"ngIf"],[1,"btn-primary",3,"click"],["name","plus","size","16"],[1,"event-card"],[1,"left"],[1,"type-badge"],["size","22",3,"name"],[1,"info"],[1,"row-1"],[1,"title"],["class","badge past",4,"ngIf"],[1,"row-2","date"],[1,"row-3","desc"],[1,"actions-cell"],[1,"badge","past"],["title","Modifier",1,"icon-btn","edit-btn",3,"click"],["name","pen-line","size","20"],["title","Supprimer",1,"icon-btn","delete-btn",3,"click"],["name","trash-2","size","20"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","3",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"div",1)(2,"h2"),ke(3,"lucide-icon",2),v(4," \xC9v\xE9nements"),g(),Qo(5,X7,3,0,"button",3),g(),y(6,"div",4)(7,"div",5),ke(8,"lucide-icon",6),y(9,"input",7),ee("ngModelChange",function(s){return ne(i.searchText,s)||(i.searchText=s),s}),_("ngModelChange",function(){return i.filterEvents()}),g()(),y(10,"label",8)(11,"span",9),ke(12,"lucide-icon",10),v(13," \xC9v\xE9nements pass\xE9s"),g(),y(14,"div",11)(15,"input",12),ee("ngModelChange",function(s){return ne(i.showPastEvents,s)||(i.showPastEvents=s),s}),_("change",function(){return i.filterEvents()}),g(),ke(16,"span",13),g()()(),y(17,"div",14)(18,"span",15),v(19),g()(),pe(20,J7,14,12,"div",16)(21,tx,34,7,"div",17),g()),o&2&&(C(5),Yo(i.readonly?-1:5),C(4),J("ngModel",i.searchText),C(6),J("ngModel",i.showPastEvents),C(4),ge("",i.filteredEvents.length," \xE9v\xE9nements"),C(),G("ngForOf",i.filteredEvents),C(),G("ngIf",i.showModal))},dependencies:[qe,sr,nt,yt,mi,ki,Qe,$0,mr,ft,ot,Kt,yn],styles:['.badge.coming[_ngcontent-%COMP%]{background:#e8f0ff;color:#5083e6}.toggle-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;cursor:pointer}.toggle-row[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:14px;color:#333;-webkit-user-select:none;user-select:none}.toggle-material[_ngcontent-%COMP%]{position:relative;width:46px;height:24px;display:inline-block}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-material[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000208;border-radius:24px;transition:.25s}.toggle-material[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{content:"";position:absolute;width:18px;height:18px;left:3px;bottom:3px;background:#fff;border-radius:50%;transition:.25s;box-shadow:0 2px 4px #00000040}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background:#3d6df2}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.event-list-container[_ngcontent-%COMP%]{padding:1.5rem;height:100%;display:flex;flex-direction:column;background:#fff;border-right:1px solid #e2e8f0;overflow:hidden}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;gap:.5rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a1a1a;margin:0}.btn-primary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#2563eb;color:#fff;padding:.5rem .75rem;border:none;border-radius:4px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.filters-section[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-direction:column;gap:.75rem}.search-box[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{position:absolute;left:.5rem;color:#6b7280;pointer-events:none}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.4rem .4rem .4rem 2rem;border:1px solid #dee2e6;border-radius:4px;font-size:.8rem}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}.filter-toggle[_ngcontent-%COMP%]{display:flex;align-items:center}.filter-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-size:.8rem;color:#495057;cursor:pointer}.filter-toggle[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{cursor:pointer}.events-info[_ngcontent-%COMP%]{padding:.25rem 0;font-size:.75rem;color:#6b7280;margin-bottom:.5rem}.info-text[_ngcontent-%COMP%]{font-weight:500}.events-table[_ngcontent-%COMP%]{flex:1;overflow-y:auto;border:1px solid #e9ecef;border-radius:4px;margin-bottom:.5rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.75rem}thead[_ngcontent-%COMP%]{background:#f8f9fa;position:sticky;top:0;z-index:10}th[_ngcontent-%COMP%]{text-align:left;padding:.5rem;font-weight:600;color:#495057;border-bottom:1px solid #dee2e6}td[_ngcontent-%COMP%]{padding:.5rem;border-bottom:1px solid #e9ecef;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}tr.past-event[_ngcontent-%COMP%]{opacity:.6}.type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.25rem;padding:.2rem .4rem;border-radius:3px;font-size:.65rem;font-weight:600}.badge-livraison[_ngcontent-%COMP%]{background:#dcfce7;color:#15803d}.badge-mep[_ngcontent-%COMP%]{background:#f3e8ff;color:#7e22ce}.title-cell[_ngcontent-%COMP%], .version-cell[_ngcontent-%COMP%]{font-weight:500}.description-cell[_ngcontent-%COMP%]{color:#6b7280}.actions-cell[_ngcontent-%COMP%]{display:flex;gap:.25rem;justify-content:center}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;padding:.25rem;cursor:pointer;transition:all .2s;border-radius:3px;display:flex;align-items:center;justify-content:center;color:#495057}.icon-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9}.edit-btn[_ngcontent-%COMP%]:hover{color:#f59e0b}.delete-btn[_ngcontent-%COMP%]{color:#ef4444}.delete-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#ef4444}.empty-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:150px;color:#6b7280;font-size:.8rem}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:450px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.75rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:28px;height:28px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.25rem}.form-group[_ngcontent-%COMP%]{margin-bottom:.875rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.8rem;font-weight:500;color:#495057;margin-bottom:.375rem}input[type=text][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.4rem;border:1px solid #dee2e6;border-radius:4px;font-size:.8rem;font-family:inherit;box-sizing:border-box}input[type=text][_ngcontent-%COMP%]:focus, input[type=date][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.25rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.4rem .8rem;border:none;border-radius:4px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}.event-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:14px 18px;border:1px solid #eee;border-radius:10px;margin-bottom:8px;background:#fff;transition:transform .12s ease,box-shadow .12s ease,background-color .12s ease;font-size:18px}.event-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 14px #00000014;background-color:#fafafa;cursor:pointer}.event-card.past-event[_ngcontent-%COMP%]{opacity:.7}.left[_ngcontent-%COMP%]{display:flex;gap:14px;align-items:flex-start}.icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;background:#e9f7ef;display:flex;justify-content:center;align-items:center}.info[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.title[_ngcontent-%COMP%]{font-weight:600}.badge[_ngcontent-%COMP%]{padding:2px 8px;border-radius:8px;font-size:12px}.badge.past[_ngcontent-%COMP%]{background:#efefef;color:#666}.date[_ngcontent-%COMP%]{font-size:15px;color:#666;margin-top:2px}.desc[_ngcontent-%COMP%]{margin-top:6px;font-size:15px;color:#444}']});let n=t;return n})();function nx(n,t){if(n&1){let e=De();y(0,"div",6),_("click",function(){O(e);let o=S();return N(o.toggleSidebar())}),g()}}var Zd=(()=>{let t=class t{constructor(){this.isOpen=!1,this.toggleEvent=new me,this.isMobile=window.innerWidth<1024,window.addEventListener("resize",()=>{this.isMobile=window.innerWidth<1024})}toggleSidebar(){this.toggleEvent.emit()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=he({type:t,selectors:[["app-sidebar-panel"]],inputs:{isOpen:"isOpen"},outputs:{toggleEvent:"toggleEvent"},decls:6,vars:5,consts:[[1,"sidebar-wrapper"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"sidebar-content"],[3,"readonly"],[1,"sidebar-toggle",3,"click"],["size","20",3,"name"],[1,"sidebar-overlay",3,"click"]],template:function(o,i){o&1&&(y(0,"div",0),pe(1,nx,1,0,"div",1),y(2,"div",2),ke(3,"app-event-list",3),g(),y(4,"button",4),_("click",function(){return i.toggleSidebar()}),ke(5,"lucide-icon",5),g()()),o&2&&(Xe("open",i.isOpen),C(),G("ngIf",i.isOpen&&i.isMobile),C(2),G("readonly",!0),C(2),G("name",i.isOpen?"panel-left-close":"panel-left-open"))},dependencies:[qe,nt,Wd,Kt,yn],styles:[".sidebar-wrapper[_ngcontent-%COMP%]{position:relative;height:100%;display:flex}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:99}.sidebar-content[_ngcontent-%COMP%]{width:350px;height:100%;background:#fff;border-right:1px solid #e2e8f0;overflow-y:auto;z-index:100;transition:transform .3s ease;transform:translate(0)}.sidebar-wrapper[_ngcontent-%COMP%]:not(.open)   .sidebar-content[_ngcontent-%COMP%]{position:absolute;transform:translate(-100%)}.sidebar-toggle[_ngcontent-%COMP%]{position:fixed;bottom:2rem;left:1rem;width:44px;height:44px;background:#2563eb;color:#fff;border:none;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:101;box-shadow:0 4px 12px #2563eb4d;transition:all .3s}.sidebar-toggle[_ngcontent-%COMP%]:hover{background:#1d4ed8;box-shadow:0 6px 16px #2563eb66}@media (max-width: 1024px){.sidebar-wrapper[_ngcontent-%COMP%]{position:fixed;top:80px;left:0;width:100%;height:calc(100vh - 80px);z-index:50;pointer-events:none}.sidebar-content[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%], .sidebar-toggle[_ngcontent-%COMP%]{pointer-events:auto}.sidebar-content[_ngcontent-%COMP%]{position:absolute}}@media (max-width: 768px){.sidebar-content[_ngcontent-%COMP%]{width:280px}}"]});let n=t;return n})();function rx(n,t){if(n&1&&(y(0,"div",9),v(1),g()),n&2){let e=t.$implicit;C(),Oe(e)}}function ox(n,t){if(n&1){let e=De();y(0,"div",15),_("click",function(){let o=O(e).$implicit,i=S().$implicit,a=S();return N(a.openEventModal(o,i.date))}),ke(1,"lucide-icon",16),v(2),g()}if(n&2){let e=t.$implicit;Xe("event-livraison",e.event_type==="livraison")("event-mep",e.event_type==="mep"),C(),G("name",e.event_type==="livraison"?"package":"rocket"),C(),ge(" ",e.title.substring(0,10)," ")}}function ix(n,t){if(n&1){let e=De();y(0,"div",10)(1,"div",11),v(2),g(),y(3,"div",12),pe(4,ox,3,6,"div",13),y(5,"button",14),_("click",function(){let o=O(e).$implicit,i=S();return N(i.openAddEventModal(o.date))}),v(6,"+"),g()()()}if(n&2){let e=t.$implicit;Xe("other-month",!e.isCurrentMonth)("today",e.isToday),C(2),Oe(e.dayNumber),C(2),G("ngForOf",e.events)}}function ax(n,t){if(n&1){let e=De();y(0,"button",33),_("click",function(){O(e);let o=S(2);return N(o.deleteEvent())}),v(1,"Supprimer"),g()}}function sx(n,t){if(n&1){let e=De();y(0,"div",17),_("click",function(){O(e);let o=S();return N(o.closeModal())}),y(1,"div",18),_("click",function(o){return O(e),N(o.stopPropagation())}),y(2,"div",19)(3,"h3"),v(4),g(),y(5,"button",20),_("click",function(){O(e);let o=S();return N(o.closeModal())}),v(6,"\xD7"),g()(),y(7,"div",21)(8,"div",22)(9,"label"),v(10,"Type"),g(),y(11,"select",23),ee("ngModelChange",function(o){O(e);let i=S();return ne(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),N(o)}),_("ngModelChange",function(){O(e);let o=S();return N(o.updateModalTitle())}),y(12,"option",24),v(13,"Livraison (LV)"),g(),y(14,"option",25),v(15,"Mise en Production (MEP)"),g()()(),y(16,"div",22)(17,"label"),v(18,"Version"),g(),y(19,"input",26),ee("ngModelChange",function(o){O(e);let i=S();return ne(i.modalEvent.version,o)||(i.modalEvent.version=o),N(o)}),_("ngModelChange",function(){O(e);let o=S();return N(o.updateModalTitle())}),g()(),y(20,"div",22)(21,"label"),v(22,"Date"),g(),y(23,"input",27),ee("ngModelChange",function(o){O(e);let i=S();return ne(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),N(o)}),g()(),y(24,"div",22)(25,"label"),v(26,"Description"),g(),y(27,"textarea",28),ee("ngModelChange",function(o){O(e);let i=S();return ne(i.modalEvent.description,o)||(i.modalEvent.description=o),N(o)}),g()()(),y(28,"div",29),pe(29,ax,2,0,"button",30),y(30,"button",31),_("click",function(){O(e);let o=S();return N(o.closeModal())}),v(31,"Annuler"),g(),y(32,"button",32),_("click",function(){O(e);let o=S();return N(o.saveEvent())}),v(33),g()()()()}if(n&2){let e=S();C(4),Oe(e.isEditMode?"Modifier l'\xE9v\xE9nement":"Nouvel \xE9v\xE9nement"),C(7),J("ngModel",e.modalEvent.event_type),C(8),J("ngModel",e.modalEvent.version),C(4),J("ngModel",e.modalEvent.event_date),C(4),J("ngModel",e.modalEvent.description),C(2),G("ngIf",e.isEditMode),C(4),Oe(e.isEditMode?"Sauvegarder":"Cr\xE9er")}}var C4=(()=>{let t=class t{constructor(r){this.eventService=r,this.currentDate=new Date,this.calendarDays=[],this.weekDays=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],this.events=[],this.sidebarOpen=!0,this.showModal=!1,this.isEditMode=!1,this.modalEvent={}}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.generateCalendar()})}generateCalendar(){let r=this.currentDate.getFullYear(),o=this.currentDate.getMonth(),i=new Date(r,o,1),a=new Date(r,o+1,0),s=i.getDay();s=s===0?6:s-1;let c=new Date(r,o,0).getDate();this.calendarDays=[];for(let d=s-1;d>=0;d--){let u=new Date(r,o-1,c-d);this.calendarDays.push({dayNumber:c-d,date:this.formatDateToString(u),isCurrentMonth:!1,isToday:!1,events:[]})}for(let d=1;d<=a.getDate();d++){let u=new Date(r,o,d),p=this.formatDateToString(u),h=this.eventService.getEventsByDate(p);this.calendarDays.push({dayNumber:d,date:p,isCurrentMonth:!0,isToday:this.isToday(u),events:h})}let l=42-this.calendarDays.length;for(let d=1;d<=l;d++){let u=new Date(r,o+1,d);this.calendarDays.push({dayNumber:d,date:this.formatDateToString(u),isCurrentMonth:!1,isToday:!1,events:[]})}}formatDateToString(r){let o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0");return`${o}-${i}-${a}`}isToday(r){let o=new Date;return r.getDate()===o.getDate()&&r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()}getMonthYear(){return this.currentDate.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}previousMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1),this.generateCalendar()}nextMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1),this.generateCalendar()}openAddEventModal(r){this.isEditMode=!1,this.modalEvent={event_type:"livraison",version:"",event_date:r,description:"",title:""},this.showModal=!0}openEventModal(r,o){this.isEditMode=!0,this.modalEvent=b({},r),this.showModal=!0}closeModal(){this.showModal=!1,this.modalEvent={}}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return f(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode?yield this.eventService.updateEvent(this.modalEvent.id,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}deleteEvent(){return f(this,null,function*(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&(yield this.eventService.deleteEvent(this.modalEvent.id),this.closeModal())})}};t.\u0275fac=function(o){return new(o||t)(L(Ai))},t.\u0275cmp=he({type:t,selectors:[["app-calendar-view"]],decls:14,vars:5,consts:[[1,"calendar-wrapper"],[3,"toggleEvent","isOpen"],[1,"calendar-container"],[1,"calendar-header"],[1,"nav-btn",3,"click"],[1,"calendar-grid"],["class","day-header",4,"ngFor","ngForOf"],["class","calendar-day",3,"other-month","today",4,"ngFor","ngForOf"],["class","modal",3,"click",4,"ngIf"],[1,"day-header"],[1,"calendar-day"],[1,"day-number"],[1,"day-events"],["class","event-item",3,"event-livraison","event-mep","click",4,"ngFor","ngForOf"],[1,"add-event-btn",3,"click"],[1,"event-item",3,"click"],["size","12",3,"name"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","4",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"app-sidebar-panel",1),_("toggleEvent",function(){return i.sidebarOpen=!i.sidebarOpen}),g(),y(2,"div",2)(3,"div",3)(4,"button",4),_("click",function(){return i.previousMonth()}),v(5,"\u2039"),g(),y(6,"h2"),v(7),g(),y(8,"button",4),_("click",function(){return i.nextMonth()}),v(9,"\u203A"),g()(),y(10,"div",5),pe(11,rx,2,1,"div",6)(12,ix,7,6,"div",7),g(),pe(13,sx,34,7,"div",8),g()()),o&2&&(C(),G("isOpen",i.sidebarOpen),C(6),Oe(i.getMonthYear()),C(4),G("ngForOf",i.weekDays),C(),G("ngForOf",i.calendarDays),C(),G("ngIf",i.showModal))},dependencies:[qe,sr,nt,yt,mi,ki,Qe,mr,ft,ot,Kt,yn,Zd],styles:[".calendar-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 80px)}.calendar-container[_ngcontent-%COMP%]{flex:1;padding:2rem;overflow-y:auto}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#1a1a1a;margin:0}.nav-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:6px;width:40px;height:40px;font-size:1.5rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#2563eb}.calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;background:#dee2e6;border:1px solid #dee2e6;border-radius:8px;overflow:hidden}.day-header[_ngcontent-%COMP%]{background:#f8f9fa;padding:1rem;text-align:center;font-weight:600;font-size:.875rem;color:#495057}.calendar-day[_ngcontent-%COMP%]{background:#fff;min-height:120px;padding:.5rem;position:relative;transition:background-color .2s}.calendar-day[_ngcontent-%COMP%]:hover{background:#f8f9fa}.calendar-day.other-month[_ngcontent-%COMP%]{background:#f8f9fa;opacity:.5}.calendar-day.today[_ngcontent-%COMP%]{background:#eff6ff}.day-number[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:#1a1a1a;margin-bottom:.5rem}.day-events[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.event-item[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:500;cursor:pointer;transition:all .2s;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.event-item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.event-item.event-mep[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.add-event-btn[_ngcontent-%COMP%]{background:transparent;border:1px dashed #dee2e6;border-radius:4px;padding:.25rem;font-size:1rem;color:#6b7280;cursor:pointer;margin-top:.25rem;transition:all .2s}.add-event-btn[_ngcontent-%COMP%]:hover{border-color:#2563eb;color:#2563eb;background:#eff6ff}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:32px;height:32px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#495057;margin-bottom:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;font-family:inherit;box-sizing:border-box}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.5rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}"]});let n=t;return n})();function cx(n,t){if(n&1){let e=De();y(0,"div",20),_("click",function(){let o=O(e).$implicit,i=S(3);return N(i.openEventModal(o))}),ke(1,"lucide-icon",21),v(2),g()}if(n&2){let e=t.$implicit;Xe("event-livraison",e.event_type==="livraison")("event-mep",e.event_type==="mep"),C(),G("name",e.event_type==="livraison"?"package":"rocket"),C(),ge(" ",e.title.substring(0,14)," ")}}function lx(n,t){if(n&1){let e=De();y(0,"div",16)(1,"div",12),v(2),g(),y(3,"div",13),v(4),g(),y(5,"div",14)(6,"div",17),pe(7,cx,3,6,"div",18),y(8,"button",19),_("click",function(){let o=O(e).$implicit,i=S(2);return N(i.openAddEventModal(o.dateStr))}),v(9,"+"),g()()()()}if(n&2){let e=t.$implicit;Xe("has-events",e.events.length>0)("today",e.isToday),C(2),Oe(e.dayNumber),C(2),Oe(e.dayName),C(3),G("ngForOf",e.events)}}function dx(n,t){if(n&1&&(y(0,"div",8)(1,"h3",9),v(2),g(),y(3,"div",10)(4,"div",11)(5,"div",12),v(6,"Date"),g(),y(7,"div",13),v(8,"Jour"),g(),y(9,"div",14),v(10,"\xC9v\xE9nements"),g()(),pe(11,lx,10,7,"div",15),g()()),n&2){let e=t.$implicit;C(2),Oe(e.title),C(9),G("ngForOf",e.days)}}function ux(n,t){if(n&1){let e=De();y(0,"button",38),_("click",function(){O(e);let o=S(2);return N(o.deleteEvent())}),v(1,"Supprimer"),g()}}function hx(n,t){if(n&1){let e=De();y(0,"div",22),_("click",function(){O(e);let o=S();return N(o.closeModal())}),y(1,"div",23),_("click",function(o){return O(e),N(o.stopPropagation())}),y(2,"div",24)(3,"h3"),v(4),g(),y(5,"button",25),_("click",function(){O(e);let o=S();return N(o.closeModal())}),v(6,"\xD7"),g()(),y(7,"div",26)(8,"div",27)(9,"label"),v(10,"Type"),g(),y(11,"select",28),ee("ngModelChange",function(o){O(e);let i=S();return ne(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),N(o)}),_("ngModelChange",function(){O(e);let o=S();return N(o.updateModalTitle())}),y(12,"option",29),v(13,"Livraison (LV)"),g(),y(14,"option",30),v(15,"Mise en Production (MEP)"),g()()(),y(16,"div",27)(17,"label"),v(18,"Version"),g(),y(19,"input",31),ee("ngModelChange",function(o){O(e);let i=S();return ne(i.modalEvent.version,o)||(i.modalEvent.version=o),N(o)}),_("ngModelChange",function(){O(e);let o=S();return N(o.updateModalTitle())}),g()(),y(20,"div",27)(21,"label"),v(22,"Date"),g(),y(23,"input",32),ee("ngModelChange",function(o){O(e);let i=S();return ne(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),N(o)}),g()(),y(24,"div",27)(25,"label"),v(26,"Description"),g(),y(27,"textarea",33),ee("ngModelChange",function(o){O(e);let i=S();return ne(i.modalEvent.description,o)||(i.modalEvent.description=o),N(o)}),g()()(),y(28,"div",34),pe(29,ux,2,0,"button",35),y(30,"button",36),_("click",function(){O(e);let o=S();return N(o.closeModal())}),v(31,"Annuler"),g(),y(32,"button",37),_("click",function(){O(e);let o=S();return N(o.saveEvent())}),v(33),g()()()()}if(n&2){let e=S();C(4),Oe(e.isEditMode?"Modifier l'\xE9v\xE9nement":"Nouvel \xE9v\xE9nement"),C(7),J("ngModel",e.modalEvent.event_type),C(8),J("ngModel",e.modalEvent.version),C(4),J("ngModel",e.modalEvent.event_date),C(4),J("ngModel",e.modalEvent.description),C(2),G("ngIf",e.isEditMode),C(4),Oe(e.isEditMode?"Sauvegarder":"Cr\xE9er")}}var b4=(()=>{let t=class t{constructor(r){this.eventService=r,this.startDate=new Date,this.monthsData=[],this.events=[],this.sidebarOpen=!0,this.showModal=!1,this.isEditMode=!1,this.modalEvent={},this.dayNames=["D","L","M","M","J","V","S"],this.startDate.setDate(1)}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.generateCompactView()})}generateCompactView(){this.monthsData=[];let r=4;for(let o=0;o<r;o++){let i=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+o,1),a=i.toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),s=new Date(i.getFullYear(),i.getMonth()+1,0).getDate(),c=[];for(let l=1;l<=s;l++){let d=new Date(i.getFullYear(),i.getMonth(),l),u=this.formatDateToString(d),p=this.eventService.getEventsByDate(u);c.push({dayNumber:String(l).padStart(2,"0"),dayName:this.getDayName(d),dateStr:u,isToday:this.isToday(d),events:p})}this.monthsData.push({title:a,days:c})}}formatDateToString(r){let o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0");return`${o}-${i}-${a}`}getDayName(r){let o=r.getDay();return this.dayNames[o]}isToday(r){let o=new Date;return r.getDate()===o.getDate()&&r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()}getPeriodTitle(){let r=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+2,0);return`${this.startDate.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})} - ${r.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}`}previousPeriod(){this.startDate=new Date(this.startDate.getFullYear(),this.startDate.getMonth()-3,1),this.generateCompactView()}nextPeriod(){this.startDate=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+3,1),this.generateCompactView()}openAddEventModal(r){this.isEditMode=!1,this.modalEvent={event_type:"livraison",version:"",event_date:r,description:"",title:""},this.showModal=!0}openEventModal(r){this.isEditMode=!0,this.modalEvent=b({},r),this.showModal=!0}closeModal(){this.showModal=!1,this.modalEvent={}}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return f(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode?yield this.eventService.updateEvent(this.modalEvent.id,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}deleteEvent(){return f(this,null,function*(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&(yield this.eventService.deleteEvent(this.modalEvent.id),this.closeModal())})}};t.\u0275fac=function(o){return new(o||t)(L(Ai))},t.\u0275cmp=he({type:t,selectors:[["app-compact-view"]],decls:13,vars:4,consts:[[1,"compact-wrapper"],[3,"toggleEvent","isOpen"],[1,"compact-container"],[1,"compact-header"],[1,"nav-btn",3,"click"],[1,"months-grid"],["class","month-column",4,"ngFor","ngForOf"],["class","modal",3,"click",4,"ngIf"],[1,"month-column"],[1,"month-title"],[1,"compact-table"],[1,"table-header"],[1,"col-date"],[1,"col-day"],[1,"col-events"],["class","table-row",3,"has-events","today",4,"ngFor","ngForOf"],[1,"table-row"],[1,"events-list"],["class","compact-event",3,"event-livraison","event-mep","click",4,"ngFor","ngForOf"],[1,"add-compact-btn",3,"click"],[1,"compact-event",3,"click"],["size","11",3,"name"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","4",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"app-sidebar-panel",1),_("toggleEvent",function(){return i.sidebarOpen=!i.sidebarOpen}),g(),y(2,"div",2)(3,"div",3)(4,"button",4),_("click",function(){return i.previousPeriod()}),v(5,"\u2039"),g(),y(6,"h2"),v(7),g(),y(8,"button",4),_("click",function(){return i.nextPeriod()}),v(9,"\u203A"),g()(),y(10,"div",5),pe(11,dx,12,2,"div",6),g()(),pe(12,hx,34,7,"div",7),g()),o&2&&(C(),G("isOpen",i.sidebarOpen),C(6),Oe(i.getPeriodTitle()),C(4),G("ngForOf",i.monthsData),C(),G("ngIf",i.showModal))},dependencies:[qe,sr,nt,yt,mi,ki,Qe,mr,ft,ot,Kt,yn,Zd],styles:[".compact-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 80px)}.compact-container[_ngcontent-%COMP%]{flex:1;padding:2rem;overflow-y:auto}.compact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#1a1a1a;margin:0}.nav-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:6px;width:40px;height:40px;font-size:1.5rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#2563eb}.months-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1.5rem}.month-column[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 1px 3px #0000001a}.month-title[_ngcontent-%COMP%]{background:#f8f9fa;margin:0;padding:1rem;font-size:1.125rem;font-weight:600;color:#1a1a1a;text-align:center;border-bottom:2px solid #dee2e6}.compact-table[_ngcontent-%COMP%]{font-size:.8rem}.table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:50px 50px 1fr;background:#f8f9fa;font-weight:600;color:#495057;border-bottom:1px solid #dee2e6;position:sticky;top:0;z-index:10}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:.75rem .5rem;border-right:1px solid #e9ecef}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-right:none}.table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:50px 50px 1fr;border-bottom:1px solid #e9ecef;transition:background-color .2s;min-height:36px}.table-row[_ngcontent-%COMP%]:hover{background:#f8f9fa}.table-row.today[_ngcontent-%COMP%]{background:#eff6ff}.table-row.has-events[_ngcontent-%COMP%]{background:#fefce8}.table-row.has-events[_ngcontent-%COMP%]:hover{background:#fef9c3}.col-date[_ngcontent-%COMP%], .col-day[_ngcontent-%COMP%]{padding:.5rem;border-right:1px solid #e9ecef;display:flex;align-items:center;justify-content:center;font-weight:500}.col-events[_ngcontent-%COMP%]{padding:.5rem;display:flex;align-items:center}.events-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem;width:100%}.compact-event[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;padding:.125rem .375rem;border-radius:3px;font-size:.7rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.compact-event[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.compact-event.event-mep[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.add-compact-btn[_ngcontent-%COMP%]{background:transparent;border:1px dashed #dee2e6;border-radius:3px;padding:.125rem .375rem;font-size:.7rem;color:#6b7280;cursor:pointer;transition:all .2s}.add-compact-btn[_ngcontent-%COMP%]:hover{border-color:#2563eb;color:#2563eb;background:#eff6ff}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:32px;height:32px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#495057;margin-bottom:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;font-family:inherit;box-sizing:border-box}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.5rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}@media (max-width: 1200px){.months-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let n=t;return n})();var x4=(()=>{let t=class t{constructor(){this.email=ht(""),this.password=ht(""),this.supabaseService=k(mt),this.router=k(ve)}signInWithEmail(){return f(this,null,function*(){let{error:r}=yield this.supabaseService.signInWithEmail({email:this.email(),password:this.password()});r?alert("Error signing in: "+r.message):this.router.navigate(["/compact"])})}navigateToSignup(){this.router.navigate(["/signup"])}navigateToForgot(){this.router.navigate(["/forgot-password"])}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=he({type:t,selectors:[["app-login"]],decls:16,vars:2,consts:[[1,"container"],[3,"ngSubmit"],["type","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Password","required","",3,"ngModelChange","ngModel"],["type","submit"],[3,"click"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"h2"),v(2,"Login"),g(),y(3,"form",1),_("ngSubmit",function(){return i.signInWithEmail()}),y(4,"input",2),ee("ngModelChange",function(s){return ne(i.email,s)||(i.email=s),s}),g(),y(5,"input",3),ee("ngModelChange",function(s){return ne(i.password,s)||(i.password=s),s}),g(),y(6,"button",4),v(7,"Sign In"),g()(),y(8,"p"),v(9,"Don't have an account? "),y(10,"a",5),_("click",function(){return i.navigateToSignup()}),v(11,"Sign Up"),g()(),y(12,"p"),v(13,"Forgot your password ? "),y(14,"a",5),_("click",function(){return i.navigateToForgot()}),v(15,"Send me a link"),g()()()),o&2&&(C(4),J("ngModel",i.email),C(),J("ngModel",i.password))},dependencies:[yt,gr,Qe,ft,yr,Nn,ot,On],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}"]});let n=t;return n})();function px(n,t){if(n&1&&(y(0,"div",9),v(1),g()),n&2){let e=S();C(),ge(" ",e.error," ")}}function fx(n,t){if(n&1&&(y(0,"div",10),v(1),g()),n&2){let e=S();C(),ge(" ",e.message," ")}}var I4=(()=>{let t=class t{constructor(){this.name="",this.email="",this.password="",this.confirmPassword="",this.message="",this.error="",this.supabaseService=k(mt),this.router=k(ve)}signUp(){return f(this,null,function*(){if(this.error="",this.message="",this.password.length<6){this.error="Le mot de passe doit contenir au moins 6 caract\xE8res.";return}if(this.password!==this.confirmPassword){this.error="Les mots de passe ne correspondent pas.";return}let{error:r}=yield this.supabaseService.signUpWithEmail({name:this.name,email:this.email,password:this.password});r?alert("Error signing up: "+r.message):(alert("Check your email to confirm your account!"),this.router.navigate(["/login"]))})}navigateToLogin(){this.router.navigate(["/login"])}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=he({type:t,selectors:[["app-signup"]],decls:16,vars:6,consts:[[1,"container"],["type","text","name","name","placeholder","Full Name","required","",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","minlength","6","placeholder","Mot de passe (Minimum 6 caract\xE8res)","required","",3,"ngModelChange","ngModel"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirmez votre mot de passe","minlength","6","required","",3,"ngModelChange","ngModel"],["type","button",3,"click"],["class","message error",4,"ngIf"],["class","message success",4,"ngIf"],[3,"click"],[1,"message","error"],[1,"message","success"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"h2"),v(2,"Sign Up"),g(),y(3,"form")(4,"input",1),ee("ngModelChange",function(s){return ne(i.name,s)||(i.name=s),s}),g(),y(5,"input",2),ee("ngModelChange",function(s){return ne(i.email,s)||(i.email=s),s}),g(),y(6,"input",3),ee("ngModelChange",function(s){return ne(i.password,s)||(i.password=s),s}),g(),y(7,"input",4),ee("ngModelChange",function(s){return ne(i.confirmPassword,s)||(i.confirmPassword=s),s}),g(),y(8,"button",5),_("click",function(){return i.signUp()}),v(9,"Sign Up"),g()(),pe(10,px,2,1,"div",6)(11,fx,2,1,"div",7),y(12,"p"),v(13,"Already have an account? "),y(14,"a",8),_("click",function(){return i.navigateToLogin()}),v(15,"Log In"),g()()()),o&2&&(C(4),J("ngModel",i.name),C(),J("ngModel",i.email),C(),J("ngModel",i.password),C(),J("ngModel",i.confirmPassword),C(3),G("ngIf",i.error),C(),G("ngIf",i.message))},dependencies:[yt,gr,Qe,ft,yr,Nn,Qa,ot,On,qe,nt],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.container[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.container[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:hover{background-color:#2980b9}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}.message[_ngcontent-%COMP%]{margin-top:20px;padding:12px;border-radius:5px;text-align:center;font-size:14px}.message.error[_ngcontent-%COMP%]{background-color:#fee;color:#c33;border:1px solid #fcc}.message.success[_ngcontent-%COMP%]{background-color:#efe;color:#3c3;border:1px solid #cfc}"]});let n=t;return n})();var _4=(n,t)=>f(null,null,function*(){let e=k(mt),r=k(ve),{data:o}=yield e.getUser();return o.user?!0:(r.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1)});function yx(n,t){if(n&1&&(sn(0,"p"),v(1),cn(),sn(2,"p"),v(3),cn(),sn(4,"p"),v(5),cn()),n&2){let e=S();C(),ge("User ID: ",e.user.id),C(2),ge("Email: ",e.user.email),C(2),ge("Display Name: ",e.user.user_metadata.displayName)}}var S4=(()=>{let t=class t{constructor(){this.user=null,this.supabaseService=k(mt),this.router=k(ve)}ngOnInit(){this.fetchUser()}fetchUser(){return f(this,null,function*(){let{data:r}=yield this.supabaseService.getUser();this.user=r.user,this.user||this.router.navigate(["/login"])})}signOut(){return f(this,null,function*(){yield this.supabaseService.signOut(),this.router.navigate(["/login"])})}updatePassword(){return f(this,null,function*(){this.router.navigate(["/update-password"])})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=he({type:t,selectors:[["app-profile"]],decls:10,vars:1,consts:[[1,"container"],[1,"btn","btn-secondary",3,"click"],[1,"btn",3,"click"]],template:function(o,i){o&1&&(sn(0,"div",0)(1,"h2"),v(2,"User Profile"),cn(),sn(3,"p"),v(4," Congratulations! Welcome to secure auth with Angular + Supabase is running. \u{1F389} "),cn(),Qo(5,yx,6,3),sn(6,"button",1),ma("click",function(){return i.updatePassword()}),v(7,"Modifier le mot de passe"),cn(),sn(8,"button",2),ma("click",function(){return i.signOut()}),v(9,"Sign Out"),cn()()),o&2&&(C(5),Yo(i.user?5:-1))},styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;text-align:left}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1.5rem;font-weight:500;text-align:left}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:#555;line-height:1.5;text-align:left}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{font-size:1.1rem;margin-bottom:2rem;color:#27ae60}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type){font-weight:500;color:#2c3e50;word-break:break-all}.container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:block;width:100%;padding:.85rem;margin-top:2rem;background-color:#e74c3c;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease}.container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#c0392b}.container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d}.container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#2a2b2c}"]});let n=t;return n})();function gx(n,t){if(n&1&&(y(0,"div",8),v(1),g()),n&2){let e=S();C(),ge(" ",e.message," ")}}var D4=(()=>{let t=class t{constructor(r){this.supabaseService=r,this.email="",this.message="",this.loading=!1,this.router=k(ve)}onSubmit(){return f(this,null,function*(){this.loading=!0;try{yield this.supabaseService.resetPasswordForEmail(this.email),this.message="Un lien de r\xE9initialisation a \xE9t\xE9 envoy\xE9 \xE0 votre adresse email."}catch(r){this.message=`Erreur : ${r.message}`}finally{this.loading=!1}})}navigateToLogin(){this.router.navigate(["/login"])}};t.\u0275fac=function(o){return new(o||t)(L(mt))},t.\u0275cmp=he({type:t,selectors:[["app-forgot-password"]],decls:14,vars:2,consts:[[1,"forgot-password-container"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","placeholder","Votre email",3,"ngModelChange","ngModel"],["type","submit"],["class","message",4,"ngIf"],[3,"click"],[1,"message"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"h2"),v(2,"Mot de passe oubli\xE9"),g(),y(3,"form",1),_("ngSubmit",function(){return i.onSubmit()}),y(4,"div",2)(5,"label",3),v(6,"Email"),g(),y(7,"input",4),ee("ngModelChange",function(s){return ne(i.email,s)||(i.email=s),s}),g()(),y(8,"button",5),v(9,"Envoyer le lien de r\xE9initialisation"),g()(),pe(10,gx,2,1,"div",6),y(11,"p")(12,"a",7),_("click",function(){return i.navigateToLogin()}),v(13,"Retour au Log In"),g()()()),o&2&&(C(7),J("ngModel",i.email),C(3),G("ngIf",i.message))},dependencies:[yt,gr,Qe,ft,yr,Nn,ot,On,qe,nt],styles:[".forgot-password-container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.forgot-password-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.forgot-password-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2c3e50;font-weight:500}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.forgot-password-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.forgot-password-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#2980b9}.forgot-password-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;text-align:center;border-radius:6px;background-color:#e8f4fc;color:#2c3e50;border:1px solid #b8d8f0}p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}"]});let n=t;return n})();function mx(n,t){if(n&1){let e=De();y(0,"form",8),_("ngSubmit",function(){O(e);let o=S();return N(o.onSubmit())}),y(1,"div",9)(2,"label",10),v(3,"Nouveau mot de passe"),g(),y(4,"input",11),ee("ngModelChange",function(o){O(e);let i=S();return ne(i.newPassword,o)||(i.newPassword=o),N(o)}),g()(),y(5,"div",9)(6,"label",12),v(7,"Confirmer le mot de passe"),g(),y(8,"input",13),ee("ngModelChange",function(o){O(e);let i=S();return ne(i.confirmPassword,o)||(i.confirmPassword=o),N(o)}),g()(),y(9,"button",14),v(10),g()()}if(n&2){let e=S();C(4),J("ngModel",e.newPassword),G("disabled",e.loading),C(4),J("ngModel",e.confirmPassword),G("disabled",e.loading),C(),G("disabled",e.loading),C(),ge(" ",e.loading?"Mise \xE0 jour...":"Mettre \xE0 jour le mot de passe"," ")}}function kx(n,t){if(n&1&&(y(0,"div",15),v(1),g()),n&2){let e=S();C(),ge(" ",e.error," ")}}function vx(n,t){if(n&1&&(y(0,"div",16),v(1),g()),n&2){let e=S();C(),ge(" ",e.message," ")}}var E4=(()=>{let t=class t{constructor(r,o){this.supabaseService=r,this.router=o,this.newPassword="",this.confirmPassword="",this.message="",this.error="",this.loading=!1,this.success=!1}ngOnInit(){return f(this,null,function*(){let{data:r}=yield this.supabaseService.getSession();r.session||(this.error="Session invalide. Veuillez demander un nouveau lien de r\xE9initialisation.")})}onSubmit(){return f(this,null,function*(){if(this.error="",this.message="",this.newPassword.length<6){this.error="Le mot de passe doit contenir au moins 6 caract\xE8res.";return}if(this.newPassword!==this.confirmPassword){this.error="Les mots de passe ne correspondent pas.";return}this.loading=!0;try{let{error:r}=yield this.supabaseService.updatePassword(this.newPassword);r?this.error="Erreur : "+r.message:(this.message="Mot de passe mis \xE0 jour avec succ\xE8s !",this.success=!0)}catch(r){this.error="Une erreur est survenue : "+r.message}finally{this.loading=!1}})}goToProfile(){this.router.navigate(["/profile"])}goToLogin(){this.router.navigate(["/login"])}};t.\u0275fac=function(o){return new(o||t)(L(mt),L(ve))},t.\u0275cmp=he({type:t,selectors:[["app-update-password"]],decls:13,vars:3,consts:[[1,"update-password-container"],[1,"update-password-card"],[1,"subtitle"],[3,"ngSubmit",4,"ngIf"],["class","message error",4,"ngIf"],["class","message success",4,"ngIf"],[1,"profile-button",3,"click"],[1,"login-button",3,"click"],[3,"ngSubmit"],[1,"form-group"],["for","newPassword"],["type","password","id","newPassword","name","newPassword","required","","minlength","6","placeholder","Minimum 6 caract\xE8res",3,"ngModelChange","ngModel","disabled"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","","minlength","6","placeholder","Confirmez votre mot de passe",3,"ngModelChange","ngModel","disabled"],["type","submit",3,"disabled"],[1,"message","error"],[1,"message","success"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"div",1)(2,"h2"),v(3,"Mettre \xE0 jour votre mot de passe"),g(),y(4,"p",2),v(5,"Veuillez entrer votre nouveau mot de passe"),g(),pe(6,mx,11,6,"form",3)(7,kx,2,1,"div",4)(8,vx,2,1,"div",5),y(9,"button",6),_("click",function(){return i.goToProfile()}),v(10," Retour au profil "),g(),y(11,"button",7),_("click",function(){return i.goToLogin()}),v(12," Retour \xE0 la connexion "),g()()()),o&2&&(C(6),G("ngIf",!i.success&&(!i.error||i.newPassword)),C(),G("ngIf",i.error),C(),G("ngIf",i.message))},dependencies:[yt,gr,Qe,ft,yr,Nn,Qa,ot,On,qe,nt],styles:[".update-password-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.update-password-card[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:10px;box-shadow:0 10px 25px #0003;max-width:400px;width:100%}h2[_ngcontent-%COMP%]{margin:0 0 10px;color:#333;font-size:24px;text-align:center}.subtitle[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:30px;font-size:14px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500;font-size:14px}input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:5px;font-size:14px;box-sizing:border-box;transition:border-color .3s}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}button[_ngcontent-%COMP%]{width:100%;padding:12px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:5px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .2s,box-shadow .2s}button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]{margin-top:20px;background:linear-gradient(135deg,#2ecc71,#27ae60)}.login-button[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #2ecc7166}.profile-button[_ngcontent-%COMP%]{margin-top:20px;background:linear-gradient(135deg,#cc2e85 0% 100%)}.profile-button[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #2ecc7166}.message[_ngcontent-%COMP%]{margin-top:20px;padding:12px;border-radius:5px;text-align:center;font-size:14px}.message.error[_ngcontent-%COMP%]{background-color:#fee;color:#c33;border:1px solid #fcc}.message.success[_ngcontent-%COMP%]{background-color:#efe;color:#3c3;border:1px solid #cfc}"]});let n=t;return n})();var L4=[{path:"login",component:x4},{path:"signup",component:I4},{path:"forgot-password",component:D4},{path:"",canActivate:[_4],children:[{path:"",redirectTo:"/compact",pathMatch:"full"},{path:"list",component:Wd},{path:"calendar",component:C4},{path:"compact",component:b4},{path:"profile",component:S4},{path:"update-password",component:E4}]},{path:"**",redirectTo:"login"}];var Mx=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=he({type:t,selectors:[["app-root"]],decls:17,vars:0,consts:[[1,"app-container"],[1,"navbar"],[1,"nav-content"],[1,"app-title"],[1,"nav-links"],["routerLink","/calendar","routerLinkActive","active"],["routerLink","/compact","routerLinkActive","active"],["routerLink","/list","routerLinkActive","active"],["routerLink","/profile","routerLinkActive","active"],["name","user",1,"icon"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"nav",1)(2,"div",2)(3,"h1",3),v(4,"Calendrier Livraisons & MEP"),g(),y(5,"div",4)(6,"a",5),v(7,"Calendrier"),g(),y(8,"a",6),v(9,"Vue Compacte"),g(),y(10,"a",7),v(11,"Liste"),g(),y(12,"a",8),ke(13,"lucide-icon",9),v(14," Profil "),g()()()(),y(15,"main"),ke(16,"router-outlet"),g()())},dependencies:[qe,B0,Va,pi,V0,Kt,yn],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background:#f1f5f9}.app-container[_ngcontent-%COMP%]{min-height:100vh}.navbar[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e2e8f0;position:sticky;top:0;z-index:100;box-shadow:0 1px 3px #0000000d}.nav-content[_ngcontent-%COMP%]{max-width:1600px;margin:0 auto;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center}.app-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1e293b}.nav-links[_ngcontent-%COMP%]{display:flex;gap:.5rem}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:6px;text-decoration:none;color:#64748b;font-weight:500;transition:all .2s}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff}main[_ngcontent-%COMP%]{min-height:calc(100vh - 80px)}.icon[_ngcontent-%COMP%]{width:18px;height:18px;margin-right:6px;vertical-align:middle;fill:currentColor}"]});let n=t;return n})();u0(Mx,{providers:[H0(L4),gc(Kt.pick({User:nv,Search:ev,X:rv,Package:Zk,Plus:Yk,Trash2:tv,PenLine:Qk,Rocket:Jk,Menu:Wk,PanelLeftClose:Kk,PanelLeftOpen:Xk,LucideHistory:Gk,Calendar:$k}))]});export{Mx as App};
