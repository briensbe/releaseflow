import{a as I,b as $,c as pw,d as fo,e as fw,f as gw,g as go,h as g,j as rg,k as og,n as yw,o as ig}from"./chunk-5WDXYQDS.js";var wo={};fw(wo,{__addDisposableResource:()=>qg,__assign:()=>il,__asyncDelegator:()=>Ng,__asyncGenerator:()=>cl,__asyncValues:()=>ll,__await:()=>Sn,__awaiter:()=>A,__classPrivateFieldGet:()=>Hg,__classPrivateFieldIn:()=>Bg,__classPrivateFieldSet:()=>zg,__createBinding:()=>sl,__decorate:()=>_g,__disposeResources:()=>Ug,__esDecorate:()=>Ig,__exportStar:()=>Og,__extends:()=>bg,__generator:()=>Pg,__importDefault:()=>Vg,__importStar:()=>jg,__makeTemplateObject:()=>Fg,__metadata:()=>Lg,__param:()=>xg,__propKey:()=>Dg,__read:()=>G1,__rest:()=>Yn,__rewriteRelativeImportExtension:()=>$g,__runInitializers:()=>Sg,__setFunctionName:()=>Eg,__spread:()=>Ag,__spreadArray:()=>Rg,__spreadArrays:()=>Tg,__values:()=>al,default:()=>Pw});function bg(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$1(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Yn(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function _g(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function xg(n,e){return function(t,r){e(t,r,n)}}function Ig(n,e,t,r,o,i){function a(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var s=r.kind,c=s==="getter"?"get":s==="setter"?"set":"value",l=!e&&n?r.static?n:n.prototype:null,d=e||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),u,p=!1,h=t.length-1;h>=0;h--){var m={};for(var k in r)m[k]=k==="access"?{}:r[k];for(var k in r.access)m.access[k]=r.access[k];m.addInitializer=function(C){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(C||null))};var M=(0,t[h])(s==="accessor"?{get:d.get,set:d.set}:d[c],m);if(s==="accessor"){if(M===void 0)continue;if(M===null||typeof M!="object")throw new TypeError("Object expected");(u=a(M.get))&&(d.get=u),(u=a(M.set))&&(d.set=u),(u=a(M.init))&&o.unshift(u)}else(u=a(M))&&(s==="field"?o.unshift(u):d[c]=u)}l&&Object.defineProperty(l,r.name,d),p=!0}function Sg(n,e,t){for(var r=arguments.length>2,o=0;o<e.length;o++)t=r?e[o].call(n,t):e[o].call(n);return r?t:void 0}function Dg(n){return typeof n=="symbol"?n:"".concat(n)}function Eg(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function Lg(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function A(n,e,t,r){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?i(d.value):o(d.value).then(s,c)}l((r=r.apply(n,e||[])).next())})}function Pg(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(d){return c([l,d])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(t=0)),t;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,o=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){t.label=l[1];break}if(l[0]===6&&t.label<i[1]){t.label=i[1],i=l;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(l);break}i[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(d){l=[6,d],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Og(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&sl(e,n,t)}function al(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function G1(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i}function Ag(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(G1(arguments[e]));return n}function Tg(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),o=0,e=0;e<t;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function Rg(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}function Sn(n){return this instanceof Sn?(this.v=n,this):new Sn(n)}function cl(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(h){return function(m){return Promise.resolve(m).then(h,u)}}function s(h,m){r[h]&&(o[h]=function(k){return new Promise(function(M,C){i.push([h,k,M,C])>1||c(h,k)})},m&&(o[h]=m(o[h])))}function c(h,m){try{l(r[h](m))}catch(k){p(i[0][3],k)}}function l(h){h.value instanceof Sn?Promise.resolve(h.value.v).then(d,u):p(i[0][2],h)}function d(h){c("next",h)}function u(h){c("throw",h)}function p(h,m){h(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Ng(n){var e,t;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,i){e[o]=n[o]?function(a){return(t=!t)?{value:Sn(n[o](a)),done:!1}:i?i(a):a}:i}}function ll(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof al=="function"?al(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(a){return new Promise(function(s,c){a=n[i](a),o(s,c,a.done,a.value)})}}function o(i,a,s,c){Promise.resolve(c).then(function(l){i({value:l,done:s})},a)}}function Fg(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function jg(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=W1(n),r=0;r<t.length;r++)t[r]!=="default"&&sl(e,n,t[r]);return Ew(e,n),e}function Vg(n){return n&&n.__esModule?n:{default:n}}function Hg(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function zg(n,e,t,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!o:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,t):o?o.value=t:e.set(n,t),t}function Bg(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function qg(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],t&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}function Ug(n){function e(i){n.error=n.hasError?new Lw(i,n.error,"An error was suppressed during disposal."):i,n.hasError=!0}var t,r=0;function o(){for(;t=n.stack.pop();)try{if(!t.async&&r===1)return r=0,n.stack.push(t),Promise.resolve().then(o);if(t.dispose){var i=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(i).then(o,function(a){return e(a),o()})}else r|=1}catch(a){e(a)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return o()}function $g(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,o,i,a){return r?e?".jsx":".js":o&&(!i||!a)?t:o+i+"."+a.toLowerCase()+"js"}):n}var $1,il,sl,Ew,W1,Lw,Pw,Se=pw(()=>{"use strict";$1=function(n,e){return $1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},$1(n,e)};il=function(){return il=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},il.apply(this,arguments)};sl=Object.create?function(n,e,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(e,t);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,o)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]};Ew=Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e},W1=function(n){return W1=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},W1(n)};Lw=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};Pw={__extends:bg,__assign:il,__rest:Yn,__decorate:_g,__param:xg,__esDecorate:Ig,__runInitializers:Sg,__propKey:Dg,__setFunctionName:Eg,__metadata:Lg,__awaiter:A,__generator:Pg,__createBinding:sl,__exportStar:Og,__values:al,__read:G1,__spread:Ag,__spreadArrays:Tg,__spreadArray:Rg,__await:Sn,__asyncGenerator:cl,__asyncDelegator:Ng,__asyncValues:ll,__makeTemplateObject:Fg,__importStar:jg,__importDefault:Vg,__classPrivateFieldGet:Hg,__classPrivateFieldSet:zg,__classPrivateFieldIn:Bg,__addDisposableResource:qg,__disposeResources:Ug,__rewriteRelativeImportExtension:$g}});var Hf=fo(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});var jf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Vf.default=jf});var qf=fo(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});var z4=(Se(),go(wo)),jI=z4.__importDefault((ig(),go(yw))),VI=z4.__importDefault(Hf()),zf=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=jI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>g(this,null,function*(){var a,s,c,l;let d=null,u=null,p=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){let R=yield i.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?u=R:u=JSON.parse(R))}let M=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),C=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");M&&C&&C.length>1&&(p=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,p=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let M=yield i.text();try{d=JSON.parse(M),Array.isArray(d)&&i.status===404&&(u=[],d=null,h=200,m="OK")}catch{i.status===404&&M===""?(h=204,m="No Content"):d={message:M}}if(d&&this.isMaybeSingle&&(!((l=d?.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,h=200,m="OK"),d&&this.shouldThrowOnError)throw new VI.default(d)}return{error:d,data:u,count:p,status:h,statusText:m}}));return this.shouldThrowOnError||(o=o.catch(i=>{var a,s,c;return{error:{message:`${(a=i?.name)!==null&&a!==void 0?a:"FetchError"}: ${i?.message}`,details:`${(s=i?.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}};Bf.default=zf});var Wf=fo($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});var HI=(Se(),go(wo)),zI=HI.__importDefault(qf()),Uf=class extends zI.default{select(e){let t=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:a="text"}={}){var s;let c=[e?"analyze":null,t?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};$f.default=Uf});var Lu=fo(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});var BI=(Se(),go(wo)),qI=BI.__importDefault(Wf()),UI=new RegExp("[,()]"),Gf=class extends qI.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(o=>typeof o=="string"&&UI.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};Zf.default=Gf});var Xf=fo(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});var $I=(Se(),go(wo)),mc=$I.__importDefault(Lu()),Kf=class{constructor(e,{headers:t={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=o}select(e,t){let{head:r=!1,count:o}=t??{},i=r?"HEAD":"GET",a=!1,s=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",s),o&&this.headers.append("Prefer",`count=${o}`),new mc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var o;let i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(a.length>0){let s=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new mc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var a;let s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let c=e.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(c.length>0){let l=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new mc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;let o="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new mc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new mc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};Yf.default=Kf});var q4=fo(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});var B4=(Se(),go(wo)),WI=B4.__importDefault(Xf()),GI=B4.__importDefault(Lu()),Qf=class n{constructor(e,{headers:t={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=o}from(e){let t=new URL(`${this.url}/${e}`);return new WI.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new n(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:o=!1,count:i}={}){var a;let s,c=new URL(`${this.url}/rpc/${e}`),l;r||o?(s=r?"HEAD":"GET",Object.entries(t).filter(([u,p])=>p!==void 0).map(([u,p])=>[u,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([u,p])=>{c.searchParams.append(u,p)})):(s="POST",l=t);let d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new GI.default({method:s,url:c,headers:d,schema:this.schemaName,body:l,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};Jf.default=Qf});var Y4=fo(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.PostgrestError=bt.PostgrestBuilder=bt.PostgrestTransformBuilder=bt.PostgrestFilterBuilder=bt.PostgrestQueryBuilder=bt.PostgrestClient=void 0;var Ma=(Se(),go(wo)),U4=Ma.__importDefault(q4());bt.PostgrestClient=U4.default;var $4=Ma.__importDefault(Xf());bt.PostgrestQueryBuilder=$4.default;var W4=Ma.__importDefault(Lu());bt.PostgrestFilterBuilder=W4.default;var G4=Ma.__importDefault(Wf());bt.PostgrestTransformBuilder=G4.default;var Z4=Ma.__importDefault(qf());bt.PostgrestBuilder=Z4.default;var K4=Ma.__importDefault(Hf());bt.PostgrestError=K4.default;bt.default={PostgrestClient:U4.default,PostgrestQueryBuilder:$4.default,PostgrestFilterBuilder:W4.default,PostgrestTransformBuilder:G4.default,PostgrestBuilder:Z4.default,PostgrestError:K4.default}});var D1;function Bc(){return D1}function In(n){let e=D1;return D1=n,e}var ag=Symbol("NotFound");function wi(n){return n===ag||n?.name==="\u0275NotFound"}var dt=null,qc=!1,E1=1,mw=null,ut=Symbol("SIGNAL");function G(n){let e=dt;return dt=n,e}function Gc(){return dt}var yo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ci(n){if(qc)throw new Error("");if(dt===null)return;dt.consumerOnSignalRead(n);let e=dt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=dt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:dt.producers,t!==void 0&&t.producer===n)){dt.producersTail=t,t.lastReadVersion=n.version;return}let o=n.consumersTail;if(o!==void 0&&o.consumer===dt&&(!r||vw(o,dt)))return;let i=xi(dt),a={producer:n,consumer:dt,nextProducer:t,prevConsumer:o,lastReadVersion:n.version,nextConsumer:void 0};dt.producersTail=a,e!==void 0?e.nextProducer=a:dt.producers=a,i&&dg(n,a)}function sg(){E1++}function Zc(n){if(!(xi(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===E1)){if(!n.producerMustRecompute(n)&&!_i(n)){Wc(n);return}n.producerRecomputeValue(n),Wc(n)}}function L1(n){if(n.consumers===void 0)return;let e=qc;qc=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||kw(r)}}finally{qc=e}}function P1(){return dt?.consumerAllowSignalWrites!==!1}function kw(n){n.dirty=!0,L1(n),n.consumerMarkedDirty?.(n)}function Wc(n){n.dirty=!1,n.lastCleanEpoch=E1}function mo(n){return n&&cg(n),G(n)}function cg(n){n.producersTail=void 0,n.recomputing=!0}function bi(n,e){G(e),n&&lg(n)}function lg(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(xi(n))do t=O1(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function _i(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Zc(t),r!==t.version))return!0}return!1}function ko(n){if(xi(n)){let e=n.producers;for(;e!==void 0;)e=O1(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function dg(n,e){let t=n.consumersTail,r=xi(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let o=n.producers;o!==void 0;o=o.nextProducer)dg(o.producer,o)}function O1(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,o=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:e.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(e.consumers=r,!xi(e)){let i=e.producers;for(;i!==void 0;)i=O1(i)}return t}function xi(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Kc(n){mw?.(n)}function vw(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Yc(n,e){return Object.is(n,e)}function Xc(n,e){let t=Object.create(Mw);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Zc(t),Ci(t),t.value===qa)throw t.error;return t.value};return r[ut]=t,Kc(t),r}var Uc=Symbol("UNSET"),$c=Symbol("COMPUTING"),qa=Symbol("ERRORED"),Mw=$(I({},yo),{value:Uc,dirty:!0,error:null,equal:Yc,kind:"computed",producerMustRecompute(n){return n.value===Uc||n.value===$c},producerRecomputeValue(n){if(n.value===$c)throw new Error("");let e=n.value;n.value=$c;let t=mo(n),r,o=!1;try{r=n.computation(),G(null),o=e!==Uc&&e!==qa&&r!==qa&&n.equal(e,r)}catch(i){r=qa,n.error=i}finally{bi(n,t)}if(o){n.value=e;return}n.value=r,n.version++}});function ww(){throw new Error}var ug=ww;function hg(n){ug(n)}function A1(n){ug=n}var Cw=null;function T1(n,e){let t=Object.create(Qc);t.value=n,e!==void 0&&(t.equal=e);let r=()=>pg(t);return r[ut]=t,Kc(t),[r,a=>Ii(t,a),a=>R1(t,a)]}function pg(n){return Ci(n),n.value}function Ii(n,e){P1()||hg(n),n.equal(n.value,e)||(n.value=e,bw(n))}function R1(n,e){P1()||hg(n),Ii(n,e(n.value))}var Qc=$(I({},yo),{equal:Yc,value:void 0,kind:"signal"});function bw(n){n.version++,sg(),L1(n),Cw?.(n)}function Y(n){return typeof n=="function"}function Si(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Jc=Si(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ua(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Be=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let i of t)i.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(i){e=i instanceof Jc?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{fg(i)}catch(a){e=e??[],a instanceof Jc?e=[...e,...a.errors]:e.push(a)}}if(e)throw new Jc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)fg(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ua(t,e)}remove(e){let{_finalizers:t}=this;t&&Ua(t,e),e instanceof n&&e._removeParent(this)}};Be.EMPTY=(()=>{let n=new Be;return n.closed=!0,n})();var N1=Be.EMPTY;function el(n){return n instanceof Be||n&&"closed"in n&&Y(n.remove)&&Y(n.add)&&Y(n.unsubscribe)}function fg(n){Y(n)?n():n.unsubscribe()}var sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Di={setTimeout(n,e,...t){let{delegate:r}=Di;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Di;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function tl(n){Di.setTimeout(()=>{let{onUnhandledError:e}=sn;if(e)e(n);else throw n})}function $a(){}var gg=F1("C",void 0,void 0);function yg(n){return F1("E",void 0,n)}function mg(n){return F1("N",n,void 0)}function F1(n,e,t){return{kind:n,value:e,error:t}}var vo=null;function Ei(n){if(sn.useDeprecatedSynchronousErrorHandling){let e=!vo;if(e&&(vo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=vo;if(vo=null,t)throw r}}else n()}function kg(n){sn.useDeprecatedSynchronousErrorHandling&&vo&&(vo.errorThrown=!0,vo.error=n)}var Mo=class extends Be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,el(e)&&e.add(this)):this.destination=Iw}static create(e,t,r){return new Li(e,t,r)}next(e){this.isStopped?V1(mg(e),this):this._next(e)}error(e){this.isStopped?V1(yg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?V1(gg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_w=Function.prototype.bind;function j1(n,e){return _w.call(n,e)}var H1=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){nl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){nl(r)}else nl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){nl(t)}}},Li=class extends Mo{constructor(e,t,r){super();let o;if(Y(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&sn.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&j1(e.next,i),error:e.error&&j1(e.error,i),complete:e.complete&&j1(e.complete,i)}):o=e}this.destination=new H1(o)}};function nl(n){sn.useDeprecatedSynchronousErrorHandling?kg(n):tl(n)}function xw(n){throw n}function V1(n,e){let{onStoppedNotification:t}=sn;t&&Di.setTimeout(()=>t(n,e))}var Iw={closed:!0,next:$a,error:xw,complete:$a};var Pi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tt(n){return n}function z1(...n){return B1(n)}function B1(n){return n.length===0?Tt:n.length===1?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}var ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){let i=Dw(t)?t:new Li(t,r,o);return Ei(()=>{let{operator:a,source:s}=this;i.add(a?a.call(i,s):s?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=vg(r),new r((o,i)=>{let a=new Li({next:s=>{try{t(s)}catch(c){i(c),a.unsubscribe()}},error:i,complete:o});this.subscribe(a)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Pi](){return this}pipe(...t){return B1(t)(this)}toPromise(t){return t=vg(t),new t((r,o)=>{let i;this.subscribe(a=>i=a,a=>o(a),()=>r(i))})}}return n.create=e=>new n(e),n})();function vg(n){var e;return(e=n??sn.Promise)!==null&&e!==void 0?e:Promise}function Sw(n){return n&&Y(n.next)&&Y(n.error)&&Y(n.complete)}function Dw(n){return n&&n instanceof Mo||Sw(n)&&el(n)}function q1(n){return Y(n?.lift)}function se(n){return e=>{if(q1(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function re(n,e,t,r,o){return new U1(n,e,t,r,o)}var U1=class extends Mo{constructor(e,t,r,o,i,a){super(e),this.onFinalize=i,this.shouldUnsubscribe=a,this._next=t?function(s){try{t(s)}catch(c){e.error(c)}}:super._next,this._error=o?function(s){try{o(s)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Oi(){return se((n,e)=>{let t=null;n._refCount++;let r=re(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ai=class extends ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,q1(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Be;let t=this.getSubject();e.add(this.source.subscribe(re(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Be.EMPTY)}return e}refCount(){return Oi()(this)}};var Mg=Si(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new rl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Mg}next(t){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:o,observers:i}=this;return r||o?N1:(this.currentObservers=null,i.push(t),new Be(()=>{this.currentObservers=null,Ua(i,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){let t=new ie;return t.source=this,t}}return n.create=(e,t)=>new rl(e,t),n})(),rl=class extends Fe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:N1}};var Ze=class extends Fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var It=new ie(n=>n.complete());function wg(n){return n&&Y(n.schedule)}function Cg(n){return n[n.length-1]}function ol(n){return Y(Cg(n))?n.pop():void 0}function xr(n){return wg(Cg(n))?n.pop():void 0}Se();var dl=n=>n&&typeof n.length=="number"&&typeof n!="function";function ul(n){return Y(n?.then)}function hl(n){return Y(n[Pi])}function pl(n){return Symbol.asyncIterator&&Y(n?.[Symbol.asyncIterator])}function fl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ow(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gl=Ow();function yl(n){return Y(n?.[gl])}Se();function ml(n){return cl(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:o}=yield Sn(t.read());if(o)return yield Sn(void 0);yield yield Sn(r)}}finally{t.releaseLock()}})}function kl(n){return Y(n?.getReader)}function qe(n){if(n instanceof ie)return n;if(n!=null){if(hl(n))return Aw(n);if(dl(n))return Tw(n);if(ul(n))return Rw(n);if(pl(n))return Wg(n);if(yl(n))return Nw(n);if(kl(n))return Fw(n)}throw fl(n)}function Aw(n){return new ie(e=>{let t=n[Pi]();if(Y(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Tw(n){return new ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Rw(n){return new ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,tl)})}function Nw(n){return new ie(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Wg(n){return new ie(e=>{jw(n,e).catch(t=>e.error(t))})}function Fw(n){return Wg(ml(n))}function jw(n,e){var t,r,o,i;return A(this,void 0,void 0,function*(){try{for(t=ll(n);r=yield t.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){o={error:a}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})}function St(n,e,t,r=0,o=!1){let i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function vl(n,e=0){return se((t,r)=>{t.subscribe(re(r,o=>St(r,n,()=>r.next(o),e),()=>St(r,n,()=>r.complete(),e),o=>St(r,n,()=>r.error(o),e)))})}function Ml(n,e=0){return se((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Gg(n,e){return qe(n).pipe(Ml(e),vl(e))}function Zg(n,e){return qe(n).pipe(Ml(e),vl(e))}function Kg(n,e){return new ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Yg(n,e){return new ie(t=>{let r;return St(t,e,()=>{r=n[gl](),St(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(a){t.error(a);return}i?t.complete():t.next(o)},0,!0)}),()=>Y(r?.return)&&r.return()})}function wl(n,e){if(!n)throw new Error("Iterable cannot be null");return new ie(t=>{St(t,e,()=>{let r=n[Symbol.asyncIterator]();St(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function Xg(n,e){return wl(ml(n),e)}function Qg(n,e){if(n!=null){if(hl(n))return Gg(n,e);if(dl(n))return Kg(n,e);if(ul(n))return Zg(n,e);if(pl(n))return wl(n,e);if(yl(n))return Yg(n,e);if(kl(n))return Xg(n,e)}throw fl(n)}function De(n,e){return e?Qg(n,e):qe(n)}function B(...n){let e=xr(n);return De(n,e)}function Ti(n,e){let t=Y(n)?n:()=>n,r=o=>o.error(t());return new ie(e?o=>e.schedule(r,0,o):r)}function Z1(n){return!!n&&(n instanceof ie||Y(n.lift)&&Y(n.subscribe))}var Xn=Si(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(n,e){return se((t,r)=>{let o=0;t.subscribe(re(r,i=>{r.next(n.call(e,i,o++))}))})}var{isArray:Vw}=Array;function Hw(n,e){return Vw(e)?n(...e):n(e)}function Cl(n){return oe(e=>Hw(n,e))}var{isArray:zw}=Array,{getPrototypeOf:Bw,prototype:qw,keys:Uw}=Object;function bl(n){if(n.length===1){let e=n[0];if(zw(e))return{args:e,keys:null};if($w(e)){let t=Uw(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function $w(n){return n&&typeof n=="object"&&Bw(n)===qw}function _l(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}function Wa(...n){let e=xr(n),t=ol(n),{args:r,keys:o}=bl(n);if(r.length===0)return De([],e);let i=new ie(Ww(r,e,o?a=>_l(o,a):Tt));return t?i.pipe(Cl(t)):i}function Ww(n,e,t=Tt){return r=>{Jg(e,()=>{let{length:o}=n,i=new Array(o),a=o,s=o;for(let c=0;c<o;c++)Jg(e,()=>{let l=De(n[c],e),d=!1;l.subscribe(re(r,u=>{i[c]=u,d||(d=!0,s--),s||r.next(t(i.slice()))},()=>{--a||r.complete()}))},r)},r)}}function Jg(n,e,t){n?St(t,n,e):e()}function ey(n,e,t,r,o,i,a,s){let c=[],l=0,d=0,u=!1,p=()=>{u&&!c.length&&!l&&e.complete()},h=k=>l<r?m(k):c.push(k),m=k=>{i&&e.next(k),l++;let M=!1;qe(t(k,d++)).subscribe(re(e,C=>{o?.(C),i?h(C):e.next(C)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;c.length&&l<r;){let C=c.shift();a?St(e,a,()=>m(C)):m(C)}p()}catch(C){e.error(C)}}))};return n.subscribe(re(e,h,()=>{u=!0,p()})),()=>{s?.()}}function je(n,e,t=1/0){return Y(e)?je((r,o)=>oe((i,a)=>e(r,i,o,a))(qe(n(r,o))),t):(typeof e=="number"&&(t=e),se((r,o)=>ey(r,o,n,t)))}function Ir(n=1/0){return je(Tt,n)}function ty(){return Ir(1)}function Ri(...n){return ty()(De(n,xr(n)))}function Ga(n){return new ie(e=>{qe(n()).subscribe(e)})}function K1(...n){let e=ol(n),{args:t,keys:r}=bl(n),o=new ie(i=>{let{length:a}=t;if(!a){i.complete();return}let s=new Array(a),c=a,l=a;for(let d=0;d<a;d++){let u=!1;qe(t[d]).subscribe(re(i,p=>{u||(u=!0,l--),s[d]=p},()=>c--,void 0,()=>{(!c||!u)&&(l||i.next(r?_l(r,s):s),i.complete())}))}});return e?o.pipe(Cl(e)):o}function Dt(n,e){return se((t,r)=>{let o=0;t.subscribe(re(r,i=>n.call(e,i,o++)&&r.next(i)))})}function Qn(n){return se((e,t)=>{let r=null,o=!1,i;r=e.subscribe(re(t,void 0,void 0,a=>{i=qe(n(a,Qn(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function ny(n,e,t,r,o){return(i,a)=>{let s=t,c=e,l=0;i.subscribe(re(a,d=>{let u=l++;c=s?n(c,d,u):(s=!0,d),r&&a.next(c)},o&&(()=>{s&&a.next(c),a.complete()})))}}function Sr(n,e){return Y(e)?je(n,e,1):je(n,1)}function Dr(n){return se((e,t)=>{let r=!1;e.subscribe(re(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Jn(n){return n<=0?()=>It:se((e,t)=>{let r=0;e.subscribe(re(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function xl(n=Gw){return se((e,t)=>{let r=!1;e.subscribe(re(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Gw(){return new Xn}function Za(n){return se((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function er(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Dt((o,i)=>n(o,i,r)):Tt,Jn(1),t?Dr(e):xl(()=>new Xn))}function Ni(n){return n<=0?()=>It:se((e,t)=>{let r=[];e.subscribe(re(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(let o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Y1(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Dt((o,i)=>n(o,i,r)):Tt,Ni(1),t?Dr(e):xl(()=>new Xn))}function X1(n,e){return se(ny(n,e,arguments.length>=2,!0))}function Q1(...n){let e=xr(n);return se((t,r)=>{(e?Ri(n,t,e):Ri(n,t)).subscribe(r)})}function vt(n,e){return se((t,r)=>{let o=null,i=0,a=!1,s=()=>a&&!o&&r.complete();t.subscribe(re(r,c=>{o?.unsubscribe();let l=0,d=i++;qe(n(c,d)).subscribe(o=re(r,u=>r.next(e?e(c,u,d,l++):u),()=>{o=null,s()}))},()=>{a=!0,s()}))})}function Il(n){return se((e,t)=>{qe(n).subscribe(re(t,()=>t.complete(),$a)),!t.closed&&e.subscribe(t)})}function tt(n,e,t){let r=Y(n)||e||t?{next:n,error:e,complete:t}:n;return r?se((o,i)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;o.subscribe(re(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;s=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Tt}function ry(n){let e=G(null);try{return n()}finally{G(e)}}var oy=$(I({},yo),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function iy(n){if(n.dirty=!1,n.version>0&&!_i(n))return;n.version++;let e=mo(n);try{n.cleanup(),n.fn()}finally{bi(n,e)}}var Ll="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",F=class extends Error{code;constructor(e,t){super(rr(e,t)),this.code=e}};function Zw(n){return`NG0${Math.abs(n)}`}function rr(n,e){return`${Zw(n)}${e?": "+e:""}`}var Ja=globalThis;function pe(n){for(let e in n)if(n[e]===pe)return e;throw Error("")}function cy(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function nr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(nr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function dh(n,e){return n?e?`${n} ${e}`:n:e||""}var Kw=pe({__forward_ref__:pe});function Ft(n){return n.__forward_ref__=Ft,n.toString=function(){return nr(this())},n}function ot(n){return uh(n)?n():n}function uh(n){return typeof n=="function"&&n.hasOwnProperty(Kw)&&n.__forward_ref__===Ft}function N(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function jt(n){return{providers:n.providers||[],imports:n.imports||[]}}function es(n){return Yw(n,Pl)}function hh(n){return es(n)!==null}function Yw(n,e){return n.hasOwnProperty(e)&&n[e]||null}function Xw(n){let e=n?.[Pl]??null;return e||null}function eh(n){return n&&n.hasOwnProperty(Dl)?n[Dl]:null}var Pl=pe({\u0275prov:pe}),Dl=pe({\u0275inj:pe}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=N({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ph(n){return n&&!!n.\u0275providers}var fh=pe({\u0275cmp:pe}),gh=pe({\u0275dir:pe}),yh=pe({\u0275pipe:pe}),mh=pe({\u0275mod:pe}),Ya=pe({\u0275fac:pe}),So=pe({__NG_ELEMENT_ID__:pe}),ay=pe({__NG_ENV_ID__:pe});function ts(n){return typeof n=="string"?n:n==null?"":String(n)}function ly(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ts(n)}var dy=pe({ngErrorCode:pe}),Qw=pe({ngErrorMessage:pe}),Jw=pe({ngTokenPath:pe});function kh(n,e){return uy("",-200,e)}function Ol(n,e){throw new F(-201,!1)}function uy(n,e,t){let r=new F(e,n);return r[dy]=e,r[Qw]=n,t&&(r[Jw]=t),r}function eC(n){return n[dy]}var th;function hy(){return th}function Rt(n){let e=th;return th=n,e}function vh(n,e,t){let r=es(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Ol(n,"Injector")}var tC={},Co=tC,nh="__NG_DI_FLAG__",rh=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=bo(t)||0;try{return this.injector.get(e,r&8?null:Co,r)}catch(o){if(wi(o))return o;throw o}}};function nC(n,e=0){let t=Bc();if(t===void 0)throw new F(-203,!1);if(t===null)return vh(n,void 0,e);{let r=rC(e),o=t.retrieve(n,r);if(wi(o)){if(r.optional)return null;throw o}return o}}function z(n,e=0){return(hy()||nC)(ot(n),e)}function b(n,e){return z(n,bo(e))}function bo(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function rC(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function oh(n){let e=[];for(let t=0;t<n.length;t++){let r=ot(n[t]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let o,i=0;for(let a=0;a<r.length;a++){let s=r[a],c=oC(s);typeof c=="number"?c===-1?o=s.token:i|=c:o=s}e.push(z(o,i))}else e.push(z(r))}return e}function py(n,e){return n[nh]=e,n.prototype[nh]=e,n}function oC(n){return n[nh]}function _o(n,e){let t=n.hasOwnProperty(Ya);return t?n[Ya]:null}function fy(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}function gy(n){return n.flat(Number.POSITIVE_INFINITY)}function Al(n,e){n.forEach(t=>Array.isArray(t)?Al(t,e):e(t))}function Mh(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ns(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function yy(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function my(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(o===1)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;){let i=o-2;n[o]=n[i],o--}n[e]=t,n[e+1]=r}}function ky(n,e,t){let r=ji(n,e);return r>=0?n[r|1]=t:(r=~r,my(n,r,e,t)),r}function Tl(n,e){let t=ji(n,e);if(t>=0)return n[t|1]}function ji(n,e){return iC(n,e,1)}function iC(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){let i=r+(o-r>>1),a=n[i<<t];if(e===a)return i<<t;a>e?o=i:r=i+1}return~(o<<t)}var Lr={},Nt=[],Pr=new V(""),wh=new V("",-1),Ch=new V(""),Xa=class{get(e,t=Co){if(t===Co){let o=uy("",-201);throw o.name="\u0275NotFound",o}return t}};function bh(n){return n[mh]||null}function or(n){return n[fh]||null}function _h(n){return n[gh]||null}function vy(n){return n[yh]||null}function rs(n){return{\u0275providers:n}}function Rl(...n){return{\u0275providers:xh(!0,n),\u0275fromNgModule:!0}}function xh(n,...e){let t=[],r=new Set,o,i=a=>{t.push(a)};return Al(e,a=>{let s=a;El(s,i,[],r)&&(o||=[],o.push(s))}),o!==void 0&&My(o,i),t}function My(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:o}=n[t];Ih(o,i=>{e(i,r)})}}function El(n,e,t,r){if(n=ot(n),!n)return!1;let o=null,i=eh(n),a=!i&&or(n);if(!i&&!a){let c=n.ngModule;if(i=eh(c),i)o=c;else return!1}else{if(a&&!a.standalone)return!1;o=n}let s=r.has(o);if(a){if(s)return!1;if(r.add(o),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let l of c)El(l,e,t,r)}}else if(i){if(i.imports!=null&&!s){r.add(o);let l;try{Al(i.imports,d=>{El(d,e,t,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&My(l,e)}if(!s){let l=_o(o)||(()=>new o);e({provide:o,useFactory:l,deps:Nt},o),e({provide:Ch,useValue:o,multi:!0},o),e({provide:Pr,useValue:()=>z(o),multi:!0},o)}let c=i.providers;if(c!=null&&!s){let l=n;Ih(c,d=>{e(d,l)})}}else return!1;return o!==n&&n.providers!==void 0}function Ih(n,e){for(let t of n)ph(t)&&(t=t.\u0275providers),Array.isArray(t)?Ih(t,e):e(t)}var aC=pe({provide:String,useValue:pe});function wy(n){return n!==null&&typeof n=="object"&&aC in n}function sC(n){return!!(n&&n.useExisting)}function cC(n){return!!(n&&n.useFactory)}function xo(n){return typeof n=="function"}function Cy(n){return!!n.useClass}var os=new V(""),Sl={},sy={},J1;function is(){return J1===void 0&&(J1=new Xa),J1}var Ke=class{},Io=class extends Ke{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,ah(e,a=>this.processProvider(a)),this.records.set(wh,Fi(void 0,this)),o.has("environment")&&this.records.set(Ke,Fi(void 0,this));let i=this.records.get(os);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Ch,Nt,{self:!0}))}retrieve(e,t){let r=bo(t)||0;try{return this.get(e,Co,r)}catch(o){if(wi(o))return o;throw o}}destroy(){Ka(this),this._destroyed=!0;let e=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(e)}}onDestroy(e){return Ka(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ka(this);let t=In(this),r=Rt(void 0),o;try{return e()}finally{In(t),Rt(r)}}get(e,t=Co,r){if(Ka(this),e.hasOwnProperty(ay))return e[ay](this);let o=bo(r),i,a=In(this),s=Rt(void 0);try{if(!(o&4)){let l=this.records.get(e);if(l===void 0){let d=pC(e)&&es(e);d&&this.injectableDefInScope(d)?l=Fi(ih(e),Sl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,o)}let c=o&2?is():this.parent;return t=o&8&&t===Co?null:t,c.get(e,t)}catch(c){let l=eC(c);throw l===-200||l===-201?new F(l,null):c}finally{Rt(s),In(a)}}resolveInjectorInitializers(){let e=G(null),t=In(this),r=Rt(void 0),o;try{let i=this.get(Pr,Nt,{self:!0});for(let a of i)a()}finally{In(t),Rt(r),G(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(nr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ot(e);let t=xo(e)?e:ot(e&&e.provide),r=dC(e);if(!xo(e)&&e.multi===!0){let o=this.records.get(t);o||(o=Fi(void 0,Sl,!0),o.factory=()=>oh(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let o=G(null);try{if(t.value===sy)throw kh(nr(e));return t.value===Sl&&(t.value=sy,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&hC(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{G(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=ot(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function ih(n){let e=es(n),t=e!==null?e.factory:_o(n);if(t!==null)return t;if(n instanceof V)throw new F(204,!1);if(n instanceof Function)return lC(n);throw new F(204,!1)}function lC(n){if(n.length>0)throw new F(204,!1);let t=Xw(n);return t!==null?()=>t.factory(n):()=>new n}function dC(n){if(wy(n))return Fi(void 0,n.useValue);{let e=Sh(n);return Fi(e,Sl)}}function Sh(n,e,t){let r;if(xo(n)){let o=ot(n);return _o(o)||ih(o)}else if(wy(n))r=()=>ot(n.useValue);else if(cC(n))r=()=>n.useFactory(...oh(n.deps||[]));else if(sC(n))r=(o,i)=>z(ot(n.useExisting),i!==void 0&&i&8?8:void 0);else{let o=ot(n&&(n.useClass||n.provide));if(uC(n))r=()=>new o(...oh(n.deps));else return _o(o)||ih(o)}return r}function Ka(n){if(n.destroyed)throw new F(205,!1)}function Fi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function uC(n){return!!n.deps}function hC(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function pC(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function ah(n,e){for(let t of n)Array.isArray(t)?ah(t,e):t&&ph(t)?ah(t.\u0275providers,e):e(t)}function pt(n,e){let t;n instanceof Io?(Ka(n),t=n):t=new rh(n);let r,o=In(t),i=Rt(void 0);try{return e()}finally{In(o),Rt(i)}}function by(){return hy()!==void 0||Bc()!=null}var cn=0,W=1,Z=2,Ye=3,Kt=4,Mt=5,Do=6,Vi=7,Ve=8,Or=9,En=10,Pe=11,Hi=12,Dh=13,Eo=14,wt=15,Ar=16,Lo=17,Ln=18,as=19,Eh=20,tr=21,Nl=22,ir=23,Vt=24,Po=25,Oo=26,Ue=27,_y=1,Lh=6,Tr=7,ss=8,Ao=9,$e=10;function Pn(n){return Array.isArray(n)&&typeof n[_y]=="object"}function ln(n){return Array.isArray(n)&&n[_y]===!0}function Ph(n){return(n.flags&4)!==0}function Rr(n){return n.componentOffset>-1}function cs(n){return(n.flags&1)===1}function On(n){return!!n.template}function zi(n){return(n[Z]&512)!==0}function To(n){return(n[Z]&256)===256}var xy="svg",Iy="math";function Yt(n){for(;Array.isArray(n);)n=n[cn];return n}function Oh(n,e){return Yt(e[n])}function dn(n,e){return Yt(e[n.index])}function ls(n,e){return n.data[e]}function Sy(n,e){return n[e]}function Xt(n,e){let t=e[n];return Pn(t)?t:t[cn]}function Dy(n){return(n[Z]&4)===4}function Fl(n){return(n[Z]&128)===128}function Ey(n){return ln(n[Ye])}function An(n,e){return e==null?null:n[e]}function Ah(n){n[Lo]=0}function Th(n){n[Z]&1024||(n[Z]|=1024,Fl(n)&&Nr(n))}function Ly(n,e){for(;n>0;)e=e[Eo],n--;return e}function ds(n){return!!(n[Z]&9216||n[Vt]?.dirty)}function jl(n){n[En].changeDetectionScheduler?.notify(8),n[Z]&64&&(n[Z]|=1024),ds(n)&&Nr(n)}function Nr(n){n[En].changeDetectionScheduler?.notify(0);let e=Er(n);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!Fl(e)));)e=Er(e)}function Rh(n,e){if(To(n))throw new F(911,!1);n[tr]===null&&(n[tr]=[]),n[tr].push(e)}function Py(n,e){if(n[tr]===null)return;let t=n[tr].indexOf(e);t!==-1&&n[tr].splice(t,1)}function Er(n){let e=n[Ye];return ln(e)?e[Ye]:e}function Nh(n){return n[Vi]??=[]}function Fh(n){return n.cleanup??=[]}function Oy(n,e,t,r){let o=Nh(e);o.push(t),n.firstCreatePass&&Fh(n).push(r,o.length-1)}var ee={lFrame:Gy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var sh=!1;function Ay(){return ee.lFrame.elementDepthCount}function Ty(){ee.lFrame.elementDepthCount++}function Ry(){ee.lFrame.elementDepthCount--}function jh(){return ee.bindingsEnabled}function Vh(){return ee.skipHydrationRootTNode!==null}function Ny(n){return ee.skipHydrationRootTNode===n}function Fy(){ee.skipHydrationRootTNode=null}function te(){return ee.lFrame.lView}function Xe(){return ee.lFrame.tView}function E(n){return ee.lFrame.contextLView=n,n[Ve]}function L(n){return ee.lFrame.contextLView=null,n}function it(){let n=Hh();for(;n!==null&&n.type===64;)n=n.parent;return n}function Hh(){return ee.lFrame.currentTNode}function jy(){let n=ee.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Bi(n,e){let t=ee.lFrame;t.currentTNode=n,t.isParent=e}function zh(){return ee.lFrame.isParent}function Bh(){ee.lFrame.isParent=!1}function Vy(){return ee.lFrame.contextLView}function qh(){return sh}function qi(n){let e=sh;return sh=n,e}function Hy(n){return ee.lFrame.bindingIndex=n}function Ro(){return ee.lFrame.bindingIndex++}function zy(n){let e=ee.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function By(){return ee.lFrame.inI18n}function qy(n,e){let t=ee.lFrame;t.bindingIndex=t.bindingRootIndex=n,Vl(e)}function Uy(){return ee.lFrame.currentDirectiveIndex}function Vl(n){ee.lFrame.currentDirectiveIndex=n}function $y(n){let e=ee.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Uh(){return ee.lFrame.currentQueryIndex}function Hl(n){ee.lFrame.currentQueryIndex=n}function fC(n){let e=n[W];return e.type===2?e.declTNode:e.type===1?n[Mt]:null}function $h(n,e,t){if(t&4){let o=e,i=n;for(;o=o.parent,o===null&&!(t&1);)if(o=fC(i),o===null||(i=i[Eo],o.type&10))break;if(o===null)return!1;e=o,n=i}let r=ee.lFrame=Wy();return r.currentTNode=e,r.lView=n,!0}function zl(n){let e=Wy(),t=n[W];ee.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Wy(){let n=ee.lFrame,e=n===null?null:n.child;return e===null?Gy(n):e}function Gy(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Zy(){let n=ee.lFrame;return ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Wh=Zy;function Bl(){let n=Zy();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ky(n){return(ee.lFrame.contextLView=Ly(n,ee.lFrame.contextLView))[Ve]}function Fr(){return ee.lFrame.selectedIndex}function jr(n){ee.lFrame.selectedIndex=n}function ql(){let n=ee.lFrame;return ls(n.tView,n.selectedIndex)}function Yy(){return ee.lFrame.currentNamespace}var Xy=!0;function Ul(){return Xy}function $l(n){Xy=n}function ch(n,e=null,t=null,r){let o=Gh(n,e,t,r);return o.resolveInjectorInitializers(),o}function Gh(n,e=null,t=null,r,o=new Set){let i=[t||Nt,Rl(n)];return r=r||(typeof n=="object"?void 0:nr(n)),new Io(i,e||is(),r||null,o)}var ht=class n{static THROW_IF_NOT_FOUND=Co;static NULL=new Xa;static create(e,t){if(Array.isArray(e))return ch({name:""},t,e,"");{let r=e.name??"";return ch({name:r},e.parent,e.providers,r)}}static \u0275prov=N({token:n,providedIn:"any",factory:()=>z(wh)});static __NG_ELEMENT_ID__=-1},We=new V(""),un=(()=>{class n{static __NG_ELEMENT_ID__=gC;static __NG_ENV_ID__=t=>t}return n})(),Qa=class extends un{_lView;constructor(e){super(),this._lView=e}get destroyed(){return To(this._lView)}onDestroy(e){let t=this._lView;return Rh(t,e),()=>Py(t,e)}};function gC(){return new Qa(te())}var Zt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ht=new V("",{providedIn:"root",factory:()=>{let n=b(Ke),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Zt),e.handleError(t))}}}),Qy={provide:Pr,useValue:()=>void b(Zt),multi:!0};function Zh(n){return typeof n=="function"&&n[ut]!==void 0}function ce(n,e){let[t,r,o]=T1(n,e?.equal),i=t,a=i[ut];return i.set=r,i.update=o,i.asReadonly=Kh.bind(i),i}function Kh(){let n=this[ut];if(n.readonlyFn===void 0){let e=()=>this();e[ut]=n,n.readonlyFn=e}return n.readonlyFn}function Yh(n){return Zh(n)&&typeof n.set=="function"}var Ui=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=yC}return n})();function yC(){return new Ui(te(),it())}var Dn=class{},Wl=new V("",{providedIn:"root",factory:()=>!1});var Xh=new V(""),Qh=new V(""),ar=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ze(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ie(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})();function No(...n){}var us=(()=>{class n{static \u0275prov=N({token:n,providedIn:"root",factory:()=>new lh})}return n})(),lh=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Xi(n){return{toString:n}.toString()}var Gl="__parameters__";function xC(n){return function(...t){if(n){let r=n(...t);for(let o in r)this[o]=r[o]}}}function IC(n,e,t){return Xi(()=>{let r=xC(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let a=new o(...i);return s.annotation=a,s;function s(c,l,d){let u=c.hasOwnProperty(Gl)?c[Gl]:Object.defineProperty(c,Gl,{value:[]})[Gl];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(a),c}}return o.prototype.ngMetadataName=n,o.annotationCls=o,o})}var H0=py(IC("Optional"),8);function SC(n){return typeof n=="function"}var ed=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Om(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Qt=(()=>{let n=()=>Am;return n.ngInherit=!0,n})();function Am(n){return n.type.prototype.ngOnChanges&&(n.setInput=EC),DC}function DC(){let n=Rm(this),e=n?.current;if(e){let t=n.previous;if(t===Lr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function EC(n,e,t,r,o){let i=this.declaredInputs[r],a=Rm(n)||LC(n,{previous:Lr,current:null}),s=a.current||(a.current={}),c=a.previous,l=c[i];s[i]=new ed(l&&l.currentValue,t,c===Lr),Om(n,e,o,t)}var Tm="__ngSimpleChanges__";function Rm(n){return n[Tm]||null}function LC(n,e){return n[Tm]=e}var Jy=[];var ge=function(n,e=null,t){for(let r=0;r<Jy.length;r++){let o=Jy[r];o(n,e,t)}};function PC(n,e,t){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let a=Am(e);(t.preOrderHooks??=[]).push(n,a),(t.preOrderCheckHooks??=[]).push(n,a)}o&&(t.preOrderHooks??=[]).push(0-n,o),i&&((t.preOrderHooks??=[]).push(n,i),(t.preOrderCheckHooks??=[]).push(n,i))}function Nm(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let i=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=i;a&&(n.contentHooks??=[]).push(-t,a),s&&((n.contentHooks??=[]).push(t,s),(n.contentCheckHooks??=[]).push(t,s)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Yl(n,e,t){Fm(n,e,3,t)}function Xl(n,e,t,r){(n[Z]&3)===t&&Fm(n,e,t,r)}function Jh(n,e){let t=n[Z];(t&3)===e&&(t&=16383,t+=1,n[Z]=t)}function Fm(n,e,t,r){let o=r!==void 0?n[Lo]&65535:0,i=r??-1,a=e.length-1,s=0;for(let c=o;c<a;c++)if(typeof e[c+1]=="number"){if(s=e[c],r!=null&&s>=r)break}else e[c]<0&&(n[Lo]+=65536),(s<i||i==-1)&&(OC(n,t,e,c),n[Lo]=(n[Lo]&4294901760)+c+2),c++}function em(n,e){ge(4,n,e);let t=G(null);try{e.call(n)}finally{G(t),ge(5,n,e)}}function OC(n,e,t,r){let o=t[r]<0,i=t[r+1],a=o?-t[r]:t[r],s=n[a];o?n[Z]>>14<n[Lo]>>16&&(n[Z]&3)===e&&(n[Z]+=16384,em(s,i)):em(s,i)}var Wi=-1,jo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,o){this.factory=e,this.name=o,this.canSeeViewProviders=t,this.injectImpl=r}};function AC(n){return(n.flags&8)!==0}function TC(n){return(n.flags&16)!==0}function RC(n,e,t){let r=0;for(;r<t.length;){let o=t[r];if(typeof o=="number"){if(o!==0)break;r++;let i=t[r++],a=t[r++],s=t[r++];n.setAttribute(e,a,s,i)}else{let i=o,a=t[++r];NC(i)?n.setProperty(e,i,a):n.setAttribute(e,i,a),r++}}return r}function jm(n){return n===3||n===4||n===6}function NC(n){return n.charCodeAt(0)===64}function fs(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?t=o:t===0||(t===-1||t===2?tm(n,t,o,null,e[++r]):tm(n,t,o,null,null))}}return n}function tm(n,e,t,r,o){let i=0,a=n.length;if(e===-1)a=-1;else for(;i<n.length;){let s=n[i++];if(typeof s=="number"){if(s===e){a=-1;break}else if(s>e){a=i-1;break}}}for(;i<n.length;){let s=n[i];if(typeof s=="number")break;if(s===t){o!==null&&(n[i+1]=o);return}i++,o!==null&&i++}a!==-1&&(n.splice(a,0,e),i=a+1),n.splice(i++,0,t),o!==null&&n.splice(i++,0,o)}function Vm(n){return n!==Wi}function td(n){return n&32767}function FC(n){return n>>16}function nd(n,e){let t=FC(n),r=e;for(;t>0;)r=r[Eo],t--;return r}var d0=!0;function nm(n){let e=d0;return d0=n,e}var jC=256,Hm=jC-1,zm=5,VC=0,Tn={};function HC(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(So)&&(r=t[So]),r==null&&(r=t[So]=VC++);let o=r&Hm,i=1<<o;e.data[n+(o>>zm)]|=i}function rd(n,e){let t=Bm(n,e);if(t!==-1)return t;let r=e[W];r.firstCreatePass&&(n.injectorIndex=e.length,e0(r.data,n),e0(e,null),e0(r.blueprint,null));let o=z0(n,e),i=n.injectorIndex;if(Vm(o)){let a=td(o),s=nd(o,e),c=s[W].data;for(let l=0;l<8;l++)e[i+l]=s[a+l]|c[a+l]}return e[i+8]=o,i}function e0(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Bm(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function z0(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;o!==null;){if(r=Gm(o),r===null)return Wi;if(t++,o=o[Eo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Wi}function u0(n,e,t){HC(n,e,t)}function zC(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,o=0;for(;o<r;){let i=t[o];if(jm(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof t[o]=="string";)o++;else{if(i===e)return t[o+1];o=o+2}}}return null}function qm(n,e,t){if(t&8||n!==void 0)return n;Ol(e,"NodeInjector")}function Um(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let o=n[Or],i=Rt(void 0);try{return o?o.get(e,r,t&8):vh(e,r,t&8)}finally{Rt(i)}}return qm(r,e,t)}function $m(n,e,t,r=0,o){if(n!==null){if(e[Z]&2048&&!(r&2)){let a=$C(n,e,t,r,Tn);if(a!==Tn)return a}let i=Wm(n,e,t,r,Tn);if(i!==Tn)return i}return Um(e,t,r,o)}function Wm(n,e,t,r,o){let i=qC(t);if(typeof i=="function"){if(!$h(e,n,r))return r&1?qm(o,t,r):Um(e,t,r,o);try{let a;if(a=i(r),a==null&&!(r&8))Ol(t);else return a}finally{Wh()}}else if(typeof i=="number"){let a=null,s=Bm(n,e),c=Wi,l=r&1?e[wt][Mt]:null;for((s===-1||r&4)&&(c=s===-1?z0(n,e):e[s+8],c===Wi||!om(r,!1)?s=-1:(a=e[W],s=td(c),e=nd(c,e)));s!==-1;){let d=e[W];if(rm(i,s,d.data)){let u=BC(s,e,t,a,r,l);if(u!==Tn)return u}c=e[s+8],c!==Wi&&om(r,e[W].data[s+8]===l)&&rm(i,s,e)?(a=d,s=td(c),e=nd(c,e)):s=-1}}return o}function BC(n,e,t,r,o,i){let a=e[W],s=a.data[n+8],c=r==null?Rr(s)&&d0:r!=a&&(s.type&3)!==0,l=o&1&&i===s,d=Ql(s,a,t,c,l);return d!==null?gs(e,a,d,s,o):Tn}function Ql(n,e,t,r,o){let i=n.providerIndexes,a=e.data,s=i&1048575,c=n.directiveStart,l=n.directiveEnd,d=i>>20,u=r?s:s+d,p=o?s+d:l;for(let h=u;h<p;h++){let m=a[h];if(h<c&&t===m||h>=c&&m.type===t)return h}if(o){let h=a[c];if(h&&On(h)&&h.type===t)return c}return null}function gs(n,e,t,r,o){let i=n[t],a=e.data;if(i instanceof jo){let s=i;if(s.resolving){let h=ly(a[t]);throw kh(h)}let c=nm(s.canSeeViewProviders);s.resolving=!0;let l=a[t].type||a[t],d,u=s.injectImpl?Rt(s.injectImpl):null,p=$h(n,r,0);try{i=n[t]=s.factory(void 0,o,a,n,r),e.firstCreatePass&&t>=r.directiveStart&&PC(t,a[t],e)}finally{u!==null&&Rt(u),nm(c),s.resolving=!1,Wh()}}return i}function qC(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(So)?n[So]:void 0;return typeof e=="number"?e>=0?e&Hm:UC:e}function rm(n,e,t){let r=1<<n;return!!(t[e+(n>>zm)]&r)}function om(n,e){return!(n&2)&&!(n&1&&e)}var Fo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return $m(this._tNode,this._lView,e,bo(r),t)}};function UC(){return new Fo(it(),te())}function pn(n){return Xi(()=>{let e=n.prototype.constructor,t=e[Ya]||h0(e),r=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){let i=o[Ya]||h0(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function h0(n){return uh(n)?()=>{let e=h0(ot(n));return e&&e()}:_o(n)}function $C(n,e,t,r,o){let i=n,a=e;for(;i!==null&&a!==null&&a[Z]&2048&&!zi(a);){let s=Wm(i,a,t,r|2,Tn);if(s!==Tn)return s;let c=i.parent;if(!c){let l=a[Eh];if(l){let d=l.get(t,Tn,r);if(d!==Tn)return d}c=Gm(a),a=a[Eo]}i=c}return o}function Gm(n){let e=n[W],t=e.type;return t===2?e.declTNode:t===1?n[Mt]:null}function ws(n){return zC(it(),n)}function WC(){return Qi(it(),te())}function Qi(n,e){return new at(dn(n,e))}var at=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=WC}return n})();function GC(n){return n instanceof at?n.nativeElement:n}function ZC(){return this._results[Symbol.iterator]()}var od=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Fe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=gy(e);(this._changesDetected=!fy(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=ZC};function Zm(n){return(n.flags&128)===128}var B0=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(B0||{}),Km=new Map,KC=0;function YC(){return KC++}function XC(n){Km.set(n[as],n)}function p0(n){Km.delete(n[as])}var im="__ngContext__";function Gi(n,e){Pn(e)?(n[im]=e[as],XC(e)):n[im]=e}function Ym(n){return Qm(n[Hi])}function Xm(n){return Qm(n[Kt])}function Qm(n){for(;n!==null&&!ln(n);)n=n[Kt];return n}var f0;function q0(n){f0=n}function Jm(){if(f0!==void 0)return f0;if(typeof document<"u")return document;throw new F(210,!1)}var vd=new V("",{providedIn:"root",factory:()=>QC}),QC="ng",Md=new V(""),Ji=new V("",{providedIn:"platform",factory:()=>"unknown"});var wd=new V("",{providedIn:"root",factory:()=>Jm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var JC="h",eb="b";var ek="r";var tk="di";var nk=!1,rk=new V("",{providedIn:"root",factory:()=>nk});var U0=new V("");var tb=(n,e,t,r)=>{};function nb(n,e,t,r){tb(n,e,t,r)}function Cd(n){return(n.flags&32)===32}var rb=()=>null;function ok(n,e,t=!1){return rb(n,e,t)}function ik(n,e){let t=n.contentQueries;if(t!==null){let r=G(null);try{for(let o=0;o<t.length;o+=2){let i=t[o],a=t[o+1];if(a!==-1){let s=n.data[a];Hl(i),s.contentQueries(2,e[a],a)}}}finally{G(r)}}}function g0(n,e,t){Hl(0);let r=G(null);try{e(n,t)}finally{G(r)}}function ak(n,e,t){if(Ph(e)){let r=G(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let a=o;a<i;a++){let s=n.data[a];if(s.contentQueries){let c=t[a];s.contentQueries(1,c,a)}}}finally{G(r)}}}var sr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(sr||{});var Zl;function ob(){if(Zl===void 0&&(Zl=null,Ja.trustedTypes))try{Zl=Ja.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zl}function am(n){return ob()?.createScriptURL(n)||n}var id=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ll})`}};function Cs(n){return n instanceof id?n.changingThisBreaksApplicationSecurity:n}function $0(n,e){let t=sk(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ll})`)}return t===e}function sk(n){return n instanceof id&&n.getTypeName()||null}var ib=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ck(n){return n=String(n),n.match(ib)?n:"unsafe:"+n}var bd=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(bd||{});function lk(n){let e=uk();return e?e.sanitize(bd.URL,n)||"":$0(n,"URL")?Cs(n):ck(ts(n))}function dk(n){let e=uk();if(e)return am(e.sanitize(bd.RESOURCE_URL,n)||"");if($0(n,"ResourceURL"))return am(Cs(n));throw new F(904,!1)}function ab(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?dk:lk}function W0(n,e,t){return ab(e,t)(n)}function uk(){let n=te();return n&&n[En].sanitizer}function hk(n){return n instanceof Function?n():n}function sb(n,e,t){let r=n.length;for(;;){let o=n.indexOf(e,t);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}var pk="ng-template";function cb(n,e,t,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&sb(e[o+1].toLowerCase(),t,0)!==-1)return!0}else if(G0(n))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===t)return!0}return!1}function G0(n){return n.type===4&&n.value!==pk}function lb(n,e,t){let r=n.type===4&&!t?pk:n.value;return e===r}function db(n,e,t){let r=4,o=n.attrs,i=o!==null?pb(o):0,a=!1;for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number"){if(!a&&!hn(r)&&!hn(c))return!1;if(a&&hn(c))continue;a=!1,r=c|r&1;continue}if(!a)if(r&4){if(r=2|r&1,c!==""&&!lb(n,c,t)||c===""&&e.length===1){if(hn(r))return!1;a=!0}}else if(r&8){if(o===null||!cb(n,o,c,t)){if(hn(r))return!1;a=!0}}else{let l=e[++s],d=ub(c,o,G0(n),t);if(d===-1){if(hn(r))return!1;a=!0;continue}if(l!==""){let u;if(d>i?u="":u=o[d+1].toLowerCase(),r&2&&l!==u){if(hn(r))return!1;a=!0}}}}return hn(r)||a}function hn(n){return(n&1)===0}function ub(n,e,t,r){if(e===null)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){let a=e[o];if(a===n)return o;if(a===3||a===6)i=!0;else if(a===1||a===2){let s=e[++o];for(;typeof s=="string";)s=e[++o];continue}else{if(a===4)break;if(a===0){o+=4;continue}}o+=i?1:2}return-1}else return fb(e,n)}function fk(n,e,t=!1){for(let r=0;r<e.length;r++)if(db(n,e[r],t))return!0;return!1}function hb(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function pb(n){for(let e=0;e<n.length;e++){let t=n[e];if(jm(t))return e}return n.length}function fb(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function gb(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function sm(n,e){return n?":not("+e.trim()+")":e}function yb(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let a=n[t];if(typeof a=="string")if(r&2){let s=n[++t];o+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?o+="."+a:r&4&&(o+=" "+a);else o!==""&&!hn(a)&&(e+=sm(i,o),o=""),r=a,i=i||!hn(r);t++}return o!==""&&(e+=sm(i,o)),e}function mb(n){return n.map(yb).join(",")}function kb(n){let e=[],t=[],r=1,o=2;for(;r<n.length;){let i=n[r];if(typeof i=="string")o===2?i!==""&&e.push(i,n[++r]):o===8&&t.push(i);else{if(!hn(o))break;o=i}r++}return t.length&&e.push(1,...t),e}var cr={};function vb(n,e){return n.createText(e)}function Mb(n,e,t){n.setValue(e,t)}function gk(n,e,t){return n.createElement(e,t)}function ad(n,e,t,r,o){n.insertBefore(e,t,r,o)}function yk(n,e,t){n.appendChild(e,t)}function cm(n,e,t,r,o){r!==null?ad(n,e,t,r,o):yk(n,e,t)}function mk(n,e,t,r){n.removeChild(null,e,t,r)}function wb(n,e,t){n.setAttribute(e,"style",t)}function Cb(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function kk(n,e,t){let{mergedAttrs:r,classes:o,styles:i}=t;r!==null&&RC(n,e,r),o!==null&&Cb(n,e,o),i!==null&&wb(n,e,i)}function Z0(n,e,t,r,o,i,a,s,c,l,d){let u=Ue+r,p=u+o,h=bb(u,p),m=typeof l=="function"?l():l;return h[W]={type:n,blueprint:h,template:t,queries:null,viewQuery:s,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:d}}function bb(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:cr);return t}function _b(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Z0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function K0(n,e,t,r,o,i,a,s,c,l,d){let u=e.blueprint.slice();return u[cn]=o,u[Z]=r|4|128|8|64|1024,(l!==null||n&&n[Z]&2048)&&(u[Z]|=2048),Ah(u),u[Ye]=u[Eo]=n,u[Ve]=t,u[En]=a||n&&n[En],u[Pe]=s||n&&n[Pe],u[Or]=c||n&&n[Or]||null,u[Mt]=i,u[as]=YC(),u[Do]=d,u[Eh]=l,u[wt]=e.type==2?n[wt]:u,u}function xb(n,e,t){let r=dn(e,n),o=_b(t),i=n[En].rendererFactory,a=Y0(n,K0(n,o,null,vk(t),r,e,null,i.createRenderer(r,t),null,null,null));return n[e.index]=a}function vk(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Mk(n,e,t,r){if(t===0)return-1;let o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function Y0(n,e){return n[Hi]?n[Dh][Kt]=e:n[Hi]=e,n[Dh]=e,e}function w(n=1){wk(Xe(),te(),Fr()+n,!1)}function wk(n,e,t,r){if(!r)if((e[Z]&3)===3){let i=n.preOrderCheckHooks;i!==null&&Yl(e,i,t)}else{let i=n.preOrderHooks;i!==null&&Xl(e,i,0,t)}jr(t)}var _d=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(_d||{});function y0(n,e,t,r){let o=G(null);try{let[i,a,s]=n.inputs[t],c=null;(a&_d.SignalBased)!==0&&(c=e[i][ut]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,i):Om(e,c,i,r)}finally{G(o)}}var Rn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Rn||{}),Ib;function X0(n,e){return Ib(n,e)}var Zi=new Set,xd=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(xd||{}),qo=new V(""),lm=new Set;function Nn(n){lm.has(n)||(lm.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Ck=!1,m0=class extends Fe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,by()&&(this.destroyRef=b(un,{optional:!0})??void 0,this.pendingTasks=b(ar,{optional:!0})??void 0)}emit(e){let t=G(null);try{super.next(e)}finally{G(t)}}subscribe(e,t,r){let o=e,i=t||(()=>null),a=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:o,error:i,complete:a});return e instanceof Be&&e.add(s),s}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},be=m0;function bk(n){let e,t;function r(){n=No;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function dm(n){return queueMicrotask(()=>n()),()=>{n=No}}var Q0="isAngularZone",sd=Q0+"_ID",Sb=0,Ge=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new be(!1);onMicrotaskEmpty=new be(!1);onStable=new be(!1);onError=new be(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Ck}=e;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&r,a.shouldCoalesceRunChangeDetection=o,a.callbackScheduled=!1,a.scheduleInRootZone=i,Lb(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Q0)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new F(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){let i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+o,e,Db,No,No);try{return i.runTask(a,t,r)}finally{i.cancelTask(a)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Db={};function J0(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Eb(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){bk(()=>{n.callbackScheduled=!1,k0(n),n.isCheckStableRunning=!0,J0(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),k0(n)}function Lb(n){let e=()=>{Eb(n)},t=Sb++;n._inner=n._inner.fork({name:"angular",properties:{[Q0]:!0,[sd]:t,[sd+t]:!0},onInvokeTask:(r,o,i,a,s,c)=>{if(Pb(c))return r.invokeTask(i,a,s,c);try{return um(n),r.invokeTask(i,a,s,c)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),hm(n)}},onInvoke:(r,o,i,a,s,c,l)=>{try{return um(n),r.invoke(i,a,s,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Ob(c)&&e(),hm(n)}},onHasTask:(r,o,i,a)=>{r.hasTask(i,a),o===i&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,k0(n),J0(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,o,i,a)=>(r.handleError(i,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function k0(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function um(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function hm(n){n._nesting--,J0(n)}var cd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new be;onMicrotaskEmpty=new be;onStable=new be;onError=new be;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}};function Pb(n){return _k(n,"__ignore_ng_zone__")}function Ob(n){return _k(n,"__scheduler_tick__")}function _k(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var ep=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})(),xk=[0,1,2,3],Ik=(()=>{class n{ngZone=b(Ge);scheduler=b(Dn);errorHandler=b(Zt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){b(qo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ge(16),this.executing=!0;for(let r of xk)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ge(17)}register(t){let{view:r}=t;r!==void 0?((r[Po]??=[]).push(t),Nr(r),r[Z]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(xd.AFTER_NEXT_RENDER,t):t()}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})(),ld=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,o,i,a=null){this.impl=e,this.hooks=t,this.view=r,this.once=o,this.snapshot=a,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Po];e&&(this.view[Po]=e.filter(t=>t!==this))}};function bs(n,e){let t=e?.injector??b(ht);return Nn("NgAfterNextRender"),Tb(n,t,e,!0)}function Ab(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Tb(n,e,t,r){let o=e.get(ep);o.impl??=e.get(Ik);let i=e.get(qo,null,{optional:!0}),a=t?.manualCleanup!==!0?e.get(un):null,s=e.get(Ui,null,{optional:!0}),c=new ld(o.impl,Ab(n),s?.view,r,a,i?.snapshot(null));return o.impl.register(c),c}var Rb=new V("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Sk(n,e){let t=n.get(Rb);if(Array.isArray(e))for(let r of e)t.queue.add(r);else t.queue.add(e);t.scheduler&&t.scheduler(n)}function Nb(n,e){for(let[t,r]of e)Sk(n,r.animateFns)}function pm(n,e,t,r){let o=n?.[Oo]?.enter;e!==null&&o&&o.has(t.index)&&Nb(r,o)}function $i(n,e,t,r,o,i,a,s){if(o!=null){let c,l=!1;ln(o)?c=o:Pn(o)&&(l=!0,o=o[cn]);let d=Yt(o);n===0&&r!==null?(pm(s,r,i,t),a==null?yk(e,r,d):ad(e,r,d,a||null,!0)):n===1&&r!==null?(pm(s,r,i,t),ad(e,r,d,a||null,!0)):n===2?fm(s,i,t,u=>{mk(e,d,l,u)}):n===3&&fm(s,i,t,()=>{e.destroyNode(d)}),c!=null&&Gb(e,n,t,c,i,r,a)}}function Fb(n,e){Dk(n,e),e[cn]=null,e[Mt]=null}function jb(n,e,t,r,o,i){r[cn]=o,r[Mt]=e,Sd(n,r,t,1,o,i)}function Dk(n,e){e[En].changeDetectionScheduler?.notify(9),Sd(n,e,e[Pe],2,null,null)}function Vb(n){let e=n[Hi];if(!e)return t0(n[W],n);for(;e;){let t=null;if(Pn(e))t=e[Hi];else{let r=e[$e];r&&(t=r)}if(!t){for(;e&&!e[Kt]&&e!==n;)Pn(e)&&t0(e[W],e),e=e[Ye];e===null&&(e=n),Pn(e)&&t0(e[W],e),t=e&&e[Kt]}e=t}}function tp(n,e){let t=n[Ao],r=t.indexOf(e);t.splice(r,1)}function Id(n,e){if(To(e))return;let t=e[Pe];t.destroyNode&&Sd(n,e,t,3,null,null),Vb(e)}function t0(n,e){if(To(e))return;let t=G(null);try{e[Z]&=-129,e[Z]|=256,e[Vt]&&ko(e[Vt]),Bb(n,e),zb(n,e),e[W].type===1&&e[Pe].destroy();let r=e[Ar];if(r!==null&&ln(e[Ye])){r!==e[Ye]&&tp(r,e);let o=e[Ln];o!==null&&o.detachView(n)}p0(e)}finally{G(t)}}function fm(n,e,t,r){let o=n?.[Oo];if(o==null||o.leave==null||!o.leave.has(e.index))return r(!1);if(o.skipLeaveAnimations)return o.skipLeaveAnimations=!1,r(!1);n&&Zi.add(n),Sk(t,()=>{if(o.leave&&o.leave.has(e.index)){let a=o.leave.get(e.index),s=[];if(a)for(let c=0;c<a.animateFns.length;c++){let l=a.animateFns[c],{promise:d}=l();s.push(d)}o.running=Promise.allSettled(s),Hb(n,r)}else n&&Zi.delete(n),r(!1)})}function Hb(n,e){let t=n[Oo]?.running;if(t){t.then(()=>{n[Oo].running=void 0,Zi.delete(n),e(!0)});return}e(!1)}function zb(n,e){let t=n.cleanup,r=e[Vi];if(t!==null)for(let a=0;a<t.length-1;a+=2)if(typeof t[a]=="string"){let s=t[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[t[a+1]];t[a].call(s)}r!==null&&(e[Vi]=null);let o=e[tr];if(o!==null){e[tr]=null;for(let a=0;a<o.length;a++){let s=o[a];s()}}let i=e[ir];if(i!==null){e[ir]=null;for(let a of i)a.destroy()}}function Bb(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let o=e[t[r]];if(!(o instanceof jo)){let i=t[r+1];if(Array.isArray(i))for(let a=0;a<i.length;a+=2){let s=o[i[a]],c=i[a+1];ge(4,s,c);try{c.call(s)}finally{ge(5,s,c)}}else{ge(4,o,i);try{i.call(o)}finally{ge(5,o,i)}}}}}function Ek(n,e,t){return qb(n,e.parent,t)}function qb(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[cn];if(Rr(r)){let{encapsulation:o}=n.data[r.directiveStart+r.componentOffset];if(o===sr.None||o===sr.Emulated)return null}return dn(r,t)}function Lk(n,e,t){return $b(n,e,t)}function Ub(n,e,t){return n.type&40?dn(n,t):null}var $b=Ub,gm;function np(n,e,t,r){let o=Ek(n,r,e),i=e[Pe],a=r.parent||e[Mt],s=Lk(a,r,e);if(o!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)cm(i,o,t[c],s,!1);else cm(i,o,t,s,!1);gm!==void 0&&gm(i,r,e,t,o)}function hs(n,e){if(e!==null){let t=e.type;if(t&3)return dn(e,n);if(t&4)return v0(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return hs(n,r);{let o=n[e.index];return ln(o)?v0(-1,o):Yt(o)}}else{if(t&128)return hs(n,e.next);if(t&32)return X0(e,n)()||Yt(n[e.index]);{let r=Pk(n,e);if(r!==null){if(Array.isArray(r))return r[0];let o=Er(n[wt]);return hs(o,r)}else return hs(n,e.next)}}}return null}function Pk(n,e){if(e!==null){let r=n[wt][Mt],o=e.projection;return r.projection[o]}return null}function v0(n,e){let t=$e+n+1;if(t<e.length){let r=e[t],o=r[W].firstChild;if(o!==null)return hs(r,o)}return e[Tr]}function rp(n,e,t,r,o,i,a){for(;t!=null;){let s=r[Or];if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(a&&e===0&&(c&&Gi(Yt(c),r),t.flags|=2),!Cd(t))if(l&8)rp(n,e,t.child,r,o,i,!1),$i(e,n,s,o,c,t,i,r);else if(l&32){let d=X0(t,r),u;for(;u=d();)$i(e,n,s,o,u,t,i,r);$i(e,n,s,o,c,t,i,r)}else l&16?Ok(n,e,r,t,o,i):$i(e,n,s,o,c,t,i,r);t=a?t.projectionNext:t.next}}function Sd(n,e,t,r,o,i){rp(t,r,n.firstChild,e,o,i,!1)}function Wb(n,e,t){let r=e[Pe],o=Ek(n,t,e),i=t.parent||e[Mt],a=Lk(i,t,e);Ok(r,0,e,t,o,a)}function Ok(n,e,t,r,o,i){let a=t[wt],c=a[Mt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];$i(e,n,t[Or],o,d,r,i,t)}else{let l=c,d=a[Ye];Zm(r)&&(l.flags|=128),rp(n,e,l,d,o,i,!0)}}function Gb(n,e,t,r,o,i,a){let s=r[Tr],c=Yt(r);s!==c&&$i(e,n,t,i,s,o,a);for(let l=$e;l<r.length;l++){let d=r[l];Sd(d[W],d,n,e,i,s)}}function Zb(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=r.indexOf("-")===-1?void 0:Rn.DashCase;o==null?n.removeStyle(t,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Rn.Important),n.setStyle(t,r,o,i))}}function Ak(n,e,t,r,o){let i=Fr(),a=r&2;try{jr(-1),a&&e.length>Ue&&wk(n,e,Ue,!1),ge(a?2:0,o,t),t(r,o)}finally{jr(i),ge(a?3:1,o,t)}}function op(n,e,t){t8(n,e,t),(t.flags&64)===64&&n8(n,e,t)}function ip(n,e,t=dn){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let a=r[i+1],s=a===-1?t(e,n):n[a];n[o++]=s}}}function Kb(n,e,t,r){let i=r.get(rk,nk)||t===sr.ShadowDom,a=n.selectRootElement(e,i);return Yb(a),a}function Yb(n){Xb(n)}var Xb=()=>null;function Qb(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Tk(n,e,t,r,o,i){let a=e[W];if(ap(n,a,e,t,r)){Rr(n)&&e8(e,n.index);return}n.type&3&&(t=Qb(t)),Jb(n,e,t,r,o,i)}function Jb(n,e,t,r,o,i){if(n.type&3){let a=dn(n,e);r=i!=null?i(r,n.value||"",t):r,o.setProperty(a,t,r)}else n.type&12}function e8(n,e){let t=Xt(e,n);t[Z]&16||(t[Z]|=64)}function t8(n,e,t){let r=t.directiveStart,o=t.directiveEnd;Rr(t)&&xb(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||rd(t,e);let i=t.initialInputs;for(let a=r;a<o;a++){let s=n.data[a],c=gs(e,n,a,t);if(Gi(c,e),i!==null&&a8(e,a-r,c,s,t,i),On(s)){let l=Xt(t.index,e);l[Ve]=gs(e,n,a,t)}}}function n8(n,e,t){let r=t.directiveStart,o=t.directiveEnd,i=t.index,a=Uy();try{jr(i);for(let s=r;s<o;s++){let c=n.data[s],l=e[s];Vl(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&r8(c,l)}}finally{jr(-1),Vl(a)}}function r8(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Rk(n,e){let t=n.directiveRegistry,r=null;if(t)for(let o=0;o<t.length;o++){let i=t[o];fk(e,i.selectors,!1)&&(r??=[],On(i)?r.unshift(i):r.push(i))}return r}function o8(n,e,t,r,o,i){let a=dn(n,e);i8(e[Pe],a,i,n.value,t,r,o)}function i8(n,e,t,r,o,i,a){if(i==null)n.removeAttribute(e,o,t);else{let s=a==null?ts(i):a(i,r||"",o);n.setAttribute(e,o,s,t)}}function a8(n,e,t,r,o,i){let a=i[e];if(a!==null)for(let s=0;s<a.length;s+=2){let c=a[s],l=a[s+1];y0(r,t,c,l)}}function s8(n,e,t,r,o){let i=Ue+t,a=e[W],s=o(a,e,n,r,t);e[i]=s,Bi(n,!0);let c=n.type===2;return c?(kk(e[Pe],s,n),(Ay()===0||cs(n))&&Gi(s,e),Ty()):Gi(s,e),Ul()&&(!c||!Cd(n))&&np(a,e,s,n),n}function c8(n){let e=n;return zh()?Bh():(e=e.parent,Bi(e,!1)),e}function l8(n,e){let t=n[Or];if(!t)return;let r;try{r=t.get(Ht,null)}catch{r=null}r?.(e)}function ap(n,e,t,r,o){let i=n.inputs?.[r],a=n.hostDirectiveInputs?.[r],s=!1;if(a)for(let c=0;c<a.length;c+=2){let l=a[c],d=a[c+1],u=e.data[l];y0(u,t[l],d,o),s=!0}if(i)for(let c of i){let l=t[c],d=e.data[c];y0(d,l,r,o),s=!0}return s}function d8(n,e){let t=Xt(e,n),r=t[W];u8(r,t);let o=t[cn];o!==null&&t[Do]===null&&(t[Do]=ok(o,t[Or])),ge(18),sp(r,t,t[Ve]),ge(19,t[Ve])}function u8(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function sp(n,e,t){zl(e);try{let r=n.viewQuery;r!==null&&g0(1,r,t);let o=n.template;o!==null&&Ak(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ln]?.finishViewCreation(n),n.staticContentQueries&&ik(n,e),n.staticViewQueries&&g0(2,n.viewQuery,t);let i=n.components;i!==null&&h8(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Z]&=-5,Bl()}}function h8(n,e){for(let t=0;t<e.length;t++)d8(n,e[t])}function _s(n,e,t,r){let o=G(null);try{let i=e.tView,s=n[Z]&4096?4096:16,c=K0(n,i,t,s,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Ar]=l;let d=n[Ln];return d!==null&&(c[Ln]=d.createEmbeddedView(i)),sp(i,c,t),c}finally{G(o)}}function Ki(n,e){return!e||e.firstChild===null||Zm(n)}function ys(n,e,t,r,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let i=e[t.index];i!==null&&r.push(Yt(i)),ln(i)&&Nk(i,r);let a=t.type;if(a&8)ys(n,e,t.child,r);else if(a&32){let s=X0(t,e),c;for(;c=s();)r.push(c)}else if(a&16){let s=Pk(e,t);if(Array.isArray(s))r.push(...s);else{let c=Er(e[wt]);ys(c[W],c,s,r,!0)}}t=o?t.projectionNext:t.next}return r}function Nk(n,e){for(let t=$e;t<n.length;t++){let r=n[t],o=r[W].firstChild;o!==null&&ys(r[W],r,o,e)}n[Tr]!==n[cn]&&e.push(n[Tr])}function Fk(n){if(n[Po]!==null){for(let e of n[Po])e.impl.addSequence(e);n[Po].length=0}}var jk=[];function p8(n){return n[Vt]??f8(n)}function f8(n){let e=jk.pop()??Object.create(y8);return e.lView=n,e}function g8(n){n.lView[Vt]!==n&&(n.lView=null,jk.push(n))}var y8=$(I({},yo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Nr(n.lView)},consumerOnSignalRead(){this.lView[Vt]=this}});function m8(n){let e=n[Vt]??Object.create(k8);return e.lView=n,e}var k8=$(I({},yo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Er(n.lView);for(;e&&!Vk(e[W]);)e=Er(e);e&&Th(e)},consumerOnSignalRead(){this.lView[Vt]=this}});function Vk(n){return n.type!==2}function Hk(n){if(n[ir]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[ir])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Z]&8192)}}var v8=100;function zk(n,e=0){let r=n[En].rendererFactory,o=!1;o||r.begin?.();try{M8(n,e)}finally{o||r.end?.()}}function M8(n,e){let t=qh();try{qi(!0),M0(n,e);let r=0;for(;ds(n);){if(r===v8)throw new F(103,!1);r++,M0(n,1)}}finally{qi(t)}}function w8(n,e,t,r){if(To(e))return;let o=e[Z],i=!1,a=!1;zl(e);let s=!0,c=null,l=null;i||(Vk(n)?(l=p8(e),c=mo(l)):Gc()===null?(s=!1,l=m8(e),c=mo(l)):e[Vt]&&(ko(e[Vt]),e[Vt]=null));try{Ah(e),Hy(n.bindingStartIndex),t!==null&&Ak(n,e,t,2,r);let d=(o&3)===3;if(!i)if(d){let h=n.preOrderCheckHooks;h!==null&&Yl(e,h,null)}else{let h=n.preOrderHooks;h!==null&&Xl(e,h,0,null),Jh(e,0)}if(a||C8(e),Hk(e),Bk(e,0),n.contentQueries!==null&&ik(n,e),!i)if(d){let h=n.contentCheckHooks;h!==null&&Yl(e,h)}else{let h=n.contentHooks;h!==null&&Xl(e,h,1),Jh(e,1)}_8(n,e);let u=n.components;u!==null&&Uk(e,u,0);let p=n.viewQuery;if(p!==null&&g0(2,p,r),!i)if(d){let h=n.viewCheckHooks;h!==null&&Yl(e,h)}else{let h=n.viewHooks;h!==null&&Xl(e,h,2),Jh(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Nl]){for(let h of e[Nl])h();e[Nl]=null}i||(Fk(e),e[Z]&=-73)}catch(d){throw i||Nr(e),d}finally{l!==null&&(bi(l,c),s&&g8(l)),Bl()}}function Bk(n,e){for(let t=Ym(n);t!==null;t=Xm(t))for(let r=$e;r<t.length;r++){let o=t[r];qk(o,e)}}function C8(n){for(let e=Ym(n);e!==null;e=Xm(e)){if(!(e[Z]&2))continue;let t=e[Ao];for(let r=0;r<t.length;r++){let o=t[r];Th(o)}}}function b8(n,e,t){ge(18);let r=Xt(e,n);qk(r,t),ge(19,r[Ve])}function qk(n,e){Fl(n)&&M0(n,e)}function M0(n,e){let r=n[W],o=n[Z],i=n[Vt],a=!!(e===0&&o&16);if(a||=!!(o&64&&e===0),a||=!!(o&1024),a||=!!(i?.dirty&&_i(i)),a||=!1,i&&(i.dirty=!1),n[Z]&=-9217,a)w8(r,n,r.template,n[Ve]);else if(o&8192){let s=G(null);try{Hk(n),Bk(n,1);let c=r.components;c!==null&&Uk(n,c,1),Fk(n)}finally{G(s)}}}function Uk(n,e,t){for(let r=0;r<e.length;r++)b8(n,e[r],t)}function _8(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let o=t[r];if(o<0)jr(~o);else{let i=o,a=t[++r],s=t[++r];qy(a,i);let c=e[i];ge(24,c),s(2,c),ge(25,c)}}}finally{jr(-1)}}function cp(n,e){let t=qh()?64:1088;for(n[En].changeDetectionScheduler?.notify(e);n;){n[Z]|=t;let r=Er(n);if(zi(n)&&!r)return n;n=r}return null}function $k(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Wk(n,e){let t=$e+e;if(t<n.length)return n[t]}function xs(n,e,t,r=!0){let o=e[W];if(x8(o,e,n,t),r){let a=v0(t,n),s=e[Pe],c=s.parentNode(n[Tr]);c!==null&&jb(o,n[Mt],s,e,c,a)}let i=e[Do];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Gk(n,e){let t=ms(n,e);return t!==void 0&&Id(t[W],t),t}function ms(n,e){if(n.length<=$e)return;let t=$e+e,r=n[t];if(r){let o=r[Ar];o!==null&&o!==n&&tp(o,r),e>0&&(n[t-1][Kt]=r[Kt]);let i=ns(n,$e+e);Fb(r[W],r);let a=i[Ln];a!==null&&a.detachView(i[W]),r[Ye]=null,r[Kt]=null,r[Z]&=-129}return r}function x8(n,e,t,r){let o=$e+r,i=t.length;r>0&&(t[o-1][Kt]=e),r<i-$e?(e[Kt]=t[o],Mh(t,$e+r,e)):(t.push(e),e[Kt]=null),e[Ye]=t;let a=e[Ar];a!==null&&t!==a&&Zk(a,e);let s=e[Ln];s!==null&&s.insertView(n),jl(e),e[Z]|=128}function Zk(n,e){let t=n[Ao],r=e[Ye];if(Pn(r))n[Z]|=2;else{let o=r[Ye][wt];e[wt]!==o&&(n[Z]|=2)}t===null?n[Ao]=[e]:t.push(e)}var Vr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[W];return ys(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Ve]}set context(e){this._lView[Ve]=e}get destroyed(){return To(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ye];if(ln(e)){let t=e[ss],r=t?t.indexOf(this):-1;r>-1&&(ms(e,r),ns(t,r))}this._attachedToViewContainer=!1}Id(this._lView[W],this._lView)}onDestroy(e){Rh(this._lView,e)}markForCheck(){cp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){jl(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,zk(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=zi(this._lView),t=this._lView[Ar];t!==null&&!e&&tp(t,this._lView),Dk(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e;let t=zi(this._lView),r=this._lView[Ar];r!==null&&!t&&Zk(r,this._lView),jl(this._lView)}};var Hr=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=I8;constructor(t,r,o){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){let i=_s(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new Vr(i)}}return n})();function I8(){return Dd(it(),te())}function Dd(n,e){return n.type&4?new Hr(e,n,Qi(n,e)):null}function Is(n,e,t,r,o){let i=n.data[e];if(i===null)i=S8(n,e,t,r,o),By()&&(i.flags|=32);else if(i.type&64){i.type=t,i.value=r,i.attrs=o;let a=jy();i.injectorIndex=a===null?-1:a.injectorIndex}return Bi(i,!0),i}function S8(n,e,t,r,o){let i=Hh(),a=zh(),s=a?i:i&&i.parent,c=n.data[e]=E8(n,s,t,e,r,o);return D8(n,c,i,a),c}function D8(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function E8(n,e,t,r,o,i){let a=e?e.injectorIndex:-1,s=0;return Vh()&&(s|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var QN=new RegExp(`^(\\d+)*(${eb}|${JC})*(.*)`);function L8(n){let e=n[Lh]??[],r=n[Ye][Pe],o=[];for(let i of e)i.data[tk]!==void 0?o.push(i):P8(i,r);n[Lh]=o}function P8(n,e){let t=0,r=n.firstChild;if(r){let o=n.data[ek];for(;t<o;){let i=r.nextSibling;mk(e,r,!1),r=i,t++}}}var O8=()=>null,A8=()=>null;function dd(n,e){return O8(n,e)}function Kk(n,e,t){return A8(n,e,t)}var Yk=class{},Ed=class{},w0=class{resolveComponentFactory(e){throw new F(917,!1)}},Ss=class{static NULL=new w0},Vo=class{},zt=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>T8()}return n})();function T8(){let n=te(),e=it(),t=Xt(e.index,n);return(Pn(t)?t:n)[Pe]}var Xk=(()=>{class n{static \u0275prov=N({token:n,providedIn:"root",factory:()=>null})}return n})();var Jl={},C0=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let o=this.injector.get(e,Jl,r);return o!==Jl||t===Jl?o:this.parentInjector.get(e,t,r)}};function ym(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(e!==null)for(let a=0;a<e.length;a++){let s=e[a];if(typeof s=="number")i=s;else if(i==1)o=dh(o,s);else if(i==2){let c=s,l=e[++a];r=dh(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function j(n,e=0){let t=te();if(t===null)return z(n,e);let r=it();return $m(r,t,ot(n),e)}function lp(){let n="invalid";throw new Error(n)}function Qk(n,e,t,r,o){let i=r===null?null:{"":-1},a=o(n,t);if(a!==null){let s=a,c=null,l=null;for(let d of a)if(d.resolveHostDirectives!==null){[s,c,l]=d.resolveHostDirectives(a);break}F8(n,e,t,s,i,c,l)}i!==null&&r!==null&&R8(t,r,i)}function R8(n,e,t){let r=n.localNames=[];for(let o=0;o<e.length;o+=2){let i=t[e[o+1]];if(i==null)throw new F(-301,!1);r.push(e[o],i)}}function N8(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function F8(n,e,t,r,o,i,a){let s=r.length,c=!1;for(let p=0;p<s;p++){let h=r[p];!c&&On(h)&&(c=!0,N8(n,t,p)),u0(rd(t,e),n,h.type)}q8(t,n.data.length,s);for(let p=0;p<s;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let l=!1,d=!1,u=Mk(n,e,s,null);s>0&&(t.directiveToIndex=new Map);for(let p=0;p<s;p++){let h=r[p];if(t.mergedAttrs=fs(t.mergedAttrs,h.hostAttrs),V8(n,t,e,u,h),B8(u,h,o),a!==null&&a.has(h)){let[k,M]=a.get(h);t.directiveToIndex.set(h.type,[u,k+t.directiveStart,M+t.directiveStart])}else(i===null||!i.has(h))&&t.directiveToIndex.set(h.type,u);h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let m=h.type.prototype;!l&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!d&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),u++}j8(n,t,i)}function j8(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=n.data[r];if(t===null||!t.has(o))mm(0,e,o,r),mm(1,e,o,r),vm(e,r,!1);else{let i=t.get(o);km(0,e,i,r),km(1,e,i,r),vm(e,r,!0)}}}function mm(n,e,t,r){let o=n===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let a;n===0?a=e.inputs??={}:a=e.outputs??={},a[i]??=[],a[i].push(r),Jk(e,i)}}function km(n,e,t,r){let o=n===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let a=o[i],s;n===0?s=e.hostDirectiveInputs??={}:s=e.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,i),Jk(e,a)}}function Jk(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function vm(n,e,t){let{attrs:r,inputs:o,hostDirectiveInputs:i}=n;if(r===null||!t&&o===null||t&&i===null||G0(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!t&&o.hasOwnProperty(c)){let l=o[c];for(let d of l)if(d===e){a??=[],a.push(c,r[s+1]);break}}else if(t&&i.hasOwnProperty(c)){let l=i[c];for(let d=0;d<l.length;d+=2)if(l[d]===e){a??=[],a.push(l[d+1],r[s+1]);break}}s+=2}n.initialInputs??=[],n.initialInputs.push(a)}function V8(n,e,t,r,o){n.data[r]=o;let i=o.factory||(o.factory=_o(o.type,!0)),a=new jo(i,On(o),j,null);n.blueprint[r]=a,t[r]=a,H8(n,e,r,Mk(n,t,o.hostVars,cr),o)}function H8(n,e,t,r,o){let i=o.hostBindings;if(i){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let s=~e.index;z8(a)!=s&&a.push(s),a.push(t,r,i)}}function z8(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function B8(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;On(e)&&(t[""]=n)}}function q8(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function ev(n,e,t,r,o,i,a,s){let c=e[W],l=c.consts,d=An(l,a),u=Is(c,n,t,r,d);return i&&Qk(c,e,u,An(l,s),o),u.mergedAttrs=fs(u.mergedAttrs,u.attrs),u.attrs!==null&&ym(u,u.attrs,!1),u.mergedAttrs!==null&&ym(u,u.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,u),u}function tv(n,e){Nm(n,e),Ph(e)&&n.queries.elementEnd(e)}function dp(n){return rv(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function nv(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function rv(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Uo(n,e,t){if(t===cr)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function n0(n,e,t){return function r(o){let i=Rr(n)?Xt(n.index,e):e;cp(i,5);let a=e[Ve],s=Mm(e,a,t,o),c=r.__ngNextListenerFn__;for(;c;)s=Mm(e,a,c,o)&&s,c=c.__ngNextListenerFn__;return s}}function Mm(n,e,t,r){let o=G(null);try{return ge(6,e,t),t(r)!==!1}catch(i){return l8(n,i),!1}finally{ge(7,e,t),G(o)}}function U8(n,e,t,r,o,i,a,s){let c=cs(n),l=!1,d=null;if(!r&&c&&(d=W8(e,t,i,n.index)),d!==null){let u=d.__ngLastListenerFn__||d;u.__ngNextListenerFn__=a,d.__ngLastListenerFn__=a,l=!0}else{let u=dn(n,t),p=r?r(u):u;nb(t,p,i,s);let h=o.listen(p,i,s);if(!$8(i)){let m=r?k=>r(Yt(k[n.index])):n.index;ov(m,e,t,i,s,h,!1)}}return l}function $8(n){return n.startsWith("animation")||n.startsWith("transition")}function W8(n,e,t,r){let o=n.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let a=o[i];if(a===t&&o[i+1]===r){let s=e[Vi],c=o[i+2];return s&&s.length>c?s[c]:null}typeof a=="string"&&(i+=2)}return null}function ov(n,e,t,r,o,i,a){let s=e.firstCreatePass?Fh(e):null,c=Nh(t),l=c.length;c.push(o,i),s&&s.push(r,n,l,(l+1)*(a?-1:1))}function wm(n,e,t,r,o,i){let a=e[t],s=e[W],l=s.data[t].outputs[r],u=a[l].subscribe(i);ov(n.index,s,e,o,i,u,!0)}var b0=Symbol("BINDING");var ud=class extends Ss{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=or(e);return new Ho(t,this.ngModule)}};function G8(n){return Object.keys(n).map(e=>{let[t,r,o]=n[e],i={propName:t,templateName:e,isSignal:(r&_d.SignalBased)!==0};return o&&(i.transform=o),i})}function Z8(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function K8(n,e,t){let r=e instanceof Ke?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new C0(t,r):t}function Y8(n){let e=n.get(Vo,null);if(e===null)throw new F(407,!1);let t=n.get(Xk,null),r=n.get(Dn,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function X8(n,e){let t=iv(n);return gk(e,t,t==="svg"?xy:t==="math"?Iy:null)}function iv(n){return(n.selectors[0][0]||"div").toLowerCase()}var Ho=class extends Ed{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=G8(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Z8(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=mb(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,o,i,a){ge(22);let s=G(null);try{let c=this.componentDef,l=Q8(r,c,a,i),d=K8(c,o||this.ngModule,e),u=Y8(d),p=u.rendererFactory.createRenderer(null,c),h=r?Kb(p,r,c.encapsulation,d):X8(c,p),m=a?.some(Cm)||i?.some(C=>typeof C!="function"&&C.bindings.some(Cm)),k=K0(null,l,null,512|vk(c),null,null,u,p,d,null,ok(h,d,!0));k[Ue]=h,zl(k);let M=null;try{let C=ev(Ue,k,2,"#host",()=>l.directiveRegistry,!0,0);kk(p,h,C),Gi(h,k),op(l,k,C),ak(l,C,k),tv(l,C),t!==void 0&&e6(C,this.ngContentSelectors,t),M=Xt(C.index,k),k[Ve]=M[Ve],sp(l,k,null)}catch(C){throw M!==null&&p0(M),p0(k),C}finally{ge(23),Bl()}return new hd(this.componentType,k,!!m)}finally{G(s)}}};function Q8(n,e,t,r){let o=n?["ng-version","20.3.9"]:kb(e.selectors[0]),i=null,a=null,s=0;if(t)for(let d of t)s+=d[b0].requiredVars,d.create&&(d.targetIdx=0,(i??=[]).push(d)),d.update&&(d.targetIdx=0,(a??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let u=r[d];if(typeof u!="function")for(let p of u.bindings){s+=p[b0].requiredVars;let h=d+1;p.create&&(p.targetIdx=h,(i??=[]).push(p)),p.update&&(p.targetIdx=h,(a??=[]).push(p))}}let c=[e];if(r)for(let d of r){let u=typeof d=="function"?d:d.type,p=_h(u);c.push(p)}return Z0(0,null,J8(i,a),1,s,c,null,null,null,[o],null)}function J8(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function Cm(n){let e=n[b0].kind;return e==="input"||e==="twoWay"}var hd=class extends Yk{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=ls(t[W],Ue),this.location=Qi(this._tNode,t),this.instance=Xt(this._tNode.index,t)[Ve],this.hostView=this.changeDetectorRef=new Vr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView,i=ap(r,o[W],o,e,t);this.previousInputValues.set(e,t);let a=Xt(r.index,o);cp(a,1)}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function e6(n,e,t){let r=n.projection=[];for(let o=0;o<e.length;o++){let i=t[o];r.push(i!=null&&i.length?Array.from(i):null)}}var lr=(()=>{class n{static __NG_ELEMENT_ID__=t6}return n})();function t6(){let n=it();return sv(n,te())}var n6=lr,av=class extends n6{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Qi(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){let e=z0(this._hostTNode,this._hostLView);if(Vm(e)){let t=nd(e,this._hostLView),r=td(e),o=t[W].data[r+8];return new Fo(o,t)}else return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=bm(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-$e}createEmbeddedView(e,t,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let a=dd(this._lContainer,e.ssrId),s=e.createEmbeddedViewImpl(t||{},i,a);return this.insertImpl(s,o,Ki(this._hostTNode,a)),s}createComponent(e,t,r,o,i,a,s){let c=e&&!SC(e),l;if(c)l=t;else{let M=t||{};l=M.index,r=M.injector,o=M.projectableNodes,i=M.environmentInjector||M.ngModuleRef,a=M.directives,s=M.bindings}let d=c?e:new Ho(or(e)),u=r||this.parentInjector;if(!i&&d.ngModule==null){let C=(c?u:this.parentInjector).get(Ke,null);C&&(i=C)}let p=or(d.componentType??{}),h=dd(this._lContainer,p?.id??null),m=h?.firstChild??null,k=d.create(u,o,m,i,a,s);return this.insertImpl(k.hostView,l,Ki(this._hostTNode,h)),k}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let o=e._lView;if(Ey(o)){let s=this.indexOf(e);if(s!==-1)this.detach(s);else{let c=o[Ye],l=new av(c,c[Mt],c[Ye]);l.detach(l.indexOf(e))}}let i=this._adjustIndex(t),a=this._lContainer;return xs(a,o,i,r),e.attachToViewContainerRef(),Mh(r0(a),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=bm(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=ms(this._lContainer,t);r&&(ns(r0(this._lContainer),t),Id(r[W],r))}detach(e){let t=this._adjustIndex(e,-1),r=ms(this._lContainer,t);return r&&ns(r0(this._lContainer),t)!=null?new Vr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function bm(n){return n[ss]}function r0(n){return n[ss]||(n[ss]=[])}function sv(n,e){let t,r=e[n.index];return ln(r)?t=r:(t=$k(r,e,null,n),e[n.index]=t,Y0(e,t)),o6(t,e,n,r),new av(t,n,e)}function r6(n,e){let t=n[Pe],r=t.createComment(""),o=dn(e,n),i=t.parentNode(o);return ad(t,i,r,t.nextSibling(o),!1),r}var o6=s6,i6=()=>!1;function a6(n,e,t){return i6(n,e,t)}function s6(n,e,t,r){if(n[Tr])return;let o;t.type&8?o=Yt(r):o=r6(e,t),n[Tr]=o}var _0=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},x0=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){let a=t.getByIndex(i),s=this.queries[a.indexInDeclarationView];o.push(s.clone())}return new n(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)up(e,t).matches!==null&&this.queries[t].setDirty()}},I0=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=g6(e):this.predicate=e}},S0=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let o=t!==null?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,t!==null?t.push(i):t=[i])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},D0=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,t,c6(t,i)),this.matchTNodeWithReadOption(e,t,Ql(t,e,i,!1,!1))}else r===Hr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ql(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===at||o===lr||o===Hr&&t.type&4)this.addMatch(t.index,-2);else{let i=Ql(t,e,o,!1,!1);i!==null&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function c6(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function l6(n,e){return n.type&11?Qi(n,e):n.type&4?Dd(n,e):null}function d6(n,e,t,r){return t===-1?l6(e,n):t===-2?u6(n,e,r):gs(n,n[W],t,e)}function u6(n,e,t){if(t===at)return Qi(e,n);if(t===Hr)return Dd(e,n);if(t===lr)return sv(e,n)}function cv(n,e,t,r){let o=e[Ln].queries[r];if(o.matches===null){let i=n.data,a=t.matches,s=[];for(let c=0;a!==null&&c<a.length;c+=2){let l=a[c];if(l<0)s.push(null);else{let d=i[l];s.push(d6(e,d,a[c+1],t.metadata.read))}}o.matches=s}return o.matches}function E0(n,e,t,r){let o=n.queries.getByIndex(t),i=o.matches;if(i!==null){let a=cv(n,e,o,t);for(let s=0;s<i.length;s+=2){let c=i[s];if(c>0)r.push(a[s/2]);else{let l=i[s+1],d=e[-c];for(let u=$e;u<d.length;u++){let p=d[u];p[Ar]===p[Ye]&&E0(p[W],p,l,r)}if(d[Ao]!==null){let u=d[Ao];for(let p=0;p<u.length;p++){let h=u[p];E0(h[W],h,l,r)}}}}}return r}function h6(n,e){return n[Ln].queries[e].queryList}function p6(n,e,t){let r=new od((t&4)===4);return Oy(n,e,r,r.destroy),(e[Ln]??=new x0).queries.push(new _0(r))-1}function f6(n,e,t,r){let o=Xe();if(o.firstCreatePass){let i=it();y6(o,new I0(e,t,r),i.index),m6(o,n),(t&2)===2&&(o.staticContentQueries=!0)}return p6(o,te(),t)}function g6(n){return n.split(",").map(e=>e.trim())}function y6(n,e,t){n.queries===null&&(n.queries=new S0),n.queries.track(new D0(e,t))}function m6(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function up(n,e){return n.queries.getByIndex(e)}function k6(n,e){let t=n[W],r=up(t,e);return r.crossesNgTemplate?E0(t,n,e,[]):cv(t,n,r,e)}var zo=class{},Ld=class{};var pd=class extends zo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ud(this);constructor(e,t,r,o=!0){super(),this.ngModuleType=e,this._parent=t;let i=bh(e);this._bootstrapComponents=hk(i.bootstrap),this._r3Injector=Gh(e,t,[{provide:zo,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver},...r],nr(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},fd=class extends Ld{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new pd(this.moduleType,e,[])}};var ks=class extends zo{injector;componentFactoryResolver=new ud(this);instance=null;constructor(e){super();let t=new Io([...e.providers,{provide:zo,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver}],e.parent||is(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ea(n,e,t=null){return new ks({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var v6=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=xh(!1,t.type),o=r.length>0?ea([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=N({token:n,providedIn:"environment",factory:()=>new n(z(Ke))})}return n})();function de(n){return Xi(()=>{let e=lv(n),t=$(I({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===B0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(v6).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||sr.Emulated,styles:n.styles||Nt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Nn("NgStandalone"),dv(t);let r=n.dependencies;return t.directiveDefs=_m(r,M6),t.pipeDefs=_m(r,vy),t.id=b6(t),t})}function M6(n){return or(n)||_h(n)}function Jt(n){return Xi(()=>({type:n.type,bootstrap:n.bootstrap||Nt,declarations:n.declarations||Nt,imports:n.imports||Nt,exports:n.exports||Nt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function w6(n,e){if(n==null)return Lr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let o=n[r],i,a,s,c;Array.isArray(o)?(s=o[0],i=o[1],a=o[2]??i,c=o[3]||null):(i=o,a=o,s=_d.None,c=null),t[i]=[r,s,c],e[i]=a}return t}function C6(n){if(n==null)return Lr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function xe(n){return Xi(()=>{let e=lv(n);return dv(e),e})}function lv(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Lr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Nt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:w6(n.inputs,e),outputs:C6(n.outputs),debugInfo:null}}function dv(n){n.features?.forEach(e=>e(n))}function _m(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let o of t){let i=e(o);i!==null&&r.push(i)}return r}:null}function b6(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function _6(n){return Object.getPrototypeOf(n.prototype).constructor}function Et(n){let e=_6(n.type),t=!0,r=[n];for(;e;){let o;if(On(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);let a=n;a.inputs=o0(n.inputs),a.declaredInputs=o0(n.declaredInputs),a.outputs=o0(n.outputs);let s=o.hostBindings;s&&E6(n,s);let c=o.viewQuery,l=o.contentQueries;if(c&&S6(n,c),l&&D6(n,l),x6(n,o),cy(n.outputs,o.outputs),On(o)&&o.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let a=0;a<i.length;a++){let s=i[a];s&&s.ngInherit&&s(n),s===Et&&(t=!1)}}e=Object.getPrototypeOf(e)}I6(r)}function x6(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function I6(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=fs(o.hostAttrs,t=fs(t,o.hostAttrs))}}function o0(n){return n===Lr?{}:n===Nt?[]:n}function S6(n,e){let t=n.viewQuery;t?n.viewQuery=(r,o)=>{e(r,o),t(r,o)}:n.viewQuery=e}function D6(n,e){let t=n.contentQueries;t?n.contentQueries=(r,o,i)=>{e(r,o,i),t(r,o,i)}:n.contentQueries=e}function E6(n,e){let t=n.hostBindings;t?n.hostBindings=(r,o)=>{e(r,o),t(r,o)}:n.hostBindings=e}function uv(n,e,t,r,o,i,a,s){if(t.firstCreatePass){n.mergedAttrs=fs(n.mergedAttrs,n.attrs);let d=n.tView=Z0(2,n,o,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}s&&(n.flags|=s),Bi(n,!1);let c=P6(t,e,n,r);Ul()&&np(t,e,c,n),Gi(c,e);let l=$k(c,e,c,n);e[r+Ue]=l,Y0(e,l),a6(l,n,e)}function L6(n,e,t,r,o,i,a,s,c,l,d){let u=t+Ue,p;return e.firstCreatePass?(p=Is(e,u,4,a||null,s||null),jh()&&Qk(e,n,p,An(e.consts,l),Rk),Nm(e,p)):p=e.data[u],uv(p,n,e,t,r,o,i,c),cs(p)&&op(e,n,p),l!=null&&ip(n,p,d),p}function vs(n,e,t,r,o,i,a,s,c,l,d){let u=t+Ue,p;if(e.firstCreatePass){if(p=Is(e,u,4,a||null,s||null),l!=null){let h=An(e.consts,l);p.localNames=[];for(let m=0;m<h.length;m+=2)p.localNames.push(h[m],-1)}}else p=e.data[u];return uv(p,n,e,t,r,o,i,c),l!=null&&ip(n,p,d),p}function ae(n,e,t,r,o,i,a,s){let c=te(),l=Xe(),d=An(l.consts,i);return L6(c,l,n,e,t,r,o,d,void 0,a,s),ae}var P6=O6;function O6(n,e,t,r){return $l(!0),e[Pe].createComment("")}var hp=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var pp=new V("");function zr(n){return!!n&&typeof n.then=="function"}function fp(n){return!!n&&typeof n.subscribe=="function"}var gp=new V("");function Pd(n){return rs([{provide:gp,multi:!0,useValue:n}])}var yp=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=b(gp,{optional:!0})??[];injector=b(ht);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let i=pt(this.injector,o);if(zr(i))t.push(i);else if(fp(i)){let a=new Promise((s,c)=>{i.subscribe({complete:s,error:c})});t.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ds=new V("");function hv(){A1(()=>{let n="";throw new F(600,n)})}function pv(n){return n.isBoundToModule}var A6=10;var dr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(Ht);afterRenderManager=b(ep);zonelessEnabled=b(Wl);rootEffectScheduler=b(us);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Fe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=b(ar);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(oe(t=>!t))}constructor(){b(qo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=b(Ke);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,o=ht.NULL){return this._injector.get(Ge).run(()=>{ge(10);let a=t instanceof Ed;if(!this._injector.get(yp).done){let m="";throw new F(405,m)}let c;a?c=t:c=this._injector.get(Ss).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=pv(c)?void 0:this._injector.get(zo),d=r||c.selector,u=c.create(o,[],d,l),p=u.location.nativeElement,h=u.injector.get(pp,null);return h?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),ps(this.components,u),h?.unregisterApplication(p)}),this._loadComponent(u),ge(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ge(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(xd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new F(101,!1);let t=G(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,G(t),this.afterTick.next(),ge(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Vo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<A6;)ge(14),this.synchronizeOnce(),ge(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!ds(o))continue;let i=r&&!this.zonelessEnabled?0:1;zk(o,i),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ds(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ps(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(t),this._injector.get(Ds,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ps(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new F(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ps(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function $o(n,e,t,r){let o=te(),i=Ro();if(Uo(o,i,e)){let a=Xe(),s=ql();o8(s,o,n,e,t,r)}return $o}var iF=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var L0=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),o=Math.max(e,t),i=this.detach(o);if(o-r>1){let a=this.detach(r);this.attach(r,i),this.attach(o,a)}else this.attach(r,i)}move(e,t){this.attach(t,this.detach(e,!0))}};function i0(n,e,t,r,o){return n===t&&Object.is(e,r)?1:Object.is(o(n,e),o(t,r))?-1:0}function T6(n,e,t){let r,o,i=0,a=n.length-1,s=void 0;if(Array.isArray(e)){let c=e.length-1;for(;i<=a&&i<=c;){let l=n.at(i),d=e[i],u=i0(i,l,i,d,t);if(u!==0){u<0&&n.updateValue(i,d),i++;continue}let p=n.at(a),h=e[c],m=i0(a,p,c,h,t);if(m!==0){m<0&&n.updateValue(a,h),a--,c--;continue}let k=t(i,l),M=t(a,p),C=t(i,d);if(Object.is(C,M)){let R=t(c,h);Object.is(R,k)?(n.swap(i,a),n.updateValue(a,h),c--,a--):n.move(a,i),n.updateValue(i,d),i++;continue}if(r??=new gd,o??=Im(n,i,a,t),P0(n,r,i,C))n.updateValue(i,d),i++,a++;else if(o.has(C))r.set(k,n.detach(i)),a--;else{let R=n.create(i,e[i]);n.attach(i,R),i++,a++}}for(;i<=c;)xm(n,r,t,i,e[i]),i++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&i<=a;){let d=n.at(i),u=l.value,p=i0(i,d,i,u,t);if(p!==0)p<0&&n.updateValue(i,u),i++,l=c.next();else{r??=new gd,o??=Im(n,i,a,t);let h=t(i,u);if(P0(n,r,i,h))n.updateValue(i,u),i++,a++,l=c.next();else if(!o.has(h))n.attach(i,n.create(i,u)),i++,a++,l=c.next();else{let m=t(i,d);r.set(m,n.detach(i)),a--}}}for(;!l.done;)xm(n,r,t,n.length,l.value),l=c.next()}for(;i<=a;)n.destroy(n.detach(a--));r?.forEach(c=>{n.destroy(c)})}function P0(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function xm(n,e,t,r,o){if(P0(n,e,r,t(r,o)))n.updateValue(r,o);else{let i=n.create(r,o);n.attach(r,i)}}function Im(n,e,t,r){let o=new Set;for(let i=e;i<=t;i++)o.add(r(i,n.at(i)));return o}var gd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),e(r,t)}}};function Br(n,e,t,r,o,i,a,s){Nn("NgControlFlow");let c=te(),l=Xe(),d=An(l.consts,i);return vs(c,l,n,e,t,r,o,d,256,a,s),mp}function mp(n,e,t,r,o,i,a,s){Nn("NgControlFlow");let c=te(),l=Xe(),d=An(l.consts,i);return vs(c,l,n,e,t,r,o,d,512,a,s),mp}function qr(n,e){Nn("NgControlFlow");let t=te(),r=Ro(),o=t[r]!==cr?t[r]:-1,i=o!==-1?yd(t,Ue+o):void 0,a=0;if(Uo(t,r,n)){let s=G(null);try{if(i!==void 0&&Gk(i,a),n!==-1){let c=Ue+n,l=yd(t,c),d=R0(t[W],c),u=Kk(l,d,t),p=_s(t,d,e,{dehydratedView:u});xs(l,p,a,Ki(d,u))}}finally{G(s)}}else if(i!==void 0){let s=Wk(i,a);s!==void 0&&(s[Ve]=e)}}var O0=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-$e}};var A0=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function kp(n,e,t,r,o,i,a,s,c,l,d,u,p){Nn("NgControlFlow");let h=te(),m=Xe(),k=c!==void 0,M=te(),C=s?a.bind(M[wt][Ve]):a,R=new A0(k,C);M[Ue+n]=R,vs(h,m,n+1,e,t,r,o,An(m.consts,i),256),k&&vs(h,m,n+2,c,l,d,u,An(m.consts,p),512)}var T0=class extends L0{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-$e}at(e){return this.getLView(e)[Ve].$implicit}attach(e,t){let r=t[Do];this.needsIndexUpdate||=e!==this.length,xs(this.lContainer,t,e,Ki(this.templateTNode,r))}detach(e,t){return this.needsIndexUpdate||=e!==this.length-1,t&&R6(this.lContainer,e),N6(this.lContainer,e)}create(e,t){let r=dd(this.lContainer,this.templateTNode.tView.ssrId),o=_s(this.hostLView,this.templateTNode,new O0(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(e){Id(e[W],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Ve].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ve].$index=e}getLView(e){return F6(this.lContainer,e)}};function vp(n){let e=G(null),t=Fr();try{let r=te(),o=r[W],i=r[t],a=t+1,s=yd(r,a);if(i.liveCollection===void 0){let l=R0(o,a);i.liveCollection=new T0(s,r,l)}else i.liveCollection.reset();let c=i.liveCollection;if(T6(c,n,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){let l=Ro(),d=c.length===0;if(Uo(r,l,d)){let u=t+2,p=yd(r,u);if(d){let h=R0(o,u),m=Kk(p,h,r),k=_s(r,h,void 0,{dehydratedView:m});xs(p,k,0,Ki(h,m))}else o.firstUpdatePass&&L8(p),Gk(p,0)}}}finally{G(e)}}function yd(n,e){return n[e]}function R6(n,e){if(n.length<=$e)return;let t=$e+e,r=n[t];r&&r[Oo]&&(r[Oo].skipLeaveAnimations=!0)}function N6(n,e){return ms(n,e)}function F6(n,e){return Wk(n,e)}function R0(n,e){return ls(n,e)}function O(n,e,t){let r=te(),o=Ro();if(Uo(r,o,e)){let i=Xe(),a=ql();Tk(a,r,n,e,r[Pe],t)}return O}function Sm(n,e,t,r,o){ap(e,n,t,o?"class":"style",r)}function f(n,e,t,r){let o=te(),i=o[W],a=n+Ue,s=i.firstCreatePass?ev(a,o,2,e,Rk,jh(),t,r):i.data[a];if(s8(s,o,n,e,j6),cs(s)){let c=o[W];op(c,o,s),ak(c,s,o)}return r!=null&&ip(o,s),f}function y(){let n=Xe(),e=it(),t=c8(e);return n.firstCreatePass&&tv(n,t),Ny(t)&&Fy(),Ry(),t.classesWithoutHost!=null&&AC(t)&&Sm(n,t,te(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&TC(t)&&Sm(n,t,te(),t.stylesWithoutHost,!1),y}function X(n,e,t,r){return f(n,e,t,r),y(),X}var j6=(n,e,t,r,o)=>($l(!0),gk(e[Pe],r,Yy()));function le(){return te()}var Es="en-US";var V6=Es;function fv(n){typeof n=="string"&&(V6=n.toLowerCase().replace(/_/g,"-"))}function x(n,e,t){let r=te(),o=Xe(),i=it();return gv(o,r,r[Pe],i,n,e,t),x}function gv(n,e,t,r,o,i,a){let s=!0,c=null;if((r.type&3||a)&&(c??=n0(r,e,i),U8(r,n,e,a,t,o,i,c)&&(s=!1)),s){let l=r.outputs?.[o],d=r.hostDirectiveOutputs?.[o];if(d&&d.length)for(let u=0;u<d.length;u+=2){let p=d[u],h=d[u+1];c??=n0(r,e,i),wm(r,e,p,h,o,c)}if(l&&l.length)for(let u of l)c??=n0(r,e,i),wm(r,e,u,o,o,c)}}function S(n=1){return Ky(n)}function H6(n,e){let t=null,r=hb(n);for(let o=0;o<e.length;o++){let i=e[o];if(i==="*"){t=o;continue}if(r===null?fk(n,i,!0):gb(r,i))return o}return t}function Mp(n){let e=te()[wt][Mt];if(!e.projection){let t=n?n.length:1,r=e.projection=yy(t,null),o=r.slice(),i=e.child;for(;i!==null;){if(i.type!==128){let a=n?H6(i,n):0;a!==null&&(o[a]?o[a].projectionNext=i:r[a]=i,o[a]=i)}i=i.next}}}function wp(n,e=0,t,r,o,i){let a=te(),s=Xe(),c=r?n+1:null;c!==null&&vs(a,s,c,r,o,i,null,t);let l=Is(s,Ue+n,16,null,t||null);l.projection===null&&(l.projection=e),Bh();let u=!a[Do]||Vh();a[wt][Mt].projection[l.projection]===null&&c!==null?z6(a,s,c):u&&!Cd(l)&&Wb(s,a,l)}function z6(n,e,t){let r=Ue+t,o=e.data[r],i=n[r],a=dd(i,o.tView.ssrId),s=_s(n,o,void 0,{dehydratedView:a});xs(i,s,0,Ki(o,a))}function Cp(n,e,t,r){f6(n,e,t,r)}function bp(n){let e=te(),t=Xe(),r=Uh();Hl(r+1);let o=up(t,r);if(n.dirty&&Dy(e)===((o.metadata.flags&2)===2)){if(o.matches===null)n.reset([]);else{let i=k6(e,r);n.reset(i,GC),n.notifyOnChanges()}return!0}return!1}function _p(){return h6(te(),Uh())}function xp(n){let e=Vy();return Sy(e,Ue+n)}function Kl(n,e){return n<<17|e<<2}function Bo(n){return n>>17&32767}function B6(n){return(n&2)==2}function q6(n,e){return n&131071|e<<17}function N0(n){return n|2}function Yi(n){return(n&131068)>>2}function a0(n,e){return n&-131069|e<<2}function U6(n){return(n&1)===1}function F0(n){return n|1}function $6(n,e,t,r,o,i){let a=i?e.classBindings:e.styleBindings,s=Bo(a),c=Yi(a);n[r]=t;let l=!1,d;if(Array.isArray(t)){let u=t;d=u[1],(d===null||ji(u,d)>0)&&(l=!0)}else d=t;if(o)if(c!==0){let p=Bo(n[s+1]);n[r+1]=Kl(p,s),p!==0&&(n[p+1]=a0(n[p+1],r)),n[s+1]=q6(n[s+1],r)}else n[r+1]=Kl(s,0),s!==0&&(n[s+1]=a0(n[s+1],r)),s=r;else n[r+1]=Kl(c,0),s===0?s=r:n[c+1]=a0(n[c+1],r),c=r;l&&(n[r+1]=N0(n[r+1])),Dm(n,d,r,!0),Dm(n,d,r,!1),W6(e,d,n,r,i),a=Kl(s,c),i?e.classBindings=a:e.styleBindings=a}function W6(n,e,t,r,o){let i=o?n.residualClasses:n.residualStyles;i!=null&&typeof e=="string"&&ji(i,e)>=0&&(t[r+1]=F0(t[r+1]))}function Dm(n,e,t,r){let o=n[t+1],i=e===null,a=r?Bo(o):Yi(o),s=!1;for(;a!==0&&(s===!1||i);){let c=n[a],l=n[a+1];G6(c,e)&&(s=!0,n[a+1]=r?F0(l):N0(l)),a=r?Bo(l):Yi(l)}s&&(n[t+1]=r?N0(o):F0(o))}function G6(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ji(n,e)>=0:!1}function Oe(n,e){return Z6(n,e,null,!0),Oe}function Z6(n,e,t,r){let o=te(),i=Xe(),a=zy(2);if(i.firstUpdatePass&&Y6(i,n,a,r),e!==cr&&Uo(o,a,e)){let s=i.data[Fr()];t_(i,s,o,o[Pe],n,o[a+1]=n_(e,t),r,a)}}function K6(n,e){return e>=n.expandoStartIndex}function Y6(n,e,t,r){let o=n.data;if(o[t+1]===null){let i=o[Fr()],a=K6(n,t);r_(i,r)&&e===null&&!a&&(e=!1),e=X6(o,i,e,r),$6(o,i,e,t,a,r)}}function X6(n,e,t,r){let o=$y(n),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(t=s0(null,n,e,t,r),t=Ms(t,e.attrs,r),i=null);else{let a=e.directiveStylingLast;if(a===-1||n[a]!==o)if(t=s0(o,n,e,t,r),i===null){let c=Q6(n,e,r);c!==void 0&&Array.isArray(c)&&(c=s0(null,n,e,c[1],r),c=Ms(c,e.attrs,r),J6(n,e,r,c))}else i=e_(n,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),t}function Q6(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Yi(r)!==0)return n[Bo(r)]}function J6(n,e,t,r){let o=t?e.classBindings:e.styleBindings;n[Bo(o)]=r}function e_(n,e,t){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let a=n[i].hostAttrs;r=Ms(r,a,t)}return Ms(r,e.attrs,t)}function s0(n,e,t,r,o){let i=null,a=t.directiveEnd,s=t.directiveStylingLast;for(s===-1?s=t.directiveStart:s++;s<a&&(i=e[s],r=Ms(r,i.hostAttrs,o),i!==n);)s++;return n!==null&&(t.directiveStylingLast=s),r}function Ms(n,e,t){let r=t?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let a=e[i];typeof a=="number"?o=a:o===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ky(n,a,t?!0:e[++i]))}return n===void 0?null:n}function t_(n,e,t,r,o,i,a,s){if(!(e.type&3))return;let c=n.data,l=c[s+1],d=U6(l)?Em(c,e,t,o,Yi(l),a):void 0;if(!md(d)){md(i)||B6(l)&&(i=Em(c,null,t,o,s,a));let u=Oh(Fr(),t);Zb(r,a,u,o,i)}}function Em(n,e,t,r,o,i){let a=e===null,s;for(;o>0;){let c=n[o],l=Array.isArray(c),d=l?c[1]:c,u=d===null,p=t[o+1];p===cr&&(p=u?Nt:void 0);let h=u?Tl(p,r):d===r?p:void 0;if(l&&!md(h)&&(h=Tl(c,r)),md(h)&&(s=h,a))return s;let m=n[o+1];o=a?Bo(m):Yi(m)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(s=Tl(c,r))}return s}function md(n){return n!==void 0}function n_(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=nr(Cs(n)))),n}function r_(n,e){return(n.flags&(e?8:16))!==0}function v(n,e=""){let t=te(),r=Xe(),o=n+Ue,i=r.firstCreatePass?Is(r,o,1,e,null):r.data[o],a=o_(r,t,i,e,n);t[o]=a,Ul()&&np(r,t,a,i),Bi(i,!1)}var o_=(n,e,t,r,o)=>($l(!0),vb(e[Pe],r));function i_(n,e,t,r=""){return Uo(n,Ro(),t)?e+ts(t)+r:cr}function Q(n){return ue("",n),Q}function ue(n,e,t){let r=te(),o=i_(r,n,e,t);return o!==cr&&a_(r,Fr(),o),ue}function a_(n,e,t){let r=Oh(e,n);Mb(n[Pe],r,t)}function ye(n,e,t){Yh(e)&&(e=e());let r=te(),o=Ro();if(Uo(r,o,e)){let i=Xe(),a=ql();Tk(a,r,n,e,r[Pe],t)}return ye}function ve(n,e){let t=Yh(n);return t&&n.set(e),t}function me(n,e){let t=te(),r=Xe(),o=it();return gv(r,t,t[Pe],o,n,e),me}function s_(n,e,t){let r=Xe();if(r.firstCreatePass){let o=On(n);j0(t,r.data,r.blueprint,o,!0),j0(e,r.data,r.blueprint,o,!1)}}function j0(n,e,t,r,o){if(n=ot(n),Array.isArray(n))for(let i=0;i<n.length;i++)j0(n[i],e,t,r,o);else{let i=Xe(),a=te(),s=it(),c=xo(n)?n:ot(n.provide),l=Sh(n),d=s.providerIndexes&1048575,u=s.directiveStart,p=s.providerIndexes>>20;if(xo(n)||!n.multi){let h=new jo(l,o,j,null),m=l0(c,e,o?d:d+p,u);m===-1?(u0(rd(s,a),i,c),c0(i,n,e.length),e.push(c),s.directiveStart++,s.directiveEnd++,o&&(s.providerIndexes+=1048576),t.push(h),a.push(h)):(t[m]=h,a[m]=h)}else{let h=l0(c,e,d+p,u),m=l0(c,e,d,d+p),k=h>=0&&t[h],M=m>=0&&t[m];if(o&&!M||!o&&!k){u0(rd(s,a),i,c);let C=d_(o?l_:c_,t.length,o,r,l,n);!o&&M&&(t[m].providerFactory=C),c0(i,n,e.length,0),e.push(c),s.directiveStart++,s.directiveEnd++,o&&(s.providerIndexes+=1048576),t.push(C),a.push(C)}else{let C=yv(t[o?m:h],l,!o&&r);c0(i,n,h>-1?h:m,C)}!o&&r&&M&&t[m].componentProviders++}}}function c0(n,e,t,r){let o=xo(e),i=Cy(e);if(o||i){let c=(i?ot(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){let d=l.indexOf(t);d===-1?l.push(t,[r,c]):l[d+1].push(r,c)}else l.push(t,c)}}}function yv(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function l0(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function c_(n,e,t,r,o){return V0(this.multi,[])}function l_(n,e,t,r,o){let i=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=gs(r,r[W],this.providerFactory.index,o);a=c.slice(0,s),V0(i,a);for(let l=s;l<c.length;l++)a.push(c[l])}else a=[],V0(i,a);return a}function V0(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function d_(n,e,t,r,o,i){let a=new jo(n,t,j,null);return a.multi=[],a.index=e,a.componentProviders=0,yv(a,o,r&&!t),a}function Fn(n,e=[]){return t=>{t.providersResolver=(r,o)=>s_(r,o?o(n):n,e)}}function Ip(n,e){return Dd(n,e)}var kd=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Sp=(()=>{class n{compileModuleSync(t){return new fd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),o=bh(t),i=hk(o.declarations).reduce((a,s)=>{let c=or(s);return c&&a.push(new Ho(c)),a},[]);return new kd(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var u_=(()=>{class n{zone=b(Ge);changeDetectionScheduler=b(Dn);applicationRef=b(dr);applicationErrorHandler=b(Ht);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mv({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ge($(I({},kv()),{scheduleInRootZone:t})),[{provide:Ge,useFactory:n},{provide:Pr,multi:!0,useFactory:()=>{let r=b(u_,{optional:!0});return()=>r.initialize()}},{provide:Pr,multi:!0,useFactory:()=>{let r=b(h_);return()=>{r.initialize()}}},e===!0?{provide:Xh,useValue:!0}:[],{provide:Qh,useValue:t??Ck},{provide:Ht,useFactory:()=>{let r=b(Ge),o=b(Ke),i;return a=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw a}):(i??=o.get(Zt),i.handleError(a))})}}}]}function kv(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var h_=(()=>{class n{subscription=new Be;initialized=!1;zone=b(Ge);pendingTasks=b(ar);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vv=(()=>{class n{applicationErrorHandler=b(Ht);appRef=b(dr);taskService=b(ar);ngZone=b(Ge);zonelessEnabled=b(Wl);tracing=b(qo,{optional:!0});disableScheduling=b(Xh,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Be;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(sd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(Qh,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof cd||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?dm:bk;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(sd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,dm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function p_(){return typeof $localize<"u"&&$localize.locale||Es}var Od=new V("",{providedIn:"root",factory:()=>b(Od,{optional:!0,skipSelf:!0})||p_()});function nt(n){return ry(n)}function Ur(n,e){return Xc(n,e?.equal)}var Dp=class{[ut];constructor(e){this[ut]=e}destroy(){this[ut].destroy()}};function Ep(n,e){let t=e?.injector??b(ht),r=e?.manualCleanup!==!0?t.get(un):null,o,i=t.get(Ui,null,{optional:!0}),a=t.get(Dn);return i!==null?(o=y_(i.view,a,n),r instanceof Qa&&r._lView===i.view&&(r=null)):o=m_(n,t.get(us),a),o.injector=t,r!==null&&(o.onDestroyFn=r.onDestroy(()=>o.destroy())),new Dp(o)}var Mv=$(I({},oy),{cleanupFns:void 0,zone:null,onDestroyFn:No,run(){let n=qi(!1);try{iy(this)}finally{qi(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=G(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],G(n)}}}),f_=$(I({},Mv),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){ko(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),g_=$(I({},Mv),{consumerMarkedDirty(){this.view[Z]|=8192,Nr(this.view),this.notifier.notify(13)},destroy(){ko(this),this.onDestroyFn(),this.cleanup(),this.view[ir]?.delete(this)}});function y_(n,e,t){let r=Object.create(g_);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=wv(r,t),n[ir]??=new Set,n[ir].add(r),r.consumerMarkedDirty(r),r}function m_(n,e,t){let r=Object.create(f_);return r.fn=wv(r,n),r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function wv(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var Sv=Symbol("InputSignalNode#UNSET"),O_=$(I({},Qc),{transformFn:void 0,applyValueToInputSignal(n,e){Ii(n,e)}});function Dv(n,e){let t=Object.create(O_);t.value=n,t.transformFn=e?.transform;function r(){if(Ci(t),t.value===Sv){let o=null;throw new F(-950,o)}return t.value}return r[ut]=t,r}var Td=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>ws(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},A_=new V("");A_.__NG_ELEMENT_ID__=n=>{let e=it();if(e===null)throw new F(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new F(204,!1)};function Cv(n,e){return Dv(n,e)}function T_(n){return Dv(Sv,n)}var Ev=(Cv.required=T_,Cv);var Lp=new V(""),R_=new V("");function Ls(n){return!n.moduleRef}function N_(n){let e=Ls(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ge);return t.run(()=>{Ls(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Ht),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:r})}),Ls(n)){let i=()=>e.destroy(),a=n.platformInjector.get(Lp);a.add(i),e.onDestroy(()=>{o.unsubscribe(),a.delete(i)})}else{let i=()=>n.moduleRef.destroy(),a=n.platformInjector.get(Lp);a.add(i),n.moduleRef.onDestroy(()=>{ps(n.allPlatformModules,n.moduleRef),o.unsubscribe(),a.delete(i)})}return j_(r,t,()=>{let i=e.get(ar),a=i.add(),s=e.get(yp);return s.runInitializers(),s.donePromise.then(()=>{let c=e.get(Od,Es);if(fv(c||Es),!e.get(R_,!0))return Ls(n)?e.get(dr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ls(n)){let d=e.get(dr);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return F_?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void i.remove(a))})})}var F_;function j_(n,e,t){try{let r=t();return zr(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Ad=null;function V_(n=[],e){return ht.create({name:e,providers:[{provide:os,useValue:"platform"},{provide:Lp,useValue:new Set([()=>Ad=null])},...n]})}function H_(n=[]){if(Ad)return Ad;let e=V_(n);return Ad=e,hv(),z_(e),e}function z_(n){let e=n.get(Md,null);pt(n,()=>{e?.forEach(t=>t())})}var fn=(()=>{class n{static __NG_ELEMENT_ID__=B_}return n})();function B_(n){return q_(it(),te(),(n&16)===16)}function q_(n,e,t){if(Rr(n)&&!t){let r=Xt(n.index,e);return new Vr(r,r)}else if(n.type&175){let r=e[wt];return new Vr(r,e)}return null}var Pp=class{constructor(){}supports(e){return dp(e)}create(e){return new Op(e)}},U_=(n,e)=>e,Op=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||U_}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){let a=!r||t&&t.currentIndex<bv(r,o,i)?t:r,s=bv(a,o,i),c=a.currentIndex;if(a===r)o--,r=r._nextRemoved;else if(t=t._next,a.previousIndex==null)o++;else{i||(i=[]);let l=s-o,d=c-o;if(l!=d){for(let p=0;p<l;p++){let h=p<i.length?i[p]:i[p]=0,m=h+p;d<=m&&m<l&&(i[p]=h+1)}let u=a.previousIndex;i[u]=d-l}}s!==c&&e(a,s,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!dp(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,o,i,a;if(Array.isArray(e)){this.length=e.length;for(let s=0;s<this.length;s++)i=e[s],a=this._trackByFn(s,i),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,i,a,s),r=!0):(r&&(t=this._verifyReinsertion(t,i,a,s)),Object.is(t.item,i)||this._addIdentityChange(t,i)),t=t._next}else o=0,nv(e,s=>{a=this._trackByFn(o,s),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,s,a,o),r=!0):(r&&(t=this._verifyReinsertion(t,s,a,o)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new Ap(t,r),i,o)),e}_verifyReinsertion(e,t,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let o=t===null?this._itHead:t._next;return e._next=o,e._prev=t,o===null?this._itTail=e:o._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Rd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Rd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ap=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Tp=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Rd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Tp,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,o=this.map.get(r);return o?o.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function bv(n,e,t){let r=n.previousIndex;if(r===null)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}function _v(){return new Rp([new Pp])}var Rp=(()=>{class n{factories;static \u0275prov=N({token:n,providedIn:"root",factory:_v});constructor(t){this.factories=t}static create(t,r){if(r!=null){let o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=b(n,{optional:!0,skipSelf:!0});return n.create(t,r||_v())}}}find(t){let r=this.factories.find(o=>o.supports(t));if(r!=null)return r;throw new F(901,!1)}}return n})();function Lv(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:o}=n;ge(8);try{let i=o?.injector??H_(r),a=[mv({}),{provide:Dn,useExisting:vv},Qy,...t||[]],s=new ks({providers:a,parent:i,debugName:"",runEnvironmentInitializers:!1});return N_({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{ge(9)}}function $r(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Pv(n){let e=or(n);if(!e)return null;let t=new Ho(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Tv=null;function en(){return Tv}function Np(n){Tv??=n}var Ps=class{},Os=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>b(Rv),providedIn:"platform"})}return n})(),Fp=new V(""),Rv=(()=>{class n extends Os{_location;_history;_doc=b(We);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return en().getBaseHref(this._doc)}onPopState(t){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Nd(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function Ov(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function gn(n){return n&&n[0]!=="?"?`?${n}`:n}var yn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>b(jd),providedIn:"root"})}return n})(),Fd=new V(""),jd=(()=>{class n extends yn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(We).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Nd(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+gn(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){let a=this.prepareExternalUrl(o+gn(i));this._platformLocation.pushState(t,r,a)}replaceState(t,r,o,i){let a=this.prepareExternalUrl(o+gn(i));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(Os),z(Fd,8))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wr=(()=>{class n{_subject=new Fe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=G_(Ov(Av(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+gn(r))}normalize(t){return n.stripTrailingSlash(W_(this._basePath,Av(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gn(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=gn;static joinWithSlash=Nd;static stripTrailingSlash=Ov;static \u0275fac=function(r){return new(r||n)(z(yn))};static \u0275prov=N({token:n,factory:()=>$_(),providedIn:"root"})}return n})();function $_(){return new Wr(z(yn))}function W_(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Av(n){return n.replace(/\/index.html$/,"")}function G_(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var jp=(()=>{class n extends yn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Nd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let a=this.prepareExternalUrl(o+gn(i))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,a)}replaceState(t,r,o,i){let a=this.prepareExternalUrl(o+gn(i))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(Os),z(Fd,8))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var Vd=class{$implicit;ngForOf;index;count;constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Lt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((o,i,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new Vd(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(i===null?void 0:i);else if(i!==null){let s=r.get(i);r.move(s,a),Nv(s,o)}});for(let o=0,i=r.length;o<i;o++){let s=r.get(o).context;s.index=o,s.count=i,s.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);Nv(i,o)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(j(lr),j(Hr),j(Rp))};static \u0275dir=xe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Nv(n,e){n.context.$implicit=e.item}var Qe=(()=>{class n{_viewContainer;_context=new Hd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Fv(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Fv(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(j(lr),j(Hr))};static \u0275dir=xe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Hd=class{$implicit=null;ngIf=null};function Fv(n,e){if(n&&!n.createEmbeddedView)throw new F(2020,!1)}var Ie=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=jt({})}return n})();function Vp(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[o,i]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var As=class{};var jv="browser";var Vv=(()=>{class n{static \u0275prov=N({token:n,providedIn:"root",factory:()=>new Hp(b(We),window)})}return n})(),Hp=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo($(I({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=Z_(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(rr(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo($(I({},t),{left:o-a[0],top:i-a[1]}))}};function Z_(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let a=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(a)return a}o=r.nextNode()}}return null}var Ts=class{_doc;constructor(e){this._doc=e}manager},zd=(()=>{class n extends Ts{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o,i){return t.addEventListener(r,o,i),()=>this.removeEventListener(t,r,o,i)}removeEventListener(t,r,o,i){return t.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||n)(z(We))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),qd=new V(""),$p=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(a=>{a.manager=this});let o=t.filter(a=>!(a instanceof zd));this._plugins=o.slice().reverse();let i=t.find(a=>a instanceof zd);i&&this._plugins.push(i)}addEventListener(t,r,o,i){return this._findPluginFor(r).addEventListener(t,r,o,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(z(qd),z(Ge))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),zp="ng-app-id";function Hv(n){for(let e of n)e.remove()}function zv(n,e){let t=e.createElement("style");return t.textContent=n,t}function K_(n,e,t,r){let o=n.head?.querySelectorAll(`style[${zp}="${e}"],link[${zp}="${e}"]`);if(o)for(let i of o)i.removeAttribute(zp),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}function qp(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Wp=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,K_(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let o of t)this.addUsage(o,this.inline,zv);r?.forEach(o=>this.addUsage(o,this.external,qp))}removeStyles(t,r){for(let o of t)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,r,o){let i=r.get(t);i?i.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,o(t,this.doc)))})}removeUsage(t,r){let o=r.get(t);o&&(o.usage--,o.usage<=0&&(Hv(o.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Hv(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(t,zv(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(t,qp(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(z(We),z(vd),z(wd,8),z(Ji))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Bp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gp=/%COMP%/g;var qv="%COMP%",Y_=`_nghost-${qv}`,X_=`_ngcontent-${qv}`,Q_=!0,J_=new V("",{providedIn:"root",factory:()=>Q_});function ex(n){return X_.replace(Gp,n)}function tx(n){return Y_.replace(Gp,n)}function Uv(n,e){return e.map(t=>t.replace(Gp,n))}var Zp=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,o,i,a,s,c,l=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=a,this.platformId=s,this.ngZone=c,this.nonce=l,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Rs(t,a,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(t,r);return o instanceof Bd?o.applyToHost(t):o instanceof Ns&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let a=this.doc,s=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case sr.Emulated:i=new Bd(c,l,r,this.appId,d,a,s,u,p);break;case sr.ShadowDom:return new Up(c,l,t,r,a,s,this.nonce,u,p);default:i=new Ns(c,l,r,d,a,s,u,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(z($p),z(Wp),z(vd),z(J_),z(We),z(Ji),z(Ge),z(wd),z(qo,8))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Rs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,o,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Bp[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Bv(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Bv(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;let i=Bp[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let o=Bp[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(Rn.DashCase|Rn.Important)?e.style.setProperty(t,r,o&Rn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Rn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,o){if(typeof e=="string"&&(e=en().getGlobalEventTarget(this.doc,e),!e))throw new F(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,t,i)),this.eventManager.addEventListener(e,t,i,o)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Bv(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Up=class extends Rs{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,o,i,a,s,c,l){super(e,i,a,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=Uv(o.id,d);for(let p of d){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let u=o.getExternalStyles?.();if(u)for(let p of u){let h=qp(p,i);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ns=class extends Rs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,o,i,a,s,c,l){super(e,i,a,s,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o;let d=r.styles;this.styles=l?Uv(l,d):d,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Zi.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Bd=class extends Ns{contentAttr;hostAttr;constructor(e,t,r,o,i,a,s,c,l){let d=o+"-"+r.id;super(e,t,r,i,a,s,c,l,d),this.contentAttr=ex(d),this.hostAttr=tx(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Ud=class n extends Ps{supportsDOMEvents=!0;static makeCurrent(){Np(new n)}onAndCancel(e,t,r,o){return e.addEventListener(t,r,o),()=>{e.removeEventListener(t,r,o)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=nx();return t==null?null:rx(t)}resetBaseElement(){Fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Vp(document.cookie,e)}},Fs=null;function nx(){return Fs=Fs||document.head.querySelector("base"),Fs?Fs.getAttribute("href"):null}function rx(n){return new URL(n,document.baseURI).pathname}var ox=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),$v=["alt","control","meta","shift"],ix={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ax={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Wv=(()=>{class n extends Ts{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,o,i){let a=n.parseEventName(r),s=n.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>en().onAndCancel(t,a.domEventName,s,i))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=n._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),$v.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),a+=l+".")}),a+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(t,r){let o=ix[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),$v.forEach(a=>{if(a!==o){let s=ax[a];s(t)&&(i+=a+".")}}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(z(We))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function Kp(n,e,t){let r=I({rootComponent:n,platformRef:t?.platformRef},sx(e));return Lv(r)}function sx(n){return{appProviders:[...hx,...n?.providers??[]],platformProviders:ux}}function cx(){Ud.makeCurrent()}function lx(){return new Zt}function dx(){return q0(document),document}var ux=[{provide:Ji,useValue:jv},{provide:Md,useValue:cx,multi:!0},{provide:We,useFactory:dx}];var hx=[{provide:os,useValue:"root"},{provide:Zt,useFactory:lx},{provide:qd,useClass:zd,multi:!0,deps:[We]},{provide:qd,useClass:Wv,multi:!0,deps:[We]},Zp,Wp,$p,{provide:Vo,useExisting:Zp},{provide:As,useClass:ox},[]];var Gv=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(z(We))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var K="primary",Ys=Symbol("RouteTitle"),ef=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Zo(n){return new ef(n)}function tM(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let o={};for(let i=0;i<r.length;i++){let a=r[i],s=n[i];if(a[0]===":")o[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function fx(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!jn(n[t],e[t]))return!1;return!0}function jn(n,e){let t=n?tf(n):void 0,r=e?tf(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!nM(n[o],e[o]))return!1;return!0}function tf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function nM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}else return n===e}function rM(n){return n.length>0?n[n.length-1]:null}function ur(n){return Z1(n)?n:zr(n)?De(Promise.resolve(n)):B(n)}var gx={exact:iM,subset:aM},oM={exact:yx,subset:mx,ignored:()=>!0};function Zv(n,e,t){return gx[t.paths](n.root,e.root,t.matrixParams)&&oM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function yx(n,e){return jn(n,e)}function iM(n,e,t){if(!Wo(n.segments,e.segments)||!Gd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!iM(n.children[r],e.children[r],t))return!1;return!0}function mx(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>nM(n[t],e[t]))}function aM(n,e,t){return sM(n,e,e.segments,t)}function sM(n,e,t,r){if(n.segments.length>t.length){let o=n.segments.slice(0,t.length);return!(!Wo(o,t)||e.hasChildren()||!Gd(o,t,r))}else if(n.segments.length===t.length){if(!Wo(n.segments,t)||!Gd(n.segments,t,r))return!1;for(let o in e.children)if(!n.children[o]||!aM(n.children[o],e.children[o],r))return!1;return!0}else{let o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!Wo(n.segments,o)||!Gd(n.segments,o,r)||!n.children[K]?!1:sM(n.children[K],e,i,r)}}function Gd(n,e,t){return e.every((r,o)=>oM[t](n[o].parameters,r.parameters))}var Hn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new he([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zo(this.queryParams),this._queryParamMap}toString(){return Mx.serialize(this)}},he=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zd(this)}},Gr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Zo(this.parameters),this._parameterMap}toString(){return lM(this)}};function kx(n,e){return Wo(n,e)&&n.every((t,r)=>jn(t.parameters,e[r].parameters))}function Wo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function vx(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===K&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==K&&(t=t.concat(e(o,r)))}),t}var Ko=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>new Zr,providedIn:"root"})}return n})(),Zr=class{parse(e){let t=new rf(e);return new Hn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${js(e.root,!0)}`,r=bx(e.queryParams),o=typeof e.fragment=="string"?`#${wx(e.fragment)}`:"";return`${t}${r}${o}`}},Mx=new Zr;function Zd(n){return n.segments.map(e=>lM(e)).join("/")}function js(n,e){if(!n.hasChildren())return Zd(n);if(e){let t=n.children[K]?js(n.children[K],!1):"",r=[];return Object.entries(n.children).forEach(([o,i])=>{o!==K&&r.push(`${o}:${js(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=vx(n,(r,o)=>o===K?[js(n.children[K],!1)]:[`${o}:${js(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[K]!=null?`${Zd(n)}/${t[0]}`:`${Zd(n)}/(${t.join("//")})`}}function cM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $d(n){return cM(n).replace(/%3B/gi,";")}function wx(n){return encodeURI(n)}function nf(n){return cM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kd(n){return decodeURIComponent(n)}function Kv(n){return Kd(n.replace(/\+/g,"%20"))}function lM(n){return`${nf(n.path)}${Cx(n.parameters)}`}function Cx(n){return Object.entries(n).map(([e,t])=>`;${nf(e)}=${nf(t)}`).join("")}function bx(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(o=>`${$d(t)}=${$d(o)}`).join("&"):`${$d(t)}=${$d(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var _x=/^[^\/()?;#]+/;function Yp(n){let e=n.match(_x);return e?e[0]:""}var xx=/^[^\/()?;=#]+/;function Ix(n){let e=n.match(xx);return e?e[0]:""}var Sx=/^[^=?&#]+/;function Dx(n){let e=n.match(Sx);return e?e[0]:""}var Ex=/^[^&#]+/;function Lx(n){let e=n.match(Ex);return e?e[0]:""}var rf=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[K]=new he(e,t)),r}parseSegment(){let e=Yp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new Gr(Kd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Ix(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=Yp(this.remaining);o&&(r=o,this.capture(r))}e[Kd(t)]=Kd(r)}parseQueryParam(e){let t=Dx(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=Lx(this.remaining);a&&(r=a,this.capture(r))}let o=Kv(t),i=Kv(r);if(e.hasOwnProperty(o)){let a=e[o];Array.isArray(a)||(a=[a],e[o]=a),a.push(i)}else e[o]=i}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Yp(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new F(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=K);let a=this.parseChildren();t[i??K]=Object.keys(a).length===1&&a[K]?a[K]:new he([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function dM(n){return n.segments.length>0?new he([],{[K]:n}):n}function uM(n){let e={};for(let[r,o]of Object.entries(n.children)){let i=uM(o);if(r===K&&i.segments.length===0&&i.hasChildren())for(let[a,s]of Object.entries(i.children))e[a]=s;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let t=new he(n.segments,e);return Px(t)}function Px(n){if(n.numberOfChildren===1&&n.children[K]){let e=n.children[K];return new he(n.segments.concat(e.segments),e.children)}return n}function Kr(n){return n instanceof Hn}function hM(n,e,t=null,r=null){let o=pM(n);return fM(o,e,t,r)}function pM(n){let e;function t(i){let a={};for(let c of i.children){let l=t(c);a[c.outlet]=l}let s=new he(i.url,a);return i===n&&(e=s),s}let r=t(n.root),o=dM(r);return e??o}function fM(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return Xp(o,o,o,t,r);let i=Ox(e);if(i.toRoot())return Xp(o,o,new he([],{}),t,r);let a=Ax(i,o,n),s=a.processChildren?Hs(a.segmentGroup,a.index,i.commands):yM(a.segmentGroup,a.index,i.commands);return Xp(o,a.segmentGroup,s,t,r)}function Yd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Bs(n){return typeof n=="object"&&n!=null&&n.outlets}function Xp(n,e,t,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let a;n===e?a=t:a=gM(n,e,t);let s=dM(uM(a));return new Hn(s,i,o)}function gM(n,e,t){let r={};return Object.entries(n.children).forEach(([o,i])=>{i===e?r[o]=t:r[o]=gM(i,e,t)}),new he(n.segments,r)}var Xd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Yd(r[0]))throw new F(4003,!1);let o=r.find(Bs);if(o&&o!==rM(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ox(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Xd(!0,0,n);let e=0,t=!1,r=n.reduce((o,i,a)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let s={};return Object.entries(i.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:s}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:a===0?(i.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?t=!0:s===".."?e++:s!=""&&o.push(s))}),o):[...o,i]},[]);return new Xd(t,e,r)}var ra=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Ax(n,e,t){if(n.isAbsolute)return new ra(e,!0,0);if(!t)return new ra(e,!1,NaN);if(t.parent===null)return new ra(t,!0,0);let r=Yd(n.commands[0])?0:1,o=t.segments.length-1+r;return Tx(t,o,n.numberOfDoubleDots)}function Tx(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new F(4005,!1);o=r.segments.length}return new ra(r,!1,o-i)}function Rx(n){return Bs(n[0])?n[0].outlets:{[K]:n}}function yM(n,e,t){if(n??=new he([],{}),n.segments.length===0&&n.hasChildren())return Hs(n,e,t);let r=Nx(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let i=new he(n.segments.slice(0,r.pathIndex),{});return i.children[K]=new he(n.segments.slice(r.pathIndex),n.children),Hs(i,0,o)}else return r.match&&o.length===0?new he(n.segments,{}):r.match&&!n.hasChildren()?of(n,e,t):r.match?Hs(n,0,o):of(n,e,t)}function Hs(n,e,t){if(t.length===0)return new he(n.segments,{});{let r=Rx(t),o={};if(Object.keys(r).some(i=>i!==K)&&n.children[K]&&n.numberOfChildren===1&&n.children[K].segments.length===0){let i=Hs(n.children[K],e,t);return new he(n.segments,i.children)}return Object.entries(r).forEach(([i,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(o[i]=yM(n.children[i],e,a))}),Object.entries(n.children).forEach(([i,a])=>{r[i]===void 0&&(o[i]=a)}),new he(n.segments,o)}}function Nx(n,e,t){let r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;let a=n.segments[o],s=t[r];if(Bs(s))break;let c=`${s}`,l=r<t.length-1?t[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Xv(c,l,a))return i;r+=2}else{if(!Xv(c,{},a))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function of(n,e,t){let r=n.segments.slice(0,e),o=0;for(;o<t.length;){let i=t[o];if(Bs(i)){let c=Fx(i.outlets);return new he(r,c)}if(o===0&&Yd(t[0])){let c=n.segments[e];r.push(new Gr(c.path,Yv(t[0]))),o++;continue}let a=Bs(i)?i.outlets[K]:`${i}`,s=o<t.length-1?t[o+1]:null;a&&s&&Yd(s)?(r.push(new Gr(a,Yv(s))),o+=2):(r.push(new Gr(a,{})),o++)}return new he(r,{})}function Fx(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=of(new he([],{}),0,r))}),e}function Yv(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Xv(n,e,t){return n==t.path&&jn(e,t.parameters)}var oa="imperative",Je=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Je||{}),qt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Yr=class extends qt{type=Je.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ut=class extends qt{urlAfterRedirects;type=Je.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ct=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Ct||{}),aa=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(aa||{}),Vn=class extends qt{reason;code;type=Je.NavigationCancel;constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zn=class extends qt{reason;code;type=Je.NavigationSkipped;constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o}},sa=class extends qt{error;target;type=Je.NavigationError;constructor(e,t,r,o){super(e,t),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qs=class extends qt{urlAfterRedirects;state;type=Je.RoutesRecognized;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qd=class extends qt{urlAfterRedirects;state;type=Je.GuardsCheckStart;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jd=class extends qt{urlAfterRedirects;state;shouldActivate;type=Je.GuardsCheckEnd;constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},eu=class extends qt{urlAfterRedirects;state;type=Je.ResolveStart;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tu=class extends qt{urlAfterRedirects;state;type=Je.ResolveEnd;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nu=class{route;type=Je.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ru=class{route;type=Je.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ou=class{snapshot;type=Je.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iu=class{snapshot;type=Je.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},au=class{snapshot;type=Je.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},su=class{snapshot;type=Je.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ca=class{routerEvent;position;anchor;type=Je.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Us=class{},la=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function jx(n){return!(n instanceof Us)&&!(n instanceof la)}function Vx(n,e){return n.providers&&!n._injector&&(n._injector=ea(n.providers,e,`Route: ${n.path}`)),n._injector??e}function kn(n){return n.outlet||K}function Hx(n,e){let t=n.filter(r=>kn(r)===e);return t.push(...n.filter(r=>kn(r)!==e)),t}function ha(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var cu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ha(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Yo(this.rootInjector)}},Yo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new cu(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(z(Ke))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lu=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=af(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=af(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=sf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return sf(e,this._root).map(t=>t.value)}};function af(n,e){if(n===e.value)return e;for(let t of e.children){let r=af(n,t);if(r)return r}return null}function sf(n,e){if(n===e.value)return[e];for(let t of e.children){let r=sf(n,t);if(r.length)return r.unshift(e),r}return[]}var Bt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function na(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var $s=class extends lu{snapshot;constructor(e,t){super(e),this.snapshot=t,gf(this,e)}toString(){return this.snapshot.toString()}};function mM(n){let e=zx(n),t=new Ze([new Gr("",{})]),r=new Ze({}),o=new Ze({}),i=new Ze({}),a=new Ze(""),s=new Bn(t,r,i,a,o,K,n,e.root);return s.snapshot=e.root,new $s(new Bt(s,[]),e)}function zx(n){let e={},t={},r={},i=new Go([],e,r,"",t,K,n,null,{});return new Ws("",new Bt(i,[]))}var Bn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,o,i,a,s,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(oe(l=>l[Ys]))??B(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>Zo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>Zo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function du(n,e,t="emptyOnly"){let r,{routeConfig:o}=n;return e!==null&&(t==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),n.params),data:I(I({},e.data),n.data),resolve:I(I(I(I({},n.data),e.data),o?.data),n._resolvedData)}:r={params:I({},n.params),data:I({},n.data),resolve:I(I({},n.data),n._resolvedData??{})},o&&vM(o)&&(r.resolve[Ys]=o.title),r}var Go=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ys]}constructor(e,t,r,o,i,a,s,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ws=class extends lu{url;constructor(e,t){super(t),this.url=e,gf(this,t)}toString(){return kM(this._root)}};function gf(n,e){e.value._routerState=n,e.children.forEach(t=>gf(n,t))}function kM(n){let e=n.children.length>0?` { ${n.children.map(kM).join(", ")} } `:"";return`${n.value}${e}`}function Qp(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,jn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),jn(e.params,t.params)||n.paramsSubject.next(t.params),fx(e.url,t.url)||n.urlSubject.next(t.url),jn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function cf(n,e){let t=jn(n.params,e.params)&&kx(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||cf(n.parent,e.parent))}function vM(n){return typeof n.title=="string"||n.title===null}var MM=new V(""),Xs=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=K;activateEvents=new be;deactivateEvents=new be;attachEvents=new be;detachEvents=new be;routerOutletData=Ev();parentContexts=b(Yo);location=b(lr);changeDetector=b(fn);inputBinder=b(Qs,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=t;let o=this.location,a=t.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new lf(t,s,o.injector,this.routerOutletData);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=xe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Qt]})}return n})(),lf=class{route;childContexts;parent;outletData;constructor(e,t,r,o){this.route=e,this.childContexts=t,this.parent=r,this.outletData=o}get(e,t){return e===Bn?this.route:e===Yo?this.childContexts:e===MM?this.outletData:this.parent.get(e,t)}},Qs=new V(""),yf=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,o=Wa([r.queryParams,r.params,r.data]).pipe(vt(([i,a,s],c)=>(s=I(I(I({},i),a),s),c===0?B(s):Promise.resolve(s)))).subscribe(i=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let a=Pv(r.component);if(!a){this.unsubscribeFromRouteData(t);return}for(let{templateName:s}of a.inputs)t.activatedComponentRef.setInput(s,i[s])});this.outletDataSubscriptions.set(t,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),mf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=de({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&X(0,"router-outlet")},dependencies:[Xs],encapsulation:2})}return n})();function kf(n){let e=n.children&&n.children.map(kf),t=e?$(I({},n),{children:e}):I({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==K&&(t.component=mf),t}function Bx(n,e,t){let r=Gs(n,e._root,t?t._root:void 0);return new $s(r,e)}function Gs(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let o=qx(n,e,t);return new Bt(r,o)}else{if(n.shouldAttach(e.value)){let i=n.retrieve(e.value);if(i!==null){let a=i.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>Gs(n,s)),a}}let r=Ux(e.value),o=e.children.map(i=>Gs(n,i));return new Bt(r,o)}}function qx(n,e,t){return e.children.map(r=>{for(let o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Gs(n,r,o);return Gs(n,r)})}function Ux(n){return new Bn(new Ze(n.url),new Ze(n.params),new Ze(n.queryParams),new Ze(n.fragment),new Ze(n.data),n.outlet,n.component,n)}var da=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},wM="ngNavigationCancelingError";function uu(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Kr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=CM(!1,Ct.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function CM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[wM]=!0,t.cancellationCode=e,t}function $x(n){return bM(n)&&Kr(n.url)}function bM(n){return!!n&&n[wM]}var Wx=(n,e,t,r)=>oe(o=>(new df(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)),df=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,o,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Qp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let o=na(t);e.children.forEach(i=>{let a=i.value.outlet;this.deactivateRoutes(i,o[a],r),delete o[a]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){let o=e.value,i=t?t.value:null;if(o===i)if(o.component){let a=r.getContext(o.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=na(e);for(let a of Object.values(i))this.deactivateRouteAndItsChildren(a,o);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=na(e);for(let a of Object.values(i))this.deactivateRouteAndItsChildren(a,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let o=na(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new su(i.value.snapshot))}),e.children.length&&this.forwardEvent(new iu(e.value.snapshot))}activateRoutes(e,t,r){let o=e.value,i=t?t.value:null;if(Qp(o),o===i)if(o.component){let a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(o.component){let a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let s=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Qp(s.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=o,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},hu=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ia=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Gx(n,e,t){let r=n._root,o=e?e._root:null;return Vs(r,o,t,[r.value])}function Zx(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function pa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!hh(n)?n:e.get(n):r}function Vs(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=na(e);return n.children.forEach(a=>{Kx(a,i[a.value.outlet],t,r.concat([a.value]),o),delete i[a.value.outlet]}),Object.entries(i).forEach(([a,s])=>zs(s,t.getContext(a),o)),o}function Kx(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=n.value,a=e?e.value:null,s=t?t.getContext(n.value.outlet):null;if(a&&i.routeConfig===a.routeConfig){let c=Yx(a,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new hu(r)):(i.data=a.data,i._resolvedData=a._resolvedData),i.component?Vs(n,e,s?s.children:null,r,o):Vs(n,e,t,r,o),c&&s&&s.outlet&&s.outlet.isActivated&&o.canDeactivateChecks.push(new ia(s.outlet.component,a))}else a&&zs(e,s,o),o.canActivateChecks.push(new hu(r)),i.component?Vs(n,null,s?s.children:null,r,o):Vs(n,null,t,r,o);return o}function Yx(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Wo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Wo(n.url,e.url)||!jn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cf(n,e)||!jn(n.queryParams,e.queryParams);case"paramsChange":default:return!cf(n,e)}}function zs(n,e,t){let r=na(n),o=n.value;Object.entries(r).forEach(([i,a])=>{o.component?e?zs(a,e.children.getContext(i),t):zs(a,null,t):zs(a,e,t)}),o.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ia(e.outlet.component,o)):t.canDeactivateChecks.push(new ia(null,o)):t.canDeactivateChecks.push(new ia(null,o))}function Js(n){return typeof n=="function"}function Xx(n){return typeof n=="boolean"}function Qx(n){return n&&Js(n.canLoad)}function Jx(n){return n&&Js(n.canActivate)}function e7(n){return n&&Js(n.canActivateChild)}function t7(n){return n&&Js(n.canDeactivate)}function n7(n){return n&&Js(n.canMatch)}function _M(n){return n instanceof Xn||n?.name==="EmptyError"}var Wd=Symbol("INITIAL_VALUE");function ua(){return vt(n=>Wa(n.map(e=>e.pipe(Jn(1),Q1(Wd)))).pipe(oe(e=>{for(let t of e)if(t!==!0){if(t===Wd)return Wd;if(t===!1||r7(t))return t}return!0}),Dt(e=>e!==Wd),Jn(1)))}function r7(n){return Kr(n)||n instanceof da}function o7(n,e){return je(t=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:a}}=t;return a.length===0&&i.length===0?B($(I({},t),{guardsResult:!0})):i7(a,r,o,n).pipe(je(s=>s&&Xx(s)?a7(r,i,n,e):B(s)),oe(s=>$(I({},t),{guardsResult:s})))})}function i7(n,e,t,r){return De(n).pipe(je(o=>u7(o.component,o.route,t,e,r)),er(o=>o!==!0,!0))}function a7(n,e,t,r){return De(e).pipe(Sr(o=>Ri(c7(o.route.parent,r),s7(o.route,r),d7(n,o.path,t),l7(n,o.route,t))),er(o=>o!==!0,!0))}function s7(n,e){return n!==null&&e&&e(new au(n)),B(!0)}function c7(n,e){return n!==null&&e&&e(new ou(n)),B(!0)}function l7(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return B(!0);let o=r.map(i=>Ga(()=>{let a=ha(e)??t,s=pa(i,a),c=Jx(s)?s.canActivate(e,n):pt(a,()=>s(e,n));return ur(c).pipe(er())}));return B(o).pipe(ua())}function d7(n,e,t){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(a=>Zx(a)).filter(a=>a!==null).map(a=>Ga(()=>{let s=a.guards.map(c=>{let l=ha(a.node)??t,d=pa(c,l),u=e7(d)?d.canActivateChild(r,n):pt(l,()=>d(r,n));return ur(u).pipe(er())});return B(s).pipe(ua())}));return B(i).pipe(ua())}function u7(n,e,t,r,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return B(!0);let a=i.map(s=>{let c=ha(e)??o,l=pa(s,c),d=t7(l)?l.canDeactivate(n,e,t,r):pt(c,()=>l(n,e,t,r));return ur(d).pipe(er())});return B(a).pipe(ua())}function h7(n,e,t,r){let o=e.canLoad;if(o===void 0||o.length===0)return B(!0);let i=o.map(a=>{let s=pa(a,n),c=Qx(s)?s.canLoad(e,t):pt(n,()=>s(e,t));return ur(c)});return B(i).pipe(ua(),xM(r))}function xM(n){return z1(tt(e=>{if(typeof e!="boolean")throw uu(n,e)}),oe(e=>e===!0))}function p7(n,e,t,r){let o=e.canMatch;if(!o||o.length===0)return B(!0);let i=o.map(a=>{let s=pa(a,n),c=n7(s)?s.canMatch(e,t):pt(n,()=>s(e,t));return ur(c)});return B(i).pipe(ua(),xM(r))}var Zs=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ks=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ta(n){return Ti(new Zs(n))}function f7(n){return Ti(new F(4e3,!1))}function g7(n){return Ti(CM(!1,Ct.GuardRejected))}var uf=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return B(r);if(o.numberOfChildren>1||!o.children[K])return f7(`${e.redirectTo}`);o=o.children[K]}}applyRedirectCommands(e,t,r,o,i){return y7(t,o,i).pipe(oe(a=>{if(a instanceof Hn)throw new Ks(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),e,r);if(a[0]==="/")throw new Ks(s);return s}))}applyRedirectCreateUrlTree(e,t,r,o){let i=this.createSegmentGroup(e,t.root,r,o);return new Hn(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let s=i.substring(1);r[o]=t[s]}else r[o]=i}),r}createSegmentGroup(e,t,r,o){let i=this.createSegments(e,t.segments,r,o),a={};return Object.entries(t.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(e,c,r,o)}),new he(i,a)}createSegments(e,t,r,o){return t.map(i=>i.path[0]===":"?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){let o=r[t.path.substring(1)];if(!o)throw new F(4001,!1);return o}findOrReturn(e,t){let r=0;for(let o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}};function y7(n,e,t){if(typeof n=="string")return B(n);let r=n,{queryParams:o,fragment:i,routeConfig:a,url:s,outlet:c,params:l,data:d,title:u}=e;return ur(pt(t,()=>r({params:l,data:d,queryParams:o,fragment:i,routeConfig:a,url:s,outlet:c,title:u})))}var hf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function m7(n,e,t,r,o){let i=IM(n,e,t);return i.matched?(r=Vx(e,r),p7(r,e,t,o).pipe(oe(a=>a===!0?i:I({},hf)))):B(i)}function IM(n,e,t){if(e.path==="**")return k7(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?I({},hf):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let o=(e.matcher||tM)(t,n,e);if(!o)return I({},hf);let i={};Object.entries(o.posParams??{}).forEach(([s,c])=>{i[s]=c.path});let a=o.consumed.length>0?I(I({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:a,positionalParamSegments:o.posParams??{}}}function k7(n){return{matched:!0,parameters:n.length>0?rM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Qv(n,e,t,r){return t.length>0&&w7(n,t,r)?{segmentGroup:new he(e,M7(r,new he(t,n.children))),slicedSegments:[]}:t.length===0&&C7(n,t,r)?{segmentGroup:new he(n.segments,v7(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new he(n.segments,n.children),slicedSegments:t}}function v7(n,e,t,r){let o={};for(let i of t)if(fu(n,e,i)&&!r[kn(i)]){let a=new he([],{});o[kn(i)]=a}return I(I({},r),o)}function M7(n,e){let t={};t[K]=e;for(let r of n)if(r.path===""&&kn(r)!==K){let o=new he([],{});t[kn(r)]=o}return t}function w7(n,e,t){return t.some(r=>fu(n,e,r)&&kn(r)!==K)}function C7(n,e,t){return t.some(r=>fu(n,e,r))}function fu(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function b7(n,e,t){return e.length===0&&!n.children[t]}var pf=class{};function _7(n,e,t,r,o,i,a="emptyOnly"){return new ff(n,e,t,r,o,a,i).recognize()}var x7=31,ff=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,o,i,a,s){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new uf(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=Qv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:t,rootSnapshot:r})=>{let o=new Bt(r,t),i=new Ws("",o),a=hM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(a),{state:i,tree:a}}))}match(e){let t=new Go([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),K,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,K,t).pipe(oe(r=>({children:r,rootSnapshot:t})),Qn(r=>{if(r instanceof Ks)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zs?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,i):this.processSegment(e,t,r,r.segments,o,!0,i).pipe(oe(a=>a instanceof Bt?[a]:[]))}processChildren(e,t,r,o){let i=[];for(let a of Object.keys(r.children))a==="primary"?i.unshift(a):i.push(a);return De(i).pipe(Sr(a=>{let s=r.children[a],c=Hx(t,a);return this.processSegmentGroup(e,c,s,a,o)}),X1((a,s)=>(a.push(...s),a)),Dr(null),Y1(),je(a=>{if(a===null)return ta(r);let s=SM(a);return I7(s),B(s)}))}processSegment(e,t,r,o,i,a,s){return De(t).pipe(Sr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,o,i,a,s).pipe(Qn(l=>{if(l instanceof Zs)return B(null);throw l}))),er(c=>!!c),Qn(c=>{if(_M(c))return b7(r,o,i)?B(new pf):ta(r);throw c}))}processSegmentAgainstRoute(e,t,r,o,i,a,s,c){return kn(r)!==a&&(a===K||!fu(o,i,r))?ta(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,i,a,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,i,a,c):ta(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,a,s){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:u,remainingSegments:p}=IM(t,o,i);if(!c)return ta(t);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>x7&&(this.allowRedirects=!1));let h=new Go(i,l,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Jv(o),kn(o),o.component??o._loadedComponent??null,o,eM(o)),m=du(h,s,this.paramsInheritanceStrategy);return h.params=Object.freeze(m.params),h.data=Object.freeze(m.data),this.applyRedirects.applyRedirectCommands(d,o.redirectTo,u,h,e).pipe(vt(M=>this.applyRedirects.lineralizeSegments(o,M)),je(M=>this.processSegment(e,r,t,M.concat(p),a,!1,s)))}matchSegmentAgainstRoute(e,t,r,o,i,a){let s=m7(t,r,o,e,this.urlSerializer);return r.path==="**"&&(t.children={}),s.pipe(vt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(vt(({routes:l})=>{let d=r._loadedInjector??e,{parameters:u,consumedSegments:p,remainingSegments:h}=c,m=new Go(p,u,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Jv(r),kn(r),r.component??r._loadedComponent??null,r,eM(r)),k=du(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(k.params),m.data=Object.freeze(k.data);let{segmentGroup:M,slicedSegments:C}=Qv(t,p,h,l);if(C.length===0&&M.hasChildren())return this.processChildren(d,l,M,m).pipe(oe(D=>new Bt(m,D)));if(l.length===0&&C.length===0)return B(new Bt(m,[]));let R=kn(r)===i;return this.processSegment(d,l,M,C,R?K:i,!0,m).pipe(oe(D=>new Bt(m,D instanceof Bt?[D]:[])))}))):ta(t)))}getChildConfig(e,t,r){return t.children?B({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?B({routes:t._loadedRoutes,injector:t._loadedInjector}):h7(e,t,r,this.urlSerializer).pipe(je(o=>o?this.configLoader.loadChildren(e,t).pipe(tt(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):g7(t))):B({routes:[],injector:e})}};function I7(n){n.sort((e,t)=>e.value.outlet===K?-1:t.value.outlet===K?1:e.value.outlet.localeCompare(t.value.outlet))}function S7(n){let e=n.value.routeConfig;return e&&e.path===""}function SM(n){let e=[],t=new Set;for(let r of n){if(!S7(r)){e.push(r);continue}let o=e.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),t.add(o)):e.push(r)}for(let r of t){let o=SM(r.children);e.push(new Bt(r.value,o))}return e.filter(r=>!t.has(r))}function Jv(n){return n.data||{}}function eM(n){return n.resolve||{}}function D7(n,e,t,r,o,i){return je(a=>_7(n,e,t,r,a.extractedUrl,o,i).pipe(oe(({state:s,tree:c})=>$(I({},a),{targetSnapshot:s,urlAfterRedirects:c}))))}function E7(n,e){return je(t=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return B(t);let i=new Set(o.map(c=>c.route)),a=new Set;for(let c of i)if(!a.has(c))for(let l of DM(c))a.add(l);let s=0;return De(a).pipe(Sr(c=>i.has(c)?L7(c,r,n,e):(c.data=du(c,c.parent,n).resolve,B(void 0))),tt(()=>s++),Ni(1),je(c=>s===a.size?B(t):It))})}function DM(n){let e=n.children.map(t=>DM(t)).flat();return[n,...e]}function L7(n,e,t,r){let o=n.routeConfig,i=n._resolve;return o?.title!==void 0&&!vM(o)&&(i[Ys]=o.title),Ga(()=>(n.data=du(n,n.parent,t).resolve,P7(i,n,e,r).pipe(oe(a=>(n._resolvedData=a,n.data=I(I({},n.data),a),null)))))}function P7(n,e,t,r){let o=tf(n);if(o.length===0)return B({});let i={};return De(o).pipe(je(a=>O7(n[a],e,t,r).pipe(er(),tt(s=>{if(s instanceof da)throw uu(new Zr,s);i[a]=s}))),Ni(1),oe(()=>i),Qn(a=>_M(a)?It:Ti(a)))}function O7(n,e,t,r){let o=ha(e)??r,i=pa(n,o),a=i.resolve?i.resolve(e,t):pt(o,()=>i(e,t));return ur(a)}function Jp(n){return vt(e=>{let t=n(e);return t?De(t).pipe(oe(()=>e)):B(e)})}var vf=(()=>{class n{buildTitle(t){let r,o=t.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===K);return r}getResolvedTitleForRoute(t){return t.data[Ys]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>b(EM),providedIn:"root"})}return n})(),EM=(()=>{class n extends vf{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(z(Gv))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xr=new V("",{providedIn:"root",factory:()=>({})}),Xo=new V(""),gu=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(Sp);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return B(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=ur(pt(t,()=>r.loadComponent())).pipe(oe(PM),vt(OM),tt(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),Za(()=>{this.componentLoaders.delete(r)})),i=new Ai(o,()=>new Fe).pipe(Oi());return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=LM(r,this.compiler,t,this.onLoadEndListener).pipe(Za(()=>{this.childrenLoaders.delete(r)})),a=new Ai(i,()=>new Fe).pipe(Oi());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LM(n,e,t,r){return ur(pt(t,()=>n.loadChildren())).pipe(oe(PM),vt(OM),je(o=>o instanceof Ld||Array.isArray(o)?B(o):De(e.compileModuleAsync(o))),oe(o=>{r&&r(n);let i,a,s=!1;return Array.isArray(o)?(a=o,s=!0):(i=o.create(t).injector,a=i.get(Xo,[],{optional:!0,self:!0}).flat()),{routes:a.map(kf),injector:i}}))}function A7(n){return n&&typeof n=="object"&&"default"in n}function PM(n){return A7(n)?n.default:n}function OM(n){return B(n)}var yu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>b(T7),providedIn:"root"})}return n})(),T7=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mf=new V(""),wf=new V("");function AM(n,e,t){let r=n.get(wf),o=n.get(We);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let i,a=new Promise(l=>{i=l}),s=o.startViewTransition(()=>(i(),R7(n)));s.ready.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&pt(n,()=>c({transition:s,from:e,to:t})),a}function R7(n){return new Promise(e=>{bs({read:()=>setTimeout(e)},{injector:n})})}var Cf=new V(""),mu=(()=>{class n{currentNavigation=ce(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Fe;transitionAbortWithErrorSubject=new Fe;configLoader=b(gu);environmentInjector=b(Ke);destroyRef=b(un);urlSerializer=b(Ko);rootContexts=b(Yo);location=b(Wr);inputBindingEnabled=b(Qs,{optional:!0})!==null;titleStrategy=b(vf);options=b(Xr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(yu);createViewTransition=b(Mf,{optional:!0});navigationErrorHandler=b(Cf,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>B(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=o=>this.events.next(new nu(o)),r=o=>this.events.next(new ru(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;nt(()=>{this.transitions?.next($(I({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Ze(null),this.transitions.pipe(Dt(r=>r!==null),vt(r=>{let o=!1;return B(r).pipe(vt(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ct.SupersededByNewNavigation),It;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?$(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=i.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&s!=="reload")return this.events.next(new zn(i.id,this.urlSerializer.serialize(i.rawUrl),"",aa.IgnoredSameUrlNavigation)),i.resolve(!1),It;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return B(i).pipe(vt(c=>(this.events.next(new Yr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?It:Promise.resolve(c))),D7(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),tt(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=c.urlAfterRedirects,d));let l=new qs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:l,source:d,restoredState:u,extras:p}=i,h=new Yr(c,this.urlSerializer.serialize(l),d,u);this.events.next(h);let m=mM(this.rootComponentType).snapshot;return this.currentTransition=r=$(I({},i),{targetSnapshot:m,urlAfterRedirects:l,extras:$(I({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(k=>(k.finalUrl=l,k)),B(r)}else return this.events.next(new zn(i.id,this.urlSerializer.serialize(i.extractedUrl),"",aa.IgnoredByUrlHandlingStrategy)),i.resolve(!1),It}),tt(i=>{let a=new Qd(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(a)}),oe(i=>(this.currentTransition=r=$(I({},i),{guards:Gx(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),o7(this.environmentInjector,i=>this.events.next(i)),tt(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw uu(this.urlSerializer,i.guardsResult);let a=new Jd(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(a)}),Dt(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",Ct.GuardRejected),!1)),Jp(i=>{if(i.guards.canActivateChecks.length!==0)return B(i).pipe(tt(a=>{let s=new eu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),vt(a=>{let s=!1;return B(a).pipe(E7(this.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(a,"",Ct.NoDataFromResolver)}}))}),tt(a=>{let s=new tu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}))}),Jp(i=>{let a=s=>{let c=[];if(s.routeConfig?.loadComponent){let l=ha(s)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,s.routeConfig).pipe(tt(d=>{s.component=d}),oe(()=>{})))}for(let l of s.children)c.push(...a(l));return c};return Wa(a(i.targetSnapshot.root)).pipe(Dr(null),Jn(1))}),Jp(()=>this.afterPreactivation()),vt(()=>{let{currentSnapshot:i,targetSnapshot:a}=r,s=this.createViewTransition?.(this.environmentInjector,i.root,a.root);return s?De(s).pipe(oe(()=>r)):B(r)}),oe(i=>{let a=Bx(t.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=$(I({},i),{targetRouterState:a}),this.currentNavigation.update(s=>(s.targetRouterState=a,s)),r}),tt(()=>{this.events.next(new Us)}),Wx(this.rootContexts,t.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Jn(1),Il(new ie(i=>{let a=r.abortController.signal,s=()=>i.next();return a.addEventListener("abort",s),()=>a.removeEventListener("abort",s)}).pipe(Dt(()=>!o&&!r.targetRouterState),tt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ct.Aborted)}))),tt({next:i=>{o=!0,this.lastSuccessfulNavigation=nt(this.currentNavigation),this.events.next(new Ut(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),Il(this.transitionAbortWithErrorSubject.pipe(tt(i=>{throw i}))),Za(()=>{o||this.cancelNavigationTransition(r,"",Ct.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Qn(i=>{if(this.destroyed)return r.resolve(!1),It;if(o=!0,bM(i))this.events.next(new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),$x(i)?this.events.next(new la(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let a=new sa(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let s=pt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(s instanceof da){let{message:c,cancellationCode:l}=uu(this.urlSerializer,s);this.events.next(new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new la(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(a),i}catch(s){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(s)}}return It}))}))}cancelNavigationTransition(t,r,o){let i=new Vn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=nt(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function N7(n){return n!==oa}var TM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>b(F7),providedIn:"root"})}return n})(),pu=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},F7=(()=>{class n extends pu{static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RM=(()=>{class n{urlSerializer=b(Ko);options=b(Xr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(Wr);urlHandlingStrategy=b(yu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Hn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:o}){let i=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,a=o??i;return a instanceof Hn?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:o}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=t):this.rawUrlTree=o}routerState=mM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:()=>b(j7),providedIn:"root"})}return n})(),j7=(()=>{class n extends RM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Yr?this.updateStateMemento():t instanceof zn?this.commitTransition(r):t instanceof qs?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Us?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Vn&&t.code!==Ct.SupersededByNewNavigation&&t.code!==Ct.Redirect?this.restoreHistory(r):t instanceof sa?this.restoreHistory(r,!0):t instanceof Ut&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:o}){let{replaceUrl:i,state:a}=r;if(this.location.isCurrentPathEqualTo(t)||i){let s=this.browserPageId,c=I(I({},a),this.generateNgRouterState(o,s));this.location.replaceState(t,"",c)}else{let s=I(I({},a),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(t,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===t.finalUrl&&i===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ku(n,e){n.events.pipe(Dt(t=>t instanceof Ut||t instanceof Vn||t instanceof sa||t instanceof zn),oe(t=>t instanceof Ut||t instanceof zn?0:(t instanceof Vn?t.code===Ct.Redirect||t.code===Ct.SupersededByNewNavigation:!1)?2:1),Dt(t=>t!==2),Jn(1)).subscribe(()=>{e()})}var V7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},H7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ae=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(hp);stateManager=b(RM);options=b(Xr,{optional:!0})||{};pendingTasks=b(ar);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(mu);urlSerializer=b(Ko);location=b(Wr);urlHandlingStrategy=b(yu);injector=b(Ke);_events=new Fe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(TM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(Xo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(Qs,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Be;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=nt(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Vn&&r.code!==Ct.Redirect&&r.code!==Ct.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ut)this.navigated=!0;else if(r instanceof la){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=I({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||N7(o.source)},a);this.scheduleNavigation(s,oa,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}jx(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),oa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,o)=>{this.navigateToSyncWithBrowser(t,o,r)})}navigateToSyncWithBrowser(t,r,o){let i={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=I({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let s=this.parseUrl(t);this.scheduleNavigation(s,r,a,i).catch(c=>{this.disposed||this.injector.get(Ht)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return nt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(kf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:o,queryParams:i,fragment:a,queryParamsHandling:s,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:a,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=I(I({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let p=o?o.snapshot:this.routerState.snapshot.root;u=pM(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),u=this.currentUrlTree.root}return fM(u,t,d,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let o=Kr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,oa,null,r)}navigate(t,r={skipLocationChange:!1}){return z7(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(rr(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let o;if(r===!0?o=I({},V7):r===!1?o=I({},H7):o=r,Kr(t))return Zv(this.currentUrlTree,t,o);let i=this.parseUrl(t);return Zv(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,a){if(this.disposed)return Promise.resolve(!1);let s,c,l;a?(s=a.resolve,c=a.reject,l=a.promise):l=new Promise((u,p)=>{s=u,c=p});let d=this.pendingTasks.add();return ku(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:s,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function z7(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new F(4008,!1)}var fa=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ce(null);get href(){return nt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Fe;applicationErrorHandler=b(Ht);options=b(Xr,{optional:!0});constructor(t,r,o,i,a,s){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=a,this.locationStrategy=s,this.reactiveHref.set(b(new Td("href"),{optional:!0}));let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=o=>o==="merge"||o==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(o=>{o instanceof Ut&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Kr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,o,i,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(t!==0||r||o||i||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,t,r):o.removeAttribute(i,t)}get urlTree(){return this.routerLinkInput===null?null:Kr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(j(Ae),j(Bn),ws("tabindex"),j(zt),j(at),j(yn))};static \u0275dir=xe({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,o){r&1&&x("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&$o("href",o.reactiveHref(),W0)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$r],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$r],replaceUrl:[2,"replaceUrl","replaceUrl",$r],routerLink:"routerLink"},features:[Qt]})}return n})(),_f=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new be;constructor(t,r,o,i,a){this.router=t,this.element=r,this.renderer=o,this.cdr=i,this.link=a,this.routerEventsSubscription=t.events.subscribe(s=>{s instanceof Ut&&this.update()})}ngAfterContentInit(){B(this.links.changes,B(null)).pipe(Ir()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=De(t).pipe(Ir()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=B7(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let i=o.urlTree;return i?t.isActive(i,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(j(Ae),j(at),j(zt),j(fn),j(fa,8))};static \u0275dir=xe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,i){if(r&1&&Cp(i,fa,5),r&2){let a;bp(a=_p())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Qt]})}return n})();function B7(n){return!!n.paths}var ec=class{};var NM=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,o,i){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(Dt(t=>t instanceof Ut),Sr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=ea(i.providers,t,`Route: ${i.path}`));let a=i._injector??t,s=i._loadedInjector??a;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(a,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(s,i.children??i._loadedRoutes))}return De(o).pipe(Ir())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(t,r):o=B(null);let i=o.pipe(je(a=>a===null?B(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(t,r);return De([i,a]).pipe(Ir())}else return i})}static \u0275fac=function(r){return new(r||n)(z(Ae),z(Ke),z(ec),z(gu))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FM=new V(""),q7=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=oa;restoredId=0;store={};constructor(t,r,o,i,a={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ut?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof zn&&t.code===aa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof ca))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>g(this,null,function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new ca(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){lp()};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function xf(n,...e){return rs([{provide:Xo,multi:!0,useValue:n},[],{provide:Bn,useFactory:jM,deps:[Ae]},{provide:Ds,multi:!0,useFactory:VM},e.map(t=>t.\u0275providers)])}function jM(n){return n.routerState.root}function tc(n,e){return{\u0275kind:n,\u0275providers:e}}function VM(){let n=b(ht);return e=>{let t=n.get(dr);if(e!==t.components[0])return;let r=n.get(Ae),o=n.get(HM);n.get(If)===1&&r.initialNavigation(),n.get(qM,null,{optional:!0})?.setUpPreloading(),n.get(FM,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var HM=new V("",{factory:()=>new Fe}),If=new V("",{providedIn:"root",factory:()=>1});function zM(){let n=[{provide:U0,useValue:!0},{provide:If,useValue:0},Pd(()=>{let e=b(ht);return e.get(Fp,Promise.resolve()).then(()=>new Promise(r=>{let o=e.get(Ae),i=e.get(HM);ku(o,()=>{r(!0)}),e.get(mu).afterPreactivation=()=>(r(!0),i.closed?B(void 0):i),o.initialNavigation()}))})];return tc(2,n)}function BM(){let n=[Pd(()=>{b(Ae).setUpLocationChangeListener()}),{provide:If,useValue:2}];return tc(3,n)}var qM=new V("");function UM(n){return tc(0,[{provide:qM,useExisting:NM},{provide:ec,useExisting:n}])}function $M(){return tc(8,[yf,{provide:Qs,useExisting:yf}])}function WM(n){Nn("NgRouterViewTransitions");let e=[{provide:Mf,useValue:AM},{provide:wf,useValue:I({skipNextTransition:!!n?.skipInitialTransition},n)}];return tc(9,e)}var GM=[Wr,{provide:Ko,useClass:Zr},Ae,Yo,{provide:Bn,useFactory:jM,deps:[Ae]},gu,[]],Sf=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[GM,[],{provide:Xo,multi:!0,useValue:t},[],r?.errorHandler?{provide:Cf,useValue:r.errorHandler}:[],{provide:Xr,useValue:r||{}},r?.useHash?$7():W7(),U7(),r?.preloadingStrategy?UM(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?G7(r):[],r?.bindToComponentInputs?$M().\u0275providers:[],r?.enableViewTransitions?WM().\u0275providers:[],Z7()]}}static forChild(t){return{ngModule:n,providers:[{provide:Xo,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=jt({})}return n})();function U7(){return{provide:FM,useFactory:()=>{let n=b(Vv),e=b(Ge),t=b(Xr),r=b(mu),o=b(Ko);return t.scrollOffset&&n.setOffset(t.scrollOffset),new q7(o,r,n,e,t)}}}function $7(){return{provide:yn,useClass:jp}}function W7(){return{provide:yn,useClass:jd}}function G7(n){return[n.initialNavigation==="disabled"?BM().\u0275providers:[],n.initialNavigation==="enabledBlocking"?zM().\u0275providers:[]]}var bf=new V("");function Z7(){return[{provide:bf,useFactory:VM},{provide:Ds,multi:!0,useExisting:bf}]}var r4=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(j(zt),j(at))};static \u0275dir=xe({type:n})}return n})(),Su=(()=>{class n extends r4{static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=xe({type:n,features:[Et]})}return n})(),cc=new V(""),Y7={provide:cc,useExisting:Ft(()=>Lf),multi:!0},Lf=(()=>{class n extends Su{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=xe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){r&1&&x("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Fn([Y7]),Et]})}return n})(),X7={provide:cc,useExisting:Ft(()=>rt),multi:!0};function Q7(){let n=en()?en().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var J7=new V(""),rt=(()=>{class n extends r4{_compositionMode;_composing=!1;constructor(t,r,o){super(t,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!Q7())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(j(zt),j(at),j(J7,8))};static \u0275dir=xe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&x("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},standalone:!1,features:[Fn([X7]),Et]})}return n})();function eI(n){return n==null||o4(n)===0}function o4(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Du=new V(""),i4=new V("");function tI(n){return eI(n.value)?{required:!0}:null}function nI(n){return e=>{let t=e.value?.length??o4(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function ZM(n){return null}function a4(n){return n!=null}function s4(n){return zr(n)?De(n):n}function c4(n){let e={};return n.forEach(t=>{e=t!=null?I(I({},e),t):e}),Object.keys(e).length===0?null:e}function l4(n,e){return e.map(t=>t(n))}function rI(n){return!n.validate}function d4(n){return n.map(e=>rI(e)?e:t=>e.validate(t))}function oI(n){if(!n)return null;let e=n.filter(a4);return e.length==0?null:function(t){return c4(l4(t,e))}}function Pf(n){return n!=null?oI(d4(n)):null}function iI(n){if(!n)return null;let e=n.filter(a4);return e.length==0?null:function(t){let r=l4(t,e).map(s4);return K1(r).pipe(oe(c4))}}function Of(n){return n!=null?iI(d4(n)):null}function KM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function aI(n){return n._rawValidators}function sI(n){return n._rawAsyncValidators}function Df(n){return n?Array.isArray(n)?n:[n]:[]}function Mu(n,e){return Array.isArray(n)?n.includes(e):n===e}function YM(n,e){let t=Df(e);return Df(n).forEach(o=>{Mu(t,o)||t.push(o)}),t}function XM(n,e){return Df(e).filter(t=>!Mu(n,t))}var wu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Pf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Of(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ma=class extends wu{name;get formDirective(){return null}get path(){return null}},sc=class extends wu{_parent=null;name=null;valueAccessor=null},Cu=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},cI={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},GW=$(I({},cI),{"[class.ng-submitted]":"isSubmitted"}),ft=(()=>{class n extends Cu{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(j(sc,2))};static \u0275dir=xe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Oe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Et]})}return n})(),Jr=(()=>{class n extends Cu{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(j(ma,10))};static \u0275dir=xe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Oe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Et]})}return n})();var nc="VALID",vu="INVALID",ga="PENDING",rc="DISABLED",Qr=class{},bu=class extends Qr{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ic=class extends Qr{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ac=class extends Qr{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ya=class extends Qr{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Ef=class extends Qr{source;constructor(e){super(),this.source=e}},_u=class extends Qr{source;constructor(e){super(),this.source=e}};function u4(n){return(Eu(n)?n.validators:n)||null}function lI(n){return Array.isArray(n)?Pf(n):n||null}function h4(n,e){return(Eu(e)?e.asyncValidators:n)||null}function dI(n){return Array.isArray(n)?Of(n):n||null}function Eu(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function uI(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new F(1e3,"");if(!r[t])throw new F(1001,"")}function hI(n,e,t){n._forEachChild((r,o)=>{if(t[o]===void 0)throw new F(1002,"")})}var xu=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return nt(this.statusReactive)}set status(e){nt(()=>this.statusReactive.set(e))}_status=Ur(()=>this.statusReactive());statusReactive=ce(void 0);get valid(){return this.status===nc}get invalid(){return this.status===vu}get pending(){return this.status==ga}get disabled(){return this.status===rc}get enabled(){return this.status!==rc}errors;get pristine(){return nt(this.pristineReactive)}set pristine(e){nt(()=>this.pristineReactive.set(e))}_pristine=Ur(()=>this.pristineReactive());pristineReactive=ce(!0);get dirty(){return!this.pristine}get touched(){return nt(this.touchedReactive)}set touched(e){nt(()=>this.touchedReactive.set(e))}_touched=Ur(()=>this.touchedReactive());touchedReactive=ce(!1);get untouched(){return!this.touched}_events=new Fe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(XM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(XM(e,this._rawAsyncValidators))}hasValidator(e){return Mu(this._rawValidators,e)}hasAsyncValidator(e){return Mu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched($(I({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ac(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ac(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty($(I({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ic(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ic(!0,r))}markAsPending(e={}){this.status=ga;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ya(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending($(I({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=rc,this.errors=null,this._forEachChild(o=>{o.disable($(I({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bu(this.value,r)),this._events.next(new ya(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(I({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=nc,this._forEachChild(r=>{r.enable($(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($(I({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nc||this.status===ga)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bu(this.value,t)),this._events.next(new ya(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity($(I({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rc:nc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ga,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=s4(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ya(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new be,this.statusChanges=new be}_calculateStatus(){return this._allControlsDisabled()?rc:this.errors?vu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ga)?ga:this._anyControlsHaveStatus(vu)?vu:nc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),o&&this._events.next(new ic(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ac(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Eu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=lI(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=dI(this._rawAsyncValidators)}},Iu=class extends xu{constructor(e,t,r){super(u4(t),h4(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){hI(this,!0,e),Object.keys(e).forEach(r=>{uI(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new _u(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Af=new V("",{providedIn:"root",factory:()=>Tf}),Tf="always";function pI(n,e){return[...e.path,n]}function p4(n,e,t=Tf){f4(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),gI(n,e),mI(n,e),yI(n,e),fI(n,e)}function QM(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fI(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function f4(n,e){let t=aI(n);e.validator!==null?n.setValidators(KM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=sI(n);e.asyncValidator!==null?n.setAsyncValidators(KM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let o=()=>n.updateValueAndValidity();QM(e._rawValidators,o),QM(e._rawAsyncValidators,o)}function gI(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&g4(n,e)})}function yI(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&g4(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function g4(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function mI(n,e){let t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function kI(n,e){n==null,f4(n,e)}function vI(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function MI(n){return Object.getPrototypeOf(n.constructor)===Su}function wI(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function CI(n,e){if(!e)return null;Array.isArray(e);let t,r,o;return e.forEach(i=>{i.constructor===rt?t=i:MI(i)?r=i:o=i}),o||r||t||null}var bI={provide:ma,useExisting:Ft(()=>hr)},oc=Promise.resolve(),hr=(()=>{class n extends ma{callSetDisabledState;get submitted(){return nt(this.submittedReactive)}_submitted=Ur(()=>this.submittedReactive());submittedReactive=ce(!1);_directives=new Set;form;ngSubmit=new be;options;constructor(t,r,o){super(),this.callSetDisabledState=o,this.form=new Iu({},Pf(t),Of(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){oc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),p4(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){oc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){oc.then(()=>{let r=this._findContainer(t.path),o=new Iu({});kI(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){oc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){oc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),wI(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Ef(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(j(Du,10),j(i4,10),j(Af,8))};static \u0275dir=xe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&x("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Fn([bI]),Et]})}return n})();function JM(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function e4(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var _I=class extends xu{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(u4(t),h4(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Eu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(e4(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new _u(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){JM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){JM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){e4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xI={provide:sc,useExisting:Ft(()=>st)},t4=Promise.resolve(),st=(()=>{class n extends sc{_changeDetectorRef;callSetDisabledState;control=new _I;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new be;constructor(t,r,o,i,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=CI(this,i)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),vI(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){p4(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){t4.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,o=r!==0&&$r(r);t4.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?pI(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(j(ma,9),j(Du,10),j(i4,10),j(cc,10),j(fn,8),j(Af,8))};static \u0275dir=xe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Fn([xI]),Et,Qt]})}return n})();var eo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=xe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var II={provide:cc,useExisting:Ft(()=>to),multi:!0};function y4(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function SI(n){return n.split(":")[0]}var to=(()=>{class n extends Su{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=b(dr).injector;destroyRef=b(un);cdr=b(fn);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,bs({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),o=y4(r,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=SI(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=xe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&x("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Fn([II]),Et]})}return n})(),ka=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(y4(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(j(at),j(zt),j(to,9))};static \u0275dir=xe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),DI={provide:cc,useExisting:Ft(()=>m4),multi:!0};function n4(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function EI(n){return n.split(":")[0]}var m4=(()=>{class n extends Su{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let o=t.map(i=>this._getOptionId(i));r=(i,a)=>{i._setSelected(o.indexOf(a.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let a=i;for(let s=0;s<a.length;s++){let c=a[s],l=this._getOptionValue(c.value);o.push(l)}}else{let a=r.options;for(let s=0;s<a.length;s++){let c=a[s];if(c.selected){let l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,t(o)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=EI(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=xe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&x("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Fn([DI]),Et]})}return n})(),va=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(n4(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(n4(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(j(at),j(zt),j(m4,9))};static \u0275dir=xe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function LI(n){return typeof n=="number"?n:parseInt(n,10)}var k4=(()=>{class n{_validator=ZM;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ZM,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=xe({type:n,features:[Qt]})}return n})();var PI={provide:Du,useExisting:Ft(()=>pr),multi:!0};var pr=(()=>{class n extends k4{required;inputName="required";normalizeInput=$r;createValidator=t=>tI;enabled(t){return t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=xe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&$o("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Fn([PI]),Et]})}return n})();var OI={provide:Du,useExisting:Ft(()=>lc),multi:!0},lc=(()=>{class n extends k4{minlength;inputName="minlength";normalizeInput=t=>LI(t);createValidator=t=>nI(t);static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=xe({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&$o("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[Fn([OI]),Et]})}return n})();var AI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=jt({})}return n})();var gt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Af,useValue:t.callSetDisabledState??Tf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=jt({imports:[AI]})}return n})();var TI=["*"];var v4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]];var M4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]];var w4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],C4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]];var b4=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]];var _4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]];var x4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]];var I4=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]];var S4=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]];var D4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]];var E4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]];var L4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]];var P4=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]];var O4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]];var A4=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]];var T4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]];var R4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]];var N4=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]];var F4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]];var j4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]];var V4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]];var dc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},Rf=new V("LucideIcons",{factory:()=>new uc({})}),uc=class{constructor(e){this.icons=e}getIcon(e){return this.hasIcon(e)?this.icons[e]:null}hasIcon(e){return typeof this.icons=="object"&&e in this.icons}},RI=(()=>{class n{constructor(){this.color=dc.stroke,this.size=dc.width,this.strokeWidth=dc["stroke-width"],this.absoluteStrokeWidth=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NI(n,e=3){return parseFloat(n.toFixed(e)).toString(10)}var Ne=(()=>{class n{constructor(t,r,o,i,a){this.elem=t,this.renderer=r,this.changeDetector=o,this.iconProviders=i,this.iconConfig=a,this.absoluteStrokeWidth=!1,this.defaultSize=dc.height}get size(){return this._size??this.iconConfig.size}set size(t){t?this._size=this.parseNumber(t):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(t){t?this._strokeWidth=this.parseNumber(t):delete this._strokeWidth}ngOnChanges(t){if(t.name||t.img||t.color||t.size||t.absoluteStrokeWidth||t.strokeWidth||t.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let o=this.getIcon(this.toPascalCase(r));if(o)this.replaceElement(o);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(t){let r=$(I({},dc),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?NI(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),o=this.createElement(["svg",r,t]);o.classList.add("lucide"),typeof this.name=="string"&&o.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&o.classList.add(...this.class.split(/ /).map(a=>a.trim()).filter(a=>a.length>0));let i=this.elem.nativeElement.childNodes;for(let a of i)this.renderer.removeChild(this.elem.nativeElement,a);this.renderer.appendChild(this.elem.nativeElement,o)}toPascalCase(t){return t.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,o,i)=>o.toUpperCase()+i.toLowerCase())}parseNumber(t){if(typeof t=="string"){let r=parseInt(t,10);if(isNaN(r))throw new Error(`${t} is not numeric.`);return r}return t}getIcon(t){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(t))return r.getIcon(t);return null}createElement([t,r,o=[]]){let i=this.renderer.createElement(t,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(a=>{let s=typeof r[a]=="string"?r[a]:r[a].toString(10);this.renderer.setAttribute(i,a,s)}),o.length&&o.forEach(a=>{let s=this.createElement(a);this.renderer.appendChild(i,s)}),i}}return n.\u0275fac=function(t){return new(t||n)(j(at),j(zt),j(fn),j(Rf),j(RI))},n.\u0275cmp=de({type:n,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[Qt],ngContentSelectors:TI,decls:1,vars:0,template:function(t,r){t&1&&(Mp(),wp(0))},encapsulation:2}),n})(),Nf=class{constructor(e){this.icons=e}},FI=n=>new uc(n??{}),Te=(()=>{class n{static pick(t){return{ngModule:n,providers:[{provide:Rf,multi:!0,useValue:new uc(t)},{provide:Rf,multi:!0,useFactory:FI,deps:[[new H0,Nf]]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Jt({type:n}),n.\u0275inj=jt({imports:[[]]}),n})();Se();var H4=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};var hc=class extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}},pc=class extends hc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},fc=class extends hc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},gc=class extends hc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},Ff=(function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n})(Ff||{});var yc=class{constructor(e,{headers:t={},customFetch:r,region:o=Ff.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=H4(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return A(this,arguments,void 0,function*(t,r={}){var o;try{let{headers:i,method:a,body:s,signal:c}=r,l={},{region:d}=r;d||(d=this.region);let u=new URL(`${this.url}/${t}`);d&&d!=="any"&&(l["x-region"]=d,u.searchParams.set("forceFunctionRegion",d));let p;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",p=s):typeof s=="string"?(l["Content-Type"]="text/plain",p=s):typeof FormData<"u"&&s instanceof FormData?p=s:(l["Content-Type"]="application/json",p=JSON.stringify(s)):p=s;let h=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:p,signal:c}).catch(C=>{throw C.name==="AbortError"?C:new pc(C)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new fc(h);if(!h.ok)throw new gc(h);let k=((o=h.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),M;return k==="application/json"?M=yield h.json():k==="application/octet-stream"||k==="application/pdf"?M=yield h.blob():k==="text/event-stream"?M=h:k==="multipart/form-data"?M=yield h.formData():M=yield h.text(),{data:M,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new pc(i)}:{data:null,error:i,response:i instanceof gc||i instanceof fc?i.context:void 0}}})}};var e2=gw(Y4(),1),{PostgrestClient:X4,PostgrestQueryBuilder:vG,PostgrestFilterBuilder:MG,PostgrestTransformBuilder:wG,PostgrestBuilder:CG,PostgrestError:ZI}=e2.default||e2;var t2=class{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let t=process.versions;if(t&&t.node){let r=t.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){let r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},n2=t2;var Q4="2.78.0";var J4=`realtime-js/${Q4}`,e5="1.0.0";var kc=1e4,t5=1e3,n5=100,vc=(function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n})(vc||{}),et=(function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n})(et||{}),tn=(function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n})(tn||{}),r2=(function(n){return n.websocket="websocket",n})(r2||{}),Qo=(function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n})(Qo||{});var Pu=class{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let o=t.getUint8(1),i=t.getUint8(2),a=this.HEADER_LENGTH+2,s=r.decode(e.slice(a,a+o));a=a+o;let c=r.decode(e.slice(a,a+i));a=a+i;let l=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:s,event:c,payload:l}}};var wa=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ee=(function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n})(Ee||{}),i2=(n,e,t={})=>{var r;let o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=KI(a,n,e,o),i),{}):{}},KI=(n,e,t,r)=>{let o=e.find(s=>s.name===n),i=o?.type,a=t[n];return i&&!r.includes(i)?r5(i,a):o2(a)},r5=(n,e)=>{if(n.charAt(0)==="_"){let t=n.slice(1,n.length);return JI(e,t)}switch(n){case Ee.bool:return YI(e);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return XI(e);case Ee.json:case Ee.jsonb:return QI(e);case Ee.timestamp:return eS(e);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return o2(e);default:return o2(e)}},o2=n=>n,YI=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},XI=n=>{if(typeof n=="string"){let e=parseFloat(n);if(!Number.isNaN(e))return e}return n},QI=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},JI=(n,e)=>{if(typeof n!="string")return n;let t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let i,a=n.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(s=>r5(e,s))}return n},eS=n=>typeof n=="string"?n.replace(" ","T"):n,Ou=n=>{let e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};var Ca=class{constructor(e,t,r={},o=kc){this.channel=e,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Mc=class n{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,o,i,a),this.pendingDiffs.forEach(c=>{this.state=n.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=n.syncDiff(this.state,o,i,a),s())}),this.onJoin((o,i,a)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:a})}),this.onLeave((o,i,a)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,o){let i=this.cloneDeep(e),a=this.transformState(t),s={},c={};return this.map(i,(l,d)=>{a[l]||(c[l]=d)}),this.map(a,(l,d)=>{let u=i[l];if(u){let p=d.map(M=>M.presence_ref),h=u.map(M=>M.presence_ref),m=d.filter(M=>h.indexOf(M.presence_ref)<0),k=u.filter(M=>p.indexOf(M.presence_ref)<0);m.length>0&&(s[l]=m),k.length>0&&(c[l]=k)}else s[l]=d}),this.syncDiff(i,{joins:s,leaves:c},r,o)}static syncDiff(e,t,r,o){let{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(s,c)=>{var l;let d=(l=e[s])!==null&&l!==void 0?l:[];if(e[s]=this.cloneDeep(c),d.length>0){let u=e[s].map(h=>h.presence_ref),p=d.filter(h=>u.indexOf(h.presence_ref)<0);e[s].unshift(...p)}r(s,d,c)}),this.map(a,(s,c)=>{let l=e[s];if(!l)return;let d=c.map(u=>u.presence_ref);l=l.filter(u=>d.indexOf(u.presence_ref)<0),e[s]=l,o(s,l,c),l.length===0&&delete e[s]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{let o=e[r];return"metas"in o?t[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var wc=(function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n})(wc||{}),fr=(function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n})(fr||{});var Cc=class n{constructor(e,t={config:{}},r){var o,i;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Ca(this,tn.join,this.params,this.timeout),this.rejoinTimer=new wa(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Mc(this),this.broadcastEndpointURL=Ou(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){let{config:{broadcast:a,presence:s,private:c}}=this.params,l=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&o!==void 0?o:[],d=!!this.bindings[wc.PRESENCE]&&this.bindings[wc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,u={},p={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>e?.(fr.CHANNEL_ERROR,h)),this._onClose(()=>e?.(fr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",m=>g(this,[m],function*({postgres_changes:h}){var k;if(this.socket.setAuth(),h===void 0){e?.(fr.SUBSCRIBED);return}else{let M=this.bindings.postgres_changes,C=(k=M?.length)!==null&&k!==void 0?k:0,R=[];for(let D=0;D<C;D++){let _=M[D],{filter:{event:T,schema:ne,table:U,filter:J}}=_,Le=h&&h[D];if(Le&&Le.event===T&&Le.schema===ne&&Le.table===U&&Le.filter===J)R.push(Object.assign(Object.assign({},_),{id:Le.id}));else{this.unsubscribe(),this.state=et.errored,e?.(fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(fr.SUBSCRIBED);return}})).receive("error",h=>{this.state=et.errored,e?.(fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e?.(fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return g(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return g(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this.state===et.joined&&e===wc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}httpSend(o,i){return g(this,arguments,function*(e,t,r={}){var a;let s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");let c={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let d=l.statusText;try{let u=yield l.json();d=u.error||u.message||d}catch{}return Promise.reject(new Error(d))})}send(r){return g(this,arguments,function*(e,t={}){var o,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{let d=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=t.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=d.body)===null||i===void 0?void 0:i.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,c,l;let d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=et.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Ca(this,tn.leave,{},e),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}_fetchWithTimeout(e,t,r){return g(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),a=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(i),a})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ca(this,e,t,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>n5){let t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var o,i;let a=e.toLocaleLowerCase(),{close:s,error:c,leave:l,join:d}=tn;if(r&&[s,c,l,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,t,r);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(h=>{var m,k,M;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((M=(k=h.filter)===null||k===void 0?void 0:k.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===a}).map(h=>h.callback(p,r)):(i=this.bindings[a])===null||i===void 0||i.filter(h=>{var m,k,M,C,R,D;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){let _=h.id,T=(m=h.filter)===null||m===void 0?void 0:m.event;return _&&((k=t.ids)===null||k===void 0?void 0:k.includes(_))&&(T==="*"||T?.toLocaleLowerCase()===((M=t.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{let _=(R=(C=h?.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return _==="*"||_===((D=t?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof p=="object"&&"ids"in p){let m=p.data,{schema:k,table:M,commit_timestamp:C,type:R,errors:D}=m;p=Object.assign(Object.assign({},{schema:k,table:M,commit_timestamp:C,eventType:R,new:{},old:{},errors:D}),this._getPayloadRecords(m))}h.callback(p,r)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let o=e.toLocaleLowerCase(),i={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&n.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tn.close,{},e)}_onError(e){this._on(tn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=i2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=i2(e.columns,e.old_record)),t}};var a2=()=>{},Au={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nS=[1e3,2e3,5e3,1e4],rS=1e4,oS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,bc=class{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kc,this.transport=null,this.heartbeatIntervalMs=Au.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=a2,this.ref=0,this.reconnectTimer=null,this.logger=a2,this.conn=null,this.sendBuffer=[],this.serializer=new Pu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>import("./chunk-Z76GK7AR.js").then(({default:s})=>s(...a)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${r2.websocket}`,this.httpEndpoint=Ou(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=n2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:e5}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return g(this,null,function*(){let t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return g(this,null,function*(){let e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case vc.connecting:return Qo.Connecting;case vc.open:return Qo.Open;case vc.closing:return Qo.Closing;default:return Qo.Closed}}isConnected(){return this.connectionState()===Qo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){let r=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Cc(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){let{topic:t,event:r,payload:o,ref:i}=e,a=()=>{this.encode(e,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${t} ${r} (${i})`,o),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(e=null){return g(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return g(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(t5,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Au.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:a}=t,s=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${s}`.trim(),i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(o,i,a)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(tn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${r}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{let r=new Blob([oS],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}_performAuth(e=null){return g(this,null,function*(){let t;e?t=e:this.accessToken?t=yield this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{let o={access_token:t,version:J4};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(tn.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return g(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new wa(()=>g(this,null,function*(){setTimeout(()=>g(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Au.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var t,r,o,i,a,s,c,l,d;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:kc,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Au.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e?.heartbeatCallback)!==null&&s!==void 0?s:a2,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:u=>nS[u-1]||rS,this.encode=(l=e?.encode)!==null&&l!==void 0?l:(u,p)=>p(JSON.stringify(u)),this.decode=(d=e?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};Se();var ba=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function we(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Tu=class extends ba{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Jo=class extends ba{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};Se();Se();var _a=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},o5=()=>A(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-Z76GK7AR.js")).Response:Response}),Ru=n=>{if(Array.isArray(n))return n.map(t=>Ru(t));if(typeof n=="function"||n!==Object(n))return n;let e={};return Object.entries(n).forEach(([t,r])=>{let o=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=Ru(r)}),e},i5=n=>{if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var s2=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},iS=(n,e,t)=>A(void 0,void 0,void 0,function*(){let r=yield o5();n instanceof r&&!t?.noResolveJson?n.json().then(o=>{let i=n.status||500,a=o?.statusCode||i+"";e(new Tu(s2(o),i,a))}).catch(o=>{e(new Jo(s2(o),o))}):e(new Jo(s2(n),n))}),aS=(n,e,t,r)=>{let o={method:n,headers:e?.headers||{}};return n==="GET"||!r?o:(i5(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function _c(n,e,t,r,o,i){return A(this,void 0,void 0,function*(){return new Promise((a,s)=>{n(t,aS(e,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>iS(c,s,r))})})}function ro(n,e,t,r){return A(this,void 0,void 0,function*(){return _c(n,"GET",e,t,r)})}function Pt(n,e,t,r,o){return A(this,void 0,void 0,function*(){return _c(n,"POST",e,r,o,t)})}function xc(n,e,t,r,o){return A(this,void 0,void 0,function*(){return _c(n,"PUT",e,r,o,t)})}function a5(n,e,t,r){return A(this,void 0,void 0,function*(){return _c(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function xa(n,e,t,r,o){return A(this,void 0,void 0,function*(){return _c(n,"DELETE",e,r,o,t)})}Se();Se();var Nu=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return A(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(we(e))return{data:null,error:e};throw e}})}};var s5,c2=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[s5]="BlobDownloadBuilder",this.promise=null}asStream(){return new Nu(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return A(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(we(e))return{data:null,error:e};throw e}})}};s5=Symbol.toStringTag;var c5=c2;var sS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},l5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Fu=class{constructor(e,t={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=_a(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,o){return A(this,void 0,void 0,function*(){try{let i,a=Object.assign(Object.assign({},l5),o),s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)}),c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(s=Object.assign(Object.assign({},s),o.headers));let l=this._removeEmptyFolders(t),d=this._getFinalPath(l),u=yield(e=="PUT"?xc:Pt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:s},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}})}upload(e,t,r){return A(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,o){return A(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),a=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",t);try{let c,l=Object.assign({upsert:l5.upsert},o),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType);let u=yield xc(this.fetch,s.toString(),c,{headers:d});return{data:{path:i,fullPath:u.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(we(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return A(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");let i=yield Pt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),a=new URL(this.url+i.url),s=a.searchParams.get("token");if(!s)throw new ba("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}update(e,t,r){return A(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return A(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(we(o))return{data:null,error:o};throw o}})}copy(e,t,r){return A(this,void 0,void 0,function*(){try{return{data:{path:(yield Pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(we(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,r){return A(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield Pt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(we(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,r){return A(this,void 0,void 0,function*(){try{let o=yield Pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(we(o))return{data:null,error:o};throw o}})}download(e,t){let o=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),a=i?`?${i}`:"",s=this._getFinalPath(e),c=()=>ro(this.fetch,`${this.url}/${o}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new c5(c,this.shouldThrowOnError)}info(e){return A(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let r=yield ro(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Ru(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}exists(e){return A(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield a5(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r)&&r instanceof Jo){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){let r=this._getFinalPath(e),o=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&o.push(i);let s=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${l}`)}}}remove(e){return A(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}list(e,t,r){return A(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},sS),t),{prefix:e||""});return{data:yield Pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(we(o))return{data:null,error:o};throw o}})}listV2(e,t){return A(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield Pt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};Se();var ju="2.78.0";var Vu={"X-Client-Info":`storage-js/${ju}`};var Hu=class{constructor(e,t={},r,o){this.shouldThrowOnError=!1;let i=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vu),t),this.fetch=_a(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return A(this,void 0,void 0,function*(){try{let t=this.listBucketOptionsToQueryString(e);return{data:yield ro(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}getBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield ro(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}createBucket(e){return A(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(we(o))return{data:null,error:o};throw o}})}updateBucket(e,t){return A(this,void 0,void 0,function*(){try{return{data:yield xc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}emptyBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}};Se();var zu=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vu),t),this.fetch=_a(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}listBuckets(e){return A(this,void 0,void 0,function*(){try{let t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);let r=t.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield ro(this.fetch,o,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}};Se();Se();var Ia={"X-Client-Info":`storage-js/${ju}`,"Content-Type":"application/json"};var Bu=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function yt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Sa=class extends Bu{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qu=class extends Bu{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};Se();var Da=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};var d5=n=>{if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var u5=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),cS=(n,e,t)=>A(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!t?.noResolveJson){let o=n.status||500,i=n;if(typeof i.json=="function")i.json().then(a=>{let s=a?.statusCode||a?.code||o+"";e(new Sa(u5(a),o,s))}).catch(()=>{let a=o+"",s=i.statusText||`HTTP ${o} error`;e(new Sa(s,o,a))});else{let a=o+"",s=i.statusText||`HTTP ${o} error`;e(new Sa(s,o,a))}}else e(new qu(u5(n),n))}),lS=(n,e,t,r)=>{let o={method:n,headers:e?.headers||{}};return n==="GET"||!r?o:(d5(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),t))};function dS(n,e,t,r,o,i){return A(this,void 0,void 0,function*(){return new Promise((a,s)=>{n(t,lS(e,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>cS(c,s,r))})})}function mt(n,e,t,r,o){return A(this,void 0,void 0,function*(){return dS(n,"POST",e,r,o,t)})}var Uu=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ia),t),this.fetch=Da(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return A(this,void 0,void 0,function*(){try{return{data:(yield mt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}getIndex(e,t){return A(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}listIndexes(e){return A(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return A(this,void 0,void 0,function*(){try{return{data:(yield mt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}};Se();var $u=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ia),t),this.fetch=Da(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return A(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield mt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}getVectors(e){return A(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}listVectors(e){return A(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield mt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}queryVectors(e){return A(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}deleteVectors(e){return A(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield mt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}};Se();var Wu=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ia),t),this.fetch=Da(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return A(this,void 0,void 0,function*(){try{return{data:(yield mt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}getBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}listBuckets(){return A(this,arguments,void 0,function*(e={}){try{return{data:yield mt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:(yield mt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}};var Ic=class extends Wu{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Gu(this.url,this.headers,e,this.fetch)}},Gu=class extends Uu{constructor(e,t,r,o){super(e,t,o),this.vectorBucketName=r}createIndex(e){let t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return A(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return A(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return A(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return A(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Zu(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Zu=class extends $u{constructor(e,t,r,o,i){super(e,t,i),this.vectorBucketName=r,this.indexName=o}putVectors(e){let t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return A(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return A(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return A(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return A(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return A(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var Sc=class extends Hu{constructor(e,t={},r,o){super(e,t,r,o)}from(e){return new Fu(this.url,this.headers,e,this.fetch)}get vectors(){return new Ic(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zu(this.url+"/iceberg",this.headers,this.fetch)}};var h5="2.78.0";var Dc="";typeof Deno<"u"?Dc="deno":typeof document<"u"?Dc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dc="react-native":Dc="node";var uS={"X-Client-Info":`supabase-js-${Dc}/${h5}`},p5={headers:uS},f5={schema:"public"},g5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},y5={};ig();var hS=n=>{let e;return n?e=n:typeof fetch>"u"?e=rg:e=fetch,(...t)=>e(...t)},pS=()=>typeof Headers>"u"?og:Headers,m5=(n,e,t)=>{let r=hS(t),o=pS();return(i,a)=>g(null,null,function*(){var s;let c=(s=yield e())!==null&&s!==void 0?s:n,l=new o(a?.headers);return l.has("apikey")||l.set("apikey",n),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:l}))})};function fS(n){return n.endsWith("/")?n:n+"/"}function k5(n,e){var t,r;let{db:o,auth:i,realtime:a,global:s}=n,{db:c,auth:l,realtime:d,global:u}=e,p={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},u),s),{headers:Object.assign(Object.assign({},(t=u?.headers)!==null&&t!==void 0?t:{}),(r=s?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>g(null,null,function*(){return""})};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}function v5(n){let e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}Se();Se();var Ku="2.78.0";var ei=30*1e3,Yu=3,Xu=Yu*ei,M5="http://localhost:9999",w5="supabase.auth.token";var C5={"X-Client-Info":`gotrue-js/${Ku}`};var Ec="X-Supabase-Api-Version",l2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},b5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_5=600*1e3;var oo=class extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function H(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var Qu=class extends oo{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function x5(n){return H(n)&&n.name==="AuthApiError"}var nn=class extends oo{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},qn=class extends oo{constructor(e,t,r,o){super(e,r,o),this.name=t,this.status=r}},_t=class extends qn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function I5(n){return H(n)&&n.name==="AuthSessionMissingError"}var gr=class extends qn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ti=class extends qn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},ni=class extends qn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function S5(n){return H(n)&&n.name==="AuthImplicitGrantRedirectError"}var Lc=class extends qn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ea=class extends qn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function Ju(n){return H(n)&&n.name==="AuthRetryableFetchError"}var Pc=class extends qn{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var ri=class extends qn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var e1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),D5=` 	
\r=`.split(""),gS=(()=>{let n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<D5.length;e+=1)n[D5[e].charCodeAt(0)]=-2;for(let e=0;e<e1.length;e+=1)n[e1[e].charCodeAt(0)]=e;return n})();function E5(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(e1[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(e1[r]),e.queuedBits-=6}}function L5(n,e,t){let r=gS[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function d2(n){let e=[],t=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=a=>{kS(a,r,t)};for(let a=0;a<n.length;a+=1)L5(n.charCodeAt(a),o,i);return e.join("")}function yS(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function mS(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}yS(r,e)}}function kS(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function io(n){let e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)L5(n.charCodeAt(o),t,r);return new Uint8Array(e)}function P5(n){let e=[];return mS(n,t=>e.push(t)),new Uint8Array(e)}function yr(n){let e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};return n.forEach(o=>E5(o,t,r)),E5(null,t,r),e.join("")}function O5(n){return Math.round(Date.now()/1e3)+n}function A5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}var ct=()=>typeof window<"u"&&typeof document<"u",oi={tested:!1,writable:!1},t1=()=>{if(!ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oi.tested)return oi.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),oi.tested=!0,oi.writable=!0}catch{oi.tested=!0,oi.writable=!1}return oi.writable};function T5(n){let e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return t.searchParams.forEach((r,o)=>{e[o]=r}),e}var n1=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},R5=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ii=(n,e,t)=>g(null,null,function*(){yield n.setItem(e,JSON.stringify(t))}),ao=(n,e)=>g(null,null,function*(){let t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),mr=(n,e)=>g(null,null,function*(){yield n.removeItem(e)}),Oc=class n{constructor(){this.promise=new n.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};Oc.promiseConstructor=Promise;function r1(n){let e=n.split(".");if(e.length!==3)throw new ri("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!b5.test(e[r]))throw new ri("JWT not in base64url format");return{header:JSON.parse(d2(e[0])),payload:JSON.parse(d2(e[1])),signature:io(e[2]),raw:{header:e[0],payload:e[1]}}}function N5(n){return g(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),n)})})}function F5(n,e){return new Promise((r,o)=>{g(null,null,function*(){for(let i=0;i<1/0;i++)try{let a=yield n(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){o(a);return}}})})}function vS(n){return("0"+n.toString(16)).substr(-2)}function MS(){let e=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,o="";for(let i=0;i<56;i++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,vS).join("")}function wS(n){return g(this,null,function*(){let t=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function CS(n){return g(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let t=yield wS(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function ai(n,e,t=!1){return g(this,null,function*(){let r=MS(),o=r;t&&(o+="/PASSWORD_RECOVERY"),yield ii(n,`${e}-code-verifier`,o);let i=yield CS(r);return[i,r===i?"plain":"s256"]})}var bS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function j5(n){let e=n.headers.get(Ec);if(!e||!e.match(bS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function V5(n){if(!n)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function H5(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var _S=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function si(n){if(!_S.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function o1(){let n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function z5(n,e){return new Proxy(n,{get:(t,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,o)}})}function u2(n){return JSON.parse(JSON.stringify(n))}var ci=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),xS=[502,503,504];function B5(n){return g(this,null,function*(){var e;if(!R5(n))throw new Ea(ci(n),0);if(xS.includes(n.status))throw new Ea(ci(n),n.status);let t;try{t=yield n.json()}catch(i){throw new nn(ci(i),i)}let r,o=j5(n);if(o&&o.getTime()>=l2["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Pc(ci(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new _t}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Pc(ci(t),n.status,t.weak_password.reasons);throw new Qu(ci(t),n.status||500,r)})}var IS=(n,e,t,r)=>{let o={method:n,headers:e?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};function q(n,e,t,r){return g(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[Ec]||(i[Ec]=l2["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let a=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=yield SS(n,e,t+s,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function SS(n,e,t,r,o,i){return g(this,null,function*(){let a=IS(e,r,o,i),s;try{s=yield n(t,Object.assign({},a))}catch(c){throw console.error(c),new Ea(ci(c),0)}if(s.ok||(yield B5(s)),r?.noResolveJson)return s;try{return yield s.json()}catch(c){yield B5(c)}})}function rn(n){var e;let t=null;DS(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=O5(n.expires_in)));let r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function h2(n){let e=rn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Un(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function q5(n){return{data:n,error:null}}function U5(n){let{action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i}=n,a=Yn(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},a);return{data:{properties:s,user:c},error:null}}function p2(n){return n}function DS(n){return n.access_token&&n.refresh_token&&n.expires_in}var i1=["global","local","others"];var La=class{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=n1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return g(this,arguments,function*(e,t=i1[0]){if(i1.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${i1.join(", ")}`);try{return yield q(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(H(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return g(this,arguments,function*(e,t={}){try{return yield q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Un})}catch(o){if(H(o))return{data:{user:null},error:o};throw o}})}generateLink(e){return g(this,null,function*(){try{let{options:t}=e,r=Yn(e,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:U5,redirectTo:t?.redirectTo})}catch(t){if(H(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return g(this,null,function*(){try{return yield q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Un})}catch(t){if(H(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return g(this,null,function*(){var t,r,o,i,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=yield q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:p2});if(d.error)throw d.error;let u=yield d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(m=>{let k=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(m.split(";")[1].split("=")[1]);l[`${M}Page`]=k}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(H(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return g(this,null,function*(){si(e);try{return yield q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Un})}catch(t){if(H(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return g(this,null,function*(){si(e);try{return yield q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Un})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return g(this,null,function*(){si(e);try{return yield q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Un})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return g(this,null,function*(){si(e.userId);try{let{data:t,error:r}=yield q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(H(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return g(this,null,function*(){si(e.userId),si(e.id);try{return{data:yield q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(H(t))return{data:null,error:t};throw t}})}_listOAuthClients(e){return g(this,null,function*(){var t,r,o,i,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=yield q(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:p2});if(d.error)throw d.error;let u=yield d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(m=>{let k=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(m.split(";")[1].split("=")[1]);l[`${M}Page`]=k}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(H(l))return{data:{clients:[]},error:l};throw l}})}_createOAuthClient(e){return g(this,null,function*(){try{return yield q(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(H(t))return{data:null,error:t};throw t}})}_getOAuthClient(e){return g(this,null,function*(){try{return yield q(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(H(t))return{data:null,error:t};throw t}})}_updateOAuthClient(e,t){return g(this,null,function*(){try{return yield q(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(e){return g(this,null,function*(){try{return yield q(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(H(t))return{data:null,error:t};throw t}})}_regenerateOAuthClientSecret(e){return g(this,null,function*(){try{return yield q(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(H(t))return{data:null,error:t};throw t}})}};function f2(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}var li={debug:!!(globalThis&&t1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ac=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},a1=class extends Ac{};function g2(n,e,t){return g(this,null,function*(){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),li.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>g(null,null,function*(){if(o){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return yield t()}finally{li.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw li.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new a1(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(li.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}function $5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function y2(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function W5(n){return parseInt(n,16)}function G5(n){let e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Z5(n){var e;let{chainId:t,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:a,notBefore:s,requestId:c,resources:l,scheme:d,uri:u,version:p}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}let h=y2(n.address),m=d?`${d}://${r}`:r,k=n.statement?`${n.statement}
`:"",M=`${m} wants you to sign in with your Ethereum account:
${h}

${k}`,C=`URI: ${u}
Version: ${p}
Chain ID: ${t}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),s&&(C+=`
Not Before: ${s.toISOString()}`),c&&(C+=`
Request ID: ${c}`),l){let R=`
Resources:`;for(let D of l){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);R+=`
- ${D}`}C+=R}return`${M}
${C}`}Se();var Re=class extends Error{constructor({message:e,code:t,cause:r,name:o}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=t}},di=class extends Re{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}};function K5({error:n,options:e}){var t,r,o;let{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Re({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=i.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Re({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Re({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Re({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Re({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Re({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Re({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Re({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){let a=window.location.hostname;if(m2(a)){if(i.rp.id!==a)return new Re({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Re({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Re({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Y5({error:n,options:e}){let{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Re({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Re({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){let r=window.location.hostname;if(m2(r)){if(t.rpId!==r)return new Re({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Re({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var k2=class{createNewAbortSignal(){if(this.controller){let t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},ES=new k2;function Q5(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);let{challenge:e,user:t,excludeCredentials:r}=n,o=Yn(n,["challenge","user","excludeCredentials"]),i=io(e).buffer,a=Object.assign(Object.assign({},t),{id:io(t.id).buffer}),s=Object.assign(Object.assign({},o),{challenge:i,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];s.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:io(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function J5(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);let{challenge:e,allowCredentials:t}=n,r=Yn(n,["challenge","allowCredentials"]),o=io(e).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(t&&t.length>0){i.allowCredentials=new Array(t.length);for(let a=0;a<t.length;a++){let s=t[a];i.allowCredentials[a]=Object.assign(Object.assign({},s),{id:io(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function e3(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let t=n;return{id:n.id,rawId:n.id,response:{attestationObject:yr(new Uint8Array(n.response.attestationObject)),clientDataJSON:yr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function t3(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let t=n,r=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:yr(new Uint8Array(o.authenticatorData)),clientDataJSON:yr(new Uint8Array(o.clientDataJSON)),signature:yr(new Uint8Array(o.signature)),userHandle:o.userHandle?yr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function m2(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function X5(){var n,e;return!!(ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}function LS(n){return g(this,null,function*(){try{let e=yield navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new di("Browser returned unexpected credential type",e)}:{data:null,error:new di("Empty credential response",e)}}catch(e){return{data:null,error:K5({error:e,options:n})}}})}function PS(n){return g(this,null,function*(){try{let e=yield navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new di("Browser returned unexpected credential type",e)}:{data:null,error:new di("Empty credential response",e)}}catch(e){return{data:null,error:Y5({error:e,options:n})}}})}var OS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},AS={userVerification:"preferred",hints:["security-key"]};function s1(...n){let e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),t=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of n)if(o)for(let i in o){let a=o[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(t(a))r[i]=a;else if(e(a)){let s=r[i];e(s)?r[i]=s1(s,a):r[i]=s1(a)}else r[i]=a}return r}function TS(n,e){return s1(OS,n,e||{})}function RS(n,e){return s1(AS,n,e||{})}var c1=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return g(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(a,s){return g(this,arguments,function*({factorId:e,webauthn:t,friendlyName:r,signal:o},i){try{let{data:c,error:l}=yield this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:l};let d=o??ES.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:u}=c.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(c.webauthn.type){case"create":{let u=TS(c.webauthn.credential_options.publicKey,i?.create),{data:p,error:h}=yield LS({publicKey:u,signal:d});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{let u=RS(c.webauthn.credential_options.publicKey,i?.request),{data:p,error:h}=yield PS(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:u,signal:d}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(c){return H(c)?{data:null,error:c}:{data:null,error:new nn("Unexpected error in challenge",c)}}})}_verify(o){return g(this,arguments,function*({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})})}_authenticate(a,s){return g(this,arguments,function*({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},i){if(!t)return{data:null,error:new oo("rpId is required for WebAuthn authentication")};try{if(!X5())return{data:null,error:new nn("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:o},{request:i});if(!c)return{data:null,error:l};let{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:r,credential_response:d.credential_response}})}catch(c){return H(c)?{data:null,error:c}:{data:null,error:new nn("Unexpected error in authenticate",c)}}})}_register(a,s){return g(this,arguments,function*({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},i){if(!t)return{data:null,error:new oo("rpId is required for WebAuthn registration")};try{if(!X5())return{data:null,error:new nn("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this._enroll({friendlyName:e});if(!c)return yield this.client.mfa.listFactors().then(p=>{var h;return(h=p.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};let{data:d,error:u}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:o},{create:i});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:u}}catch(c){return H(c)?{data:null,error:c}:{data:null,error:new nn("Unexpected error in register",c)}}})}};$5();var NS={url:M5,storageKey:w5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function n3(n,e,t){return g(this,null,function*(){return yield t()})}var Pa={},FS=(()=>{class n{get jwks(){var t,r;return(r=(t=Pa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Pa[this.storageKey]=Object.assign(Object.assign({},Pa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Pa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Pa[this.storageKey]=Object.assign(Object.assign({},Pa[this.storageKey]),{cachedAt:t})}constructor(t){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&ct()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},NS),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new La({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=n1(i.fetch),this.lock=i.lock||n3,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ct()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=g2:this.lock=n3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new c1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:t1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=f2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=f2(this.memoryStorage)),ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>g(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ku}) ${new Date().toISOString()}`,...t),this}initialize(){return g(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=g(this,null,function*(){return yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return g(this,null,function*(){var t;try{let r=T5(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),ct()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:a}=yield this._getSessionFromURL(r,o);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),S5(a)){let l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return yield this._removeSession(),{error:a}}let{session:s,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),yield this._saveSession(s),setTimeout(()=>g(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return H(r)?{error:r}:{error:new nn("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return g(this,null,function*(){var r,o,i;try{let a=yield q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:rn}),{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}})}signUp(t){return g(this,null,function*(){var r,o,i;try{let a;if("email"in t){let{email:u,password:p,options:h}=t,m=null,k=null;this.flowType==="pkce"&&([m,k]=yield ai(this.storage,this.storageKey)),a=yield q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:k},xform:rn})}else if("phone"in t){let{phone:u,password:p,options:h}=t;a=yield q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:p,data:(o=h?.data)!==null&&o!==void 0?o:{},channel:(i=h?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:rn})}else throw new ti("You must provide either an email or phone number and a password");let{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithPassword(t){return g(this,null,function*(){try{let r;if("email"in t){let{email:a,password:s,options:c}=t;r=yield q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:h2})}else if("phone"in t){let{phone:a,password:s,options:c}=t;r=yield q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:h2})}else throw new ti("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new gr}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return g(this,null,function*(){var r,o,i,a;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})})}exchangeCodeForSession(t){return g(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>g(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return g(this,null,function*(){let{chain:r}=t;switch(r){case"ethereum":return yield this.signInWithEthereum(t);case"solana":return yield this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(t){return g(this,null,function*(){var r,o,i,a,s,c,l,d,u,p,h;let m,k;if("message"in t)m=t.message,k=t.signature;else{let{chain:M,wallet:C,statement:R,options:D}=t,_;if(ct())if(typeof C=="object")_=C;else{let P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")_=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=C}let T=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href),ne=yield _.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ne||ne.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let U=y2(ne[0]),J=(o=D?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!J){let P=yield _.request({method:"eth_chainId"});J=W5(P)}let Le={domain:T.host,address:U,statement:R,uri:T.href,version:"1",chainId:J,nonce:(i=D?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=D?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=D?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(d=D?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=D?.signInWithEthereum)===null||u===void 0?void 0:u.resources};m=Z5(Le),k=yield _.request({method:"personal_sign",params:[G5(m),U]})}try{let{data:M,error:C}=yield q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:k},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:rn});if(C)throw C;return!M||!M.session||!M.user?{data:{user:null,session:null},error:new gr}:(M.session&&(yield this._saveSession(M.session),yield this._notifyAllSubscribers("SIGNED_IN",M.session)),{data:Object.assign({},M),error:C})}catch(M){if(H(M))return{data:{user:null,session:null},error:M};throw M}})}signInWithSolana(t){return g(this,null,function*(){var r,o,i,a,s,c,l,d,u,p,h,m;let k,M;if("message"in t)k=t.message,M=t.signature;else{let{chain:C,wallet:R,statement:D,options:_}=t,T;if(ct())if(typeof R=="object")T=R;else{let U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))T=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=R}let ne=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){let U=yield T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),D?{statement:D}:null)),J;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")J=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)J=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)k=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),M=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${ne.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(i=(o=_?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((d=_?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((p=(u=_?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||p===void 0)&&p.length?["Resources",..._.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);let U=yield T.signMessage(new TextEncoder().encode(k),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");M=U}}try{let{data:C,error:R}=yield q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:yr(M)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:rn});if(R)throw R;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new gr}:(C.session&&(yield this._saveSession(C.session),yield this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:R})}catch(C){if(H(C))return{data:{user:null,session:null},error:C};throw C}})}_exchangeCodeForSession(t){return g(this,null,function*(){let r=yield ao(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:a,error:s}=yield q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:rn});if(yield mr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new gr}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(H(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})}signInWithIdToken(t){return g(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:a,nonce:s}=t,c=yield q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:rn}),{data:l,error:d}=c;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new gr}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return g(this,null,function*(){var r,o,i,a,s;try{if("email"in t){let{email:c,options:l}=t,d=null,u=null;this.flowType==="pkce"&&([d,u]=yield ai(this.storage,this.storageKey));let{error:p}=yield q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){let{phone:c,options:l}=t,{data:d,error:u}=yield q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(s=l?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:u}}throw new ti("You must provide either an email or phone number.")}catch(c){if(H(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(t){return g(this,null,function*(){var r,o;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(o=t.options)===null||o===void 0?void 0:o.captchaToken);let{data:s,error:c}=yield q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:rn});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");let l=s.session,d=s.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(t){return g(this,null,function*(){var r,o,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=yield ai(this.storage,this.storageKey)),yield q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:q5})}catch(a){if(H(a))return{data:null,error:a};throw a}})}reauthenticate(){return g(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return g(this,null,function*(){try{return yield this._useSession(t=>g(this,null,function*(){let{data:{session:r},error:o}=t;if(o)throw o;if(!r)throw new _t;let{error:i}=yield q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(t){if(H(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return g(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:o,type:i,options:a}=t,{error:s}=yield q(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){let{phone:o,type:i,options:a}=t,{data:s,error:c}=yield q(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:c}}throw new ti("You must provide either an email or phone number and a type")}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return g(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return this._useSession(r=>g(this,null,function*(){return r}))}))})}_acquireLock(t,r){return g(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=g(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(g(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,t,()=>g(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(g(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return g(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return g(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield ao(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let o=t.expires_at?t.expires_at*1e3-Date.now()<Xu:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){let s=yield ao(this.userStorage,this.storageKey+"-user");s?.user?t.user=s.user:t.user=o1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){let s={value:this.suppressGetSessionWarning};t.user=z5(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:i,error:a}=yield this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return g(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return g(this,null,function*(){try{return t?yield q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Un}):yield this._useSession(r=>g(this,null,function*(){var o,i,a;let{data:s,error:c}=r;if(c)throw c;return!(!((o=s.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:yield q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Un})}))}catch(r){if(H(r))return I5(r)&&(yield this._removeSession(),yield mr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return g(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(o){return g(this,arguments,function*(t,r={}){try{return yield this._useSession(i=>g(this,null,function*(){let{data:a,error:s}=i;if(s)throw s;if(!a.session)throw new _t;let c=a.session,l=null,d=null;this.flowType==="pkce"&&t.email!=null&&([l,d]=yield ai(this.storage,this.storageKey));let{data:u,error:p}=yield q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:d}),jwt:c.access_token,xform:Un});if(p)throw p;return c.user=u.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(H(i))return{data:{user:null},error:i};throw i}})}setSession(t){return g(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return g(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new _t;let r=Date.now()/1e3,o=r,i=!0,a=null,{payload:s}=r1(t.access_token);if(s.exp&&(o=s.exp,i=o<=r),i){let{data:c,error:l}=yield this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};a=c}else{let{data:c,error:l}=yield this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(H(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return g(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var o;if(!t){let{data:s,error:c}=r;if(c)throw c;t=(o=s.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new _t;let{data:i,error:a}=yield this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return g(this,null,function*(){try{if(!ct())throw new ni("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ni(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Lc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ni("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Lc("No code detected.");let{data:D,error:_}=yield this._exchangeCodeForSession(t.code);if(_)throw _;let T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:D.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:c,expires_at:l,token_type:d}=t;if(!a||!c||!s||!d)throw new ni("No session defined in URL");let u=Math.round(Date.now()/1e3),p=parseInt(c),h=u+p;l&&(h=parseInt(l));let m=h-u;m*1e3<=ei&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);let k=h-p;u-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,h,u):u-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,h,u);let{data:M,error:C}=yield this._getUser(a);if(C)throw C;let R={provider_token:o,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:h,refresh_token:s,token_type:d,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:t.type},error:null}}catch(o){if(H(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return g(this,null,function*(){let r=yield ao(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return g(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return g(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>g(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return{error:a};let s=(o=i.session)===null||o===void 0?void 0:o.access_token;if(s){let{error:c}=yield this.admin.signOut(s,t);if(c&&!(x5(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(yield this._removeSession(),yield mr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=A5(),o={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),g(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(t){return g(this,null,function*(){return yield this._useSession(r=>g(this,null,function*(){var o,i;try{let{data:{session:a},error:s}=r;if(s)throw s;yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",a),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}}))})}resetPasswordForEmail(o){return g(this,arguments,function*(t,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=yield ai(this.storage,this.storageKey,!0));try{return yield q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(H(s))return{data:null,error:s};throw s}})}getUserIdentities(){return g(this,null,function*(){var t;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}})}linkIdentity(t){return g(this,null,function*(){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)})}linkIdentityOAuth(t){return g(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(a=>g(this,null,function*(){var s,c,l,d,u;let{data:p,error:h}=a;if(h)throw h;let m=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield q(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})}));if(i)throw i;return ct()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if(H(o))return{data:{provider:t.provider,url:null},error:o};throw o}})}linkIdentityIdToken(t){return g(this,null,function*(){return yield this._useSession(r=>g(this,null,function*(){var o;try{let{error:i,data:{session:a}}=r;if(i)throw i;let{options:s,provider:c,token:l,access_token:d,nonce:u}=t,p=yield q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=a?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:l,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:rn}),{data:h,error:m}=p;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new gr}:(h.session&&(yield this._saveSession(h.session),yield this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}))})}unlinkIdentity(t){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var o,i;let{data:a,error:s}=r;if(s)throw s;return yield q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(H(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return g(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield F5(i=>g(this,null,function*(){return i>0&&(yield N5(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rn})}),(i,a)=>{let s=200*Math.pow(2,i);return a&&Ju(a)&&Date.now()+s-o<ei})}catch(o){if(this._debug(r,"error",o),H(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return g(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),ct()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}})}_recoverAndRefresh(){return g(this,null,function*(){var t,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=yield ao(this.storage,this.storageKey);if(i&&this.userStorage){let s=yield ao(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},yield ii(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s?.user)!==null&&t!==void 0?t:o1()}else if(i&&!i.user&&!i.user){let s=yield ao(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,yield mr(this.storage,this.storageKey+"-user"),yield ii(this.storage,this.storageKey,i)):i.user=o1()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&(yield this._removeSession());return}let a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Xu;if(this._debug(o,`session has${a?"":" not"} expired with margin of ${Xu}s`),a){if(this.autoRefreshToken&&i.refresh_token){let{error:s}=yield this._callRefreshToken(i.refresh_token);s&&(console.error(s),Ju(s)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:s,error:c}=yield this._getUser(i.access_token);!c&&s?.user?(i.user=s.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(o,"error getting user data, skipping SIGNED_IN notification",s)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}})}_callRefreshToken(t){return g(this,null,function*(){var r,o;if(!t)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Oc;let{data:a,error:s}=yield this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new _t;yield this._saveSession(a.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);let c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),H(a)){let s={data:null,error:a};return Ju(a)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(t,r,o=!0){return g(this,null,function*(){let i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:r});let a=[],s=Array.from(this.stateChangeEmitters.values()).map(c=>g(this,null,function*(){try{yield c.callback(t,r)}catch(l){a.push(l)}}));if(yield Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}})}_saveSession(t){return g(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;let r=Object.assign({},t),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&(yield ii(this.userStorage,this.storageKey+"-user",{user:r.user}));let i=Object.assign({},r);delete i.user;let a=u2(i);yield ii(this.storage,this.storageKey,a)}else{let i=u2(r);yield ii(this.storage,this.storageKey,i)}})}_removeSession(){return g(this,null,function*(){this._debug("#_removeSession()"),yield mr(this.storage,this.storageKey),yield mr(this.storage,this.storageKey+"-code-verifier"),yield mr(this.storage,this.storageKey+"-user"),this.userStorage&&(yield mr(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ct()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return g(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),ei);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>g(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return g(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return g(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return g(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return g(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>g(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>g(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-t)/ei);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ei}ms, refresh threshold is ${Yu} ticks`),i<=Yu&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Ac)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return g(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ct()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>g(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return g(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>g(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,o){return g(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[a,s]=yield ai(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(c.toString())}if(o?.queryParams){let a=new URLSearchParams(o.queryParams);i.push(a.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${i.join("&")}`})}_unenroll(t){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var o;let{data:i,error:a}=r;return a?{data:null,error:a}:yield q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(H(r))return{data:null,error:r};throw r}})}_enroll(t){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var o,i;let{data:a,error:s}=r;if(s)return{data:null,error:s};let c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:d}=yield q(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(H(r))return{data:null,error:r};throw r}})}_verify(t){return g(this,null,function*(){return this._acquireLock(-1,()=>g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return{data:null,error:a};let s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?e3(t.webauthn.credential_response):t3(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:l}=yield q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:l})}))}catch(r){if(H(r))return{data:null,error:r};throw r}}))})}_challenge(t){return g(this,null,function*(){return this._acquireLock(-1,()=>g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return{data:null,error:a};let s=yield q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(s.error)return s;let{data:c}=s;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Q5(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:J5(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(H(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return g(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:t.factorId});return o?{data:null,error:o}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return g(this,null,function*(){var t;let{data:{user:r},error:o}=yield this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let a of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}})}_getAuthenticatorAssuranceLevel(){return g(this,null,function*(){var t,r;let{data:{session:o},error:i}=yield this.getSession();if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=r1(o.access_token),s=null;a.aal&&(s=a.aal);let c=s;((r=(t=o.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:d},error:null}})}_getAuthorizationDetails(t){return g(this,null,function*(){try{return yield this._useSession(r=>g(this,null,function*(){let{data:{session:o},error:i}=r;return i?{data:null,error:i}:o?yield q(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:o.access_token,xform:a=>({data:a,error:null})}):{data:null,error:new _t}}))}catch(r){if(H(r))return{data:null,error:r};throw r}})}_approveAuthorization(t,r){return g(this,null,function*(){try{return yield this._useSession(o=>g(this,null,function*(){let{data:{session:i},error:a}=o;if(a)return{data:null,error:a};if(!i)return{data:null,error:new _t};let s=yield q(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&ct()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s}))}catch(o){if(H(o))return{data:null,error:o};throw o}})}_denyAuthorization(t,r){return g(this,null,function*(){try{return yield this._useSession(o=>g(this,null,function*(){let{data:{session:i},error:a}=o;if(a)return{data:null,error:a};if(!i)return{data:null,error:new _t};let s=yield q(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&ct()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s}))}catch(o){if(H(o))return{data:null,error:o};throw o}})}fetchJwk(o){return g(this,arguments,function*(t,r={keys:[]}){let i=r.keys.find(l=>l.kid===t);if(i)return i;let a=Date.now();if(i=this.jwks.keys.find(l=>l.kid===t),i&&this.jwks_cached_at+_5>a)return i;let{data:s,error:c}=yield q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,i=s.keys.find(l=>l.kid===t),!i)?null:i})}getClaims(o){return g(this,arguments,function*(t,r={}){try{let i=t;if(!i){let{data:k,error:M}=yield this.getSession();if(M||!k.session)return{data:null,error:M};i=k.session.access_token}let{header:a,payload:s,signature:c,raw:{header:l,payload:d}}=r1(i);r?.allowExpired||V5(s.exp);let u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){let{error:k}=yield this.getUser(i);if(k)throw k;return{data:{claims:s,header:a,signature:c},error:null}}let p=H5(a.alg),h=yield crypto.subtle.importKey("jwk",u,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,h,c,P5(`${l}.${d}`))))throw new ri("Invalid JWT signature");return{data:{claims:s,header:a,signature:c},error:null}}catch(i){if(H(i))return{data:null,error:i};throw i}})}}return n.nextInstanceID=0,n})(),v2=FS;var jS=v2,M2=jS;var l1=class extends M2{constructor(e){super(e)}};var d1=class{constructor(e,t,r){var o,i,a;this.supabaseUrl=e,this.supabaseKey=t;let s=v5(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);let c=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:f5,realtime:y5,auth:Object.assign(Object.assign({},g5),{storageKey:c}),global:p5},d=k5(r??{},l);this.storageKey=(o=d.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(u,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=m5(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new X4(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Sc(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new yc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return g(this,null,function*(){var e,t;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:a,flowType:s,lock:c,debug:l},d,u){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l1({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:i,flowType:s,lock:c,debug:l,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new bc(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var r3=(n,e,t)=>new d1(n,e,t);function VS(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}VS()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var ui={production:!0,enableAuth:!0,supabaseUrl:"https://zrkzkteruybaujoekdan.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpya3prdGVydXliYXVqb2VrZGFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxODAzNTUsImV4cCI6MjA3Nzc1NjM1NX0._UT310p01cnP0oH0OsEdaE06XuzhlzEC1UWJruld_N8"};var Ot=(()=>{let e=class e{constructor(){this.supabase=r3(ui.supabaseUrl,ui.supabaseKey,{auth:{lock:(r,o,i)=>this.safeLock(r,i)}})}safeLock(r,o,i=5,a=50){return g(this,null,function*(){for(let s=0;s<=i;s++){try{let c=yield navigator.locks.request(r,{ifAvailable:!0},o);if(c!==void 0)return c}catch{}yield new Promise(c=>setTimeout(c,a))}return navigator.locks.request(r,o)})}getClient(){return this.supabase}signInWithEmail(r){return g(this,null,function*(){return yield this.supabase.auth.signInWithPassword({email:r.email,password:r.password})})}signUpWithEmail(r){return g(this,null,function*(){let o=document.querySelector("base")?.href||window.location.origin;return yield this.supabase.auth.signUp({email:r.email,password:r.password,options:{emailRedirectTo:o,data:{displayName:r.name}}})})}getUser(){return g(this,null,function*(){return yield this.supabase.auth.getUser()})}signOut(){return g(this,null,function*(){yield this.supabase.auth.signOut(),sessionStorage.removeItem("releaseflowUser")})}resetPasswordForEmail(r){return g(this,null,function*(){try{let o=document.querySelector("base")?.href||window.location.origin,{error:i}=yield this.supabase.auth.resetPasswordForEmail(r,{redirectTo:o+"update-password"});if(i)throw i}catch(o){throw new Error(o.message||"Erreur lors de l\u2019envoi du mail de r\xE9initialisation.")}})}exchangeCodeForSession(r){return g(this,null,function*(){if(!r.includes("access_token"))throw new Error("Token manquant");let o=yield this.supabase.auth.exchangeCodeForSession(r);if(o.error)throw new Error(o.error.message);return o})}updatePassword(r){return g(this,null,function*(){let o=yield this.supabase.auth.updateUser({password:r});if(o.error)throw new Error(o.error.message);return o})}getSession(){return g(this,null,function*(){return this.supabase.auth.getSession()})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var so=(()=>{let e=class e{constructor(r){this.supabase=r,this.eventsSubject=new Ze([]),this.events$=this.eventsSubject.asObservable(),this.loadEvents()}loadEvents(){return g(this,null,function*(){let{data:r,error:o}=yield this.supabase.getClient().from("events").select("*").order("event_date",{ascending:!0});if(o){console.error("Error loading events:",o);return}this.eventsSubject.next(r||[])})}createEvent(r){return g(this,null,function*(){let{data:o,error:i}=yield this.supabase.getClient().from("events").insert([r]).select().single();return i?(console.error("Error creating event:",i),null):(yield this.loadEvents(),o)})}updateEvent(r,o){return g(this,null,function*(){let{error:i}=yield this.supabase.getClient().from("events").update($(I({},o),{updated_at:new Date().toISOString()})).eq("id",r);return i?(console.error("Error updating event:",i),!1):(yield this.loadEvents(),!0)})}deleteEvent(r){return g(this,null,function*(){let{error:o}=yield this.supabase.getClient().from("events").delete().eq("id",r);return o?(console.error("Error deleting event:",o),!1):(yield this.loadEvents(),!0)})}getEventsByDateRange(r,o){return this.eventsSubject.value.filter(a=>{let s=new Date(a.event_date);return s>=r&&s<=o})}getEventsByDate(r){return this.eventsSubject.value.filter(o=>o.event_date===r)}};e.\u0275fac=function(o){return new(o||e)(z(Ot))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function HS(n,e){if(n&1){let t=le();f(0,"button",18),x("click",function(){E(t);let o=S();return L(o.openAddEventModal())}),X(1,"lucide-icon",19),v(2," Ajouter "),y()}}function zS(n,e){n&1&&(f(0,"span",31),v(1,"Pass\xE9"),y())}function BS(n,e){if(n&1){let t=le();f(0,"div",30)(1,"button",32),x("click",function(){E(t);let o=S().$implicit,i=S();return L(i.openEditEventModal(o))}),X(2,"lucide-icon",33),y(),f(3,"button",34),x("click",function(){E(t);let o=S().$implicit,i=S();return L(i.deleteEvent(o.id))}),X(4,"lucide-icon",35),y()()}}function qS(n,e){if(n&1&&(f(0,"div",20)(1,"div",21)(2,"div",22),X(3,"lucide-icon",23),y(),f(4,"div",24)(5,"div",25)(6,"span",26),v(7),y(),ae(8,zS,2,0,"span",27),y(),f(9,"div",28),v(10),y(),f(11,"div",29),v(12),y()()(),Br(13,BS,5,0,"div",30),y()),n&2){let t=e.$implicit,r=S();Oe("past-event",r.isPastEvent(t.event_date)),w(2),Oe("badge-livraison",t.event_type==="livraison")("badge-mep",t.event_type==="mep"),w(),O("name",t.event_type==="livraison"?"package":"rocket"),w(4),Q(t.title),w(),O("ngIf",r.isPastEvent(t.event_date)),w(2),ue(" ",r.formatDate(t.event_date)," "),w(2),ue(" ",t.description," "),w(),qr(r.readonly?-1:13)}}function US(n,e){if(n&1){let t=le();f(0,"button",51),x("click",function(){E(t);let o=S(2);return L(o.confirmDelete())}),v(1,"Supprimer"),y()}}function $S(n,e){if(n&1){let t=le();f(0,"div",36),x("click",function(){E(t);let o=S();return L(o.closeModal())}),f(1,"div",37),x("click",function(o){return E(t),L(o.stopPropagation())}),f(2,"div",38)(3,"h3"),v(4),y(),f(5,"button",39),x("click",function(){E(t);let o=S();return L(o.closeModal())}),v(6,"\xD7"),y()(),f(7,"div",40)(8,"div",41)(9,"label"),v(10,"Type"),y(),f(11,"select",42),me("ngModelChange",function(o){E(t);let i=S();return ve(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),L(o)}),x("ngModelChange",function(){E(t);let o=S();return L(o.updateModalTitle())}),f(12,"option",43),v(13,"Livraison (LV)"),y(),f(14,"option",44),v(15,"Mise en Production (MEP)"),y()()(),f(16,"div",41)(17,"label"),v(18,"Version"),y(),f(19,"input",45),me("ngModelChange",function(o){E(t);let i=S();return ve(i.modalEvent.version,o)||(i.modalEvent.version=o),L(o)}),x("ngModelChange",function(){E(t);let o=S();return L(o.updateModalTitle())}),y()(),f(20,"div",41)(21,"label"),v(22,"Date"),y(),f(23,"input",46),me("ngModelChange",function(o){E(t);let i=S();return ve(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),L(o)}),y()(),f(24,"div",41)(25,"label"),v(26,"Description"),y(),f(27,"textarea",47),me("ngModelChange",function(o){E(t);let i=S();return ve(i.modalEvent.description,o)||(i.modalEvent.description=o),L(o)}),y()()(),f(28,"div",48),ae(29,US,2,0,"button",49),f(30,"button",50),x("click",function(){E(t);let o=S();return L(o.closeModal())}),v(31,"Annuler"),y(),f(32,"button",18),x("click",function(){E(t);let o=S();return L(o.saveEvent())}),v(33),y()()()()}if(n&2){let t=S();w(4),Q(t.isEditMode?"Modifier":"Nouvel \xE9v\xE9nement"),w(7),ye("ngModel",t.modalEvent.event_type),w(8),ye("ngModel",t.modalEvent.version),w(4),ye("ngModel",t.modalEvent.event_date),w(4),ye("ngModel",t.modalEvent.description),w(2),O("ngIf",t.isEditMode),w(4),Q(t.isEditMode?"Sauvegarder":"Cr\xE9er")}}var h1=(()=>{let e=class e{constructor(r){this.eventService=r,this.events=[],this.filteredEvents=[],this.searchText="",this.showPastEvents=!1,this.showModal=!1,this.isEditMode=!1,this.readonly=!1,this.modalEvent={},this.modalEventId=null}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.filterEvents()})}filterEvents(){let r=this.events;if(!this.showPastEvents){let o=new Date;o.setHours(0,0,0,0),r=r.filter(i=>new Date(i.event_date)>=o)}if(this.searchText){let o=this.searchText.toLowerCase();r=r.filter(i=>i.title.toLowerCase().includes(o)||i.version.toLowerCase().includes(o)||i.description.toLowerCase().includes(o))}this.filteredEvents=r.sort((o,i)=>new Date(o.event_date).getTime()-new Date(i.event_date).getTime())}isPastEvent(r){let o=new Date(r),i=new Date;return i.setHours(0,0,0,0),o<i}openAddEventModal(){this.isEditMode=!1,this.modalEventId=null,this.modalEvent={event_type:"livraison",version:"",event_date:new Date().toISOString().split("T")[0],description:"",title:""},this.showModal=!0}openEditEventModal(r){this.isEditMode=!0,this.modalEventId=r.id,this.modalEvent=I({},r),this.showModal=!0}closeModal(){this.showModal=!1,this.modalEvent={},this.modalEventId=null}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return g(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode&&this.modalEventId?yield this.eventService.updateEvent(this.modalEventId,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}confirmDelete(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&this.deleteEvent(this.modalEventId)}deleteEvent(r){return g(this,null,function*(){yield this.eventService.deleteEvent(r),this.closeModal()})}formatDate(r){return new Date(r).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}};e.\u0275fac=function(o){return new(o||e)(j(so))},e.\u0275cmp=de({type:e,selectors:[["app-event-list"]],inputs:{readonly:"readonly"},decls:22,vars:6,consts:[[1,"event-list-container"],[1,"header"],["name","calendar","size","22"],[1,"btn-primary"],[1,"filters-section"],[1,"search-box"],["name","search","size","18",1,"search-icon"],["type","text","placeholder","Rechercher...","lucide-icon","",3,"ngModelChange","ngModel"],[1,"toggle-row"],[1,"toggle-label"],["name","lucide-history","size","18"],[1,"toggle-material"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"slider"],[1,"events-info"],[1,"badge","coming"],["class","event-card",3,"past-event",4,"ngFor","ngForOf"],["class","modal",3,"click",4,"ngIf"],[1,"btn-primary",3,"click"],["name","plus","size","16"],[1,"event-card"],[1,"left"],[1,"type-badge"],["size","22",3,"name"],[1,"info"],[1,"row-1"],[1,"title"],["class","badge past",4,"ngIf"],[1,"row-2","date"],[1,"row-3","desc"],[1,"actions-cell"],[1,"badge","past"],["title","Modifier",1,"icon-btn","edit-btn",3,"click"],["name","pen-line","size","20"],["title","Supprimer",1,"icon-btn","delete-btn",3,"click"],["name","trash-2","size","20"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","3",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(f(0,"div",0)(1,"div",1)(2,"h2"),X(3,"lucide-icon",2),v(4," \xC9v\xE9nements"),y(),Br(5,HS,3,0,"button",3),y(),f(6,"div",4)(7,"div",5),X(8,"lucide-icon",6),f(9,"input",7),me("ngModelChange",function(s){return ve(i.searchText,s)||(i.searchText=s),s}),x("ngModelChange",function(){return i.filterEvents()}),y()(),f(10,"label",8)(11,"span",9),X(12,"lucide-icon",10),v(13," \xC9v\xE9nements pass\xE9s"),y(),f(14,"div",11)(15,"input",12),me("ngModelChange",function(s){return ve(i.showPastEvents,s)||(i.showPastEvents=s),s}),x("change",function(){return i.filterEvents()}),y(),X(16,"span",13),y()()(),f(17,"div",14)(18,"span",15),v(19),y()(),ae(20,qS,14,12,"div",16)(21,$S,34,7,"div",17),y()),o&2&&(w(5),qr(i.readonly?-1:5),w(4),ye("ngModel",i.searchText),w(6),ye("ngModel",i.showPastEvents),w(4),ue("",i.filteredEvents.length," \xE9v\xE9nements"),w(),O("ngForOf",i.filteredEvents),w(),O("ngIf",i.showModal))},dependencies:[Ie,Lt,Qe,gt,ka,va,rt,Lf,to,ft,st,Te,Ne],styles:['.badge.coming[_ngcontent-%COMP%]{background:#e8f0ff;color:#5083e6}.toggle-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;cursor:pointer}.toggle-row[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:14px;color:#333;-webkit-user-select:none;user-select:none}.toggle-material[_ngcontent-%COMP%]{position:relative;width:46px;height:24px;display:inline-block}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-material[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000208;border-radius:24px;transition:.25s}.toggle-material[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{content:"";position:absolute;width:18px;height:18px;left:3px;bottom:3px;background:#fff;border-radius:50%;transition:.25s;box-shadow:0 2px 4px #00000040}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background:#3d6df2}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.event-list-container[_ngcontent-%COMP%]{padding:1.5rem;height:100%;display:flex;flex-direction:column;background:#fff;border-right:1px solid #e2e8f0;overflow:hidden}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;gap:.5rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a1a1a;margin:0}.btn-primary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#2563eb;color:#fff;padding:.5rem .75rem;border:none;border-radius:4px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.filters-section[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-direction:column;gap:.75rem}.search-box[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{position:absolute;left:.5rem;color:#6b7280;pointer-events:none}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.4rem .4rem .4rem 2rem;border:1px solid #dee2e6;border-radius:4px;font-size:.8rem}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}.filter-toggle[_ngcontent-%COMP%]{display:flex;align-items:center}.filter-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-size:.8rem;color:#495057;cursor:pointer}.filter-toggle[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{cursor:pointer}.events-info[_ngcontent-%COMP%]{padding:.25rem 0;font-size:.75rem;color:#6b7280;margin-bottom:.5rem}.info-text[_ngcontent-%COMP%]{font-weight:500}.events-table[_ngcontent-%COMP%]{flex:1;overflow-y:auto;border:1px solid #e9ecef;border-radius:4px;margin-bottom:.5rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.75rem}thead[_ngcontent-%COMP%]{background:#f8f9fa;position:sticky;top:0;z-index:10}th[_ngcontent-%COMP%]{text-align:left;padding:.5rem;font-weight:600;color:#495057;border-bottom:1px solid #dee2e6}td[_ngcontent-%COMP%]{padding:.5rem;border-bottom:1px solid #e9ecef;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}tr.past-event[_ngcontent-%COMP%]{opacity:.6}.type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.25rem;padding:.2rem .4rem;border-radius:3px;font-size:.65rem;font-weight:600}.badge-livraison[_ngcontent-%COMP%]{background:#dcfce7;color:#15803d}.badge-mep[_ngcontent-%COMP%]{background:#f3e8ff;color:#7e22ce}.title-cell[_ngcontent-%COMP%], .version-cell[_ngcontent-%COMP%]{font-weight:500}.description-cell[_ngcontent-%COMP%]{color:#6b7280}.actions-cell[_ngcontent-%COMP%]{display:flex;gap:.25rem;justify-content:center}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;padding:.25rem;cursor:pointer;transition:all .2s;border-radius:3px;display:flex;align-items:center;justify-content:center;color:#495057}.icon-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9}.edit-btn[_ngcontent-%COMP%]:hover{color:#f59e0b}.delete-btn[_ngcontent-%COMP%]{color:#ef4444}.delete-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#ef4444}.empty-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:150px;color:#6b7280;font-size:.8rem}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:450px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.75rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:28px;height:28px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.25rem}.form-group[_ngcontent-%COMP%]{margin-bottom:.875rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.8rem;font-weight:500;color:#495057;margin-bottom:.375rem}input[type=text][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.4rem;border:1px solid #dee2e6;border-radius:4px;font-size:.8rem;font-family:inherit;box-sizing:border-box}input[type=text][_ngcontent-%COMP%]:focus, input[type=date][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.25rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.4rem .8rem;border:none;border-radius:4px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}.event-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:14px 18px;border:1px solid #eee;border-radius:10px;margin-bottom:8px;background:#fff;transition:transform .12s ease,box-shadow .12s ease,background-color .12s ease;font-size:18px}.event-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 14px #00000014;background-color:#fafafa;cursor:pointer}.event-card.past-event[_ngcontent-%COMP%]{opacity:.7}.left[_ngcontent-%COMP%]{display:flex;gap:14px;align-items:flex-start}.icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;background:#e9f7ef;display:flex;justify-content:center;align-items:center}.info[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.title[_ngcontent-%COMP%]{font-weight:600}.badge[_ngcontent-%COMP%]{padding:2px 8px;border-radius:8px;font-size:12px}.badge.past[_ngcontent-%COMP%]{background:#efefef;color:#666}.date[_ngcontent-%COMP%]{font-size:15px;color:#666;margin-top:2px}.desc[_ngcontent-%COMP%]{margin-top:6px;font-size:15px;color:#444}body.dark-mode[_nghost-%COMP%]   .event-list-container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-list-container[_ngcontent-%COMP%]{background:#1e293b;border-right-color:#334155}body.dark-mode[_nghost-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .toggle-row[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .toggle-row[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .event-card[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-card[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}body.dark-mode[_nghost-%COMP%]   .event-card[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .event-card[_ngcontent-%COMP%]:hover{background-color:#334155}body.dark-mode[_nghost-%COMP%]   .title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .date[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .desc[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .desc[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .badge.past[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .badge.past[_ngcontent-%COMP%]{background:#334155;color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   label[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   input[type=text][_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[type=text][_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, body.dark-mode   [_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1)}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top-color:#334155}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#475569}']});let n=e;return n})();function WS(n,e){if(n&1){let t=le();f(0,"div",12),x("click",function(){let o=E(t).$implicit,i=S(2);return L(i.emitOpenEvent(o))}),f(1,"div",13)(2,"div",14),X(3,"lucide-icon",15),y(),f(4,"div",16)(5,"div",17),v(6),y(),f(7,"div",18),v(8),y()()(),f(9,"div",19)(10,"button",20),x("click",function(o){let i=E(t).$implicit,a=S(2);return o.stopPropagation(),L(a.emitOpenEvent(i))}),X(11,"lucide-icon",21),y()()()}if(n&2){let t=e.$implicit;w(2),Oe("badge-livraison",t.event_type==="livraison")("badge-mep",t.event_type==="mep"),w(),O("name",t.event_type==="livraison"?"package":"rocket"),w(3),Q(t.title),w(2),Q(t.description)}}function GS(n,e){if(n&1&&(f(0,"div"),ae(1,WS,12,7,"div",11),y()),n&2){let t=S();w(),O("ngForOf",t.events)}}function ZS(n,e){n&1&&(f(0,"div",22),v(1,"Aucun \xE9v\xE9nement pour ce jour."),y())}var p1=(()=>{let e=class e{constructor(){this.events=[],this.dateStr=null,this.readonly=!1,this.close=new be,this.openEvent=new be,this.add=new be}get formattedDate(){return this.dateStr?new Date(this.dateStr).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):""}onClose(){this.close.emit()}emitOpenEvent(r){this.openEvent.emit(r)}onAdd(){setTimeout(()=>this.add.emit(this.dateStr),0)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=de({type:e,selectors:[["app-day-events-modal"]],inputs:{events:"events",dateStr:"dateStr",readonly:"readonly"},outputs:{close:"close",openEvent:"openEvent",add:"add"},decls:17,vars:3,consts:[["noEvents",""],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[4,"ngIf","ngIfElse"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],["name","plus","size","14"],["class","day-event-row",3,"click",4,"ngFor","ngForOf"],[1,"day-event-row",3,"click"],[1,"left"],[1,"type-badge"],["size","18",3,"name"],[1,"info"],[1,"title"],[1,"desc"],[1,"actions"],["title","Modifier",1,"icon-btn",3,"click"],["name","pen-line","size","16"],[1,"empty-state"]],template:function(o,i){if(o&1){let a=le();f(0,"div",1),x("click",function(){return E(a),L(i.onClose())}),f(1,"div",2),x("click",function(c){return E(a),L(c.stopPropagation())}),f(2,"div",3)(3,"h3"),v(4),y(),f(5,"button",4),x("click",function(){return E(a),L(i.onClose())}),v(6,"\xD7"),y()(),f(7,"div",5),ae(8,GS,2,1,"div",6)(9,ZS,2,0,"ng-template",null,0,Ip),y(),f(11,"div",7)(12,"button",8),x("click",function(){return E(a),L(i.onClose())}),v(13,"Fermer"),y(),f(14,"button",9),x("click",function(){return E(a),L(i.onAdd())}),X(15,"lucide-icon",10),v(16," Ajouter "),y()()()()}if(o&2){let a=xp(10);w(4),Q(i.formattedDate),w(4),O("ngIf",i.events&&i.events.length)("ngIfElse",a)}},dependencies:[Ie,Lt,Qe,Te,Ne],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:520px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:1rem;max-height:60vh;overflow:auto}.day-event-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;padding:.75rem;border-bottom:1px solid #f1f5f9;cursor:pointer;align-items:flex-start}.left[_ngcontent-%COMP%]{display:flex;gap:12px}.type-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:8px}.badge-livraison[_ngcontent-%COMP%]{background:#dcfce7;color:#15803d}.badge-mep[_ngcontent-%COMP%]{background:#f3e8ff;color:#7e22ce}.info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600}.info[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280}.info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{margin-top:6px;color:#495057;font-size:.9rem}.actions[_ngcontent-%COMP%]{display:flex;gap:8px}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:6px;border-radius:6px}.empty-state[_ngcontent-%COMP%]{padding:1rem;color:#6b7280}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem;border-top:1px solid #e9ecef}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none;padding:.5rem .75rem;border-radius:6px}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057;border:none;padding:.5rem .75rem;border-radius:6px}body.dark-mode[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .day-event-row[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .day-event-row[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .day-event-row[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .day-event-row[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top-color:#334155}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#475569}body.dark-mode[_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, body.dark-mode   [_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1)}"]});let n=e;return n})();function KS(n,e){if(n&1){let t=le();f(0,"div",6),x("click",function(){E(t);let o=S();return L(o.toggleSidebar())}),y()}}var f1=(()=>{let e=class e{constructor(){this.isOpen=!1,this.toggleEvent=new be,this.isMobile=window.innerWidth<1024,window.addEventListener("resize",()=>{this.isMobile=window.innerWidth<1024})}toggleSidebar(){this.toggleEvent.emit()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=de({type:e,selectors:[["app-sidebar-panel"]],inputs:{isOpen:"isOpen"},outputs:{toggleEvent:"toggleEvent"},decls:6,vars:5,consts:[[1,"sidebar-wrapper"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"sidebar-content"],[3,"readonly"],["data-tour","sidebar-toggle-tour",1,"sidebar-toggle",3,"click"],["size","20",3,"name"],[1,"sidebar-overlay",3,"click"]],template:function(o,i){o&1&&(f(0,"div",0),ae(1,KS,1,0,"div",1),f(2,"div",2),X(3,"app-event-list",3),y(),f(4,"button",4),x("click",function(){return i.toggleSidebar()}),X(5,"lucide-icon",5),y()()),o&2&&(Oe("open",i.isOpen),w(),O("ngIf",i.isOpen&&i.isMobile),w(2),O("readonly",!0),w(2),O("name",i.isOpen?"panel-left-close":"panel-left-open"))},dependencies:[Ie,Qe,h1,Te,Ne],styles:[".sidebar-wrapper[_ngcontent-%COMP%]{position:relative;height:100%;display:flex}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:99}.sidebar-content[_ngcontent-%COMP%]{width:350px;height:100%;background:#fff;border-right:1px solid #e2e8f0;overflow-y:auto;z-index:100;transition:transform .3s ease;transform:translate(0)}.sidebar-wrapper[_ngcontent-%COMP%]:not(.open)   .sidebar-content[_ngcontent-%COMP%]{position:absolute;transform:translate(-100%)}.sidebar-toggle[_ngcontent-%COMP%]{position:fixed;top:1.25rem;left:1rem;width:44px;height:44px;background:#2563eb;color:#fff;border:none;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:101;box-shadow:0 4px 12px #2563eb4d;transition:all .3s}.sidebar-toggle[_ngcontent-%COMP%]:hover{background:#1d4ed8;box-shadow:0 6px 16px #2563eb66}@media (max-width: 1024px){.sidebar-wrapper[_ngcontent-%COMP%]{position:fixed;top:80px;left:0;width:100%;height:calc(100vh - 80px);z-index:50;pointer-events:none}.sidebar-content[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%], .sidebar-toggle[_ngcontent-%COMP%]{pointer-events:auto}.sidebar-content[_ngcontent-%COMP%]{position:absolute}}@media (max-width: 768px){.sidebar-content[_ngcontent-%COMP%]{width:280px}}"]});let n=e;return n})();function YS(n,e){if(n&1&&(f(0,"div",10),v(1),y()),n&2){let t=e.$implicit;w(),Q(t)}}function XS(n,e){if(n&1){let t=le();f(0,"div",16),x("click",function(o){let i=E(t).$implicit,a=S().$implicit,s=S();return o.stopPropagation(),L(s.openEventModal(i,a.date))}),X(1,"lucide-icon",17),v(2),y()}if(n&2){let t=e.$implicit;Oe("event-livraison",t.event_type==="livraison")("event-mep",t.event_type==="mep"),w(),O("name",t.event_type==="livraison"?"package":"rocket"),w(),ue(" ",t.title.substring(0,10)," ")}}function QS(n,e){if(n&1){let t=le();f(0,"div",11),x("click",function(){let o=E(t).$implicit,i=S();return L(i.onDayClick(o))}),f(1,"div",12),v(2),y(),f(3,"div",13),ae(4,XS,3,6,"div",14),f(5,"button",15),x("click",function(o){let i=E(t).$implicit,a=S();return o.stopPropagation(),L(a.openAddEventModal(i.date))}),v(6,"+"),y()()()}if(n&2){let t=e.$implicit;Oe("other-month",!t.isCurrentMonth)("today",t.isToday),w(2),Q(t.dayNumber),w(2),O("ngForOf",t.events)}}function JS(n,e){if(n&1){let t=le();f(0,"app-day-events-modal",18),x("close",function(){E(t);let o=S();return L(o.showDayEventsModal=!1)})("openEvent",function(o){E(t);let i=S();return L(i.openEventModal(o,i.selectedDayDateStr))})("add",function(o){E(t);let i=S();return L(i.onDayModalAdd(o))}),y()}if(n&2){let t=S();O("events",t.selectedDayEvents)("dateStr",t.selectedDayDateStr)}}function e9(n,e){if(n&1){let t=le();f(0,"button",35),x("click",function(){E(t);let o=S(2);return L(o.deleteEvent())}),v(1,"Supprimer"),y()}}function t9(n,e){if(n&1){let t=le();f(0,"div",19),x("click",function(){E(t);let o=S();return L(o.closeModal())}),f(1,"div",20),x("click",function(o){return E(t),L(o.stopPropagation())}),f(2,"div",21)(3,"h3"),v(4),y(),f(5,"button",22),x("click",function(){E(t);let o=S();return L(o.closeModal())}),v(6,"\xD7"),y()(),f(7,"div",23)(8,"div",24)(9,"label"),v(10,"Type"),y(),f(11,"select",25),me("ngModelChange",function(o){E(t);let i=S();return ve(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),L(o)}),x("ngModelChange",function(){E(t);let o=S();return L(o.updateModalTitle())}),f(12,"option",26),v(13,"Livraison (LV)"),y(),f(14,"option",27),v(15,"Mise en Production (MEP)"),y()()(),f(16,"div",24)(17,"label"),v(18,"Version"),y(),f(19,"input",28),me("ngModelChange",function(o){E(t);let i=S();return ve(i.modalEvent.version,o)||(i.modalEvent.version=o),L(o)}),x("ngModelChange",function(){E(t);let o=S();return L(o.updateModalTitle())}),y()(),f(20,"div",24)(21,"label"),v(22,"Date"),y(),f(23,"input",29),me("ngModelChange",function(o){E(t);let i=S();return ve(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),L(o)}),y()(),f(24,"div",24)(25,"label"),v(26,"Description"),y(),f(27,"textarea",30),me("ngModelChange",function(o){E(t);let i=S();return ve(i.modalEvent.description,o)||(i.modalEvent.description=o),L(o)}),y()()(),f(28,"div",31),ae(29,e9,2,0,"button",32),f(30,"button",33),x("click",function(){E(t);let o=S();return L(o.closeModal())}),v(31,"Annuler"),y(),f(32,"button",34),x("click",function(){E(t);let o=S();return L(o.saveEvent())}),v(33),y()()()()}if(n&2){let t=S();w(4),Q(t.isEditMode?"Modifier l'\xE9v\xE9nement":"Nouvel \xE9v\xE9nement"),w(7),ye("ngModel",t.modalEvent.event_type),w(8),ye("ngModel",t.modalEvent.version),w(4),ye("ngModel",t.modalEvent.event_date),w(4),ye("ngModel",t.modalEvent.description),w(2),O("ngIf",t.isEditMode),w(4),Q(t.isEditMode?"Sauvegarder":"Cr\xE9er")}}var i3=(()=>{let e=class e{constructor(r){this.eventService=r,this.currentDate=new Date,this.calendarDays=[],this.weekDays=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],this.events=[],this.sidebarOpen=!1,this.showModal=!1,this.isEditMode=!1,this.modalEvent={},this.showDayEventsModal=!1,this.selectedDayEvents=[],this.selectedDayDateStr=null}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.generateCalendar()})}generateCalendar(){let r=this.currentDate.getFullYear(),o=this.currentDate.getMonth(),i=new Date(r,o,1),a=new Date(r,o+1,0),s=i.getDay();s=s===0?6:s-1;let c=new Date(r,o,0).getDate();this.calendarDays=[];for(let d=s-1;d>=0;d--){let u=new Date(r,o-1,c-d);this.calendarDays.push({dayNumber:c-d,date:this.formatDateToString(u),isCurrentMonth:!1,isToday:!1,events:[]})}for(let d=1;d<=a.getDate();d++){let u=new Date(r,o,d),p=this.formatDateToString(u),h=this.eventService.getEventsByDate(p);this.calendarDays.push({dayNumber:d,date:p,isCurrentMonth:!0,isToday:this.isToday(u),events:h})}let l=42-this.calendarDays.length;for(let d=1;d<=l;d++){let u=new Date(r,o+1,d);this.calendarDays.push({dayNumber:d,date:this.formatDateToString(u),isCurrentMonth:!1,isToday:!1,events:[]})}}formatDateToString(r){let o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0");return`${o}-${i}-${a}`}isToday(r){let o=new Date;return r.getDate()===o.getDate()&&r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()}getMonthYear(){return this.currentDate.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}previousMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1),this.generateCalendar()}nextMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1),this.generateCalendar()}openAddEventModal(r){this.isEditMode=!1,this.modalEvent={event_type:"livraison",version:"",event_date:r??"",description:"",title:""},this.showModal=!0}openEventModal(r,o){this.showDayEventsModal=!1,this.isEditMode=!0,this.modalEvent=I({},r),this.showModal=!0}onDayClick(r){r&&r.events&&r.events.length>0?(this.selectedDayEvents=r.events,this.selectedDayDateStr=r.date,this.showDayEventsModal=!0):r&&r.date&&this.openAddEventModal(r.date)}onDayModalAdd(r){this.showDayEventsModal=!1,setTimeout(()=>this.openAddEventModal(r),0)}closeModal(){this.showModal=!1,this.modalEvent={}}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return g(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode?yield this.eventService.updateEvent(this.modalEvent.id,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}deleteEvent(){return g(this,null,function*(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&(yield this.eventService.deleteEvent(this.modalEvent.id),this.closeModal())})}};e.\u0275fac=function(o){return new(o||e)(j(so))},e.\u0275cmp=de({type:e,selectors:[["app-calendar-view"]],decls:15,vars:6,consts:[[1,"calendar-wrapper"],[3,"toggleEvent","isOpen"],[1,"calendar-container"],[1,"calendar-header"],[1,"nav-btn",3,"click"],[1,"calendar-grid"],["class","day-header",4,"ngFor","ngForOf"],["class","calendar-day",3,"other-month","today","click",4,"ngFor","ngForOf"],[3,"events","dateStr","close","openEvent","add",4,"ngIf"],["class","modal",3,"click",4,"ngIf"],[1,"day-header"],[1,"calendar-day",3,"click"],[1,"day-number"],[1,"day-events"],["class","event-item",3,"event-livraison","event-mep","click",4,"ngFor","ngForOf"],[1,"add-event-btn",3,"click"],[1,"event-item",3,"click"],["size","12",3,"name"],[3,"close","openEvent","add","events","dateStr"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","4",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(f(0,"div",0)(1,"app-sidebar-panel",1),x("toggleEvent",function(){return i.sidebarOpen=!i.sidebarOpen}),y(),f(2,"div",2)(3,"div",3)(4,"button",4),x("click",function(){return i.previousMonth()}),v(5,"\u2039"),y(),f(6,"h2"),v(7),y(),f(8,"button",4),x("click",function(){return i.nextMonth()}),v(9,"\u203A"),y()(),f(10,"div",5),ae(11,YS,2,1,"div",6)(12,QS,7,6,"div",7),y(),ae(13,JS,1,2,"app-day-events-modal",8)(14,t9,34,7,"div",9),y()()),o&2&&(w(),O("isOpen",i.sidebarOpen),w(6),Q(i.getMonthYear()),w(4),O("ngForOf",i.weekDays),w(),O("ngForOf",i.calendarDays),w(),O("ngIf",i.showDayEventsModal),w(),O("ngIf",i.showModal))},dependencies:[Ie,Lt,Qe,gt,ka,va,rt,to,ft,st,Te,Ne,f1,p1],styles:[".calendar-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 80px)}.calendar-container[_ngcontent-%COMP%]{flex:1;padding:2rem;overflow-y:auto}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#1a1a1a;margin:0}.nav-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:6px;width:40px;height:40px;font-size:1.5rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#2563eb}.calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;background:#dee2e6;border:1px solid #dee2e6;border-radius:8px;overflow:hidden}.day-header[_ngcontent-%COMP%]{background:#2563eb;padding:1rem;text-align:center;font-weight:600;font-size:.875rem;color:#fff}.calendar-day[_ngcontent-%COMP%]{background:#fff;min-height:120px;padding:.5rem;position:relative;transition:background-color .2s}.calendar-day[_ngcontent-%COMP%]:hover{background:#f8f9fa}.calendar-day.other-month[_ngcontent-%COMP%]{background:#f8f9fa;opacity:.5}.calendar-day.today[_ngcontent-%COMP%]{background:#eff6ff}.day-number[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:#1a1a1a;margin-bottom:.5rem}.day-events[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.event-item[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:500;cursor:pointer;transition:all .2s;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.event-item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.event-item.event-mep[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.add-event-btn[_ngcontent-%COMP%]{background:transparent;border:1px dashed #dee2e6;border-radius:4px;padding:.25rem;font-size:1rem;color:#6b7280;cursor:pointer;margin-top:.25rem;transition:all .2s}.add-event-btn[_ngcontent-%COMP%]:hover{border-color:#2563eb;color:#2563eb;background:#eff6ff}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:32px;height:32px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#495057;margin-bottom:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;font-family:inherit;box-sizing:border-box}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.5rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}body.dark-mode[_nghost-%COMP%]   .calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover{background:#334155;border-color:#60a5fa;color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .calendar-grid[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{background:#334155;border-color:#334155}body.dark-mode[_nghost-%COMP%]   .day-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .day-header[_ngcontent-%COMP%]{background:#1e40af;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%]{background:#1e293b}body.dark-mode[_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .calendar-day.other-month[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-day.other-month[_ngcontent-%COMP%]{background:#0f172a;opacity:.7}body.dark-mode[_nghost-%COMP%]   .calendar-day.today[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-day.today[_ngcontent-%COMP%]{background:#1e3a8a}body.dark-mode[_nghost-%COMP%]   .day-number[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .day-number[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .event-item[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-item[_ngcontent-%COMP%]{background:#1e3a8a;color:#93c5fd}body.dark-mode[_nghost-%COMP%]   .event-item.event-mep[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-item.event-mep[_ngcontent-%COMP%]{background:#14532d;color:#86efac}body.dark-mode[_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%]{border-color:#475569;color:#64748b}body.dark-mode[_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%]:hover{border-color:#60a5fa;color:#60a5fa;background:#1e3a8a}body.dark-mode[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   label[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, body.dark-mode   [_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1)}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top-color:#334155}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#475569}"]});let n=e;return n})();function n9(n,e){if(n&1){let t=le();f(0,"div",27),x("click",function(o){let i=E(t).$implicit,a=S(3);return o.stopPropagation(),L(a.openEventModal(i))}),X(1,"lucide-icon",28),v(2),y()}if(n&2){let t=e.$implicit;Oe("event-livraison",t.event_type==="livraison")("event-mep",t.event_type==="mep"),w(),O("name",t.event_type==="livraison"?"package":"rocket"),w(),ue(" ",t.title.substring(0,14)," ")}}function r9(n,e){if(n&1){let t=le();f(0,"div",24),x("click",function(){let o=E(t).$implicit,i=S(2);return L(i.onRowClick(o))}),f(1,"div",20),v(2),y(),f(3,"div",21),v(4),y(),f(5,"div",22)(6,"div",25),ae(7,n9,3,6,"div",26),y()()()}if(n&2){let t=e.$implicit;Oe("has-events",t.events.length>0)("today",t.isToday)("weekend",t.isWeekend)("holiday",t.isHoliday),w(2),Q(t.dayNumber),w(2),Q(t.dayName),w(3),O("ngForOf",t.events)}}function o9(n,e){if(n&1&&(f(0,"div",16)(1,"h3",17),v(2),y(),f(3,"div",18)(4,"div",19)(5,"div",20),v(6,"D"),y(),f(7,"div",21),v(8,"J"),y(),f(9,"div",22),v(10,"\xC9v\xE9nements"),y()(),ae(11,r9,8,11,"div",23),y()()),n&2){let t=e.$implicit;w(2),Q(t.title),w(9),O("ngForOf",t.days)}}function i9(n,e){if(n&1){let t=le();f(0,"app-day-events-modal",29),x("close",function(){E(t);let o=S();return L(o.showDayEventsModal=!1)})("openEvent",function(o){E(t);let i=S();return L(i.openEventModal(o))})("add",function(o){E(t);let i=S();return L(i.onDayModalAdd(o))}),y()}if(n&2){let t=S();O("events",t.selectedDayEvents)("dateStr",t.selectedDayDateStr)}}function a9(n,e){if(n&1){let t=le();f(0,"div",30),x("click",function(){E(t);let o=S();return L(o.closeEmptyDayModal())}),f(1,"div",31),x("click",function(o){return E(t),L(o.stopPropagation())}),f(2,"div",32)(3,"h3"),v(4),y(),f(5,"button",33),x("click",function(){E(t);let o=S();return L(o.closeEmptyDayModal())}),v(6,"\xD7"),y()(),f(7,"div",34)(8,"p",35),v(9,"Aucune livraison pr\xE9vue ce jour"),y()(),f(10,"div",36)(11,"button",37),x("click",function(){E(t);let o=S();return L(o.closeEmptyDayModal())}),v(12,"Fermer"),y(),f(13,"button",38),x("click",function(){E(t);let o=S();return L(o.createEventFromEmptyDay())}),v(14,"+ Ajouter"),y()()()()}if(n&2){let t=S();w(4),Q(t.emptyDayDate)}}function s9(n,e){if(n&1){let t=le();f(0,"button",48),x("click",function(){E(t);let o=S(2);return L(o.deleteEvent())}),v(1,"Supprimer"),y()}}function c9(n,e){if(n&1){let t=le();f(0,"div",30),x("click",function(){E(t);let o=S();return L(o.closeModal())}),f(1,"div",39),x("click",function(o){return E(t),L(o.stopPropagation())}),f(2,"div",32)(3,"h3"),v(4),y(),f(5,"button",33),x("click",function(){E(t);let o=S();return L(o.closeModal())}),v(6,"\xD7"),y()(),f(7,"div",34)(8,"div",40)(9,"label"),v(10,"Type"),y(),f(11,"select",41),me("ngModelChange",function(o){E(t);let i=S();return ve(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),L(o)}),x("ngModelChange",function(){E(t);let o=S();return L(o.updateModalTitle())}),f(12,"option",42),v(13,"Livraison (LV)"),y(),f(14,"option",43),v(15,"Mise en Production (MEP)"),y()()(),f(16,"div",40)(17,"label"),v(18,"Version"),y(),f(19,"input",44),me("ngModelChange",function(o){E(t);let i=S();return ve(i.modalEvent.version,o)||(i.modalEvent.version=o),L(o)}),x("ngModelChange",function(){E(t);let o=S();return L(o.updateModalTitle())}),y()(),f(20,"div",40)(21,"label"),v(22,"Date"),y(),f(23,"input",45),me("ngModelChange",function(o){E(t);let i=S();return ve(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),L(o)}),y()(),f(24,"div",40)(25,"label"),v(26,"Description"),y(),f(27,"textarea",46),me("ngModelChange",function(o){E(t);let i=S();return ve(i.modalEvent.description,o)||(i.modalEvent.description=o),L(o)}),y()()(),f(28,"div",36),ae(29,s9,2,0,"button",47),f(30,"button",37),x("click",function(){E(t);let o=S();return L(o.closeModal())}),v(31,"Annuler"),y(),f(32,"button",38),x("click",function(){E(t);let o=S();return L(o.saveEvent())}),v(33),y()()()()}if(n&2){let t=S();w(4),Q(t.isEditMode?"Modifier l'\xE9v\xE9nement":"Nouvel \xE9v\xE9nement"),w(7),ye("ngModel",t.modalEvent.event_type),w(8),ye("ngModel",t.modalEvent.version),w(4),ye("ngModel",t.modalEvent.event_date),w(4),ye("ngModel",t.modalEvent.description),w(2),O("ngIf",t.isEditMode),w(4),Q(t.isEditMode?"Sauvegarder":"Cr\xE9er")}}var a3=(()=>{let e=class e{constructor(r){this.eventService=r,this.startDate=new Date,this.monthsData=[],this.events=[],this.sidebarOpen=!1,this.showModal=!1,this.isEditMode=!1,this.modalEvent={},this.dayNames=["D","L","M","M","J","V","S"],this.showDayEventsModal=!1,this.selectedDayEvents=[],this.selectedDayDateStr=null,this.showEmptyDayModal=!1,this.emptyDayDate="",this.emptyDayDateStr="",this.monthsCount=4,this.startDate.setDate(1)}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.generateCompactView()})}changeMonthsCount(r){let o=this.monthsCount+r;o>=1&&o<=12&&(this.monthsCount=o,this.generateCompactView())}onStartDateChange(r){if(r){let[o,i]=r.split("-").map(Number);this.startDate=new Date(o,i-1,1),this.generateCompactView()}}get startDateStr(){let r=this.startDate.getFullYear(),o=String(this.startDate.getMonth()+1).padStart(2,"0");return`${r}-${o}`}generateCompactView(){this.monthsData=[];for(let r=0;r<this.monthsCount;r++){let o=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+r,1),i=o.toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),a=new Date(o.getFullYear(),o.getMonth()+1,0).getDate(),s=[];for(let c=1;c<=a;c++){let l=new Date(o.getFullYear(),o.getMonth(),c),d=this.formatDateToString(l),u=this.eventService.getEventsByDate(d);s.push({dayNumber:String(c).padStart(2,"0"),dayName:this.getDayName(l),dateStr:d,isToday:this.isToday(l),isWeekend:this.isWeekend(l),isHoliday:this.isFrenchHoliday(l),events:u})}this.monthsData.push({title:i,days:s})}}formatDateToString(r){let o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0");return`${o}-${i}-${a}`}getDayName(r){let o=r.getDay();return this.dayNames[o]}isToday(r){let o=new Date;return r.getDate()===o.getDate()&&r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()}isWeekend(r){let o=r.getDay();return o===0||o===6}isFrenchHoliday(r){let o=r.getFullYear(),i=r.getMonth()+1,a=r.getDate();if([{m:1,d:1},{m:5,d:1},{m:5,d:8},{m:7,d:14},{m:8,d:15},{m:11,d:1},{m:11,d:11},{m:12,d:25}].some(p=>p.m===i&&p.d===a))return!0;let l=this.getEasterDate(o).getTime(),d=r.getTime(),u=1440*60*1e3;return d===l+u||d===l+39*u||d===l+50*u}getEasterDate(r){let o=r%19,i=Math.floor(r/100),a=r%100,s=Math.floor(i/4),c=i%4,l=Math.floor((i+8)/25),d=Math.floor((i-l+1)/3),u=(19*o+i-s-d+15)%30,p=Math.floor(a/4),h=a%4,m=(32+2*c+2*p-u-h)%7,k=Math.floor((o+11*u+22*m)/451),M=Math.floor((u+m-7*k+114)/31),C=(u+m-7*k+114)%31+1;return new Date(r,M-1,C)}getPeriodTitle(){let r=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+this.monthsCount,0);return`${this.startDate.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})} - ${r.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}`}previousPeriod(){this.startDate=new Date(this.startDate.getFullYear(),this.startDate.getMonth()-this.monthsCount,1),this.generateCompactView()}nextPeriod(){this.startDate=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+this.monthsCount,1),this.generateCompactView()}openAddEventModal(r){this.isEditMode=!1,this.modalEvent={event_type:"livraison",version:"",event_date:r,description:"",title:""},this.showModal=!0}openEventModal(r){this.showDayEventsModal=!1,this.isEditMode=!0,this.modalEvent=I({},r),this.showModal=!0}onRowClick(r){r&&r.events&&r.events.length>0?(this.selectedDayEvents=r.events,this.selectedDayDateStr=r.dateStr,this.showDayEventsModal=!0):r&&r.dateStr&&(this.emptyDayDateStr=r.dateStr,this.emptyDayDate=this.formatDateForDisplay(r.dateStr),this.showEmptyDayModal=!0)}formatDateForDisplay(r){return new Date(r).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}closeEmptyDayModal(){this.showEmptyDayModal=!1,this.emptyDayDate="",this.emptyDayDateStr=""}createEventFromEmptyDay(){this.showEmptyDayModal=!1,this.openAddEventModal(this.emptyDayDateStr)}onDayModalAdd(r){this.showDayEventsModal=!1,setTimeout(()=>this.openAddEventModal(r??""),0)}closeModal(){this.showModal=!1,this.modalEvent={}}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return g(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode?yield this.eventService.updateEvent(this.modalEvent.id,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}deleteEvent(){return g(this,null,function*(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&(yield this.eventService.deleteEvent(this.modalEvent.id),this.closeModal())})}};e.\u0275fac=function(o){return new(o||e)(j(so))},e.\u0275cmp=de({type:e,selectors:[["app-compact-view"]],decls:31,vars:10,consts:[[1,"compact-wrapper"],[3,"toggleEvent","isOpen"],[1,"compact-container"],[1,"compact-header"],[1,"header-controls"],[1,"nav-btn",3,"click"],[1,"view-options"],[1,"option-group"],["type","month",3,"ngModelChange","ngModel"],[1,"count-controls"],[1,"count-btn",3,"click","disabled"],[1,"count-display"],[1,"months-grid"],["class","month-column",4,"ngFor","ngForOf"],[3,"events","dateStr","close","openEvent","add",4,"ngIf"],["class","modal",3,"click",4,"ngIf"],[1,"month-column"],[1,"month-title"],[1,"compact-table"],[1,"table-header"],[1,"col-date"],[1,"col-day"],[1,"col-events"],["class","table-row",3,"has-events","today","weekend","holiday","click",4,"ngFor","ngForOf"],[1,"table-row",3,"click"],[1,"events-list"],["class","compact-event",3,"event-livraison","event-mep","click",4,"ngFor","ngForOf"],[1,"compact-event",3,"click"],["size","11",3,"name"],[3,"close","openEvent","add","events","dateStr"],[1,"modal",3,"click"],[1,"modal-content","empty-day-modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"empty-message"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"modal-content",3,"click"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","4",3,"ngModelChange","ngModel"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(f(0,"div",0)(1,"app-sidebar-panel",1),x("toggleEvent",function(){return i.sidebarOpen=!i.sidebarOpen}),y(),f(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),x("click",function(){return i.previousPeriod()}),v(6,"\u2039"),y(),f(7,"h2"),v(8),y(),f(9,"button",5),x("click",function(){return i.nextPeriod()}),v(10,"\u203A"),y()(),f(11,"div",6)(12,"div",7)(13,"label"),v(14,"D\xE9but:"),y(),f(15,"input",8),x("ngModelChange",function(s){return i.onStartDateChange(s)}),y()(),f(16,"div",7)(17,"label"),v(18,"Mois:"),y(),f(19,"div",9)(20,"button",10),x("click",function(){return i.changeMonthsCount(-1)}),v(21,"-"),y(),f(22,"span",11),v(23),y(),f(24,"button",10),x("click",function(){return i.changeMonthsCount(1)}),v(25,"+"),y()()()()(),f(26,"div",12),ae(27,o9,12,2,"div",13),y()(),ae(28,i9,1,2,"app-day-events-modal",14)(29,a9,15,1,"div",15)(30,c9,34,7,"div",15),y()),o&2&&(w(),O("isOpen",i.sidebarOpen),w(7),Q(i.getPeriodTitle()),w(7),O("ngModel",i.startDateStr),w(5),O("disabled",i.monthsCount<=1),w(3),Q(i.monthsCount),w(),O("disabled",i.monthsCount>=12),w(3),O("ngForOf",i.monthsData),w(),O("ngIf",i.showDayEventsModal),w(),O("ngIf",i.showEmptyDayModal),w(),O("ngIf",i.showModal))},dependencies:[Ie,Lt,Qe,gt,ka,va,rt,to,ft,st,Te,Ne,f1,p1],styles:[".compact-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 80px)}.compact-container[_ngcontent-%COMP%]{flex:1;padding:1rem;overflow-y:auto}.compact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-wrap:wrap;gap:1rem}.header-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.view-options[_ngcontent-%COMP%]{display:flex;gap:1.5rem;align-items:center;background:#fff;padding:.5rem 1rem;border-radius:8px;box-shadow:0 1px 3px #0000001a}.option-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.option-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#64748b}.option-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.25rem .5rem;border:1px solid #e2e8f0;border-radius:4px;font-size:.875rem;color:#1e293b;width:auto}.count-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#f1f5f9;padding:.125rem;border-radius:4px;border:1px solid #e2e8f0}.count-btn[_ngcontent-%COMP%]{width:24px;height:24px;padding:0;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid #cbd5e1;border-radius:3px;cursor:pointer;font-size:1rem;line-height:1;color:#475569}.count-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f8fafc;color:#2563eb;border-color:#2563eb}.count-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background:#f1f5f9}.count-display[_ngcontent-%COMP%]{min-width:20px;text-align:center;font-weight:600;font-size:.875rem;color:#1e293b}.compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#1a1a1a;margin:0}.nav-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:6px;width:40px;height:40px;font-size:1.5rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#2563eb}.months-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem}.month-column[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 1px 3px #0000001a}.month-title[_ngcontent-%COMP%]{background:#2563eb;margin:0;padding:.75rem;font-size:1.125rem;font-weight:600;color:#fff;text-align:center;border-bottom:2px solid #dee2e6}.compact-table[_ngcontent-%COMP%]{font-size:.8rem}.table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:30px 30px 1fr;background:#f8f9fa;font-weight:600;color:#495057;border-bottom:1px solid #dee2e6;position:sticky;top:0;z-index:10}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:.5rem .25rem;border-right:1px solid #e9ecef}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-right:none}.table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:30px 30px 1fr;border-bottom:1px solid #e9ecef;transition:background-color .2s;min-height:28px}.table-row[_ngcontent-%COMP%]:hover{background:#f8f9fa}.table-row.today[_ngcontent-%COMP%]{background:#fef9c3}.table-row.weekend[_ngcontent-%COMP%], .table-row.holiday[_ngcontent-%COMP%]{background:#f0f0f0}.table-row.weekend[_ngcontent-%COMP%]:hover, .table-row.holiday[_ngcontent-%COMP%]:hover{background:#e9ecef}.col-date[_ngcontent-%COMP%], .col-day[_ngcontent-%COMP%]{padding:.25rem;border-right:1px solid #e9ecef;display:flex;align-items:center;justify-content:center;font-weight:500;font-size:.85rem}.col-events[_ngcontent-%COMP%]{padding:.25rem .5rem;display:flex;align-items:center}.events-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem;width:100%}.compact-event[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;padding:.125rem .375rem;border-radius:3px;font-size:.7rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.compact-event[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.compact-event.event-mep[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.add-compact-btn[_ngcontent-%COMP%]{background:transparent;border:1px dashed #dee2e6;border-radius:3px;padding:.125rem .375rem;font-size:.7rem;color:#6b7280;cursor:pointer;transition:all .2s}.add-compact-btn[_ngcontent-%COMP%]:hover{border-color:#2563eb;color:#2563eb;background:#eff6ff}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:32px;height:32px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#495057;margin-bottom:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;font-family:inherit;box-sizing:border-box}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.5rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}.empty-day-modal[_ngcontent-%COMP%]{max-width:400px}.empty-day-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:2rem 1.5rem}.empty-message[_ngcontent-%COMP%]{color:#64748b;font-size:.95rem;margin:0;text-align:center}body.dark-mode[_nghost-%COMP%]   .compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover{background:#334155;border-color:#60a5fa;color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .view-options[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .view-options[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 1px 3px #0000004d}body.dark-mode[_nghost-%COMP%]   .option-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .option-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .option-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .option-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .option-group[_ngcontent-%COMP%]   input[type=month][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, body.dark-mode   [_nghost-%COMP%]   .option-group[_ngcontent-%COMP%]   input[type=month][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1)}body.dark-mode[_nghost-%COMP%]   .count-controls[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .count-controls[_ngcontent-%COMP%]{background:#334155;border-color:#475569}body.dark-mode[_nghost-%COMP%]   .count-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .count-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#475569;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .count-btn[_ngcontent-%COMP%]:hover:not(:disabled), body.dark-mode   [_nghost-%COMP%]   .count-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#475569;color:#60a5fa;border-color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .count-btn[_ngcontent-%COMP%]:disabled, body.dark-mode   [_nghost-%COMP%]   .count-btn[_ngcontent-%COMP%]:disabled{background:#334155;color:#64748b}body.dark-mode[_nghost-%COMP%]   .count-display[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .count-display[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .month-column[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .month-column[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 1px 3px #0000004d}body.dark-mode[_nghost-%COMP%]   .month-title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .month-title[_ngcontent-%COMP%]{background:#1e40af;border-bottom-color:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .table-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-header[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1;border-bottom-color:#475569}body.dark-mode[_nghost-%COMP%]   .table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-right-color:#475569}body.dark-mode[_nghost-%COMP%]   .table-row[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]{border-bottom-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .table-row.today[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row.today[_ngcontent-%COMP%]{background:#1e3a8a}body.dark-mode[_nghost-%COMP%]   .table-row.weekend[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row.weekend[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .table-row.holiday[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row.holiday[_ngcontent-%COMP%]{background:#27272a}body.dark-mode[_nghost-%COMP%]   .table-row.weekend[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .table-row.weekend[_ngcontent-%COMP%]:hover, body.dark-mode[_nghost-%COMP%]   .table-row.holiday[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .table-row.holiday[_ngcontent-%COMP%]:hover{background:#3f3f46}body.dark-mode[_nghost-%COMP%]   .col-date[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .col-date[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .col-day[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .col-day[_ngcontent-%COMP%]{border-right-color:#334155}body.dark-mode[_nghost-%COMP%]   .compact-event[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .compact-event[_ngcontent-%COMP%]{background:#1e3a8a;color:#93c5fd}body.dark-mode[_nghost-%COMP%]   .compact-event.event-mep[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .compact-event.event-mep[_ngcontent-%COMP%]{background:#14532d;color:#86efac}body.dark-mode[_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%]{border-color:#475569;color:#64748b}body.dark-mode[_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%]:hover{border-color:#60a5fa;color:#60a5fa;background:#1e3a8a}body.dark-mode[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   label[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, body.dark-mode   [_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1)}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top-color:#334155}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#475569}body.dark-mode[_nghost-%COMP%]   .empty-message[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .empty-message[_ngcontent-%COMP%]{color:#cbd5e1}@media (max-width: 1200px){.months-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let n=e;return n})();function l9(n,e){if(n&1&&(f(0,"div",16)(1,"div",17)(2,"span",18),X(3,"lucide-icon",19),y(),f(4,"span",20),v(5),y(),f(6,"span",21),v(7),y()(),f(8,"div",22)(9,"p"),v(10),y()()()),n&2){let t=e.$implicit;Oe("is-livraison",t.event_type==="livraison")("is-mep",t.event_type==="mep"),w(3),O("name",t.event_type==="livraison"?"package":"rocket"),w(2),Q(t.title),w(2),Q(t.version),w(3),Q(t.description)}}function d9(n,e){if(n&1&&(f(0,"div",10)(1,"div",11)(2,"div",12),v(3),y(),f(4,"div",13),ae(5,l9,11,8,"div",14),y()(),X(6,"div",15),y()),n&2){let t=e.$implicit,r=e.index,o=S();Oe("left",!o.isHorizontal&&r%2===0)("right",!o.isHorizontal&&r%2!==0),w(3),Q(o.formatDate(t.date)),w(2),O("ngForOf",t.events)}}function u9(n,e){n&1&&(f(0,"div",23)(1,"p"),v(2,"Aucun \xE9v\xE9nement \xE0 afficher"),y()())}var s3=(()=>{let e=class e{constructor(r){this.eventService=r,this.events=[],this.groupedEvents=[],this.isHorizontal=!1}toggleMode(){this.isHorizontal=!this.isHorizontal}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=[...r].sort((o,i)=>new Date(o.event_date).getTime()-new Date(i.event_date).getTime()),this.groupEvents()})}groupEvents(){this.groupedEvents=[];for(let r of this.events){let o=new Date(r.event_date).toDateString(),i=this.groupedEvents[this.groupedEvents.length-1];i&&new Date(i.date).toDateString()===o?i.events.push(r):this.groupedEvents.push({date:r.event_date,events:[r]})}}formatDate(r){return new Date(r).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}};e.\u0275fac=function(o){return new(o||e)(j(so))},e.\u0275cmp=de({type:e,selectors:[["app-timeline-view"]],decls:14,vars:7,consts:[[1,"timeline-container"],[1,"header"],["name","git-commit","size","22"],[1,"toggle-btn",3,"click","title"],["size","20",3,"name"],[1,"timeline-wrapper"],[1,"timeline"],[1,"timeline-line"],["class","timeline-item",3,"left","right",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"timeline-item"],[1,"content"],[1,"date-badge"],[1,"events-group"],["class","card",3,"is-livraison","is-mep",4,"ngFor","ngForOf"],[1,"dot"],[1,"card"],[1,"card-header"],[1,"type-icon"],["size","18",3,"name"],[1,"title"],[1,"version"],[1,"card-body"],[1,"empty-state"]],template:function(o,i){o&1&&(f(0,"div",0)(1,"div",1)(2,"h2"),X(3,"lucide-icon",2),v(4," Timeline"),y(),f(5,"button",3),x("click",function(){return i.toggleMode()}),X(6,"lucide-icon",4),f(7,"span"),v(8),y()()(),f(9,"div",5)(10,"div",6),X(11,"div",7),ae(12,d9,7,6,"div",8)(13,u9,3,0,"div",9),y()()()),o&2&&(w(5),O("title",i.isHorizontal?"Passer en vue verticale":"Passer en vue horizontale"),w(),O("name",i.isHorizontal?"align-justify":"columns"),w(2),Q(i.isHorizontal?"Vue Verticale":"Vue Horizontale"),w(),Oe("horizontal",i.isHorizontal),w(3),O("ngForOf",i.groupedEvents),w(),O("ngIf",i.events.length===0))},dependencies:[Ie,Lt,Qe,Te,Ne],styles:['.timeline-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden;background:#f8fafc}.timeline-container[_ngcontent-%COMP%]:has(.timeline-wrapper.horizontal){overflow-y:auto}.header[_ngcontent-%COMP%]{padding:2rem;margin-bottom:0;display:flex;justify-content:space-between;align-items:center;flex-shrink:0}.toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#fff;border:1px solid #e2e8f0;border-radius:8px;cursor:pointer;font-weight:500;color:#64748b;transition:all .2s;box-shadow:0 1px 2px #0000000d}.toggle-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#334155}.timeline-wrapper[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;padding:2rem;position:relative}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar{height:12px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:6px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#cbd5e1;border-radius:6px;border:3px solid #f1f5f9}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#94a3b8}.timeline-wrapper.horizontal[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;align-items:center;padding:2rem;height:auto;min-height:100%}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;align-items:center;height:auto;min-height:600px;min-width:100%;width:max-content;max-width:none;padding:4rem;margin:0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-line[_ngcontent-%COMP%]{width:auto;left:0;right:0;height:4px;top:40px;transform:none;background:#e2e8f0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:320px;flex-shrink:0;margin:0 1.5rem;height:auto;min-height:200px;position:relative;display:flex;left:auto;right:auto;padding:10px 0 0;text-align:left;overflow:visible;flex-direction:column;justify-content:flex-start;align-self:stretch}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;max-height:none;overflow-y:visible;padding-right:0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#cbd5e1;border-radius:4px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{left:auto;right:auto;text-align:left;padding-left:0;padding-right:0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:after{display:none}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{position:absolute;inset:-32px auto auto 50%;transform:translate(-50%);margin:0;flex-shrink:0;z-index:20}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%]{transform:translate(-50%) scale(1.2)}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:50%;transform:translate(-50%);width:2px;background:#e2e8f0;z-index:1;top:-12px;height:22px;bottom:auto}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:row}h2[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;font-size:1.8rem;color:#1e293b;margin:0;background:#fff;padding:.5rem 1.5rem;border-radius:50px;box-shadow:0 4px 6px -1px #0000001a}.timeline[_ngcontent-%COMP%]{position:relative;max-width:1000px;margin:0 auto;padding:2rem 0}.timeline-line[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);width:4px;height:100%;background:linear-gradient(to bottom,#e2e8f0,#cbd5e1,#e2e8f0);border-radius:2px}.timeline-item[_ngcontent-%COMP%]{position:relative;margin-bottom:3rem;width:50%}.timeline-item.left[_ngcontent-%COMP%]{left:0;padding-right:3rem;text-align:right}.timeline-item.right[_ngcontent-%COMP%]{left:50%;padding-left:3rem;text-align:left}.timeline-item[_ngcontent-%COMP%]:after{content:"";position:absolute;top:30px;height:2px;width:3rem;background:#e2e8f0;z-index:1}.timeline-item.left[_ngcontent-%COMP%]:after{right:0}.timeline-item.right[_ngcontent-%COMP%]:after{left:0}.dot[_ngcontent-%COMP%]{position:absolute;top:20px;width:20px;height:20px;background:#fff;border:4px solid #3b82f6;border-radius:50%;z-index:10;box-shadow:0 0 0 4px #3b82f633;transition:all .3s ease}.timeline-item.left[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{right:-10px}.timeline-item.right[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{left:-10px}.timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%]{transform:scale(1.2);background:#3b82f6;box-shadow:0 0 0 6px #3b82f64d}.content[_ngcontent-%COMP%]{position:relative;transition:transform .3s ease}.timeline-item[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]{transform:translateY(-5px)}.date-badge[_ngcontent-%COMP%]{display:inline-block;background:#475569;color:#fff;padding:.25rem .75rem;border-radius:20px;font-size:.85rem;font-weight:600;margin-bottom:.5rem;box-shadow:0 2px 4px #0000001a}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border-left:5px solid transparent;position:relative;overflow:hidden}.card[_ngcontent-%COMP%] + .card[_ngcontent-%COMP%]{margin-top:1rem}.card.is-livraison[_ngcontent-%COMP%]{border-left-color:#10b981}.card.is-mep[_ngcontent-%COMP%]{border-left-color:#8b5cf6}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem;border-bottom:1px solid #f1f5f9;padding-bottom:.75rem}.timeline-item.left[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:row-reverse}.type-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:8px}.is-livraison[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.is-mep[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{background:#ede9fe;color:#7c3aed}.title[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:#1e293b}.version[_ngcontent-%COMP%]{background:#f1f5f9;padding:.1rem .5rem;border-radius:4px;font-size:.8rem;font-family:monospace;color:#64748b}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b;line-height:1.5;font-size:.95rem}.empty-state[_ngcontent-%COMP%]{text-align:center;color:#94a3b8;padding:2rem}@media (max-width: 768px){.timeline-line[_ngcontent-%COMP%]{left:30px}.timeline-item[_ngcontent-%COMP%]{width:100%;padding-left:70px;padding-right:0;text-align:left}.timeline-item.left[_ngcontent-%COMP%], .timeline-item.right[_ngcontent-%COMP%]{left:0;text-align:left;padding-right:0;padding-left:70px}.timeline-item.left[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%], .timeline-item.right[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{left:20px;right:auto}.timeline-item.left[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:row}.timeline-item[_ngcontent-%COMP%]:after{width:40px;left:30px;right:auto}}body.dark-mode[_nghost-%COMP%]   .timeline-container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-container[_ngcontent-%COMP%]{background:#0f172a}body.dark-mode[_nghost-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .timeline-line[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-line[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#334155,#475569,#334155)}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-line[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-line[_ngcontent-%COMP%]{background:linear-gradient(to right,#334155,#475569,#334155)}body.dark-mode[_nghost-%COMP%]   .date-badge[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .date-badge[_ngcontent-%COMP%]{background:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .card[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 4px 6px -1px #0000004d,0 2px 4px -1px #0000001a}body.dark-mode[_nghost-%COMP%]   .title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .version[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .version[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:after, body.dark-mode   [_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:after{background:#334155}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before{background:#334155}body.dark-mode[_nghost-%COMP%]   .dot[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .dot[_ngcontent-%COMP%]{background:#1e293b;border-color:#60a5fa;box-shadow:0 0 0 4px #60a5fa33}body.dark-mode[_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%]{background:#60a5fa;box-shadow:0 0 0 6px #60a5fa4d}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e293b}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#475569;border-color:#1e293b}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#64748b}']});let n=e;return n})();var c3=(()=>{let e=class e{constructor(){this.email=ce(""),this.password=ce(""),this.showPassword=ce(!1),this.loading=!1,this.supabaseService=b(Ot),this.router=b(Ae)}togglePasswordVisibility(){this.showPassword.update(r=>!r)}signInWithEmail(){return g(this,null,function*(){this.loading=!0;try{let{error:r}=yield this.supabaseService.signInWithEmail({email:this.email(),password:this.password()});r?alert("Error signing in: "+r.message):this.router.navigate(["/compact"])}finally{this.loading=!1}})}navigateToSignup(){this.router.navigate(["/signup"])}navigateToForgot(){this.router.navigate(["/forgot-password"])}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=de({type:e,selectors:[["app-login"]],decls:19,vars:6,consts:[[1,"container"],[3,"ngSubmit"],["type","email","name","email","placeholder","Email","required","","autocomplete","email",3,"ngModelChange","ngModel"],[1,"password-container"],["name","password","placeholder","Password","required","","autocomplete","current-password",3,"ngModelChange","type","ngModel"],["type","button",1,"toggle-password",3,"click"],["size","20",3,"name"],["type","submit",3,"disabled"],[3,"click"]],template:function(o,i){o&1&&(f(0,"div",0)(1,"h2"),v(2,"Login"),y(),f(3,"form",1),x("ngSubmit",function(){return i.signInWithEmail()}),f(4,"input",2),me("ngModelChange",function(s){return ve(i.email,s)||(i.email=s),s}),y(),f(5,"div",3)(6,"input",4),me("ngModelChange",function(s){return ve(i.password,s)||(i.password=s),s}),y(),f(7,"button",5),x("click",function(){return i.togglePasswordVisibility()}),X(8,"lucide-icon",6),y()(),f(9,"button",7),v(10),y()(),f(11,"p"),v(12,"Don't have an account? "),f(13,"a",8),x("click",function(){return i.navigateToSignup()}),v(14,"Sign Up"),y()(),f(15,"p"),v(16,"Forgot your password ? "),f(17,"a",8),x("click",function(){return i.navigateToForgot()}),v(18,"Send me a link"),y()()()),o&2&&(w(4),ye("ngModel",i.email),w(2),O("type",i.showPassword()?"text":"password"),ye("ngModel",i.password),w(2),O("name",i.showPassword()?"eye-off":"eye"),w(),O("disabled",i.loading),w(),ue(" ",i.loading?"Loading...":"Sign In"," "))},dependencies:[gt,eo,rt,ft,Jr,pr,st,hr,Te,Ne],styles:[".container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:2rem;background:#fff;border-radius:8px;box-shadow:0 4px 6px -1px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#1e293b;margin-bottom:2rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}input[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #e2e8f0;border-radius:6px;font-size:1rem;width:100%;box-sizing:border-box}button[type=submit][_ngcontent-%COMP%]{padding:.75rem;background:#2563eb;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background .2s}button[type=submit][_ngcontent-%COMP%]:hover{background:#1d4ed8}button[type=submit][_ngcontent-%COMP%]:disabled{background:#94a3b8;cursor:not-allowed}p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#64748b}a[_ngcontent-%COMP%]{color:#2563eb;text-decoration:none;cursor:pointer;font-weight:500}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.password-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:10px;background:none;border:none;cursor:pointer;padding:0;display:flex;align-items:center;color:#64748b}.toggle-password[_ngcontent-%COMP%]:hover{color:#1e293b}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 4px 6px -1px #00000080}body.dark-mode[_nghost-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#3b82f6}body.dark-mode[_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]{color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   a[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#60a5fa}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px #334155 inset!important;-webkit-text-fill-color:#f8fafc!important;caret-color:#f8fafc}"]});let n=e;return n})();function h9(n,e){if(n&1&&(f(0,"div",12),v(1),y()),n&2){let t=S();w(),ue(" ",t.error()," ")}}function p9(n,e){if(n&1&&(f(0,"div",13),v(1),y()),n&2){let t=S();w(),ue(" ",t.message()," ")}}var l3=(()=>{let e=class e{constructor(){this.name="",this.email="",this.password=ce(""),this.confirmPassword=ce(""),this.showPassword=ce(!1),this.showConfirmPassword=ce(!1),this.loading=!1,this.error=ce(null),this.message=ce(null),this.supabaseService=b(Ot),this.router=b(Ae)}togglePasswordVisibility(){this.showPassword.update(r=>!r)}toggleConfirmPasswordVisibility(){this.showConfirmPassword.update(r=>!r)}signUp(){return g(this,null,function*(){if(this.error.set(null),this.message.set(null),this.password().length<6){this.error.set("Le mot de passe doit contenir au moins 6 caract\xE8res.");return}if(this.password()!==this.confirmPassword()){this.error.set("Les mots de passe ne correspondent pas.");return}let{error:r}=yield this.supabaseService.signUpWithEmail({name:this.name,email:this.email,password:this.password()});r?alert("Error signing up: "+r.message):(alert("Check your email to confirm your account!"),this.router.navigate(["/login"]))})}navigateToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=de({type:e,selectors:[["app-signup"]],decls:22,vars:10,consts:[[1,"container"],["type","text","name","name","placeholder","Full Name","required","","autocomplete","name",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","Email","required","","autocomplete","email",3,"ngModelChange","ngModel"],[1,"password-container"],["name","password","minlength","6","placeholder","Mot de passe (Minimum 6 caract\xE8res)","required","","autocomplete","new-password",3,"ngModelChange","type","ngModel"],["type","button",1,"toggle-password",3,"click"],["size","20",3,"name"],["id","confirmPassword","name","confirmPassword","placeholder","Confirmez votre mot de passe","minlength","6","required","","autocomplete","new-password",3,"ngModelChange","type","ngModel"],["type","button",3,"click"],["class","message error",4,"ngIf"],["class","message success",4,"ngIf"],[3,"click"],[1,"message","error"],[1,"message","success"]],template:function(o,i){o&1&&(f(0,"div",0)(1,"h2"),v(2,"Sign Up"),y(),f(3,"form")(4,"input",1),me("ngModelChange",function(s){return ve(i.name,s)||(i.name=s),s}),y(),f(5,"input",2),me("ngModelChange",function(s){return ve(i.email,s)||(i.email=s),s}),y(),f(6,"div",3)(7,"input",4),x("ngModelChange",function(s){return i.password.set(s)}),y(),f(8,"button",5),x("click",function(){return i.togglePasswordVisibility()}),X(9,"lucide-icon",6),y()(),f(10,"div",3)(11,"input",7),x("ngModelChange",function(s){return i.confirmPassword.set(s)}),y(),f(12,"button",5),x("click",function(){return i.toggleConfirmPasswordVisibility()}),X(13,"lucide-icon",6),y()(),f(14,"button",8),x("click",function(){return i.signUp()}),v(15,"Sign Up"),y()(),ae(16,h9,2,1,"div",9)(17,p9,2,1,"div",10),f(18,"p"),v(19,"Already have an account? "),f(20,"a",11),x("click",function(){return i.navigateToLogin()}),v(21,"Log In"),y()()()),o&2&&(w(4),ye("ngModel",i.name),w(),ye("ngModel",i.email),w(2),O("type",i.showPassword()?"text":"password")("ngModel",i.password()),w(2),O("name",i.showPassword()?"eye-off":"eye"),w(2),O("type",i.showConfirmPassword()?"text":"password")("ngModel",i.confirmPassword()),w(2),O("name",i.showConfirmPassword()?"eye-off":"eye"),w(3),O("ngIf",i.error()),w(),O("ngIf",i.message()))},dependencies:[gt,eo,rt,ft,Jr,pr,lc,st,hr,Ie,Qe,Te,Ne],styles:[".container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:2rem;background:#fff;border-radius:8px;box-shadow:0 4px 6px -1px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#1e293b;margin-bottom:2rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}input[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #e2e8f0;border-radius:6px;font-size:1rem;width:100%;box-sizing:border-box}button[_ngcontent-%COMP%]{padding:.75rem;background:#2563eb;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background .2s}button[_ngcontent-%COMP%]:hover{background:#1d4ed8}.message[_ngcontent-%COMP%]{padding:1rem;border-radius:6px;margin-top:1rem;text-align:center}.error[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.success[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#64748b}a[_ngcontent-%COMP%]{color:#2563eb;text-decoration:none;cursor:pointer;font-weight:500}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.password-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:10px;background:none;border:none;cursor:pointer;padding:0;display:flex;align-items:center;color:#64748b}.toggle-password[_ngcontent-%COMP%]:hover{background:none;color:#1e293b}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 4px 6px -1px #00000080}body.dark-mode[_nghost-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#3b82f6}body.dark-mode[_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]{color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   a[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .error[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .error[_ngcontent-%COMP%]{background:#7f1d1d;color:#fecaca}body.dark-mode[_nghost-%COMP%]   .success[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .success[_ngcontent-%COMP%]{background:#14532d;color:#bbf7d0}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px #334155 inset!important;-webkit-text-fill-color:#f8fafc!important;caret-color:#f8fafc}"]});let n=e;return n})();var d3=(n,e)=>g(null,null,function*(){if(!ui.enableAuth)return!0;let t=b(Ot),r=b(Ae),{data:o}=yield t.getUser();return o.user?!0:(r.navigate(["/login"],{queryParams:{returnUrl:e.url}}),!1)});var g1=(()=>{let e=class e{getDarkMode(){return this.darkMode}getThemePreference(){return this.themePreference}constructor(){this.themePreference=ce("system"),this.systemDarkMode=ce(!1),this.darkMode=Ur(()=>{let i=this.themePreference();return i==="system"?this.systemDarkMode():i==="dark"});let r=window.matchMedia("(prefers-color-scheme: dark)");console.log("mediaQuery ="+r),this.systemDarkMode.set(r.matches),r.addEventListener("change",i=>{this.systemDarkMode.set(i.matches)});let o=localStorage.getItem("theme");o&&["light","dark","system"].includes(o)&&this.themePreference.set(o),Ep(()=>{this.darkMode()?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),localStorage.setItem("theme",this.themePreference())})}setTheme(r){this.themePreference.set(r)}toggleTheme(){let r=this.themePreference();r==="system"?this.themePreference.set(this.systemDarkMode()?"light":"dark"):this.themePreference.set(r==="dark"?"light":"dark")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function u3(n,e){return typeof n=="function"?n(e):n}function w2(n){return n.split("-")[0]}function h3(n){return n.split("-")[1]}var f9=new Set(["top","bottom"]);function p3(n){return f9.has(w2(n))?"y":"x"}var y9=new Set(["left","top"]);function m9(n,e){return g(this,null,function*(){let{placement:t,platform:r,elements:o}=n,i=yield r.isRTL==null?void 0:r.isRTL(o.floating),a=w2(t),s=h3(t),c=p3(t)==="y",l=y9.has(a)?-1:1,d=i&&c?-1:1,u=u3(e,n),{mainAxis:p,crossAxis:h,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return s&&typeof m=="number"&&(h=s==="end"?m*-1:m),c?{x:h*d,y:p*l}:{x:p*l,y:h*d}})}var f3=function(n){return n===void 0&&(n=0),{name:"offset",options:n,fn(t){return g(this,null,function*(){var r,o;let{x:i,y:a,placement:s,middlewareData:c}=t,l=yield m9(t,n);return s===((r=c.offset)==null?void 0:r.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:$(I({},l),{placement:s})}})}}};var C2=f3;function k9(n){return n instanceof Element}function Fa(n){return n instanceof HTMLElement}function co(n){return typeof n=="function"}function Rc(n){return typeof n=="string"}function kt(n){return n===void 0}var Nc=class{on(e,t,r,o=!1){var i;return kt(this.bindings)&&(this.bindings={}),kt(this.bindings[e])&&(this.bindings[e]=[]),(i=this.bindings[e])==null||i.push({handler:t,ctx:r,once:o}),this}once(e,t,r){return this.on(e,t,r,!0)}off(e,t){if(kt(this.bindings)||kt(this.bindings[e]))return this;if(kt(t))delete this.bindings[e];else{var r;(r=this.bindings[e])==null||r.forEach((o,i)=>{if(o.handler===t){var a;(a=this.bindings[e])==null||a.splice(i,1)}})}return this}trigger(e,...t){if(!kt(this.bindings)&&this.bindings[e]){var r;(r=this.bindings[e])==null||r.forEach((o,i)=>{let{ctx:a,handler:s,once:c}=o,l=a||this;if(s.apply(l,t),c){var d;(d=this.bindings[e])==null||d.splice(i,1)}})}return this}};function At(){return At=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},At.apply(null,arguments)}function q2(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}var uo={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};uo.defaultMerge;function v9(n,e){return e}function M9(n,e){return n.filter(t=>t!==void 0)}function g3(n){return typeof n!="object"||n===null?0:Array.isArray(n)?2:b9(n)?1:n instanceof Set?3:n instanceof Map?4:5}function w9(n){let e=new Set;for(let t of n)for(let r of[...Object.keys(t),...Object.getOwnPropertySymbols(t)])e.add(r);return e}function C9(n,e){return typeof n=="object"&&Object.prototype.propertyIsEnumerable.call(n,e)}function j3(n){return{*[Symbol.iterator](){for(let e of n)for(let t of e)yield t}}}var y3=new Set(["[object Object]","[object Module]"]);function b9(n){if(!y3.has(Object.prototype.toString.call(n)))return!1;let{constructor:e}=n;if(e===void 0)return!0;let t=e.prototype;return!(t===null||typeof t!="object"||!y3.has(Object.prototype.toString.call(t))||!t.hasOwnProperty("isPrototypeOf"))}function _9(n,e,t){let r={};for(let o of w9(n)){let i=[];for(let c of n)C9(c,o)&&i.push(c[o]);if(i.length===0)continue;let a=e.metaDataUpdater(t,{key:o,parents:n}),s=V3(i,e,a);s!==uo.skip&&(o==="__proto__"?Object.defineProperty(r,o,{value:s,configurable:!0,enumerable:!0,writable:!0}):r[o]=s)}return r}function x9(n){return n.flat()}function I9(n){return new Set(j3(n))}function S9(n){return new Map(j3(n))}function D9(n){return n.at(-1)}var y1={mergeRecords:_9,mergeArrays:x9,mergeSets:I9,mergeMaps:S9,mergeOthers:D9};function U2(...n){return E9({})(...n)}function E9(n,e){let t=L9(n,r);function r(...o){return V3(o,t,e)}return r}function L9(n,e){var t,r,o;return{defaultMergeFunctions:y1,mergeFunctions:At({},y1,Object.fromEntries(Object.entries(n).filter(([i,a])=>Object.hasOwn(y1,i)).map(([i,a])=>a===!1?[i,y1.mergeOthers]:[i,a]))),metaDataUpdater:(t=n.metaDataUpdater)!=null?t:v9,deepmerge:e,useImplicitDefaultMerging:(r=n.enableImplicitDefaultMerging)!=null?r:!1,filterValues:n.filterValues===!1?void 0:(o=n.filterValues)!=null?o:M9,actions:uo}}function V3(n,e,t){var r;let o=(r=e.filterValues==null?void 0:e.filterValues(n,t))!=null?r:n;if(o.length===0)return;if(o.length===1)return b2(o,e,t);let i=g3(o[0]);if(i!==0&&i!==5){for(let a=1;a<o.length;a++)if(g3(o[a])!==i)return b2(o,e,t)}switch(i){case 1:return P9(o,e,t);case 2:return O9(o,e,t);case 3:return A9(o,e,t);case 4:return T9(o,e,t);default:return b2(o,e,t)}}function P9(n,e,t){let r=e.mergeFunctions.mergeRecords(n,e,t);return r===uo.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeRecords!==e.defaultMergeFunctions.mergeRecords?e.defaultMergeFunctions.mergeRecords(n,e,t):r}function O9(n,e,t){let r=e.mergeFunctions.mergeArrays(n,e,t);return r===uo.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeArrays!==e.defaultMergeFunctions.mergeArrays?e.defaultMergeFunctions.mergeArrays(n):r}function A9(n,e,t){let r=e.mergeFunctions.mergeSets(n,e,t);return r===uo.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeSets!==e.defaultMergeFunctions.mergeSets?e.defaultMergeFunctions.mergeSets(n):r}function T9(n,e,t){let r=e.mergeFunctions.mergeMaps(n,e,t);return r===uo.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeMaps!==e.defaultMergeFunctions.mergeMaps?e.defaultMergeFunctions.mergeMaps(n):r}function b2(n,e,t){let r=e.mergeFunctions.mergeOthers(n,e,t);return r===uo.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeOthers!==e.defaultMergeFunctions.mergeOthers?e.defaultMergeFunctions.mergeOthers(n):r}function $2(n){let e=Object.getOwnPropertyNames(n.constructor.prototype);for(let t=0;t<e.length;t++){let r=e[t],o=n[r];r!=="constructor"&&typeof o=="function"&&(n[r]=o.bind(n))}return n}function R9(n,e){return t=>{if(n.isOpen()){let r=n.el&&t.currentTarget===n.el;(!kt(e)&&t.currentTarget.matches(e)||r)&&n.tour.next()}}}function N9(n){let{event:e,selector:t}=n.options.advanceOn||{};if(e){let r=R9(n,t),o=null;if(!kt(t)&&(o=document.querySelector(t),!o))return console.error(`No element was found for the selector supplied to advanceOn: ${t}`);o?(o.addEventListener(e,r),n.on("destroy",()=>o.removeEventListener(e,r))):(document.body.addEventListener(e,r,!0),n.on("destroy",()=>document.body.removeEventListener(e,r,!0)))}else return console.error("advanceOn was defined, but no event name was passed.")}var I2=class{constructor(e){}},S2=class{constructor(e,t){}};function H3(n){return!Rc(n)||n===""?"":n.charAt(n.length-1)!=="-"?`${n}-`:n}function F9(n){let e=n.options.attachTo||{},t=Object.assign({},e);if(co(t.element)&&(t.element=t.element.call(n)),Rc(t.element)){try{t.element=document.querySelector(t.element)}catch{}t.element||console.error(`The element for this Shepherd step was not found ${e.element}`)}return t}function j9(n){return n.options.extraHighlights?n.options.extraHighlights.flatMap(e=>Array.from(document.querySelectorAll(e))):[]}function z3(n){return n==null?!0:!n.element||!n.on}function B3(){let n=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(e=="x"?t:t&3|8).toString(16)})}var V9=["top","right","bottom","left"],m3=["start","end"],k3=V9.reduce((n,e)=>n.concat(e,e+"-"+m3[0],e+"-"+m3[1]),[]),ja=Math.min,pi=Math.max,v1=Math.round,m1=Math.floor,Wn=n=>({x:n,y:n}),H9={left:"right",right:"left",bottom:"top",top:"bottom"},z9={start:"end",end:"start"};function D2(n,e,t){return pi(n,ja(e,t))}function mi(n,e){return typeof n=="function"?n(e):n}function vr(n){return n.split("-")[0]}function kr(n){return n.split("-")[1]}function W2(n){return n==="x"?"y":"x"}function G2(n){return n==="y"?"height":"width"}function fi(n){return["top","bottom"].includes(vr(n))?"y":"x"}function Z2(n){return W2(fi(n))}function q3(n,e,t){t===void 0&&(t=!1);let r=kr(n),o=Z2(n),i=G2(o),a=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=w1(a)),[a,w1(a)]}function B9(n){let e=w1(n);return[M1(n),e,M1(e)]}function M1(n){return n.replace(/start|end/g,e=>z9[e])}function q9(n,e,t){let r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?o:r:e?r:o;case"left":case"right":return e?i:a;default:return[]}}function U9(n,e,t,r){let o=kr(n),i=q9(vr(n),t==="start",r);return o&&(i=i.map(a=>a+"-"+o),e&&(i=i.concat(i.map(M1)))),i}function w1(n){return n.replace(/left|right|bottom|top/g,e=>H9[e])}function $9(n){return At({top:0,right:0,bottom:0,left:0},n)}function U3(n){return typeof n!="number"?$9(n):{top:n,right:n,bottom:n,left:n}}function C1(n){let{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}var W9=["crossAxis","alignment","allowedPlacements","autoAlignment"],G9=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],Z9=["mainAxis","crossAxis","limiter"];function v3(n,e,t){let{reference:r,floating:o}=n,i=fi(e),a=Z2(e),s=G2(a),c=vr(e),l=i==="y",d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,p=r[s]/2-o[s]/2,h;switch(c){case"top":h={x:d,y:r.y-o.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-o.width,y:u};break;default:h={x:r.x,y:r.y}}switch(kr(e)){case"start":h[a]-=p*(t&&l?-1:1);break;case"end":h[a]+=p*(t&&l?-1:1);break}return h}var K9=(n,e,t)=>g(null,null,function*(){let{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=t,s=i.filter(Boolean),c=yield a.isRTL==null?void 0:a.isRTL(e),l=yield a.getElementRects({reference:n,floating:e,strategy:o}),{x:d,y:u}=v3(l,r,c),p=r,h={},m=0;for(let k=0;k<s.length;k++){let{name:M,fn:C}=s[k],{x:R,y:D,data:_,reset:T}=yield C({x:d,y:u,initialPlacement:r,placement:p,strategy:o,middlewareData:h,rects:l,platform:a,elements:{reference:n,floating:e}});d=R??d,u=D??u,h=At({},h,{[M]:At({},h[M],_)}),T&&m<=50&&(m++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(l=T.rects===!0?yield a.getElementRects({reference:n,floating:e,strategy:o}):T.rects),{x:d,y:u}=v3(l,p,c)),k=-1)}return{x:d,y:u,placement:p,strategy:o,middlewareData:h}});function K2(n,e){return g(this,null,function*(){var t;e===void 0&&(e={});let{x:r,y:o,platform:i,rects:a,elements:s,strategy:c}=n,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:p=!1,padding:h=0}=mi(e,n),m=U3(h),M=s[p?u==="floating"?"reference":"floating":u],C=C1(yield i.getClippingRect({element:(t=yield i.isElement==null?void 0:i.isElement(M))==null||t?M:M.contextElement||(yield i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:l,rootBoundary:d,strategy:c})),R=u==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,D=yield i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating),_=(yield i.isElement==null?void 0:i.isElement(D))?(yield i.getScale==null?void 0:i.getScale(D))||{x:1,y:1}:{x:1,y:1},T=C1(i.convertOffsetParentRelativeRectToViewportRelativeRect?yield i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:R,offsetParent:D,strategy:c}):R);return{top:(C.top-T.top+m.top)/_.y,bottom:(T.bottom-C.bottom+m.bottom)/_.y,left:(C.left-T.left+m.left)/_.x,right:(T.right-C.right+m.right)/_.x}})}var Y9=n=>({name:"arrow",options:n,fn(t){return g(this,null,function*(){let{x:r,y:o,placement:i,rects:a,platform:s,elements:c,middlewareData:l}=t,{element:d,padding:u=0}=mi(n,t)||{};if(d==null)return{};let p=U3(u),h={x:r,y:o},m=Z2(i),k=G2(m),M=yield s.getDimensions(d),C=m==="y",R=C?"top":"left",D=C?"bottom":"right",_=C?"clientHeight":"clientWidth",T=a.reference[k]+a.reference[m]-h[m]-a.floating[k],ne=h[m]-a.reference[m],U=yield s.getOffsetParent==null?void 0:s.getOffsetParent(d),J=U?U[_]:0;(!J||!(yield s.isElement==null?void 0:s.isElement(U)))&&(J=c.floating[_]||a.floating[k]);let Le=T/2-ne/2,P=J/2-M[k]/2-1,Ce=ja(p[R],P),ze=ja(p[D],P),fe=Ce,xt=J-M[k]-ze,lt=J/2-M[k]/2+Le,an=D2(fe,lt,xt),Cr=!l.arrow&&kr(i)!=null&&lt!==an&&a.reference[k]/2-(lt<fe?Ce:ze)-M[k]/2<0,Gt=Cr?lt<fe?lt-fe:lt-xt:0;return{[m]:h[m]+Gt,data:At({[m]:an,centerOffset:lt-an-Gt},Cr&&{alignmentOffset:Gt}),reset:Cr}})}});function X9(n,e,t){return(n?[...t.filter(o=>kr(o)===n),...t.filter(o=>kr(o)!==n)]:t.filter(o=>vr(o)===o)).filter(o=>n?kr(o)===n||(e?M1(o)!==o:!1):!0)}var Q9=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,fn(r){return g(this,null,function*(){var o,i,a;let{rects:s,middlewareData:c,placement:l,platform:d,elements:u}=r,p=mi(e,r),{crossAxis:h=!1,alignment:m,allowedPlacements:k=k3,autoAlignment:M=!0}=p,C=q2(p,W9),R=m!==void 0||k===k3?X9(m||null,M,k):k,D=yield K2(r,C),_=((o=c.autoPlacement)==null?void 0:o.index)||0,T=R[_];if(T==null)return{};let ne=q3(T,s,yield d.isRTL==null?void 0:d.isRTL(u.floating));if(l!==T)return{reset:{placement:R[0]}};let U=[D[vr(T)],D[ne[0]],D[ne[1]]],J=[...((i=c.autoPlacement)==null?void 0:i.overflows)||[],{placement:T,overflows:U}],Le=R[_+1];if(Le)return{data:{index:_+1,overflows:J},reset:{placement:Le}};let P=J.map(fe=>{let xt=kr(fe.placement);return[fe.placement,xt&&h?fe.overflows.slice(0,2).reduce((lt,an)=>lt+an,0):fe.overflows[0],fe.overflows]}).sort((fe,xt)=>fe[1]-xt[1]),ze=((a=P.filter(fe=>fe[2].slice(0,kr(fe[0])?2:3).every(xt=>xt<=0))[0])==null?void 0:a[0])||P[0][0];return ze!==l?{data:{index:_+1,overflows:J},reset:{placement:ze}}:{}})}}},J9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(r){return g(this,null,function*(){var o,i;let{placement:a,middlewareData:s,rects:c,initialPlacement:l,platform:d,elements:u}=r,p=mi(e,r),{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:k,fallbackStrategy:M="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:R=!0}=p,D=q2(p,G9);if((o=s.arrow)!=null&&o.alignmentOffset)return{};let _=vr(a),T=fi(l),ne=vr(l)===l,U=yield d.isRTL==null?void 0:d.isRTL(u.floating),J=k||(ne||!R?[w1(l)]:B9(l)),Le=C!=="none";!k&&Le&&J.push(...U9(l,R,C,U));let P=[l,...J],Ce=yield K2(r,D),ze=[],fe=((i=s.flip)==null?void 0:i.overflows)||[];if(h&&ze.push(Ce[_]),m){let Gt=q3(a,c,U);ze.push(Ce[Gt[0]],Ce[Gt[1]])}if(fe=[...fe,{placement:a,overflows:ze}],!ze.every(Gt=>Gt<=0)){var xt,lt;let Gt=(((xt=s.flip)==null?void 0:xt.index)||0)+1,Mi=P[Gt];if(Mi){var an;let br=m==="alignment"?T!==fi(Mi):!1,xn=((an=fe[0])==null?void 0:an.overflows[0])>0;if(!br||xn)return{data:{index:Gt,overflows:fe},reset:{placement:Mi}}}let _n=(lt=fe.filter(br=>br.overflows[0]<=0).sort((br,xn)=>br.overflows[1]-xn.overflows[1])[0])==null?void 0:lt.placement;if(!_n)switch(M){case"bestFit":{var Cr;let br=(Cr=fe.filter(xn=>{if(Le){let _r=fi(xn.placement);return _r===T||_r==="y"}return!0}).map(xn=>[xn.placement,xn.overflows.filter(_r=>_r>0).reduce((_r,hw)=>_r+hw,0)]).sort((xn,_r)=>xn[1]-_r[1])[0])==null?void 0:Cr[0];br&&(_n=br);break}case"initialPlacement":_n=l;break}if(a!==_n)return{reset:{placement:_n}}}return{}})}}},eD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(r){return g(this,null,function*(){let{x:o,y:i,placement:a}=r,s=mi(e,r),{mainAxis:c=!0,crossAxis:l=!1,limiter:d={fn:D=>{let{x:_,y:T}=D;return{x:_,y:T}}}}=s,u=q2(s,Z9),p={x:o,y:i},h=yield K2(r,u),m=fi(vr(a)),k=W2(m),M=p[k],C=p[m];if(c){let D=k==="y"?"top":"left",_=k==="y"?"bottom":"right",T=M+h[D],ne=M-h[_];M=D2(T,M,ne)}if(l){let D=m==="y"?"top":"left",_=m==="y"?"bottom":"right",T=C+h[D],ne=C-h[_];C=D2(T,C,ne)}let R=d.fn(At({},r,{[k]:M,[m]:C}));return At({},R,{data:{x:R.x-o,y:R.y-i,enabled:{[k]:c,[m]:l}}})})}}},tD=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:r,y:o,placement:i,rects:a,middlewareData:s}=t,{offset:c=0,mainAxis:l=!0,crossAxis:d=!0}=mi(e,t),u={x:r,y:o},p=fi(i),h=W2(p),m=u[h],k=u[p],M=mi(c,t),C=typeof M=="number"?{mainAxis:M,crossAxis:0}:At({mainAxis:0,crossAxis:0},M);if(l){let _=h==="y"?"height":"width",T=a.reference[h]-a.floating[_]+C.mainAxis,ne=a.reference[h]+a.reference[_]-C.mainAxis;m<T?m=T:m>ne&&(m=ne)}if(d){var R,D;let _=h==="y"?"width":"height",T=["top","left"].includes(vr(i)),ne=a.reference[p]-a.floating[_]+(T&&((R=s.offset)==null?void 0:R[p])||0)+(T?0:C.crossAxis),U=a.reference[p]+a.reference[_]+(T?0:((D=s.offset)==null?void 0:D[p])||0)-(T?C.crossAxis:0);k<ne?k=ne:k>U&&(k=U)}return{[h]:m,[p]:k}}}};function _1(){return typeof window<"u"}function Ba(n){return $3(n)?(n.nodeName||"").toLowerCase():"#document"}function $t(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Kn(n){var e;return(e=($3(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function $3(n){return _1()?n instanceof Node||n instanceof $t(n).Node:!1}function Mn(n){return _1()?n instanceof Element||n instanceof $t(n).Element:!1}function Gn(n){return _1()?n instanceof HTMLElement||n instanceof $t(n).HTMLElement:!1}function M3(n){return!_1()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof $t(n).ShadowRoot}function Hc(n){let{overflow:e,overflowX:t,overflowY:r,display:o}=wn(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(o)}function nD(n){return["table","td","th"].includes(Ba(n))}function x1(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Y2(n){let e=X2(),t=Mn(n)?wn(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function rD(n){let e=lo(n);for(;Gn(e)&&!Va(e);){if(Y2(e))return e;if(x1(e))return null;e=lo(e)}return null}function X2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Va(n){return["html","body","#document"].includes(Ba(n))}function wn(n){return $t(n).getComputedStyle(n)}function I1(n){return Mn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function lo(n){if(Ba(n)==="html")return n;let e=n.assignedSlot||n.parentNode||M3(n)&&n.host||Kn(n);return M3(e)?e.host:e}function W3(n){let e=lo(n);return Va(e)?n.ownerDocument?n.ownerDocument.body:n.body:Gn(e)&&Hc(e)?e:W3(e)}function Fc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);let o=W3(n),i=o===((r=n.ownerDocument)==null?void 0:r.body),a=$t(o);if(i){let s=E2(a);return e.concat(a,a.visualViewport||[],Hc(o)?o:[],s&&t?Fc(s):[])}return e.concat(o,Fc(o,[],t))}function E2(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function G3(n){let e=wn(n),t=parseFloat(e.width)||0,r=parseFloat(e.height)||0,o=Gn(n),i=o?n.offsetWidth:t,a=o?n.offsetHeight:r,s=v1(t)!==i||v1(r)!==a;return s&&(t=i,r=a),{width:t,height:r,$:s}}function Q2(n){return Mn(n)?n:n.contextElement}function Ra(n){let e=Q2(n);if(!Gn(e))return Wn(1);let t=e.getBoundingClientRect(),{width:r,height:o,$:i}=G3(e),a=(i?v1(t.width):t.width)/r,s=(i?v1(t.height):t.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}var oD=Wn(0);function Z3(n){let e=$t(n);return!X2()||!e.visualViewport?oD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function iD(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==$t(n)?!1:e}function ki(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);let o=n.getBoundingClientRect(),i=Q2(n),a=Wn(1);e&&(r?Mn(r)&&(a=Ra(r)):a=Ra(n));let s=iD(i,t,r)?Z3(i):Wn(0),c=(o.left+s.x)/a.x,l=(o.top+s.y)/a.y,d=o.width/a.x,u=o.height/a.y;if(i){let p=$t(i),h=r&&Mn(r)?$t(r):r,m=p,k=E2(m);for(;k&&r&&h!==m;){let M=Ra(k),C=k.getBoundingClientRect(),R=wn(k),D=C.left+(k.clientLeft+parseFloat(R.paddingLeft))*M.x,_=C.top+(k.clientTop+parseFloat(R.paddingTop))*M.y;c*=M.x,l*=M.y,d*=M.x,u*=M.y,c+=D,l+=_,m=$t(k),k=E2(m)}}return C1({width:d,height:u,x:c,y:l})}function J2(n,e){let t=I1(n).scrollLeft;return e?e.left+t:ki(Kn(n)).left+t}function K3(n,e,t){t===void 0&&(t=!1);let r=n.getBoundingClientRect(),o=r.left+e.scrollLeft-(t?0:J2(n,r)),i=r.top+e.scrollTop;return{x:o,y:i}}function aD(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n,i=o==="fixed",a=Kn(r),s=e?x1(e.floating):!1;if(r===a||s&&i)return t;let c={scrollLeft:0,scrollTop:0},l=Wn(1),d=Wn(0),u=Gn(r);if((u||!u&&!i)&&((Ba(r)!=="body"||Hc(a))&&(c=I1(r)),Gn(r))){let h=ki(r);l=Ra(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}let p=a&&!u&&!i?K3(a,c,!0):Wn(0);return{width:t.width*l.x,height:t.height*l.y,x:t.x*l.x-c.scrollLeft*l.x+d.x+p.x,y:t.y*l.y-c.scrollTop*l.y+d.y+p.y}}function sD(n){return Array.from(n.getClientRects())}function cD(n){let e=Kn(n),t=I1(n),r=n.ownerDocument.body,o=pi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=pi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight),a=-t.scrollLeft+J2(n),s=-t.scrollTop;return wn(r).direction==="rtl"&&(a+=pi(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}function lD(n,e){let t=$t(n),r=Kn(n),o=t.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,c=0;if(o){i=o.width,a=o.height;let l=X2();(!l||l&&e==="fixed")&&(s=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:s,y:c}}function dD(n,e){let t=ki(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,i=Gn(n)?Ra(n):Wn(1),a=n.clientWidth*i.x,s=n.clientHeight*i.y,c=o*i.x,l=r*i.y;return{width:a,height:s,x:c,y:l}}function w3(n,e,t){let r;if(e==="viewport")r=lD(n,t);else if(e==="document")r=cD(Kn(n));else if(Mn(e))r=dD(e,t);else{let o=Z3(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return C1(r)}function Y3(n,e){let t=lo(n);return t===e||!Mn(t)||Va(t)?!1:wn(t).position==="fixed"||Y3(t,e)}function uD(n,e){let t=e.get(n);if(t)return t;let r=Fc(n,[],!1).filter(s=>Mn(s)&&Ba(s)!=="body"),o=null,i=wn(n).position==="fixed",a=i?lo(n):n;for(;Mn(a)&&!Va(a);){let s=wn(a),c=Y2(a);!c&&s.position==="fixed"&&(o=null),(i?!c&&!o:!c&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Hc(a)&&!c&&Y3(n,a))?r=r.filter(d=>d!==a):o=s,a=lo(a)}return e.set(n,r),r}function hD(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n,a=[...t==="clippingAncestors"?x1(e)?[]:uD(e,this._c):[].concat(t),r],s=a[0],c=a.reduce((l,d)=>{let u=w3(e,d,o);return l.top=pi(u.top,l.top),l.right=ja(u.right,l.right),l.bottom=ja(u.bottom,l.bottom),l.left=pi(u.left,l.left),l},w3(e,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function pD(n){let{width:e,height:t}=G3(n);return{width:e,height:t}}function fD(n,e,t){let r=Gn(e),o=Kn(e),i=t==="fixed",a=ki(n,!0,i,e),s={scrollLeft:0,scrollTop:0},c=Wn(0);function l(){c.x=J2(o)}if(r||!r&&!i)if((Ba(e)!=="body"||Hc(o))&&(s=I1(e)),r){let h=ki(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else o&&l();i&&!r&&o&&l();let d=o&&!r&&!i?K3(o,s):Wn(0),u=a.left+s.scrollLeft-c.x-d.x,p=a.top+s.scrollTop-c.y-d.y;return{x:u,y:p,width:a.width,height:a.height}}function _2(n){return wn(n).position==="static"}function C3(n,e){if(!Gn(n)||wn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Kn(n)===t&&(t=t.ownerDocument.body),t}function X3(n,e){let t=$t(n);if(x1(n))return t;if(!Gn(n)){let o=lo(n);for(;o&&!Va(o);){if(Mn(o)&&!_2(o))return o;o=lo(o)}return t}let r=C3(n,e);for(;r&&nD(r)&&_2(r);)r=C3(r,e);return r&&Va(r)&&_2(r)&&!Y2(r)?t:r||rD(n)||t}var gD=function(e){return g(this,null,function*(){let t=this.getOffsetParent||X3,r=this.getDimensions,o=yield r(e.floating);return{reference:fD(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}})};function yD(n){return wn(n).direction==="rtl"}var mD={convertOffsetParentRelativeRectToViewportRelativeRect:aD,getDocumentElement:Kn,getClippingRect:hD,getOffsetParent:X3,getElementRects:gD,getClientRects:sD,getDimensions:pD,getScale:Ra,isElement:Mn,isRTL:yD};function Q3(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function kD(n,e){let t=null,r,o=Kn(n);function i(){var s;clearTimeout(r),(s=t)==null||s.disconnect(),t=null}function a(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),i();let l=n.getBoundingClientRect(),{left:d,top:u,width:p,height:h}=l;if(s||e(),!p||!h)return;let m=m1(u),k=m1(o.clientWidth-(d+p)),M=m1(o.clientHeight-(u+h)),C=m1(d),D={rootMargin:-m+"px "+-k+"px "+-M+"px "+-C+"px",threshold:pi(0,ja(1,c))||1},_=!0;function T(ne){let U=ne[0].intersectionRatio;if(U!==c){if(!_)return a();U?a(!1,U):r=setTimeout(()=>{a(!1,1e-7)},1e3)}U===1&&!Q3(l,n.getBoundingClientRect())&&a(),_=!1}try{t=new IntersectionObserver(T,At({},D,{root:o.ownerDocument}))}catch{t=new IntersectionObserver(T,D)}t.observe(n)}return a(!0),i}function vD(n,e,t,r){r===void 0&&(r={});let{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=Q2(n),d=o||i?[...l?Fc(l):[],...Fc(e)]:[];d.forEach(C=>{o&&C.addEventListener("scroll",t,{passive:!0}),i&&C.addEventListener("resize",t)});let u=l&&s?kD(l,t):null,p=-1,h=null;a&&(h=new ResizeObserver(C=>{let[R]=C;R&&R.target===l&&h&&(h.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var D;(D=h)==null||D.observe(e)})),t()}),l&&!c&&h.observe(l),h.observe(e));let m,k=c?ki(n):null;c&&M();function M(){let C=ki(n);k&&!Q3(k,C)&&t(),k=C,m=requestAnimationFrame(M)}return t(),()=>{var C;d.forEach(R=>{o&&R.removeEventListener("scroll",t),i&&R.removeEventListener("resize",t)}),u?.(),(C=h)==null||C.disconnect(),h=null,c&&cancelAnimationFrame(m)}}var MD=Q9,wD=eD,CD=J9,bD=Y9,_D=tD,xD=(n,e,t)=>{let r=new Map,o=At({platform:mD},t),i=At({},o.platform,{_c:r});return K9(n,e,At({},o,{platform:i}))};function ID(n){n.cleanup&&n.cleanup();let e=n._getResolvedAttachToOptions(),t=e.element,r=OD(e,n),o=z3(e);return o&&(t=document.body,n.shepherdElementComponent.getElement().classList.add("shepherd-centered")),n.cleanup=vD(t,n.el,()=>{if(!n.el){n.cleanup==null||n.cleanup();return}ED(t,n,r,o)}),n.target=e.element,r}function SD(n,e){return{floatingUIOptions:U2(n.floatingUIOptions||{},e.floatingUIOptions||{})}}function DD(n){n.cleanup&&n.cleanup(),n.cleanup=null}function ED(n,e,t,r){return xD(n,e.el,t).then(LD(e,r)).then(o=>new Promise(i=>{setTimeout(()=>i(o),300)})).then(o=>{o!=null&&o.el&&(o.el.tabIndex=0,o.el.focus({preventScroll:!0}))})}function LD(n,e){return({x:t,y:r,placement:o,middlewareData:i})=>(n.el&&(e?Object.assign(n.el.style,{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}):Object.assign(n.el.style,{position:"absolute",left:`${t}px`,top:`${r}px`}),n.el.dataset.popperPlacement=o,PD(n.el,i)),n)}function PD(n,e){let t=n.querySelector(".shepherd-arrow");if(Fa(t)&&e.arrow){let{x:r,y:o}=e.arrow;Object.assign(t.style,{left:r!=null?`${r}px`:"",top:o!=null?`${o}px`:""})}}function OD(n,e){var t,r,o;let i={strategy:"absolute"};i.middleware=[];let a=AD(e),s=z3(n),c=(t=n.on)==null?void 0:t.includes("auto"),l=(n==null||(r=n.on)==null?void 0:r.includes("-start"))||(n==null||(o=n.on)==null?void 0:o.includes("-end"));if(!s){if(c){var d;i.middleware.push(MD({crossAxis:!0,alignment:l?n==null||(d=n.on)==null?void 0:d.split("-").pop():null}))}else i.middleware.push(CD());if(i.middleware.push(wD({limiter:_D(),crossAxis:!0})),a){let u=typeof e.options.arrow=="object"?e.options.arrow:{padding:4};i.middleware.push(bD({element:a,padding:l?u.padding:0}))}c||(i.placement=n.on)}return U2(i,e.options.floatingUIOptions||{})}function AD(n){return n.options.arrow&&n.el?n.el.querySelector(".shepherd-arrow"):!1}function Wt(){}function TD(n,e){for(let t in e)n[t]=e[t];return n}function J3(n){return n()}function b3(){return Object.create(null)}function zc(n){n.forEach(J3)}function eg(n){return typeof n=="function"}function Mr(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function RD(n){return Object.keys(n).length===0}function Ha(n,e){n.appendChild(e)}function bn(n,e,t){n.insertBefore(e,t||null)}function on(n){n.parentNode&&n.parentNode.removeChild(n)}function ND(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function Zn(n){return document.createElement(n)}function _3(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ew(n){return document.createTextNode(n)}function b1(){return ew(" ")}function FD(){return ew("")}function S1(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function _e(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}var jD=["width","height"];function x3(n,e){let t=Object.getOwnPropertyDescriptors(n.__proto__);for(let r in e)e[r]==null?n.removeAttribute(r):r==="style"?n.style.cssText=e[r]:r==="__value"?n.value=n[r]=e[r]:t[r]&&t[r].set&&jD.indexOf(r)===-1?n[r]=e[r]:_e(n,r,e[r])}function VD(n){return Array.from(n.childNodes)}function Oa(n,e,t){n.classList.toggle(e,!!t)}var jc;function Tc(n){jc=n}function tg(){if(!jc)throw new Error("Function called outside component initialization");return jc}function HD(n){tg().$$.on_mount.push(n)}function ng(n){tg().$$.after_update.push(n)}function zD(n){tg().$$.on_destroy.push(n)}var Ta=[],za=[],Na=[],I3=[],BD=Promise.resolve(),L2=!1;function qD(){L2||(L2=!0,BD.then(tw))}function P2(n){Na.push(n)}var x2=new Set,Aa=0;function tw(){if(Aa!==0)return;let n=jc;do{try{for(;Aa<Ta.length;){let e=Ta[Aa];Aa++,Tc(e),UD(e.$$)}}catch(e){throw Ta.length=0,Aa=0,e}for(Tc(null),Ta.length=0,Aa=0;za.length;)za.pop()();for(let e=0;e<Na.length;e+=1){let t=Na[e];x2.has(t)||(x2.add(t),t())}Na.length=0}while(Ta.length);for(;I3.length;)I3.pop()();L2=!1,x2.clear(),Tc(n)}function UD(n){if(n.fragment!==null){n.update(),zc(n.before_update);let e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(P2)}}function $D(n){let e=[],t=[];Na.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),Na=e}var k1=new Set,hi;function gi(){hi={r:0,c:[],p:hi}}function yi(){hi.r||zc(hi.c),hi=hi.p}function ke(n,e){n&&n.i&&(k1.delete(n),n.i(e))}function He(n,e,t,r){if(n&&n.o){if(k1.has(n))return;k1.add(n),hi.c.push(()=>{k1.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function S3(n){return n?.length!==void 0?n:Array.from(n)}function WD(n,e){let t={},r={},o={$$scope:1},i=n.length;for(;i--;){let a=n[i],s=e[i];if(s){for(let c in a)c in s||(r[c]=1);for(let c in s)o[c]||(t[c]=s[c],o[c]=1);n[i]=s}else for(let c in a)o[c]=1}for(let a in r)a in t||(t[a]=void 0);return t}function vi(n){n&&n.c()}function ho(n,e,t){let{fragment:r,after_update:o}=n.$$;r&&r.m(e,t),P2(()=>{let i=n.$$.on_mount.map(J3).filter(eg);n.$$.on_destroy?n.$$.on_destroy.push(...i):zc(i),n.$$.on_mount=[]}),o.forEach(P2)}function po(n,e){let t=n.$$;t.fragment!==null&&($D(t.after_update),zc(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function GD(n,e){n.$$.dirty[0]===-1&&(Ta.push(n),qD(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function wr(n,e,t,r,o,i,a=null,s=[-1]){let c=jc;Tc(n);let l=n.$$={fragment:null,ctx:[],props:i,update:Wt,not_equal:o,bound:b3(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:b3(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};a&&a(l.root);let d=!1;if(l.ctx=t?t(n,e.props||{},(u,p,...h)=>{let m=h.length?h[0]:p;return l.ctx&&o(l.ctx[u],l.ctx[u]=m)&&(!l.skip_bound&&l.bound[u]&&l.bound[u](m),d&&GD(n,u)),p}):[],l.update(),d=!0,zc(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){let u=VD(e.target);l.fragment&&l.fragment.l(u),u.forEach(on)}else l.fragment&&l.fragment.c();e.intro&&ke(n.$$.fragment),ho(n,e.target,e.anchor),tw()}Tc(c)}var Cn=class{constructor(){this.$$=void 0,this.$$set=void 0}$destroy(){po(this,1),this.$destroy=Wt}$on(e,t){if(!eg(t))return Wt;let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!RD(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}},ZD="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ZD);function KD(n){let e,t,r,o,i;return{c(){e=Zn("button"),_e(e,"aria-label",t=n[3]?n[3]:null),_e(e,"class",r=`${n[1]||""} shepherd-button ${n[4]?"shepherd-button-secondary":""}`),e.disabled=n[2],_e(e,"tabindex","0"),_e(e,"type","button")},m(a,s){bn(a,e,s),e.innerHTML=n[5],o||(i=S1(e,"click",function(){eg(n[0])&&n[0].apply(this,arguments)}),o=!0)},p(a,[s]){n=a,s&32&&(e.innerHTML=n[5]),s&8&&t!==(t=n[3]?n[3]:null)&&_e(e,"aria-label",t),s&18&&r!==(r=`${n[1]||""} shepherd-button ${n[4]?"shepherd-button-secondary":""}`)&&_e(e,"class",r),s&4&&(e.disabled=n[2])},i:Wt,o:Wt,d(a){a&&on(e),o=!1,i()}}}function YD(n,e,t){let{config:r,step:o}=e,i,a,s,c,l,d;function u(p){return co(p)?p=p.call(o):p}return n.$$set=p=>{"config"in p&&t(6,r=p.config),"step"in p&&t(7,o=p.step)},n.$$.update=()=>{n.$$.dirty&192&&(t(0,i=r.action?r.action.bind(o.tour):null),t(1,a=r.classes),t(2,s=r.disabled?u(r.disabled):!1),t(3,c=r.label?u(r.label):null),t(4,l=r.secondary),t(5,d=r.text?u(r.text):null))},[i,a,s,c,l,d,r,o]}var O2=class extends Cn{constructor(e){super(),wr(this,e,YD,KD,Mr,{config:6,step:7})}};function D3(n,e,t){let r=n.slice();return r[2]=e[t],r}function E3(n){let e,t,r=S3(n[1]),o=[];for(let a=0;a<r.length;a+=1)o[a]=L3(D3(n,r,a));let i=a=>He(o[a],1,1,()=>{o[a]=null});return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=FD()},m(a,s){for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(a,s);bn(a,e,s),t=!0},p(a,s){if(s&3){r=S3(a[1]);let c;for(c=0;c<r.length;c+=1){let l=D3(a,r,c);o[c]?(o[c].p(l,s),ke(o[c],1)):(o[c]=L3(l),o[c].c(),ke(o[c],1),o[c].m(e.parentNode,e))}for(gi(),c=r.length;c<o.length;c+=1)i(c);yi()}},i(a){if(!t){for(let s=0;s<r.length;s+=1)ke(o[s]);t=!0}},o(a){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)He(o[s]);t=!1},d(a){a&&on(e),ND(o,a)}}}function L3(n){let e,t;return e=new O2({props:{config:n[2],step:n[0]}}),{c(){vi(e.$$.fragment)},m(r,o){ho(e,r,o),t=!0},p(r,o){let i={};o&2&&(i.config=r[2]),o&1&&(i.step=r[0]),e.$set(i)},i(r){t||(ke(e.$$.fragment,r),t=!0)},o(r){He(e.$$.fragment,r),t=!1},d(r){po(e,r)}}}function XD(n){let e,t,r=n[1]&&E3(n);return{c(){e=Zn("footer"),r&&r.c(),_e(e,"class","shepherd-footer")},m(o,i){bn(o,e,i),r&&r.m(e,null),t=!0},p(o,[i]){o[1]?r?(r.p(o,i),i&2&&ke(r,1)):(r=E3(o),r.c(),ke(r,1),r.m(e,null)):r&&(gi(),He(r,1,1,()=>{r=null}),yi())},i(o){t||(ke(r),t=!0)},o(o){He(r),t=!1},d(o){o&&on(e),r&&r.d()}}}function QD(n,e,t){let r,{step:o}=e;return n.$$set=i=>{"step"in i&&t(0,o=i.step)},n.$$.update=()=>{n.$$.dirty&1&&t(1,r=o.options.buttons)},[o,r]}var A2=class extends Cn{constructor(e){super(),wr(this,e,QD,XD,Mr,{step:0})}};function JD(n){let e,t,r,o,i;return{c(){e=Zn("button"),t=Zn("span"),t.textContent="\xD7",_e(t,"aria-hidden","true"),_e(e,"aria-label",r=n[0].label?n[0].label:"Close Tour"),_e(e,"class","shepherd-cancel-icon"),_e(e,"type","button")},m(a,s){bn(a,e,s),Ha(e,t),o||(i=S1(e,"click",n[1]),o=!0)},p(a,[s]){s&1&&r!==(r=a[0].label?a[0].label:"Close Tour")&&_e(e,"aria-label",r)},i:Wt,o:Wt,d(a){a&&on(e),o=!1,i()}}}function eE(n,e,t){let{cancelIcon:r,step:o}=e,i=a=>{a.preventDefault(),o.cancel()};return n.$$set=a=>{"cancelIcon"in a&&t(0,r=a.cancelIcon),"step"in a&&t(2,o=a.step)},[r,i,o]}var T2=class extends Cn{constructor(e){super(),wr(this,e,eE,JD,Mr,{cancelIcon:0,step:2})}};function tE(n){let e;return{c(){e=Zn("h3"),_e(e,"id",n[1]),_e(e,"class","shepherd-title")},m(t,r){bn(t,e,r),n[3](e)},p(t,[r]){r&2&&_e(e,"id",t[1])},i:Wt,o:Wt,d(t){t&&on(e),n[3](null)}}}function nE(n,e,t){let{labelId:r,element:o,title:i}=e;ng(()=>{co(i)&&t(2,i=i()),t(0,o.innerHTML=i,o)});function a(s){za[s?"unshift":"push"](()=>{o=s,t(0,o)})}return n.$$set=s=>{"labelId"in s&&t(1,r=s.labelId),"element"in s&&t(0,o=s.element),"title"in s&&t(2,i=s.title)},[o,r,i,a]}var R2=class extends Cn{constructor(e){super(),wr(this,e,nE,tE,Mr,{labelId:1,element:0,title:2})}};function P3(n){let e,t;return e=new R2({props:{labelId:n[0],title:n[2]}}),{c(){vi(e.$$.fragment)},m(r,o){ho(e,r,o),t=!0},p(r,o){let i={};o&1&&(i.labelId=r[0]),o&4&&(i.title=r[2]),e.$set(i)},i(r){t||(ke(e.$$.fragment,r),t=!0)},o(r){He(e.$$.fragment,r),t=!1},d(r){po(e,r)}}}function O3(n){let e,t;return e=new T2({props:{cancelIcon:n[3],step:n[1]}}),{c(){vi(e.$$.fragment)},m(r,o){ho(e,r,o),t=!0},p(r,o){let i={};o&8&&(i.cancelIcon=r[3]),o&2&&(i.step=r[1]),e.$set(i)},i(r){t||(ke(e.$$.fragment,r),t=!0)},o(r){He(e.$$.fragment,r),t=!1},d(r){po(e,r)}}}function rE(n){let e,t,r,o=n[2]&&P3(n),i=n[3]&&n[3].enabled&&O3(n);return{c(){e=Zn("header"),o&&o.c(),t=b1(),i&&i.c(),_e(e,"class","shepherd-header")},m(a,s){bn(a,e,s),o&&o.m(e,null),Ha(e,t),i&&i.m(e,null),r=!0},p(a,[s]){a[2]?o?(o.p(a,s),s&4&&ke(o,1)):(o=P3(a),o.c(),ke(o,1),o.m(e,t)):o&&(gi(),He(o,1,1,()=>{o=null}),yi()),a[3]&&a[3].enabled?i?(i.p(a,s),s&8&&ke(i,1)):(i=O3(a),i.c(),ke(i,1),i.m(e,null)):i&&(gi(),He(i,1,1,()=>{i=null}),yi())},i(a){r||(ke(o),ke(i),r=!0)},o(a){He(o),He(i),r=!1},d(a){a&&on(e),o&&o.d(),i&&i.d()}}}function oE(n,e,t){let{labelId:r,step:o}=e,i,a;return n.$$set=s=>{"labelId"in s&&t(0,r=s.labelId),"step"in s&&t(1,o=s.step)},n.$$.update=()=>{n.$$.dirty&2&&(t(2,i=o.options.title),t(3,a=o.options.cancelIcon))},[r,o,i,a]}var N2=class extends Cn{constructor(e){super(),wr(this,e,oE,rE,Mr,{labelId:0,step:1})}};function iE(n){let e;return{c(){e=Zn("div"),_e(e,"class","shepherd-text"),_e(e,"id",n[1])},m(t,r){bn(t,e,r),n[3](e)},p(t,[r]){r&2&&_e(e,"id",t[1])},i:Wt,o:Wt,d(t){t&&on(e),n[3](null)}}}function aE(n,e,t){let{descriptionId:r,element:o,step:i}=e;ng(()=>{let{text:s}=i.options;co(s)&&(s=s.call(i)),Fa(s)?o.appendChild(s):t(0,o.innerHTML=s,o)});function a(s){za[s?"unshift":"push"](()=>{o=s,t(0,o)})}return n.$$set=s=>{"descriptionId"in s&&t(1,r=s.descriptionId),"element"in s&&t(0,o=s.element),"step"in s&&t(2,i=s.step)},[o,r,i,a]}var F2=class extends Cn{constructor(e){super(),wr(this,e,aE,iE,Mr,{descriptionId:1,element:0,step:2})}};function A3(n){let e,t;return e=new N2({props:{labelId:n[1],step:n[2]}}),{c(){vi(e.$$.fragment)},m(r,o){ho(e,r,o),t=!0},p(r,o){let i={};o&2&&(i.labelId=r[1]),o&4&&(i.step=r[2]),e.$set(i)},i(r){t||(ke(e.$$.fragment,r),t=!0)},o(r){He(e.$$.fragment,r),t=!1},d(r){po(e,r)}}}function T3(n){let e,t;return e=new F2({props:{descriptionId:n[0],step:n[2]}}),{c(){vi(e.$$.fragment)},m(r,o){ho(e,r,o),t=!0},p(r,o){let i={};o&1&&(i.descriptionId=r[0]),o&4&&(i.step=r[2]),e.$set(i)},i(r){t||(ke(e.$$.fragment,r),t=!0)},o(r){He(e.$$.fragment,r),t=!1},d(r){po(e,r)}}}function R3(n){let e,t;return e=new A2({props:{step:n[2]}}),{c(){vi(e.$$.fragment)},m(r,o){ho(e,r,o),t=!0},p(r,o){let i={};o&4&&(i.step=r[2]),e.$set(i)},i(r){t||(ke(e.$$.fragment,r),t=!0)},o(r){He(e.$$.fragment,r),t=!1},d(r){po(e,r)}}}function sE(n){let e,t=!kt(n[2].options.title)||n[2].options.cancelIcon&&n[2].options.cancelIcon.enabled,r,o=!kt(n[2].options.text),i,a=Array.isArray(n[2].options.buttons)&&n[2].options.buttons.length,s,c=t&&A3(n),l=o&&T3(n),d=a&&R3(n);return{c(){e=Zn("div"),c&&c.c(),r=b1(),l&&l.c(),i=b1(),d&&d.c(),_e(e,"class","shepherd-content")},m(u,p){bn(u,e,p),c&&c.m(e,null),Ha(e,r),l&&l.m(e,null),Ha(e,i),d&&d.m(e,null),s=!0},p(u,[p]){p&4&&(t=!kt(u[2].options.title)||u[2].options.cancelIcon&&u[2].options.cancelIcon.enabled),t?c?(c.p(u,p),p&4&&ke(c,1)):(c=A3(u),c.c(),ke(c,1),c.m(e,r)):c&&(gi(),He(c,1,1,()=>{c=null}),yi()),p&4&&(o=!kt(u[2].options.text)),o?l?(l.p(u,p),p&4&&ke(l,1)):(l=T3(u),l.c(),ke(l,1),l.m(e,i)):l&&(gi(),He(l,1,1,()=>{l=null}),yi()),p&4&&(a=Array.isArray(u[2].options.buttons)&&u[2].options.buttons.length),a?d?(d.p(u,p),p&4&&ke(d,1)):(d=R3(u),d.c(),ke(d,1),d.m(e,null)):d&&(gi(),He(d,1,1,()=>{d=null}),yi())},i(u){s||(ke(c),ke(l),ke(d),s=!0)},o(u){He(c),He(l),He(d),s=!1},d(u){u&&on(e),c&&c.d(),l&&l.d(),d&&d.d()}}}function cE(n,e,t){let{descriptionId:r,labelId:o,step:i}=e;return n.$$set=a=>{"descriptionId"in a&&t(0,r=a.descriptionId),"labelId"in a&&t(1,o=a.labelId),"step"in a&&t(2,i=a.step)},[r,o,i]}var j2=class extends Cn{constructor(e){super(),wr(this,e,cE,sE,Mr,{descriptionId:0,labelId:1,step:2})}};function N3(n){let e;return{c(){e=Zn("div"),_e(e,"class","shepherd-arrow"),_e(e,"data-popper-arrow","")},m(t,r){bn(t,e,r)},d(t){t&&on(e)}}}function lE(n){let e,t,r,o,i,a,s,c,l=n[4].options.arrow&&n[4].options.attachTo&&n[4].options.attachTo.element&&n[4].options.attachTo.on&&N3();r=new j2({props:{descriptionId:n[2],labelId:n[3],step:n[4]}});let d=[{"aria-describedby":o=kt(n[4].options.text)?null:n[2]},{"aria-labelledby":i=n[4].options.title?n[3]:null},n[1],{open:"true"}],u={};for(let p=0;p<d.length;p+=1)u=TD(u,d[p]);return{c(){e=Zn("dialog"),l&&l.c(),t=b1(),vi(r.$$.fragment),x3(e,u),Oa(e,"shepherd-has-cancel-icon",n[5]),Oa(e,"shepherd-has-title",n[6]),Oa(e,"shepherd-element",!0)},m(p,h){bn(p,e,h),l&&l.m(e,null),Ha(e,t),ho(r,e,null),n[18](e),a=!0,s||(c=S1(e,"keydown",n[7]),s=!0)},p(p,[h]){p[4].options.arrow&&p[4].options.attachTo&&p[4].options.attachTo.element&&p[4].options.attachTo.on?l||(l=N3(),l.c(),l.m(e,t)):l&&(l.d(1),l=null);let m={};h&4&&(m.descriptionId=p[2]),h&8&&(m.labelId=p[3]),h&16&&(m.step=p[4]),r.$set(m),x3(e,u=WD(d,[(!a||h&20&&o!==(o=kt(p[4].options.text)?null:p[2]))&&{"aria-describedby":o},(!a||h&24&&i!==(i=p[4].options.title?p[3]:null))&&{"aria-labelledby":i},h&2&&p[1],{open:"true"}])),Oa(e,"shepherd-has-cancel-icon",p[5]),Oa(e,"shepherd-has-title",p[6]),Oa(e,"shepherd-element",!0)},i(p){a||(ke(r.$$.fragment,p),a=!0)},o(p){He(r.$$.fragment,p),a=!1},d(p){p&&on(e),l&&l.d(),po(r),n[18](null),s=!1,c()}}}var dE=9,uE=27,hE=37,pE=39;function F3(n){return n.split(" ").filter(e=>!!e.length)}function fE(n,e,t){let{attachToElement:r,attachTofocusableDialogElements:o,classPrefix:i,element:a,descriptionId:s,focusableAttachToElements:c,firstFocusableAttachToElement:l,lastFocusableAttachToElement:d,firstFocusableDialogElement:u,focusableDialogElements:p,lastFocusableDialogElement:h,labelId:m,step:k,dataStepId:M}=e,C,R,D,_=()=>a;HD(()=>{t(1,M={[`data-${i}shepherd-step-id`]:k.id}),t(13,p=[...a.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')]),t(12,u=p[0]),t(14,h=p[p.length-1]);let P=k._getResolvedAttachToOptions();P!=null&&P.element&&(t(8,r=P.element),t(8,r.tabIndex=0,r),t(9,c=[r,...r.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')]),t(10,l=c[0]),t(11,d=c[c.length-1]),r.addEventListener("keydown",J))}),zD(()=>{var P;(P=r)==null||P.removeEventListener("keydown",J)}),ng(()=>{D!==k.options.classes&&T()});function T(){ne(D),D=k.options.classes,U(D)}function ne(P){if(Rc(P)){let Ce=F3(P);Ce.length&&a.classList.remove(...Ce)}}function U(P){if(Rc(P)){let Ce=F3(P);Ce.length&&a.classList.add(...Ce)}}let J=P=>{let{tour:Ce}=k;switch(P.keyCode){case dE:if((!c||c.length===0)&&p.length===0){P.preventDefault();break}if(P.shiftKey)if(document.activeElement===u||document.activeElement.classList.contains("shepherd-element")){var ze;P.preventDefault(),((ze=d)!=null?ze:h).focus()}else document.activeElement===l&&(P.preventDefault(),h.focus());else if(document.activeElement===h){var fe;P.preventDefault(),((fe=l)!=null?fe:u).focus()}else document.activeElement===d&&(P.preventDefault(),u.focus());break;case uE:Ce.options.exitOnEsc&&(P.preventDefault(),P.stopPropagation(),k.cancel());break;case hE:Ce.options.keyboardNavigation&&(P.preventDefault(),P.stopPropagation(),Ce.back());break;case pE:Ce.options.keyboardNavigation&&(P.preventDefault(),P.stopPropagation(),Ce.next());break}};function Le(P){za[P?"unshift":"push"](()=>{a=P,t(0,a)})}return n.$$set=P=>{"attachToElement"in P&&t(8,r=P.attachToElement),"attachTofocusableDialogElements"in P&&t(15,o=P.attachTofocusableDialogElements),"classPrefix"in P&&t(16,i=P.classPrefix),"element"in P&&t(0,a=P.element),"descriptionId"in P&&t(2,s=P.descriptionId),"focusableAttachToElements"in P&&t(9,c=P.focusableAttachToElements),"firstFocusableAttachToElement"in P&&t(10,l=P.firstFocusableAttachToElement),"lastFocusableAttachToElement"in P&&t(11,d=P.lastFocusableAttachToElement),"firstFocusableDialogElement"in P&&t(12,u=P.firstFocusableDialogElement),"focusableDialogElements"in P&&t(13,p=P.focusableDialogElements),"lastFocusableDialogElement"in P&&t(14,h=P.lastFocusableDialogElement),"labelId"in P&&t(3,m=P.labelId),"step"in P&&t(4,k=P.step),"dataStepId"in P&&t(1,M=P.dataStepId)},n.$$.update=()=>{n.$$.dirty&16&&(t(5,C=k.options&&k.options.cancelIcon&&k.options.cancelIcon.enabled),t(6,R=k.options&&k.options.title))},[a,M,s,m,k,C,R,J,r,c,l,d,u,p,h,o,i,_,Le]}var V2=class extends Cn{constructor(e){super(),wr(this,e,fE,lE,Mr,{attachToElement:8,attachTofocusableDialogElements:15,classPrefix:16,element:0,descriptionId:2,focusableAttachToElements:9,firstFocusableAttachToElement:10,lastFocusableAttachToElement:11,firstFocusableDialogElement:12,focusableDialogElements:13,lastFocusableDialogElement:14,labelId:3,step:4,dataStepId:1,getElement:17})}get getElement(){return this.$$.ctx[17]}},Vc=class extends Nc{constructor(e,t={}){return super(),this._resolvedAttachTo=void 0,this._resolvedExtraHighlightElements=void 0,this.classPrefix=void 0,this.el=void 0,this.target=void 0,this.tour=void 0,this.tour=e,this.classPrefix=this.tour.options?H3(this.tour.options.classPrefix):"",this.styles=e.styles,this._resolvedAttachTo=null,$2(this),this._setOptions(t),this}cancel(){this.tour.cancel(),this.trigger("cancel")}complete(){this.tour.complete(),this.trigger("complete")}destroy(){DD(this),Fa(this.el)&&(this.el.remove(),this.el=null),this._updateStepTargetOnHide(),this.trigger("destroy")}getTour(){return this.tour}hide(){var e;(e=this.tour.modal)==null||e.hide(),this.trigger("before-hide"),this.el&&(this.el.hidden=!0),this._updateStepTargetOnHide(),this.trigger("hide")}_resolveExtraHiglightElements(){return this._resolvedExtraHighlightElements=j9(this),this._resolvedExtraHighlightElements}_resolveAttachToOptions(){return this._resolvedAttachTo=F9(this),this._resolvedAttachTo}_getResolvedAttachToOptions(){return this._resolvedAttachTo===null?this._resolveAttachToOptions():this._resolvedAttachTo}isOpen(){return!!(this.el&&!this.el.hidden)}show(){return co(this.options.beforeShowPromise)?Promise.resolve(this.options.beforeShowPromise()).then(()=>this._show()):Promise.resolve(this._show())}updateStepOptions(e){Object.assign(this.options,e),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}getElement(){return this.el}getTarget(){return this.target}_createTooltipContent(){let e=`${this.id}-description`,t=`${this.id}-label`;return this.shepherdElementComponent=new V2({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:e,labelId:t,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()}_scrollTo(e){let{element:t}=this._getResolvedAttachToOptions();co(this.options.scrollToHandler)?this.options.scrollToHandler(t):k9(t)&&typeof t.scrollIntoView=="function"&&t.scrollIntoView(e)}_getClassOptions(e){let t=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,r=e.classes?e.classes:"",o=t&&t.classes?t.classes:"",i=[...r.split(" "),...o.split(" ")],a=new Set(i);return Array.from(a).join(" ").trim()}_setOptions(e={}){let t=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;t=U2({},t||{}),this.options=Object.assign({arrow:!0},t,e,SD(t,e));let{when:r}=this.options;this.options.classes=this._getClassOptions(e),this.destroy(),this.id=this.options.id||`step-${B3()}`,r&&Object.keys(r).forEach(o=>{this.on(o,r[o],this)})}_setupElements(){kt(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&N9(this),ID(this)}_show(){var e;this.trigger("before-show"),this._resolveAttachToOptions(),this._resolveExtraHiglightElements(),this._setupElements(),this.tour.modal||this.tour.setupModal(),(e=this.tour.modal)==null||e.setupForStep(this),this._styleTargetElementForStep(this),this.el&&(this.el.hidden=!1),this.options.scrollTo&&setTimeout(()=>{this._scrollTo(this.options.scrollTo)}),this.el&&(this.el.hidden=!1);let t=this.shepherdElementComponent.getElement(),r=this.target||document.body,o=this._resolvedExtraHighlightElements;r.classList.add(`${this.classPrefix}shepherd-enabled`),r.classList.add(`${this.classPrefix}shepherd-target`),t.classList.add("shepherd-enabled"),o?.forEach(i=>{i.classList.add(`${this.classPrefix}shepherd-enabled`),i.classList.add(`${this.classPrefix}shepherd-target`)}),this.trigger("show")}_styleTargetElementForStep(e){let t=e.target,r=e._resolvedExtraHighlightElements;if(!t)return;let o=e.options.highlightClass;o&&(t.classList.add(o),r?.forEach(i=>i.classList.add(o))),t.classList.remove("shepherd-target-click-disabled"),r?.forEach(i=>i.classList.remove("shepherd-target-click-disabled")),e.options.canClickTarget===!1&&(t.classList.add("shepherd-target-click-disabled"),r?.forEach(i=>i.classList.add("shepherd-target-click-disabled")))}_updateStepTargetOnHide(){let e=this.target||document.body,t=this._resolvedExtraHighlightElements,r=this.options.highlightClass;r&&(e.classList.remove(r),t?.forEach(o=>o.classList.remove(r))),e.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`),t?.forEach(o=>{o.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`)})}};function gE(n){if(n){let{steps:e}=n;e.forEach(t=>{t.options&&t.options.canClickTarget===!1&&t.options.attachTo&&(Fa(t.target)&&t.target.classList.remove("shepherd-target-click-disabled"),t._resolvedExtraHighlightElements&&t._resolvedExtraHighlightElements.forEach(r=>{Fa(r)&&r.classList.remove("shepherd-target-click-disabled")}))})}}function yE(n){let e="",{innerWidth:t,innerHeight:r}=window;return n.forEach(o=>{let{width:i,height:a,x:s=0,y:c=0,r:l=0}=o,{topLeft:d=0,topRight:u=0,bottomRight:p=0,bottomLeft:h=0}=typeof l=="number"?{topLeft:l,topRight:l,bottomRight:l,bottomLeft:l}:l;e+=`M${s+d},${c}      a${d},${d},0,0,0-${d},${d}      V${a+c-h}      a${h},${h},0,0,0,${h},${h}      H${i+s-p}      a${p},${p},0,0,0,${p}-${p}      V${c+u}      a${u},${u},0,0,0-${u}-${u}      Z`}),`M${t},${r}          H0          V0          H${t}          V${r}          Z          ${e}`.replace(/\s/g,"")}function mE(n){let e,t,r,o,i;return{c(){e=_3("svg"),t=_3("path"),_e(t,"d",n[2]),_e(e,"class",r=`${n[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)},m(a,s){bn(a,e,s),Ha(e,t),n[11](e),o||(i=S1(e,"touchmove",n[3]),o=!0)},p(a,[s]){s&4&&_e(t,"d",a[2]),s&2&&r!==(r=`${a[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)&&_e(e,"class",r)},i:Wt,o:Wt,d(a){a&&on(e),n[11](null),o=!1,i()}}}function nw(n){if(!n)return null;let t=n instanceof HTMLElement&&window.getComputedStyle(n).overflowY;return t!=="hidden"&&t!=="visible"&&n.scrollHeight>=n.clientHeight?n:nw(n.parentElement)}function kE(n){let e={top:0,left:0};if(!n)return e;let t=n.ownerDocument.defaultView;for(;t!==window.top;){var r;let a=(r=t)==null?void 0:r.frameElement;if(a){var o,i;let s=a.getBoundingClientRect();e.top+=s.top+((o=s.scrollTop)!=null?o:0),e.left+=s.left+((i=s.scrollLeft)!=null?i:0)}t=t.parent}return e}function vE(n,e){let t=n.getBoundingClientRect(),r=t.y||t.top,o=t.bottom||r+t.height;if(e){let a=e.getBoundingClientRect(),s=a.y||a.top,c=a.bottom||s+a.height;r=Math.max(r,s),o=Math.min(o,c)}let i=Math.max(o-r,0);return{y:r,height:i}}function ME(n,e,t){let{element:r,openingProperties:o}=e,i=!1,a,s;l();let c=()=>r;function l(){t(4,o=[{width:0,height:0,x:0,y:0,r:0}])}function d(){t(1,i=!1),C()}function u(_=0,T=0,ne=0,U=0,J,Le,P){if(Le){let Ce=[Le,...P||[]];t(4,o=[]);for(let ze of Ce){if(!ze||Ce.indexOf(ze)!==Ce.lastIndexOf(ze))continue;let{y:fe,height:xt}=vE(ze,J),{x:lt,width:an,left:Cr}=ze.getBoundingClientRect();Ce.some(Mi=>{if(Mi===ze)return!1;let _n=Mi.getBoundingClientRect();return lt>=_n.left&&lt+an<=_n.right&&fe>=_n.top&&fe+xt<=_n.bottom})||o.push({width:an+_*2,height:xt+_*2,x:(lt||Cr)+ne-_,y:fe+U-_,r:T})}}else l()}function p(_){C(),_.tour.options.useModalOverlay?(R(_),h()):d()}function h(){t(1,i=!0)}let m=_=>{_.preventDefault()},k=_=>{_.stopPropagation()};function M(){window.addEventListener("touchmove",m,{passive:!1})}function C(){a&&(cancelAnimationFrame(a),a=void 0),window.removeEventListener("touchmove",m,{passive:!1})}function R(_){let{modalOverlayOpeningPadding:T,modalOverlayOpeningRadius:ne,modalOverlayOpeningXOffset:U=0,modalOverlayOpeningYOffset:J=0}=_.options,Le=kE(_.target),P=nw(_.target),Ce=()=>{a=void 0,u(T,ne,U+Le.left,J+Le.top,P,_.target,_._resolvedExtraHighlightElements),a=requestAnimationFrame(Ce)};Ce(),M()}function D(_){za[_?"unshift":"push"](()=>{r=_,t(0,r)})}return n.$$set=_=>{"element"in _&&t(0,r=_.element),"openingProperties"in _&&t(4,o=_.openingProperties)},n.$$.update=()=>{n.$$.dirty&16&&t(2,s=yE(o))},[r,i,s,k,o,c,l,d,u,p,h,D]}var H2=class extends Cn{constructor(e){super(),wr(this,e,ME,mE,Mr,{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10})}get getElement(){return this.$$.ctx[5]}get closeModalOpening(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}get positionModal(){return this.$$.ctx[8]}get setupForStep(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}},z2=class extends Nc{constructor(){super(),this.activeTour=void 0,$2(this)}},B2=class extends Nc{constructor(e={}){super(),this.trackedEvents=["active","cancel","complete","show"],this.classPrefix=void 0,this.currentStep=void 0,this.focusedElBeforeOpen=void 0,this.id=void 0,this.modal=void 0,this.options=void 0,this.steps=void 0,$2(this);let t={exitOnEsc:!0,keyboardNavigation:!0};return this.options=Object.assign({},t,e),this.classPrefix=H3(this.options.classPrefix),this.steps=[],this.addSteps(this.options.steps),["active","cancel","complete","inactive","show","start"].map(o=>{(i=>{this.on(i,a=>{a=a||{},a.tour=this,$n.trigger(i,a)})})(o)}),this._setTourID(e.id),this}addStep(e,t){let r=e;return r instanceof Vc?r.tour=this:r=new Vc(this,r),kt(t)?this.steps.push(r):this.steps.splice(t,0,r),r}addSteps(e){return Array.isArray(e)&&e.forEach(t=>{this.addStep(t)}),this}back(){let e=this.steps.indexOf(this.currentStep);this.show(e-1,!1)}cancel(){return g(this,null,function*(){if(this.options.confirmCancel){let e=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?",t;co(this.options.confirmCancel)?t=yield this.options.confirmCancel():t=window.confirm(e),t&&this._done("cancel")}else this._done("cancel")})}complete(){this._done("complete")}getById(e){return this.steps.find(t=>t.id===e)}getCurrentStep(){return this.currentStep}hide(){let e=this.getCurrentStep();if(e)return e.hide()}isActive(){return $n.activeTour===this}next(){let e=this.steps.indexOf(this.currentStep);e===this.steps.length-1?this.complete():this.show(e+1,!0)}removeStep(e){let t=this.getCurrentStep();this.steps.some((r,o)=>{if(r.id===e)return r.isOpen()&&r.hide(),r.destroy(),this.steps.splice(o,1),!0}),t&&t.id===e&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}show(e=0,t=!0){let r=Rc(e)?this.getById(e):this.steps[e];r&&(this._updateStateBeforeShow(),co(r.options.showOn)&&!r.options.showOn()?this._skipStep(r,t):(this.currentStep=r,this.trigger("show",{step:r,previous:this.currentStep}),r.show()))}start(){return g(this,null,function*(){this.trigger("start"),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this.setupModal(),this._setupActiveTour(),this.next()})}_done(e){let t=this.steps.indexOf(this.currentStep);if(Array.isArray(this.steps)&&this.steps.forEach(r=>r.destroy()),gE(this),this.trigger(e,{index:t}),$n.activeTour=null,this.trigger("inactive",{tour:this}),this.modal&&this.modal.hide(),(e==="cancel"||e==="complete")&&this.modal){let r=document.querySelector(".shepherd-modal-overlay-container");r&&(r.remove(),this.modal=null)}Fa(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()}_setupActiveTour(){this.trigger("active",{tour:this}),$n.activeTour=this}setupModal(){this.modal=new H2({target:this.options.modalContainer||document.body,props:{styles:this.styles}})}_skipStep(e,t){let r=this.steps.indexOf(e);if(r===this.steps.length-1)this.complete();else{let o=t?r+1:r-1;this.show(o,t)}}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}_setTourID(e){let t=this.options.tourName||"tour",r=e||B3();this.id=`${t}--${r}`}},$n=new z2,rw=typeof window>"u";$n.Step=rw?I2:Vc;$n.Tour=rw?S2:B2;function wE(n){return n.offsetWidth===0&&n.offsetHeight===0}function CE(n){let{classes:e,disabled:t,label:r,secondary:o,type:i,text:a}=n,s=["back","cancel","next"];if(!i)return n;if(s.indexOf(i)===-1)throw new Error("'type' property must be one of 'back', 'cancel', or 'next'");return{action:this[i].bind(this),classes:e,disabled:t,label:r,secondary:o,text:a}}var ow=(()=>{let e=class e{constructor(){this.confirmCancel=!1,this.defaultStepOptions={},this.exitOnEsc=!0,this.isActive=!1,this.keyboardNavigation=!0,this.messageForUser=null,this.modal=!1,this.requiredElements=[],this.tourName=void 0,this.tourObject=null}back(){this.tourObject?.back()}cancel(){this.tourObject?.cancel()}complete(){this.tourObject?.complete()}hide(){this.tourObject?.hide()}next(){this.tourObject?.next()}show(r){this.tourObject?.show(r)}start(){this.isActive=!0,this.tourObject?.start()}onTourFinish(r){this.isActive=!1}addSteps(r){this._initialize();let o=this.tourObject;if(!(!o||!r||!Array.isArray(r)||r.length===0)){if(!this.requiredElementsPresent()){o.addStep({buttons:[{text:"Exit",action:o.cancel}],id:"error",title:this.errorTitle,text:[this.messageForUser]});return}r.forEach(i=>{i.buttons&&(i.buttons=i.buttons.map(CE.bind(this),this)),o.addStep(i)})}}requiredElementsPresent(){let r=!0;return this.requiredElements.forEach(o=>{let i=document.querySelector(o.selector);r&&(!i||wE(i))&&(r=!1,this.errorTitle=o.title,this.messageForUser=o.message)}),r}_initialize(){let r=new $n.Tour({confirmCancel:this.confirmCancel,confirmCancelMessage:this.confirmCancelMessage,defaultStepOptions:this.defaultStepOptions,keyboardNavigation:this.keyboardNavigation,tourName:this.tourName,useModalOverlay:this.modal,exitOnEsc:this.exitOnEsc});r.on("complete",this.onTourFinish.bind(this,"complete")),r.on("cancel",this.onTourFinish.bind(this,"cancel")),this.tourObject=r}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var iw=(()=>{let e=class e{constructor(r){this.tour=r}startTutorial(){this.tour.start()}init(){this.tour.modal=!0,this.tour.defaultStepOptions={classes:"btn-theme",scrollTo:{behavior:"smooth",block:"center"},cancelIcon:{enabled:!0},arrow:!0},this.tour.addSteps([{id:"profile-step-1",title:"Actions",text:'Ici tu peux modifier ton profil <div class="shepherd-progress">\xC9tape 1 sur 2</div>',attachTo:{element:'[data-tour="profile"]',on:"left"},floatingUIOptions:{middleware:[C2({mainAxis:10,crossAxis:0})]},buttons:[{text:"Suivant",action:()=>this.tour.next()}]},{id:"profile-step-2",title:"Dark Mode",text:'Cliquez ici pour activer le th\xE8me Sombre ou rebasculer au th\xE8me Clair <div class="shepherd-progress">\xC9tape 2 sur 2</div>',attachTo:{element:'[data-tour="darkmode-1"]',on:"bottom"},floatingUIOptions:{middleware:[C2({mainAxis:-10,crossAxis:0})]},buttons:[{text:"Pr\xE9c\xE9dent",action:()=>this.tour.back()},{text:"Terminer",action:()=>this.tour.complete()}]}])}stopTutorial(){this.tour&&this.tour.cancel()}};e.\u0275fac=function(o){return new(o||e)(z(ow))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var xE=(n,e)=>e.value;function IE(n,e){if(n&1&&(f(0,"div",2)(1,"p"),v(2),y(),f(3,"p"),v(4),y(),f(5,"p"),v(6),y()()),n&2){let t=S();w(2),ue("User ID: ",t.user.id),w(2),ue("Email: ",t.user.email),w(2),ue("Display Name: ",t.user.user_metadata.displayName)}}function SE(n,e){if(n&1){let t=le();f(0,"button",9),x("click",function(){let o=E(t).$implicit,i=S();return L(i.setTheme(o.value))}),X(1,"lucide-icon",10),f(2,"span"),v(3),y()()}if(n&2){let t=e.$implicit,r=S();Oe("active",r.getCurrentTheme()===t.value),O("title",t.label),w(),O("name",t.icon),w(2),Q(t.label)}}var aw=(()=>{let e=class e{constructor(r){this.tuto=r,this.user=null,this.loading=!1,this.showInfo=!1,this.supabaseService=b(Ot),this.router=b(Ae),this.themeService=b(g1),this.themeOptions=[{value:"light",label:"Clair",icon:"sun"},{value:"dark",label:"Sombre",icon:"moon"},{value:"system",label:"Navigateur",icon:"monitor"}]}ngOnInit(){this.tuto.init()}replayTutorial(){this.tuto.startTutorial()}toggleUserInfo(){return g(this,null,function*(){this.user?this.showInfo=!this.showInfo:(yield this.fetchUser(),this.showInfo=!0)})}fetchUser(){return g(this,null,function*(){this.loading=!0;try{let{data:r}=yield this.supabaseService.getUser();this.user=r.user,this.user||this.router.navigate(["/login"])}finally{this.loading=!1}})}signOut(){return g(this,null,function*(){yield this.supabaseService.signOut(),this.router.navigate(["/login"])})}updatePassword(){return g(this,null,function*(){this.router.navigate(["/update-password"])})}toggleTheme(){this.themeService.toggleTheme()}setTheme(r){this.themeService.setTheme(r)}getCurrentTheme(){return this.themeService.getThemePreference()()}};e.\u0275fac=function(o){return new(o||e)(j(iw))},e.\u0275cmp=de({type:e,selectors:[["app-profile"]],decls:20,vars:3,consts:[[1,"container"],[1,"btn","btn-primary",3,"click","disabled"],[1,"user-info"],["data-tour","darkmode-1",1,"theme-selector"],[1,"theme-buttons"],[1,"theme-btn",3,"active","title"],[1,"btn","btn-secondary",3,"click"],[1,"btn",3,"click"],[1,"help-button",3,"click"],[1,"theme-btn",3,"click","title"],["size","20",3,"name"]],template:function(o,i){o&1&&(f(0,"div",0)(1,"h2"),v(2,"User Profile"),y(),f(3,"p"),v(4,"Congratulations! Welcome to secure auth with Angular + Supabase is running. \u{1F389}"),y(),f(5,"button",1),x("click",function(){return i.toggleUserInfo()}),v(6),y(),Br(7,IE,7,3,"div",2),f(8,"div",3)(9,"label"),v(10,"Th\xE8me:"),y(),f(11,"div",4),kp(12,SE,4,5,"button",5,xE),y()(),f(14,"button",6),x("click",function(){return i.updatePassword()}),v(15,"Modifier le mot de passe"),y(),f(16,"button",7),x("click",function(){return i.signOut()}),v(17,"Sign Out"),y(),f(18,"button",8),x("click",function(){return i.replayTutorial()}),v(19,"?"),y()()),o&2&&(w(5),O("disabled",i.loading),w(),ue(" ",i.loading?"Chargement...":i.showInfo?"Masquer les informations":"Afficher les informations personnelles"," "),w(),qr(i.showInfo&&i.user?7:-1),w(5),vp(i.themeOptions))},dependencies:[Te,Ne,Ie],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;text-align:left}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1.5rem;font-weight:500;text-align:left}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:#555;line-height:1.5;text-align:left}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{font-size:1.1rem;margin-bottom:2rem;color:#27ae60}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type){font-weight:500;color:#2c3e50;word-break:break-all}.container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;width:100%;padding:.85rem;margin-top:1rem;background-color:#e74c3c;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease}.container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#c0392b}.container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;margin-top:2rem}.container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.container[_ngcontent-%COMP%]   .btn-theme[_ngcontent-%COMP%]{background-color:#3498db;margin-top:2rem}.container[_ngcontent-%COMP%]   .btn-theme[_ngcontent-%COMP%]:hover{background-color:#2980b9}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 6px 18px #0000004d}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type, body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{color:#4ade80}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type), body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type){color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#475569;color:#f8fafc}.user-info[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}body.dark-mode[_nghost-%COMP%]   .user-info[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .user-info[_ngcontent-%COMP%]{background:#334155;border-color:#475569}.theme-selector[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}.theme-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;font-weight:600;color:#2c3e50;font-size:.95rem}.theme-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-start}.theme-btn[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:1rem .75rem;background:#fff;color:#2c3e50;border:2px solid #e9ecef;border-radius:6px;font-size:.85rem;font-weight:500;cursor:pointer;transition:all .3s ease}.theme-btn[_ngcontent-%COMP%]:hover{border-color:#3498db;background:#f0f7ff}.theme-btn.active[_ngcontent-%COMP%]{background:#3498db;color:#fff;border-color:#3498db;box-shadow:0 2px 8px #3498db4d}.theme-btn[_ngcontent-%COMP%]   lucide-icon[_ngcontent-%COMP%]{display:block}.theme-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}body.dark-mode[_nghost-%COMP%]   .theme-selector[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .theme-selector[_ngcontent-%COMP%]{background:#334155;border-color:#475569}body.dark-mode[_nghost-%COMP%]   .theme-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .theme-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .theme-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .theme-btn[_ngcontent-%COMP%]{background:#1e293b;color:#cbd5e1;border-color:#475569}body.dark-mode[_nghost-%COMP%]   .theme-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .theme-btn[_ngcontent-%COMP%]:hover{border-color:#64b5f6;background:#0f172a}body.dark-mode[_nghost-%COMP%]   .theme-btn.active[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .theme-btn.active[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border-color:#3b82f6;box-shadow:0 2px 8px #3b82f64d}"]});let n=e;return n})();function DE(n,e){if(n&1&&(f(0,"div",8),v(1),y()),n&2){let t=S();w(),ue(" ",t.message," ")}}var sw=(()=>{let e=class e{constructor(r){this.supabaseService=r,this.email="",this.message="",this.loading=!1,this.router=b(Ae)}onSubmit(){return g(this,null,function*(){this.loading=!0;try{yield this.supabaseService.resetPasswordForEmail(this.email),this.message="Un lien de r\xE9initialisation a \xE9t\xE9 envoy\xE9 \xE0 votre adresse email."}catch(r){this.message=`Erreur : ${r.message}`}finally{this.loading=!1}})}navigateToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(o){return new(o||e)(j(Ot))},e.\u0275cmp=de({type:e,selectors:[["app-forgot-password"]],decls:14,vars:2,consts:[[1,"forgot-password-container"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","placeholder","Votre email",3,"ngModelChange","ngModel"],["type","submit"],["class","message",4,"ngIf"],[3,"click"],[1,"message"]],template:function(o,i){o&1&&(f(0,"div",0)(1,"h2"),v(2,"Mot de passe oubli\xE9"),y(),f(3,"form",1),x("ngSubmit",function(){return i.onSubmit()}),f(4,"div",2)(5,"label",3),v(6,"Email"),y(),f(7,"input",4),me("ngModelChange",function(s){return ve(i.email,s)||(i.email=s),s}),y()(),f(8,"button",5),v(9,"Envoyer le lien de r\xE9initialisation"),y()(),ae(10,DE,2,1,"div",6),f(11,"p")(12,"a",7),x("click",function(){return i.navigateToLogin()}),v(13,"Retour au Log In"),y()()()),o&2&&(w(7),ye("ngModel",i.email),w(3),O("ngIf",i.message))},dependencies:[gt,eo,rt,ft,Jr,pr,st,hr,Ie,Qe],styles:[".forgot-password-container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.forgot-password-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.forgot-password-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2c3e50;font-weight:500}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.forgot-password-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.forgot-password-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#2980b9}.forgot-password-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;text-align:center;border-radius:6px;background-color:#e8f4fc;color:#2c3e50;border:1px solid #b8d8f0}p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}body.dark-mode[_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 6px 18px #0000004d}body.dark-mode[_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#38bdf8;box-shadow:0 0 0 2px #38bdf833}body.dark-mode[_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{background-color:#0f172a;color:#e2e8f0;border-color:#334155}body.dark-mode[_nghost-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   a[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#38bdf8}body.dark-mode[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#7dd3fc}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px #334155 inset!important;-webkit-text-fill-color:#f8fafc!important;transition:background-color 5000s ease-in-out 0s}"]});let n=e;return n})();function EE(n,e){if(n&1){let t=le();f(0,"form",8),x("ngSubmit",function(){E(t);let o=S();return L(o.onSubmit())}),f(1,"div",9)(2,"label",10),v(3,"Nouveau mot de passe"),y(),f(4,"div",11)(5,"input",12),x("ngModelChange",function(o){E(t);let i=S();return L(i.newPassword.set(o))}),y(),f(6,"button",13),x("click",function(){E(t);let o=S();return L(o.toggleNewPasswordVisibility())}),X(7,"lucide-icon",14),y()()(),f(8,"div",9)(9,"label",15),v(10,"Confirmer le mot de passe"),y(),f(11,"div",11)(12,"input",16),x("ngModelChange",function(o){E(t);let i=S();return L(i.confirmPassword.set(o))}),y(),f(13,"button",13),x("click",function(){E(t);let o=S();return L(o.toggleConfirmPasswordVisibility())}),X(14,"lucide-icon",14),y()()(),f(15,"button",17),v(16),y()()}if(n&2){let t=S();w(5),O("type",t.showNewPassword()?"text":"password")("ngModel",t.newPassword())("disabled",t.loading),w(2),O("name",t.showNewPassword()?"eye-off":"eye"),w(5),O("type",t.showConfirmPassword()?"text":"password")("ngModel",t.confirmPassword())("disabled",t.loading),w(2),O("name",t.showConfirmPassword()?"eye-off":"eye"),w(),O("disabled",t.loading),w(),ue(" ",t.loading?"Mise \xE0 jour...":"Mettre \xE0 jour le mot de passe"," ")}}function LE(n,e){if(n&1&&(f(0,"div",18),v(1),y()),n&2){let t=S();w(),ue(" ",t.error()," ")}}function PE(n,e){if(n&1&&(f(0,"div",19),v(1),y()),n&2){let t=S();w(),ue(" ",t.message()," ")}}var cw=(()=>{let e=class e{constructor(){this.newPassword=ce(""),this.confirmPassword=ce(""),this.showNewPassword=ce(!1),this.showConfirmPassword=ce(!1),this.message=ce(null),this.error=ce(null),this.loading=!1,this.success=!1,this.supabaseService=b(Ot),this.router=b(Ae)}ngOnInit(){return g(this,null,function*(){let{data:r}=yield this.supabaseService.getSession();r.session||this.error.set("Session invalide. Veuillez demander un nouveau lien de r\xE9initialisation.")})}toggleNewPasswordVisibility(){this.showNewPassword.update(r=>!r)}toggleConfirmPasswordVisibility(){this.showConfirmPassword.update(r=>!r)}onSubmit(){return g(this,null,function*(){if(this.error.set(null),this.message.set(null),this.newPassword().length<6){this.error.set("Le mot de passe doit contenir au moins 6 caract\xE8res.");return}if(this.newPassword()!==this.confirmPassword()){this.error.set("Les mots de passe ne correspondent pas.");return}this.loading=!0;try{let{error:r}=yield this.supabaseService.updatePassword(this.newPassword());r?this.error.set("Erreur : "+r.message):(this.message.set("Mot de passe mis \xE0 jour avec succ\xE8s !"),this.success=!0)}catch(r){this.error.set("Une erreur est survenue : "+r.message)}finally{this.loading=!1}})}goToProfile(){this.router.navigate(["/profile"])}goToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=de({type:e,selectors:[["app-update-password"]],decls:13,vars:3,consts:[[1,"update-password-container"],[1,"update-password-card"],[1,"subtitle"],[3,"ngSubmit",4,"ngIf"],["class","message error",4,"ngIf"],["class","message success",4,"ngIf"],[1,"profile-button",3,"click"],[1,"login-button",3,"click"],[3,"ngSubmit"],[1,"form-group"],["for","newPassword"],[1,"password-container"],["id","newPassword","name","newPassword","required","","minlength","6","placeholder","Minimum 6 caract\xE8res","autocomplete","new-password",3,"ngModelChange","type","ngModel","disabled"],["type","button",1,"toggle-password",3,"click"],["size","20",3,"name"],["for","confirmPassword"],["id","confirmPassword","name","confirmPassword","required","","minlength","6","placeholder","Confirmez votre mot de passe","autocomplete","new-password",3,"ngModelChange","type","ngModel","disabled"],["type","submit",3,"disabled"],[1,"message","error"],[1,"message","success"]],template:function(o,i){o&1&&(f(0,"div",0)(1,"div",1)(2,"h2"),v(3,"Mettre \xE0 jour votre mot de passe"),y(),f(4,"p",2),v(5,"Veuillez entrer votre nouveau mot de passe"),y(),ae(6,EE,17,10,"form",3)(7,LE,2,1,"div",4)(8,PE,2,1,"div",5),f(9,"button",6),x("click",function(){return i.goToProfile()}),v(10,"Retour au profil"),y(),f(11,"button",7),x("click",function(){return i.goToLogin()}),v(12,"Retour \xE0 la connexion"),y()()()),o&2&&(w(6),O("ngIf",!i.success&&(!i.error()||i.newPassword())),w(),O("ngIf",i.error()),w(),O("ngIf",i.message()))},dependencies:[gt,eo,rt,ft,Jr,pr,lc,st,hr,Ie,Qe,Te,Ne],styles:[".update-password-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f3f4f6;padding:1rem}.update-password-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 4px 6px -1px #0000001a;width:100%;max-width:400px}h2[_ngcontent-%COMP%]{text-align:center;color:#1e293b;margin-bottom:.5rem}.subtitle[_ngcontent-%COMP%]{text-align:center;color:#64748b;margin-bottom:2rem;font-size:.875rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#475569;font-weight:500}input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #e2e8f0;border-radius:6px;font-size:1rem;box-sizing:border-box}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;ring:2px solid #2563eb}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#2563eb;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background .2s;margin-top:1rem}button[type=submit][_ngcontent-%COMP%]:hover{background:#1d4ed8}button[type=submit][_ngcontent-%COMP%]:disabled{background:#94a3b8;cursor:not-allowed}.message[_ngcontent-%COMP%]{padding:1rem;border-radius:6px;margin-top:1rem;text-align:center}.error[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.success[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.profile-button[_ngcontent-%COMP%], .login-button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#fff;color:#64748b;border:1px solid #e2e8f0;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;margin-top:.5rem}.profile-button[_ngcontent-%COMP%]:hover, .login-button[_ngcontent-%COMP%]:hover{background:#f8fafc;color:#1e293b;border-color:#cbd5e1}.password-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:10px;background:none;border:none;cursor:pointer;padding:0;display:flex;align-items:center;color:#64748b}.toggle-password[_ngcontent-%COMP%]:hover{background:none;color:#1e293b}body.dark-mode[_nghost-%COMP%]   .update-password-container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .update-password-container[_ngcontent-%COMP%]{background-color:#0f172a}body.dark-mode[_nghost-%COMP%]   .update-password-card[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .update-password-card[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 4px 6px -1px #00000080}body.dark-mode[_nghost-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .subtitle[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   label[_ngcontent-%COMP%]{color:#e2e8f0}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#3b82f6}body.dark-mode[_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]{color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .error[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .error[_ngcontent-%COMP%]{background:#7f1d1d;color:#fecaca}body.dark-mode[_nghost-%COMP%]   .success[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .success[_ngcontent-%COMP%]{background:#14532d;color:#bbf7d0}body.dark-mode[_nghost-%COMP%]   .profile-button[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .profile-button[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .login-button[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .login-button[_ngcontent-%COMP%]{background:#334155;color:#e2e8f0;border-color:#475569}body.dark-mode[_nghost-%COMP%]   .profile-button[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .profile-button[_ngcontent-%COMP%]:hover, body.dark-mode[_nghost-%COMP%]   .login-button[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .login-button[_ngcontent-%COMP%]:hover{background:#475569;color:#f8fafc;border-color:#64748b}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px #334155 inset!important;-webkit-text-fill-color:#f8fafc!important;caret-color:#f8fafc}"]});let n=e;return n})();var lw=(()=>{let e=class e{constructor(){this.tour=null}startTutorial(){this.tour=new $n.Tour({useModalOverlay:!0,defaultStepOptions:{classes:"shepherd-theme-dark",scrollTo:{behavior:"smooth",block:"center"},cancelIcon:{enabled:!0}}}),this.tour.addStep({id:"step-1",title:"\u2795 Cr\xE9er un ticket",text:'Cliquez ici pour cr\xE9er un nouveau ticket dans votre tableau.<div class="shepherd-progress">\xC9tape 1 sur 4</div>',attachTo:{element:".create-ticket-btn",on:"bottom"},buttons:[{text:"Suivant",action:this.tour.next,classes:"shepherd-button-primary"}]}),this.tour.addStep({id:"step-2",title:"\u{1F50D} Recherche rapide",text:'Utilisez la recherche pour filtrer vos tickets rapidement.<div class="shepherd-progress">\xC9tape 2 sur 4</div>',attachTo:{element:".search-input",on:"bottom"},buttons:[{text:"Pr\xE9c\xE9dent",action:this.tour.back,classes:"shepherd-button-secondary"},{text:"Suivant",action:this.tour.next,classes:"shepherd-button-primary"}]}),this.tour.addStep({id:"step-3",title:"\u{1F4CB} Tableau Kanban",text:'Glissez-d\xE9posez vos tickets entre les colonnes pour changer leur statut.<div class="shepherd-progress">\xC9tape 3 sur 4</div>',attachTo:{element:".kanban-board",on:"top"},buttons:[{text:"Pr\xE9c\xE9dent",action:this.tour.back,classes:"shepherd-button-secondary"},{text:"Suivant",action:this.tour.next,classes:"shepherd-button-primary"}]}),this.tour.addStep({id:"step-4",title:"\u{1F3AB} \xC9dition rapide",text:'Cliquez sur un ticket pour \xE9diter ses d\xE9tails directement.<div class="shepherd-progress">\xC9tape 4 sur 4</div>',attachTo:{element:".ticket-card",on:"right"},buttons:[{text:"Pr\xE9c\xE9dent",action:this.tour.back,classes:"shepherd-button-secondary"},{text:"Terminer",action:this.tour.complete,classes:"shepherd-button-primary"}]}),this.tour.on("complete",()=>{console.log("\u2705 Tutorial termin\xE9"),localStorage.setItem("kanban-tutorial-completed","true")}),this.tour.on("cancel",()=>{console.log("\u274C Tutorial annul\xE9")}),this.tour.start()}stopTutorial(){this.tour&&this.tour.cancel()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function AE(n,e){if(n&1){let t=le();f(0,"div",13),x("click",function(){let o=E(t).$implicit,i=S();return L(i.editTicket(o))}),f(1,"h4"),v(2),y(),f(3,"p"),v(4),y(),f(5,"div",14)(6,"span",15),v(7),y()()()}if(n&2){let t=e.$implicit;w(2),Q(t.title),w(2),Q(t.description),w(3),ue("\u{1F464} ",t.assignee)}}function TE(n,e){if(n&1){let t=le();f(0,"div",13),x("click",function(){let o=E(t).$implicit,i=S();return L(i.editTicket(o))}),f(1,"h4"),v(2),y(),f(3,"p"),v(4),y(),f(5,"div",14)(6,"span",15),v(7),y()()()}if(n&2){let t=e.$implicit;w(2),Q(t.title),w(2),Q(t.description),w(3),ue("\u{1F464} ",t.assignee)}}function RE(n,e){if(n&1){let t=le();f(0,"div",16),x("click",function(){let o=E(t).$implicit,i=S();return L(i.editTicket(o))}),f(1,"h4"),v(2),y(),f(3,"p"),v(4),y(),f(5,"div",14)(6,"span",15),v(7),y()()()}if(n&2){let t=e.$implicit;w(2),Q(t.title),w(2),Q(t.description),w(3),ue("\u{1F464} ",t.assignee)}}var dw=(()=>{let e=class e{constructor(r){this.tutorialService=r,this.tutorialCompleted=!1,this.searchQuery="",this.tickets=[{id:1,title:"Responsive sur Releaseflow",description:"Adapter l'interface mobile",status:"backlog",assignee:"Beno\xEEt Briens"},{id:2,title:"Fix bug d'authentification",description:"Corriger le probl\xE8me de session",status:"in-progress",assignee:"Marie Dupont"},{id:3,title:"Ajouter tests unitaires",description:"Couverture \xE0 80%",status:"done",assignee:"Jean Martin"}]}ngAfterViewInit(){this.tutorialCompleted=localStorage.getItem("kanban-tutorial-completed")==="true",this.tutorialCompleted||setTimeout(()=>{this.startTutorial()},1e3)}startTutorial(){this.tutorialService.startTutorial()}resetTutorial(){localStorage.removeItem("kanban-tutorial-completed"),this.tutorialCompleted=!1,this.startTutorial()}getTicketsByStatus(r){return this.tickets.filter(o=>o.status===r)}createTicket(){let r={id:Date.now(),title:"Nouveau ticket",description:"Description",status:"backlog",assignee:"Non assign\xE9"};this.tickets.push(r),console.log("Ticket cr\xE9\xE9:",r)}onSearch(){console.log("Recherche:",this.searchQuery)}editTicket(r){console.log("\xC9dition du ticket:",r)}};e.\u0275fac=function(o){return new(o||e)(j(lw))},e.\u0275cmp=de({type:e,selectors:[["app-kanban-board"]],decls:35,vars:7,consts:[[1,"kanban-container"],[1,"toolbar"],[1,"search-bar"],["type","text","placeholder","\u{1F50D} Rechercher dans un ticket...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"create-ticket-btn",3,"click"],[1,"kanban-board"],[1,"kanban-column"],[1,"column-header"],[1,"count"],[1,"tickets-list"],["class","ticket-card",3,"click",4,"ngFor","ngForOf"],["class","ticket-card done",3,"click",4,"ngFor","ngForOf"],["title","Relancer le tutorial",1,"help-button",3,"click"],[1,"ticket-card",3,"click"],[1,"ticket-footer"],[1,"assignee"],[1,"ticket-card","done",3,"click"]],template:function(o,i){o&1&&(f(0,"div",0)(1,"div",1)(2,"h1"),v(3,"\u{1F4CA} Tableau SIDE"),y(),f(4,"div",2)(5,"input",3),me("ngModelChange",function(s){return ve(i.searchQuery,s)||(i.searchQuery=s),s}),x("input",function(){return i.onSearch()}),y()(),f(6,"button",4),x("click",function(){return i.createTicket()}),v(7,"\u2795 Nouveau ticket"),y()(),f(8,"div",5)(9,"div",6)(10,"div",7)(11,"h3"),v(12,"\u{1F4DD} BACKLOG"),y(),f(13,"span",8),v(14),y()(),f(15,"div",9),ae(16,AE,8,3,"div",10),y()(),f(17,"div",6)(18,"div",7)(19,"h3"),v(20,"\u26A1 EN COURS"),y(),f(21,"span",8),v(22),y()(),f(23,"div",9),ae(24,TE,8,3,"div",10),y()(),f(25,"div",6)(26,"div",7)(27,"h3"),v(28,"\u2705 TERMIN\xC9"),y(),f(29,"span",8),v(30),y()(),f(31,"div",9),ae(32,RE,8,3,"div",11),y()()(),f(33,"button",12),x("click",function(){return i.resetTutorial()}),v(34," ? "),y()()),o&2&&(w(5),ye("ngModel",i.searchQuery),w(9),Q(i.getTicketsByStatus("backlog").length),w(2),O("ngForOf",i.getTicketsByStatus("backlog")),w(6),Q(i.getTicketsByStatus("in-progress").length),w(2),O("ngForOf",i.getTicketsByStatus("in-progress")),w(6),Q(i.getTicketsByStatus("done").length),w(2),O("ngForOf",i.getTicketsByStatus("done")))},dependencies:[gt,rt,ft,st,Ie,Lt],styles:[".kanban-container[_ngcontent-%COMP%]{padding:24px;background-color:#f5f6f8;min-height:100vh}.toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-bottom:30px;background:#fff;padding:20px;border-radius:8px;box-shadow:0 1px 3px #0000001a}.toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;color:#172b4d}.search-bar[_ngcontent-%COMP%]{flex:1;max-width:400px}.search-input[_ngcontent-%COMP%]{width:100%;padding:10px 16px;border:2px solid #dfe1e6;border-radius:6px;font-size:14px;transition:all .2s}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0052cc;box-shadow:0 0 0 3px #0052cc1a}.create-ticket-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#0052cc;color:#fff;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.create-ticket-btn[_ngcontent-%COMP%]:hover{background-color:#0747a6;transform:translateY(-1px);box-shadow:0 4px 8px #0052cc4d}.kanban-board[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:flex-start}.kanban-column[_ngcontent-%COMP%]{flex:1;background-color:#f4f5f7;padding:16px;border-radius:8px;min-height:500px}.column-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:12px;border-bottom:2px solid #dfe1e6}.column-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#172b4d;font-weight:600}.column-header[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background-color:#dfe1e6;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:600;color:#5e6c84}.tickets-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.ticket-card[_ngcontent-%COMP%]{background:#fff;padding:16px;border-radius:6px;box-shadow:0 1px 3px #0000001f;cursor:pointer;transition:all .2s}.ticket-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.ticket-card.done[_ngcontent-%COMP%]{opacity:.7}.ticket-card.done[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-decoration:line-through}.ticket-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;color:#172b4d;font-weight:600}.ticket-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px;font-size:13px;color:#5e6c84;line-height:1.4}.ticket-card[_ngcontent-%COMP%]   .ticket-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:12px}.ticket-card[_ngcontent-%COMP%]   .ticket-footer[_ngcontent-%COMP%]   .assignee[_ngcontent-%COMP%]{color:#5e6c84}.help-button[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;width:60px;height:60px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;cursor:pointer;font-size:24px;box-shadow:0 4px 12px #0000004d;z-index:1000;transition:all .3s}.help-button[_ngcontent-%COMP%]:hover{transform:scale(1.1) rotate(10deg);box-shadow:0 6px 20px #0006}.help-button[_ngcontent-%COMP%]:active{transform:scale(.95)}"]});let n=e;return n})();var uw=[{path:"login",component:c3},{path:"signup",component:l3},{path:"forgot-password",component:sw},{path:"",canActivate:[d3],children:[{path:"",redirectTo:"/compact",pathMatch:"full"},{path:"list",component:h1},{path:"calendar",component:i3},{path:"compact",component:a3},{path:"timeline",component:s3},{path:"profile",component:aw},{path:"update-password",component:cw},{path:"kanban",component:dw}]},{path:"**",redirectTo:"login"}];function NE(n,e){n&1&&(f(0,"a",11),v(1,"Kanban"),y())}var FE=(()=>{let e=class e{constructor(){this.environment=ui,this.themeService=b(g1)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=de({type:e,selectors:[["app-root"]],decls:20,vars:1,consts:[[1,"app-container"],[1,"navbar"],[1,"nav-content"],[1,"app-title"],[1,"nav-links"],["routerLink","/calendar","routerLinkActive","active"],["routerLink","/compact","routerLinkActive","active"],["routerLink","/list","routerLinkActive","active"],["routerLink","/timeline","routerLinkActive","active"],["data-tour","profile","routerLink","/profile","routerLinkActive","active"],["name","user",1,"icon"],["routerLink","/kanban","routerLinkActive","active"]],template:function(o,i){o&1&&(f(0,"div",0)(1,"nav",1)(2,"div",2)(3,"h1",3),v(4,"Calendrier Livraisons & MEP"),y(),f(5,"div",4)(6,"a",5),v(7,"Calendrier"),y(),f(8,"a",6),v(9,"Vue Compacte"),y(),f(10,"a",7),v(11,"Liste"),y(),f(12,"a",8),v(13,"Timeline"),y(),f(14,"a",9),X(15,"lucide-icon",10),v(16," Profil "),y(),Br(17,NE,2,0,"a",11),y()()(),f(18,"main"),X(19,"router-outlet"),y()()),o&2&&(w(17),qr(i.environment.production===!1?17:-1))},dependencies:[Ie,Sf,Xs,fa,_f,Te,Ne],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background:#f1f5f9}.app-container[_ngcontent-%COMP%]{min-height:100vh}.navbar[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e2e8f0;position:sticky;top:0;z-index:100;box-shadow:0 1px 3px #0000000d}.nav-content[_ngcontent-%COMP%]{max-width:1600px;margin:0 auto;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center}.app-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1e293b}.nav-links[_ngcontent-%COMP%]{display:flex;gap:.5rem}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:6px;text-decoration:none;color:#64748b;font-weight:500;transition:all .2s}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff}main[_ngcontent-%COMP%]{min-height:calc(100vh - 80px)}.icon[_ngcontent-%COMP%]{width:18px;height:18px;margin-right:6px;vertical-align:middle;fill:currentColor}body.dark-mode[_nghost-%COMP%], body.dark-mode   [_nghost-%COMP%]{background:#0f172a}body.dark-mode[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{background:#1e293b;border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .app-title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .app-title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff}"]});let n=e;return n})();Kp(FE,{providers:[xf(uw),Rl(Te.pick({User:j4,Search:T4,X:V4,Package:D4,Plus:O4,Trash2:F4,PenLine:P4,Rocket:A4,Menu:x4,PanelLeftClose:E4,PanelLeftOpen:L4,LucideHistory:_4,Calendar:v4,GitCommit:b4,Columns:M4,AlignJustify:N4,Sun:R4,Moon:S4,Monitor:I4,Eye:w4,EyeOff:C4}))]});export{FE as App};
