import{a as x,b as Z,c as lw,d as go,e as dw,f as uw,g as yo,h as f,j as og,k as ig,n as hw,o as ag}from"./chunk-5WDXYQDS.js";var Co={};dw(Co,{__addDisposableResource:()=>Ug,__assign:()=>il,__asyncDelegator:()=>Fg,__asyncGenerator:()=>cl,__asyncValues:()=>ll,__await:()=>Sn,__awaiter:()=>L,__classPrivateFieldGet:()=>zg,__classPrivateFieldIn:()=>qg,__classPrivateFieldSet:()=>Bg,__createBinding:()=>sl,__decorate:()=>xg,__disposeResources:()=>$g,__esDecorate:()=>Sg,__exportStar:()=>Tg,__extends:()=>_g,__generator:()=>Pg,__importDefault:()=>Hg,__importStar:()=>Vg,__makeTemplateObject:()=>jg,__metadata:()=>Ag,__param:()=>Ig,__propKey:()=>Eg,__read:()=>Z1,__rest:()=>Yn,__rewriteRelativeImportExtension:()=>Wg,__runInitializers:()=>Dg,__setFunctionName:()=>Lg,__spread:()=>Og,__spreadArray:()=>Ng,__spreadArrays:()=>Rg,__values:()=>al,default:()=>Sw});function _g(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");W1(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Yn(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function xg(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function Ig(n,e){return function(t,r){e(t,r,n)}}function Sg(n,e,t,r,o,i){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var s=r.kind,c=s==="getter"?"get":s==="setter"?"set":"value",l=!e&&n?r.static?n:n.prototype:null,d=e||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),u,p=!1,h=t.length-1;h>=0;h--){var y={};for(var k in r)y[k]=k==="access"?{}:r[k];for(var k in r.access)y.access[k]=r.access[k];y.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(w||null))};var v=(0,t[h])(s==="accessor"?{get:d.get,set:d.set}:d[c],y);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(u=a(v.get))&&(d.get=u),(u=a(v.set))&&(d.set=u),(u=a(v.init))&&o.unshift(u)}else(u=a(v))&&(s==="field"?o.unshift(u):d[c]=u)}l&&Object.defineProperty(l,r.name,d),p=!0}function Dg(n,e,t){for(var r=arguments.length>2,o=0;o<e.length;o++)t=r?e[o].call(n,t):e[o].call(n);return r?t:void 0}function Eg(n){return typeof n=="symbol"?n:"".concat(n)}function Lg(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function Ag(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function L(n,e,t,r){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?i(d.value):o(d.value).then(s,c)}l((r=r.apply(n,e||[])).next())})}function Pg(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(d){return c([l,d])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(t=0)),t;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,o=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){t.label=l[1];break}if(l[0]===6&&t.label<i[1]){t.label=i[1],i=l;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(l);break}i[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(d){l=[6,d],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Tg(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&sl(e,n,t)}function al(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z1(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i}function Og(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Z1(arguments[e]));return n}function Rg(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),o=0,e=0;e<t;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function Ng(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}function Sn(n){return this instanceof Sn?(this.v=n,this):new Sn(n)}function cl(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(h){return function(y){return Promise.resolve(y).then(h,u)}}function s(h,y){r[h]&&(o[h]=function(k){return new Promise(function(v,w){i.push([h,k,v,w])>1||c(h,k)})},y&&(o[h]=y(o[h])))}function c(h,y){try{l(r[h](y))}catch(k){p(i[0][3],k)}}function l(h){h.value instanceof Sn?Promise.resolve(h.value.v).then(d,u):p(i[0][2],h)}function d(h){c("next",h)}function u(h){c("throw",h)}function p(h,y){h(y),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Fg(n){var e,t;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,i){e[o]=n[o]?function(a){return(t=!t)?{value:Sn(n[o](a)),done:!1}:i?i(a):a}:i}}function ll(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof al=="function"?al(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(a){return new Promise(function(s,c){a=n[i](a),o(s,c,a.done,a.value)})}}function o(i,a,s,c){Promise.resolve(c).then(function(l){i({value:l,done:s})},a)}}function jg(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function Vg(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=G1(n),r=0;r<t.length;r++)t[r]!=="default"&&sl(e,n,t[r]);return xw(e,n),e}function Hg(n){return n&&n.__esModule?n:{default:n}}function zg(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function Bg(n,e,t,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!o:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,t):o?o.value=t:e.set(n,t),t}function qg(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Ug(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],t&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}function $g(n){function e(i){n.error=n.hasError?new Iw(i,n.error,"An error was suppressed during disposal."):i,n.hasError=!0}var t,r=0;function o(){for(;t=n.stack.pop();)try{if(!t.async&&r===1)return r=0,n.stack.push(t),Promise.resolve().then(o);if(t.dispose){var i=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(i).then(o,function(a){return e(a),o()})}else r|=1}catch(a){e(a)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return o()}function Wg(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,o,i,a){return r?e?".jsx":".js":o&&(!i||!a)?t:o+i+"."+a.toLowerCase()+"js"}):n}var W1,il,sl,xw,G1,Iw,Sw,Ie=lw(()=>{"use strict";W1=function(n,e){return W1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},W1(n,e)};il=function(){return il=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},il.apply(this,arguments)};sl=Object.create?function(n,e,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(e,t);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,o)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]};xw=Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e},G1=function(n){return G1=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},G1(n)};Iw=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};Sw={__extends:_g,__assign:il,__rest:Yn,__decorate:xg,__param:Ig,__esDecorate:Sg,__runInitializers:Dg,__propKey:Eg,__setFunctionName:Lg,__metadata:Ag,__awaiter:L,__generator:Pg,__createBinding:sl,__exportStar:Tg,__values:al,__read:Z1,__spread:Og,__spreadArrays:Rg,__spreadArray:Ng,__await:Sn,__asyncGenerator:cl,__asyncDelegator:Fg,__asyncValues:ll,__makeTemplateObject:jg,__importStar:Vg,__importDefault:Hg,__classPrivateFieldGet:zg,__classPrivateFieldSet:Bg,__classPrivateFieldIn:qg,__addDisposableResource:Ug,__disposeResources:$g,__rewriteRelativeImportExtension:Wg}});var z2=go(H2=>{"use strict";Object.defineProperty(H2,"__esModule",{value:!0});var V2=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};H2.default=V2});var U2=go(q2=>{"use strict";Object.defineProperty(q2,"__esModule",{value:!0});var B4=(Ie(),yo(Co)),OI=B4.__importDefault((ag(),yo(hw))),RI=B4.__importDefault(z2()),B2=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=OI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>f(this,null,function*(){var a,s,c,l;let d=null,u=null,p=null,h=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){let O=yield i.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?u=O:u=JSON.parse(O))}let v=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),w=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&w&&w.length>1&&(p=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,p=null,h=406,y="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let v=yield i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(u=[],d=null,h=200,y="OK")}catch{i.status===404&&v===""?(h=204,y="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((l=d?.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,h=200,y="OK"),d&&this.shouldThrowOnError)throw new RI.default(d)}return{error:d,data:u,count:p,status:h,statusText:y}}));return this.shouldThrowOnError||(o=o.catch(i=>{var a,s,c;return{error:{message:`${(a=i?.name)!==null&&a!==void 0?a:"FetchError"}: ${i?.message}`,details:`${(s=i?.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}};q2.default=B2});var G2=go(W2=>{"use strict";Object.defineProperty(W2,"__esModule",{value:!0});var NI=(Ie(),yo(Co)),FI=NI.__importDefault(U2()),$2=class extends FI.default{select(e){let t=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:a="text"}={}){var s;let c=[e?"analyze":null,t?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};W2.default=$2});var Au=go(K2=>{"use strict";Object.defineProperty(K2,"__esModule",{value:!0});var jI=(Ie(),yo(Co)),VI=jI.__importDefault(G2()),HI=new RegExp("[,()]"),Z2=class extends VI.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(o=>typeof o=="string"&&HI.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};K2.default=Z2});var X2=go(Q2=>{"use strict";Object.defineProperty(Q2,"__esModule",{value:!0});var zI=(Ie(),yo(Co)),mc=zI.__importDefault(Au()),Y2=class{constructor(e,{headers:t={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=o}select(e,t){let{head:r=!1,count:o}=t??{},i=r?"HEAD":"GET",a=!1,s=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",s),o&&this.headers.append("Prefer",`count=${o}`),new mc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var o;let i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(a.length>0){let s=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new mc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var a;let s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let c=e.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(c.length>0){let l=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new mc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;let o="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new mc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new mc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};Q2.default=Y2});var U4=go(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});var q4=(Ie(),yo(Co)),BI=q4.__importDefault(X2()),qI=q4.__importDefault(Au()),J2=class n{constructor(e,{headers:t={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=o}from(e){let t=new URL(`${this.url}/${e}`);return new BI.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new n(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:o=!1,count:i}={}){var a;let s,c=new URL(`${this.url}/rpc/${e}`),l;r||o?(s=r?"HEAD":"GET",Object.entries(t).filter(([u,p])=>p!==void 0).map(([u,p])=>[u,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([u,p])=>{c.searchParams.append(u,p)})):(s="POST",l=t);let d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new qI.default({method:s,url:c,headers:d,schema:this.schemaName,body:l,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};ef.default=J2});var Q4=go(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.PostgrestError=bt.PostgrestBuilder=bt.PostgrestTransformBuilder=bt.PostgrestFilterBuilder=bt.PostgrestQueryBuilder=bt.PostgrestClient=void 0;var wa=(Ie(),yo(Co)),$4=wa.__importDefault(U4());bt.PostgrestClient=$4.default;var W4=wa.__importDefault(X2());bt.PostgrestQueryBuilder=W4.default;var G4=wa.__importDefault(Au());bt.PostgrestFilterBuilder=G4.default;var Z4=wa.__importDefault(G2());bt.PostgrestTransformBuilder=Z4.default;var K4=wa.__importDefault(U2());bt.PostgrestBuilder=K4.default;var Y4=wa.__importDefault(z2());bt.PostgrestError=Y4.default;bt.default={PostgrestClient:$4.default,PostgrestQueryBuilder:W4.default,PostgrestFilterBuilder:G4.default,PostgrestTransformBuilder:Z4.default,PostgrestBuilder:K4.default,PostgrestError:Y4.default}});var E1;function Bc(){return E1}function In(n){let e=E1;return E1=n,e}var sg=Symbol("NotFound");function Ci(n){return n===sg||n?.name==="\u0275NotFound"}var lt=null,qc=!1,L1=1,pw=null,dt=Symbol("SIGNAL");function W(n){let e=lt;return lt=n,e}function Gc(){return lt}var mo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bi(n){if(qc)throw new Error("");if(lt===null)return;lt.consumerOnSignalRead(n);let e=lt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=lt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:lt.producers,t!==void 0&&t.producer===n)){lt.producersTail=t,t.lastReadVersion=n.version;return}let o=n.consumersTail;if(o!==void 0&&o.consumer===lt&&(!r||gw(o,lt)))return;let i=Ii(lt),a={producer:n,consumer:lt,nextProducer:t,prevConsumer:o,lastReadVersion:n.version,nextConsumer:void 0};lt.producersTail=a,e!==void 0?e.nextProducer=a:lt.producers=a,i&&ug(n,a)}function cg(){L1++}function Zc(n){if(!(Ii(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===L1)){if(!n.producerMustRecompute(n)&&!xi(n)){Wc(n);return}n.producerRecomputeValue(n),Wc(n)}}function A1(n){if(n.consumers===void 0)return;let e=qc;qc=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||fw(r)}}finally{qc=e}}function P1(){return lt?.consumerAllowSignalWrites!==!1}function fw(n){n.dirty=!0,A1(n),n.consumerMarkedDirty?.(n)}function Wc(n){n.dirty=!1,n.lastCleanEpoch=L1}function ko(n){return n&&lg(n),W(n)}function lg(n){n.producersTail=void 0,n.recomputing=!0}function _i(n,e){W(e),n&&dg(n)}function dg(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Ii(n))do t=T1(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function xi(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Zc(t),r!==t.version))return!0}return!1}function vo(n){if(Ii(n)){let e=n.producers;for(;e!==void 0;)e=T1(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function ug(n,e){let t=n.consumersTail,r=Ii(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let o=n.producers;o!==void 0;o=o.nextProducer)ug(o.producer,o)}function T1(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,o=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:e.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(e.consumers=r,!Ii(e)){let i=e.producers;for(;i!==void 0;)i=T1(i)}return t}function Ii(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Kc(n){pw?.(n)}function gw(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Yc(n,e){return Object.is(n,e)}function Qc(n,e){let t=Object.create(yw);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Zc(t),bi(t),t.value===Ua)throw t.error;return t.value};return r[dt]=t,Kc(t),r}var Uc=Symbol("UNSET"),$c=Symbol("COMPUTING"),Ua=Symbol("ERRORED"),yw=Z(x({},mo),{value:Uc,dirty:!0,error:null,equal:Yc,kind:"computed",producerMustRecompute(n){return n.value===Uc||n.value===$c},producerRecomputeValue(n){if(n.value===$c)throw new Error("");let e=n.value;n.value=$c;let t=ko(n),r,o=!1;try{r=n.computation(),W(null),o=e!==Uc&&e!==Ua&&r!==Ua&&n.equal(e,r)}catch(i){r=Ua,n.error=i}finally{_i(n,t)}if(o){n.value=e;return}n.value=r,n.version++}});function mw(){throw new Error}var hg=mw;function pg(n){hg(n)}function O1(n){hg=n}var kw=null;function R1(n,e){let t=Object.create(Xc);t.value=n,e!==void 0&&(t.equal=e);let r=()=>fg(t);return r[dt]=t,Kc(t),[r,a=>Si(t,a),a=>N1(t,a)]}function fg(n){return bi(n),n.value}function Si(n,e){P1()||pg(n),n.equal(n.value,e)||(n.value=e,vw(n))}function N1(n,e){P1()||pg(n),Si(n,e(n.value))}var Xc=Z(x({},mo),{equal:Yc,value:void 0,kind:"signal"});function vw(n){n.version++,cg(),A1(n),kw?.(n)}function Y(n){return typeof n=="function"}function Di(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Jc=Di(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function $a(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ve=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let i of t)i.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(i){e=i instanceof Jc?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{gg(i)}catch(a){e=e??[],a instanceof Jc?e=[...e,...a.errors]:e.push(a)}}if(e)throw new Jc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)gg(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&$a(t,e)}remove(e){let{_finalizers:t}=this;t&&$a(t,e),e instanceof n&&e._removeParent(this)}};Ve.EMPTY=(()=>{let n=new Ve;return n.closed=!0,n})();var F1=Ve.EMPTY;function el(n){return n instanceof Ve||n&&"closed"in n&&Y(n.remove)&&Y(n.add)&&Y(n.unsubscribe)}function gg(n){Y(n)?n():n.unsubscribe()}var sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ei={setTimeout(n,e,...t){let{delegate:r}=Ei;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ei;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function tl(n){Ei.setTimeout(()=>{let{onUnhandledError:e}=sn;if(e)e(n);else throw n})}function Wa(){}var yg=j1("C",void 0,void 0);function mg(n){return j1("E",void 0,n)}function kg(n){return j1("N",n,void 0)}function j1(n,e,t){return{kind:n,value:e,error:t}}var Mo=null;function Li(n){if(sn.useDeprecatedSynchronousErrorHandling){let e=!Mo;if(e&&(Mo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Mo;if(Mo=null,t)throw r}}else n()}function vg(n){sn.useDeprecatedSynchronousErrorHandling&&Mo&&(Mo.errorThrown=!0,Mo.error=n)}var wo=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,el(e)&&e.add(this)):this.destination=Cw}static create(e,t,r){return new Ai(e,t,r)}next(e){this.isStopped?H1(kg(e),this):this._next(e)}error(e){this.isStopped?H1(mg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?H1(yg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Mw=Function.prototype.bind;function V1(n,e){return Mw.call(n,e)}var z1=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){nl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){nl(r)}else nl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){nl(t)}}},Ai=class extends wo{constructor(e,t,r){super();let o;if(Y(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&sn.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&V1(e.next,i),error:e.error&&V1(e.error,i),complete:e.complete&&V1(e.complete,i)}):o=e}this.destination=new z1(o)}};function nl(n){sn.useDeprecatedSynchronousErrorHandling?vg(n):tl(n)}function ww(n){throw n}function H1(n,e){let{onStoppedNotification:t}=sn;t&&Ei.setTimeout(()=>t(n,e))}var Cw={closed:!0,next:Wa,error:ww,complete:Wa};var Pi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ot(n){return n}function B1(...n){return q1(n)}function q1(n){return n.length===0?Ot:n.length===1?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}var oe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){let i=_w(t)?t:new Ai(t,r,o);return Li(()=>{let{operator:a,source:s}=this;i.add(a?a.call(i,s):s?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Mg(r),new r((o,i)=>{let a=new Ai({next:s=>{try{t(s)}catch(c){i(c),a.unsubscribe()}},error:i,complete:o});this.subscribe(a)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Pi](){return this}pipe(...t){return q1(t)(this)}toPromise(t){return t=Mg(t),new t((r,o)=>{let i;this.subscribe(a=>i=a,a=>o(a),()=>r(i))})}}return n.create=e=>new n(e),n})();function Mg(n){var e;return(e=n??sn.Promise)!==null&&e!==void 0?e:Promise}function bw(n){return n&&Y(n.next)&&Y(n.error)&&Y(n.complete)}function _w(n){return n&&n instanceof wo||bw(n)&&el(n)}function U1(n){return Y(n?.lift)}function se(n){return e=>{if(U1(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ne(n,e,t,r,o){return new $1(n,e,t,r,o)}var $1=class extends wo{constructor(e,t,r,o,i,a){super(e),this.onFinalize=i,this.shouldUnsubscribe=a,this._next=t?function(s){try{t(s)}catch(c){e.error(c)}}:super._next,this._error=o?function(s){try{o(s)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ti(){return se((n,e)=>{let t=null;n._refCount++;let r=ne(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Oi=class extends oe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,U1(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ve;let t=this.getSubject();e.add(this.source.subscribe(ne(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ve.EMPTY)}return e}refCount(){return Ti()(this)}};var wg=Di(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=(()=>{class n extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new rl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new wg}next(t){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:o,observers:i}=this;return r||o?F1:(this.currentObservers=null,i.push(t),new Ve(()=>{this.currentObservers=null,$a(i,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){let t=new oe;return t.source=this,t}}return n.create=(e,t)=>new rl(e,t),n})(),rl=class extends Oe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:F1}};var $e=class extends Oe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var It=new oe(n=>n.complete());function Cg(n){return n&&Y(n.schedule)}function bg(n){return n[n.length-1]}function ol(n){return Y(bg(n))?n.pop():void 0}function Ir(n){return Cg(bg(n))?n.pop():void 0}Ie();var dl=n=>n&&typeof n.length=="number"&&typeof n!="function";function ul(n){return Y(n?.then)}function hl(n){return Y(n[Pi])}function pl(n){return Symbol.asyncIterator&&Y(n?.[Symbol.asyncIterator])}function fl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Dw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gl=Dw();function yl(n){return Y(n?.[gl])}Ie();function ml(n){return cl(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:o}=yield Sn(t.read());if(o)return yield Sn(void 0);yield yield Sn(r)}}finally{t.releaseLock()}})}function kl(n){return Y(n?.getReader)}function He(n){if(n instanceof oe)return n;if(n!=null){if(hl(n))return Ew(n);if(dl(n))return Lw(n);if(ul(n))return Aw(n);if(pl(n))return Gg(n);if(yl(n))return Pw(n);if(kl(n))return Tw(n)}throw fl(n)}function Ew(n){return new oe(e=>{let t=n[Pi]();if(Y(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Lw(n){return new oe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Aw(n){return new oe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,tl)})}function Pw(n){return new oe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Gg(n){return new oe(e=>{Ow(n,e).catch(t=>e.error(t))})}function Tw(n){return Gg(ml(n))}function Ow(n,e){var t,r,o,i;return L(this,void 0,void 0,function*(){try{for(t=ll(n);r=yield t.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){o={error:a}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})}function St(n,e,t,r=0,o=!1){let i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function vl(n,e=0){return se((t,r)=>{t.subscribe(ne(r,o=>St(r,n,()=>r.next(o),e),()=>St(r,n,()=>r.complete(),e),o=>St(r,n,()=>r.error(o),e)))})}function Ml(n,e=0){return se((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Zg(n,e){return He(n).pipe(Ml(e),vl(e))}function Kg(n,e){return He(n).pipe(Ml(e),vl(e))}function Yg(n,e){return new oe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Qg(n,e){return new oe(t=>{let r;return St(t,e,()=>{r=n[gl](),St(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(a){t.error(a);return}i?t.complete():t.next(o)},0,!0)}),()=>Y(r?.return)&&r.return()})}function wl(n,e){if(!n)throw new Error("Iterable cannot be null");return new oe(t=>{St(t,e,()=>{let r=n[Symbol.asyncIterator]();St(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function Xg(n,e){return wl(ml(n),e)}function Jg(n,e){if(n!=null){if(hl(n))return Zg(n,e);if(dl(n))return Yg(n,e);if(ul(n))return Kg(n,e);if(pl(n))return wl(n,e);if(yl(n))return Qg(n,e);if(kl(n))return Xg(n,e)}throw fl(n)}function Se(n,e){return e?Jg(n,e):He(n)}function B(...n){let e=Ir(n);return Se(n,e)}function Ri(n,e){let t=Y(n)?n:()=>n,r=o=>o.error(t());return new oe(e?o=>e.schedule(r,0,o):r)}function K1(n){return!!n&&(n instanceof oe||Y(n.lift)&&Y(n.subscribe))}var Qn=Di(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function re(n,e){return se((t,r)=>{let o=0;t.subscribe(ne(r,i=>{r.next(n.call(e,i,o++))}))})}var{isArray:Rw}=Array;function Nw(n,e){return Rw(e)?n(...e):n(e)}function Cl(n){return re(e=>Nw(n,e))}var{isArray:Fw}=Array,{getPrototypeOf:jw,prototype:Vw,keys:Hw}=Object;function bl(n){if(n.length===1){let e=n[0];if(Fw(e))return{args:e,keys:null};if(zw(e)){let t=Hw(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function zw(n){return n&&typeof n=="object"&&jw(n)===Vw}function _l(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}function Ga(...n){let e=Ir(n),t=ol(n),{args:r,keys:o}=bl(n);if(r.length===0)return Se([],e);let i=new oe(Bw(r,e,o?a=>_l(o,a):Ot));return t?i.pipe(Cl(t)):i}function Bw(n,e,t=Ot){return r=>{ey(e,()=>{let{length:o}=n,i=new Array(o),a=o,s=o;for(let c=0;c<o;c++)ey(e,()=>{let l=Se(n[c],e),d=!1;l.subscribe(ne(r,u=>{i[c]=u,d||(d=!0,s--),s||r.next(t(i.slice()))},()=>{--a||r.complete()}))},r)},r)}}function ey(n,e,t){n?St(t,n,e):e()}function ty(n,e,t,r,o,i,a,s){let c=[],l=0,d=0,u=!1,p=()=>{u&&!c.length&&!l&&e.complete()},h=k=>l<r?y(k):c.push(k),y=k=>{i&&e.next(k),l++;let v=!1;He(t(k,d++)).subscribe(ne(e,w=>{o?.(w),i?h(w):e.next(w)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let w=c.shift();a?St(e,a,()=>y(w)):y(w)}p()}catch(w){e.error(w)}}))};return n.subscribe(ne(e,h,()=>{u=!0,p()})),()=>{s?.()}}function Re(n,e,t=1/0){return Y(e)?Re((r,o)=>re((i,a)=>e(r,i,o,a))(He(n(r,o))),t):(typeof e=="number"&&(t=e),se((r,o)=>ty(r,o,n,t)))}function Sr(n=1/0){return Re(Ot,n)}function ny(){return Sr(1)}function Ni(...n){return ny()(Se(n,Ir(n)))}function Za(n){return new oe(e=>{He(n()).subscribe(e)})}function Y1(...n){let e=ol(n),{args:t,keys:r}=bl(n),o=new oe(i=>{let{length:a}=t;if(!a){i.complete();return}let s=new Array(a),c=a,l=a;for(let d=0;d<a;d++){let u=!1;He(t[d]).subscribe(ne(i,p=>{u||(u=!0,l--),s[d]=p},()=>c--,void 0,()=>{(!c||!u)&&(l||i.next(r?_l(r,s):s),i.complete())}))}});return e?o.pipe(Cl(e)):o}function Dt(n,e){return se((t,r)=>{let o=0;t.subscribe(ne(r,i=>n.call(e,i,o++)&&r.next(i)))})}function Xn(n){return se((e,t)=>{let r=null,o=!1,i;r=e.subscribe(ne(t,void 0,void 0,a=>{i=He(n(a,Xn(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function ry(n,e,t,r,o){return(i,a)=>{let s=t,c=e,l=0;i.subscribe(ne(a,d=>{let u=l++;c=s?n(c,d,u):(s=!0,d),r&&a.next(c)},o&&(()=>{s&&a.next(c),a.complete()})))}}function Dr(n,e){return Y(e)?Re(n,e,1):Re(n,1)}function Er(n){return se((e,t)=>{let r=!1;e.subscribe(ne(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Jn(n){return n<=0?()=>It:se((e,t)=>{let r=0;e.subscribe(ne(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function xl(n=qw){return se((e,t)=>{let r=!1;e.subscribe(ne(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function qw(){return new Qn}function Ka(n){return se((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function er(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Dt((o,i)=>n(o,i,r)):Ot,Jn(1),t?Er(e):xl(()=>new Qn))}function Fi(n){return n<=0?()=>It:se((e,t)=>{let r=[];e.subscribe(ne(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(let o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Q1(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Dt((o,i)=>n(o,i,r)):Ot,Fi(1),t?Er(e):xl(()=>new Qn))}function X1(n,e){return se(ry(n,e,arguments.length>=2,!0))}function J1(...n){let e=Ir(n);return se((t,r)=>{(e?Ni(n,t,e):Ni(n,t)).subscribe(r)})}function vt(n,e){return se((t,r)=>{let o=null,i=0,a=!1,s=()=>a&&!o&&r.complete();t.subscribe(ne(r,c=>{o?.unsubscribe();let l=0,d=i++;He(n(c,d)).subscribe(o=ne(r,u=>r.next(e?e(c,u,d,l++):u),()=>{o=null,s()}))},()=>{a=!0,s()}))})}function Il(n){return se((e,t)=>{He(n).subscribe(ne(t,()=>t.complete(),Wa)),!t.closed&&e.subscribe(t)})}function Xe(n,e,t){let r=Y(n)||e||t?{next:n,error:e,complete:t}:n;return r?se((o,i)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;o.subscribe(ne(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;s=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ot}function oy(n){let e=W(null);try{return n()}finally{W(e)}}var iy=Z(x({},mo),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function ay(n){if(n.dirty=!1,n.version>0&&!xi(n))return;n.version++;let e=ko(n);try{n.cleanup(),n.fn()}finally{_i(n,e)}}var Ll="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",F=class extends Error{code;constructor(e,t){super(rr(e,t)),this.code=e}};function Uw(n){return`NG0${Math.abs(n)}`}function rr(n,e){return`${Uw(n)}${e?": "+e:""}`}var es=globalThis;function ge(n){for(let e in n)if(n[e]===ge)return e;throw Error("")}function ly(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function nr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(nr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function uh(n,e){return n?e?`${n} ${e}`:n:e||""}var $w=ge({__forward_ref__:ge});function Ft(n){return n.__forward_ref__=Ft,n.toString=function(){return nr(this())},n}function nt(n){return hh(n)?n():n}function hh(n){return typeof n=="function"&&n.hasOwnProperty($w)&&n.__forward_ref__===Ft}function R(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function jt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ts(n){return Ww(n,Al)}function ph(n){return ts(n)!==null}function Ww(n,e){return n.hasOwnProperty(e)&&n[e]||null}function Gw(n){let e=n?.[Al]??null;return e||null}function th(n){return n&&n.hasOwnProperty(Dl)?n[Dl]:null}var Al=ge({\u0275prov:ge}),Dl=ge({\u0275inj:ge}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=R({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fh(n){return n&&!!n.\u0275providers}var gh=ge({\u0275cmp:ge}),yh=ge({\u0275dir:ge}),mh=ge({\u0275pipe:ge}),kh=ge({\u0275mod:ge}),Qa=ge({\u0275fac:ge}),Do=ge({__NG_ELEMENT_ID__:ge}),sy=ge({__NG_ENV_ID__:ge});function Eo(n){return typeof n=="string"?n:n==null?"":String(n)}function dy(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Eo(n)}var uy=ge({ngErrorCode:ge}),Zw=ge({ngErrorMessage:ge}),Kw=ge({ngTokenPath:ge});function vh(n,e){return hy("",-200,e)}function Pl(n,e){throw new F(-201,!1)}function hy(n,e,t){let r=new F(e,n);return r[uy]=e,r[Zw]=n,t&&(r[Kw]=t),r}function Yw(n){return n[uy]}var nh;function py(){return nh}function Rt(n){let e=nh;return nh=n,e}function Mh(n,e,t){let r=ts(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Pl(n,"Injector")}var Qw={},bo=Qw,rh="__NG_DI_FLAG__",oh=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=_o(t)||0;try{return this.injector.get(e,r&8?null:bo,r)}catch(o){if(Ci(o))return o;throw o}}};function Xw(n,e=0){let t=Bc();if(t===void 0)throw new F(-203,!1);if(t===null)return Mh(n,void 0,e);{let r=Jw(e),o=t.retrieve(n,r);if(Ci(o)){if(r.optional)return null;throw o}return o}}function z(n,e=0){return(py()||Xw)(nt(n),e)}function b(n,e){return z(n,_o(e))}function _o(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Jw(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function ih(n){let e=[];for(let t=0;t<n.length;t++){let r=nt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let o,i=0;for(let a=0;a<r.length;a++){let s=r[a],c=eC(s);typeof c=="number"?c===-1?o=s.token:i|=c:o=s}e.push(z(o,i))}else e.push(z(r))}return e}function fy(n,e){return n[rh]=e,n.prototype[rh]=e,n}function eC(n){return n[rh]}function xo(n,e){let t=n.hasOwnProperty(Qa);return t?n[Qa]:null}function gy(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}function yy(n){return n.flat(Number.POSITIVE_INFINITY)}function Tl(n,e){n.forEach(t=>Array.isArray(t)?Tl(t,e):e(t))}function wh(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ns(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function my(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function ky(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(o===1)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;){let i=o-2;n[o]=n[i],o--}n[e]=t,n[e+1]=r}}function vy(n,e,t){let r=Vi(n,e);return r>=0?n[r|1]=t:(r=~r,ky(n,r,e,t)),r}function Ol(n,e){let t=Vi(n,e);if(t>=0)return n[t|1]}function Vi(n,e){return tC(n,e,1)}function tC(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){let i=r+(o-r>>1),a=n[i<<t];if(e===a)return i<<t;a>e?o=i:r=i+1}return~(o<<t)}var Ar={},Nt=[],Pr=new V(""),Ch=new V("",-1),bh=new V(""),Xa=class{get(e,t=bo){if(t===bo){let o=hy("",-201);throw o.name="\u0275NotFound",o}return t}};function _h(n){return n[kh]||null}function or(n){return n[gh]||null}function xh(n){return n[yh]||null}function My(n){return n[mh]||null}function rs(n){return{\u0275providers:n}}function Rl(...n){return{\u0275providers:Ih(!0,n),\u0275fromNgModule:!0}}function Ih(n,...e){let t=[],r=new Set,o,i=a=>{t.push(a)};return Tl(e,a=>{let s=a;El(s,i,[],r)&&(o||=[],o.push(s))}),o!==void 0&&wy(o,i),t}function wy(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:o}=n[t];Sh(o,i=>{e(i,r)})}}function El(n,e,t,r){if(n=nt(n),!n)return!1;let o=null,i=th(n),a=!i&&or(n);if(!i&&!a){let c=n.ngModule;if(i=th(c),i)o=c;else return!1}else{if(a&&!a.standalone)return!1;o=n}let s=r.has(o);if(a){if(s)return!1;if(r.add(o),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let l of c)El(l,e,t,r)}}else if(i){if(i.imports!=null&&!s){r.add(o);let l;try{Tl(i.imports,d=>{El(d,e,t,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&wy(l,e)}if(!s){let l=xo(o)||(()=>new o);e({provide:o,useFactory:l,deps:Nt},o),e({provide:bh,useValue:o,multi:!0},o),e({provide:Pr,useValue:()=>z(o),multi:!0},o)}let c=i.providers;if(c!=null&&!s){let l=n;Sh(c,d=>{e(d,l)})}}else return!1;return o!==n&&n.providers!==void 0}function Sh(n,e){for(let t of n)fh(t)&&(t=t.\u0275providers),Array.isArray(t)?Sh(t,e):e(t)}var nC=ge({provide:String,useValue:ge});function Cy(n){return n!==null&&typeof n=="object"&&nC in n}function rC(n){return!!(n&&n.useExisting)}function oC(n){return!!(n&&n.useFactory)}function Io(n){return typeof n=="function"}function by(n){return!!n.useClass}var os=new V(""),Sl={},cy={},eh;function is(){return eh===void 0&&(eh=new Xa),eh}var We=class{},So=class extends We{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,sh(e,a=>this.processProvider(a)),this.records.set(Ch,ji(void 0,this)),o.has("environment")&&this.records.set(We,ji(void 0,this));let i=this.records.get(os);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(bh,Nt,{self:!0}))}retrieve(e,t){let r=_o(t)||0;try{return this.get(e,bo,r)}catch(o){if(Ci(o))return o;throw o}}destroy(){Ya(this),this._destroyed=!0;let e=W(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),W(e)}}onDestroy(e){return Ya(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ya(this);let t=In(this),r=Rt(void 0),o;try{return e()}finally{In(t),Rt(r)}}get(e,t=bo,r){if(Ya(this),e.hasOwnProperty(sy))return e[sy](this);let o=_o(r),i,a=In(this),s=Rt(void 0);try{if(!(o&4)){let l=this.records.get(e);if(l===void 0){let d=lC(e)&&ts(e);d&&this.injectableDefInScope(d)?l=ji(ah(e),Sl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,o)}let c=o&2?is():this.parent;return t=o&8&&t===bo?null:t,c.get(e,t)}catch(c){let l=Yw(c);throw l===-200||l===-201?new F(l,null):c}finally{Rt(s),In(a)}}resolveInjectorInitializers(){let e=W(null),t=In(this),r=Rt(void 0),o;try{let i=this.get(Pr,Nt,{self:!0});for(let a of i)a()}finally{In(t),Rt(r),W(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(nr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=nt(e);let t=Io(e)?e:nt(e&&e.provide),r=aC(e);if(!Io(e)&&e.multi===!0){let o=this.records.get(t);o||(o=ji(void 0,Sl,!0),o.factory=()=>ih(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let o=W(null);try{if(t.value===cy)throw vh(nr(e));return t.value===Sl&&(t.value=cy,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&cC(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{W(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=nt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function ah(n){let e=ts(n),t=e!==null?e.factory:xo(n);if(t!==null)return t;if(n instanceof V)throw new F(204,!1);if(n instanceof Function)return iC(n);throw new F(204,!1)}function iC(n){if(n.length>0)throw new F(204,!1);let t=Gw(n);return t!==null?()=>t.factory(n):()=>new n}function aC(n){if(Cy(n))return ji(void 0,n.useValue);{let e=Dh(n);return ji(e,Sl)}}function Dh(n,e,t){let r;if(Io(n)){let o=nt(n);return xo(o)||ah(o)}else if(Cy(n))r=()=>nt(n.useValue);else if(oC(n))r=()=>n.useFactory(...ih(n.deps||[]));else if(rC(n))r=(o,i)=>z(nt(n.useExisting),i!==void 0&&i&8?8:void 0);else{let o=nt(n&&(n.useClass||n.provide));if(sC(n))r=()=>new o(...ih(n.deps));else return xo(o)||ah(o)}return r}function Ya(n){if(n.destroyed)throw new F(205,!1)}function ji(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function sC(n){return!!n.deps}function cC(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function lC(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function sh(n,e){for(let t of n)Array.isArray(t)?sh(t,e):t&&fh(t)?sh(t.\u0275providers,e):e(t)}function ht(n,e){let t;n instanceof So?(Ya(n),t=n):t=new oh(n);let r,o=In(t),i=Rt(void 0);try{return e()}finally{In(o),Rt(i)}}function _y(){return py()!==void 0||Bc()!=null}var cn=0,$=1,G=2,Ge=3,Kt=4,Mt=5,Lo=6,Hi=7,Ne=8,Tr=9,En=10,Le=11,zi=12,Eh=13,Ao=14,wt=15,Or=16,Po=17,Ln=18,as=19,Lh=20,tr=21,Nl=22,ir=23,Vt=24,To=25,Oo=26,ze=27,xy=1,Ah=6,Rr=7,ss=8,Ro=9,Be=10;function An(n){return Array.isArray(n)&&typeof n[xy]=="object"}function ln(n){return Array.isArray(n)&&n[xy]===!0}function Ph(n){return(n.flags&4)!==0}function Nr(n){return n.componentOffset>-1}function cs(n){return(n.flags&1)===1}function Pn(n){return!!n.template}function Bi(n){return(n[G]&512)!==0}function No(n){return(n[G]&256)===256}var Iy="svg",Sy="math";function Yt(n){for(;Array.isArray(n);)n=n[cn];return n}function Th(n,e){return Yt(e[n])}function dn(n,e){return Yt(e[n.index])}function ls(n,e){return n.data[e]}function Dy(n,e){return n[e]}function Qt(n,e){let t=e[n];return An(t)?t:t[cn]}function Ey(n){return(n[G]&4)===4}function Fl(n){return(n[G]&128)===128}function Ly(n){return ln(n[Ge])}function Tn(n,e){return e==null?null:n[e]}function Oh(n){n[Po]=0}function Rh(n){n[G]&1024||(n[G]|=1024,Fl(n)&&Fr(n))}function Ay(n,e){for(;n>0;)e=e[Ao],n--;return e}function ds(n){return!!(n[G]&9216||n[Vt]?.dirty)}function jl(n){n[En].changeDetectionScheduler?.notify(8),n[G]&64&&(n[G]|=1024),ds(n)&&Fr(n)}function Fr(n){n[En].changeDetectionScheduler?.notify(0);let e=Lr(n);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!Fl(e)));)e=Lr(e)}function Nh(n,e){if(No(n))throw new F(911,!1);n[tr]===null&&(n[tr]=[]),n[tr].push(e)}function Py(n,e){if(n[tr]===null)return;let t=n[tr].indexOf(e);t!==-1&&n[tr].splice(t,1)}function Lr(n){let e=n[Ge];return ln(e)?e[Ge]:e}function Fh(n){return n[Hi]??=[]}function jh(n){return n.cleanup??=[]}function Ty(n,e,t,r){let o=Fh(e);o.push(t),n.firstCreatePass&&jh(n).push(r,o.length-1)}var J={lFrame:Zy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ch=!1;function Oy(){return J.lFrame.elementDepthCount}function Ry(){J.lFrame.elementDepthCount++}function Ny(){J.lFrame.elementDepthCount--}function Vh(){return J.bindingsEnabled}function Hh(){return J.skipHydrationRootTNode!==null}function Fy(n){return J.skipHydrationRootTNode===n}function jy(){J.skipHydrationRootTNode=null}function ee(){return J.lFrame.lView}function Ze(){return J.lFrame.tView}function A(n){return J.lFrame.contextLView=n,n[Ne]}function P(n){return J.lFrame.contextLView=null,n}function rt(){let n=zh();for(;n!==null&&n.type===64;)n=n.parent;return n}function zh(){return J.lFrame.currentTNode}function Vy(){let n=J.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function qi(n,e){let t=J.lFrame;t.currentTNode=n,t.isParent=e}function Bh(){return J.lFrame.isParent}function qh(){J.lFrame.isParent=!1}function Hy(){return J.lFrame.contextLView}function Uh(){return ch}function Ui(n){let e=ch;return ch=n,e}function zy(){return J.lFrame.bindingIndex}function By(n){return J.lFrame.bindingIndex=n}function Fo(){return J.lFrame.bindingIndex++}function $h(n){let e=J.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function qy(){return J.lFrame.inI18n}function Uy(n,e){let t=J.lFrame;t.bindingIndex=t.bindingRootIndex=n,Vl(e)}function $y(){return J.lFrame.currentDirectiveIndex}function Vl(n){J.lFrame.currentDirectiveIndex=n}function Wy(n){let e=J.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Wh(){return J.lFrame.currentQueryIndex}function Hl(n){J.lFrame.currentQueryIndex=n}function dC(n){let e=n[$];return e.type===2?e.declTNode:e.type===1?n[Mt]:null}function Gh(n,e,t){if(t&4){let o=e,i=n;for(;o=o.parent,o===null&&!(t&1);)if(o=dC(i),o===null||(i=i[Ao],o.type&10))break;if(o===null)return!1;e=o,n=i}let r=J.lFrame=Gy();return r.currentTNode=e,r.lView=n,!0}function zl(n){let e=Gy(),t=n[$];J.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Gy(){let n=J.lFrame,e=n===null?null:n.child;return e===null?Zy(n):e}function Zy(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Ky(){let n=J.lFrame;return J.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Zh=Ky;function Bl(){let n=Ky();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Yy(n){return(J.lFrame.contextLView=Ay(n,J.lFrame.contextLView))[Ne]}function ar(){return J.lFrame.selectedIndex}function jr(n){J.lFrame.selectedIndex=n}function ql(){let n=J.lFrame;return ls(n.tView,n.selectedIndex)}function Qy(){return J.lFrame.currentNamespace}var Xy=!0;function Ul(){return Xy}function $l(n){Xy=n}function lh(n,e=null,t=null,r){let o=Kh(n,e,t,r);return o.resolveInjectorInitializers(),o}function Kh(n,e=null,t=null,r,o=new Set){let i=[t||Nt,Rl(n)];return r=r||(typeof n=="object"?void 0:nr(n)),new So(i,e||is(),r||null,o)}var ut=class n{static THROW_IF_NOT_FOUND=bo;static NULL=new Xa;static create(e,t){if(Array.isArray(e))return lh({name:""},t,e,"");{let r=e.name??"";return lh({name:r},e.parent,e.providers,r)}}static \u0275prov=R({token:n,providedIn:"any",factory:()=>z(Ch)});static __NG_ELEMENT_ID__=-1},qe=new V(""),un=(()=>{class n{static __NG_ELEMENT_ID__=uC;static __NG_ENV_ID__=t=>t}return n})(),Ja=class extends un{_lView;constructor(e){super(),this._lView=e}get destroyed(){return No(this._lView)}onDestroy(e){let t=this._lView;return Nh(t,e),()=>Py(t,e)}};function uC(){return new Ja(ee())}var Zt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ht=new V("",{providedIn:"root",factory:()=>{let n=b(We),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Zt),e.handleError(t))}}}),Jy={provide:Pr,useValue:()=>void b(Zt),multi:!0};function Yh(n){return typeof n=="function"&&n[dt]!==void 0}function Je(n,e){let[t,r,o]=R1(n,e?.equal),i=t,a=i[dt];return i.set=r,i.update=o,i.asReadonly=Qh.bind(i),i}function Qh(){let n=this[dt];if(n.readonlyFn===void 0){let e=()=>this();e[dt]=n,n.readonlyFn=e}return n.readonlyFn}function Xh(n){return Yh(n)&&typeof n.set=="function"}var $i=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=hC}return n})();function hC(){return new $i(ee(),rt())}var Dn=class{},Wl=new V("",{providedIn:"root",factory:()=>!1});var Jh=new V(""),e0=new V(""),sr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new $e(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new oe(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=R({token:n,providedIn:"root",factory:()=>new n})}return n})();function jo(...n){}var us=(()=>{class n{static \u0275prov=R({token:n,providedIn:"root",factory:()=>new dh})}return n})(),dh=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Xi(n){return{toString:n}.toString()}var Gl="__parameters__";function wC(n){return function(...t){if(n){let r=n(...t);for(let o in r)this[o]=r[o]}}}function CC(n,e,t){return Xi(()=>{let r=wC(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let a=new o(...i);return s.annotation=a,s;function s(c,l,d){let u=c.hasOwnProperty(Gl)?c[Gl]:Object.defineProperty(c,Gl,{value:[]})[Gl];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(a),c}}return o.prototype.ngMetadataName=n,o.annotationCls=o,o})}var B0=fy(CC("Optional"),8);function bC(n){return typeof n=="function"}var ed=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Tm(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Xt=(()=>{let n=()=>Om;return n.ngInherit=!0,n})();function Om(n){return n.type.prototype.ngOnChanges&&(n.setInput=xC),_C}function _C(){let n=Nm(this),e=n?.current;if(e){let t=n.previous;if(t===Ar)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function xC(n,e,t,r,o){let i=this.declaredInputs[r],a=Nm(n)||IC(n,{previous:Ar,current:null}),s=a.current||(a.current={}),c=a.previous,l=c[i];s[i]=new ed(l&&l.currentValue,t,c===Ar),Tm(n,e,o,t)}var Rm="__ngSimpleChanges__";function Nm(n){return n[Rm]||null}function IC(n,e){return n[Rm]=e}var em=[];var me=function(n,e=null,t){for(let r=0;r<em.length;r++){let o=em[r];o(n,e,t)}};function SC(n,e,t){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let a=Om(e);(t.preOrderHooks??=[]).push(n,a),(t.preOrderCheckHooks??=[]).push(n,a)}o&&(t.preOrderHooks??=[]).push(0-n,o),i&&((t.preOrderHooks??=[]).push(n,i),(t.preOrderCheckHooks??=[]).push(n,i))}function Fm(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let i=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=i;a&&(n.contentHooks??=[]).push(-t,a),s&&((n.contentHooks??=[]).push(t,s),(n.contentCheckHooks??=[]).push(t,s)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Yl(n,e,t){jm(n,e,3,t)}function Ql(n,e,t,r){(n[G]&3)===t&&jm(n,e,t,r)}function t0(n,e){let t=n[G];(t&3)===e&&(t&=16383,t+=1,n[G]=t)}function jm(n,e,t,r){let o=r!==void 0?n[Po]&65535:0,i=r??-1,a=e.length-1,s=0;for(let c=o;c<a;c++)if(typeof e[c+1]=="number"){if(s=e[c],r!=null&&s>=r)break}else e[c]<0&&(n[Po]+=65536),(s<i||i==-1)&&(DC(n,t,e,c),n[Po]=(n[Po]&4294901760)+c+2),c++}function tm(n,e){me(4,n,e);let t=W(null);try{e.call(n)}finally{W(t),me(5,n,e)}}function DC(n,e,t,r){let o=t[r]<0,i=t[r+1],a=o?-t[r]:t[r],s=n[a];o?n[G]>>14<n[Po]>>16&&(n[G]&3)===e&&(n[G]+=16384,tm(s,i)):tm(s,i)}var Gi=-1,Ho=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,o){this.factory=e,this.name=o,this.canSeeViewProviders=t,this.injectImpl=r}};function EC(n){return(n.flags&8)!==0}function LC(n){return(n.flags&16)!==0}function AC(n,e,t){let r=0;for(;r<t.length;){let o=t[r];if(typeof o=="number"){if(o!==0)break;r++;let i=t[r++],a=t[r++],s=t[r++];n.setAttribute(e,a,s,i)}else{let i=o,a=t[++r];PC(i)?n.setProperty(e,i,a):n.setAttribute(e,i,a),r++}}return r}function Vm(n){return n===3||n===4||n===6}function PC(n){return n.charCodeAt(0)===64}function fs(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?t=o:t===0||(t===-1||t===2?nm(n,t,o,null,e[++r]):nm(n,t,o,null,null))}}return n}function nm(n,e,t,r,o){let i=0,a=n.length;if(e===-1)a=-1;else for(;i<n.length;){let s=n[i++];if(typeof s=="number"){if(s===e){a=-1;break}else if(s>e){a=i-1;break}}}for(;i<n.length;){let s=n[i];if(typeof s=="number")break;if(s===t){o!==null&&(n[i+1]=o);return}i++,o!==null&&i++}a!==-1&&(n.splice(a,0,e),i=a+1),n.splice(i++,0,t),o!==null&&n.splice(i++,0,o)}function Hm(n){return n!==Gi}function td(n){return n&32767}function TC(n){return n>>16}function nd(n,e){let t=TC(n),r=e;for(;t>0;)r=r[Ao],t--;return r}var h0=!0;function rm(n){let e=h0;return h0=n,e}var OC=256,zm=OC-1,Bm=5,RC=0,On={};function NC(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Do)&&(r=t[Do]),r==null&&(r=t[Do]=RC++);let o=r&zm,i=1<<o;e.data[n+(o>>Bm)]|=i}function rd(n,e){let t=qm(n,e);if(t!==-1)return t;let r=e[$];r.firstCreatePass&&(n.injectorIndex=e.length,n0(r.data,n),n0(e,null),n0(r.blueprint,null));let o=q0(n,e),i=n.injectorIndex;if(Hm(o)){let a=td(o),s=nd(o,e),c=s[$].data;for(let l=0;l<8;l++)e[i+l]=s[a+l]|c[a+l]}return e[i+8]=o,i}function n0(n,e){n.push(0,0,0,0,0,0,0,0,e)}function qm(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function q0(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;o!==null;){if(r=Zm(o),r===null)return Gi;if(t++,o=o[Ao],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Gi}function p0(n,e,t){NC(n,e,t)}function FC(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,o=0;for(;o<r;){let i=t[o];if(Vm(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof t[o]=="string";)o++;else{if(i===e)return t[o+1];o=o+2}}}return null}function Um(n,e,t){if(t&8||n!==void 0)return n;Pl(e,"NodeInjector")}function $m(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let o=n[Tr],i=Rt(void 0);try{return o?o.get(e,r,t&8):Mh(e,r,t&8)}finally{Rt(i)}}return Um(r,e,t)}function Wm(n,e,t,r=0,o){if(n!==null){if(e[G]&2048&&!(r&2)){let a=zC(n,e,t,r,On);if(a!==On)return a}let i=Gm(n,e,t,r,On);if(i!==On)return i}return $m(e,t,r,o)}function Gm(n,e,t,r,o){let i=VC(t);if(typeof i=="function"){if(!Gh(e,n,r))return r&1?Um(o,t,r):$m(e,t,r,o);try{let a;if(a=i(r),a==null&&!(r&8))Pl(t);else return a}finally{Zh()}}else if(typeof i=="number"){let a=null,s=qm(n,e),c=Gi,l=r&1?e[wt][Mt]:null;for((s===-1||r&4)&&(c=s===-1?q0(n,e):e[s+8],c===Gi||!im(r,!1)?s=-1:(a=e[$],s=td(c),e=nd(c,e)));s!==-1;){let d=e[$];if(om(i,s,d.data)){let u=jC(s,e,t,a,r,l);if(u!==On)return u}c=e[s+8],c!==Gi&&im(r,e[$].data[s+8]===l)&&om(i,s,e)?(a=d,s=td(c),e=nd(c,e)):s=-1}}return o}function jC(n,e,t,r,o,i){let a=e[$],s=a.data[n+8],c=r==null?Nr(s)&&h0:r!=a&&(s.type&3)!==0,l=o&1&&i===s,d=Xl(s,a,t,c,l);return d!==null?gs(e,a,d,s,o):On}function Xl(n,e,t,r,o){let i=n.providerIndexes,a=e.data,s=i&1048575,c=n.directiveStart,l=n.directiveEnd,d=i>>20,u=r?s:s+d,p=o?s+d:l;for(let h=u;h<p;h++){let y=a[h];if(h<c&&t===y||h>=c&&y.type===t)return h}if(o){let h=a[c];if(h&&Pn(h)&&h.type===t)return c}return null}function gs(n,e,t,r,o){let i=n[t],a=e.data;if(i instanceof Ho){let s=i;if(s.resolving){let h=dy(a[t]);throw vh(h)}let c=rm(s.canSeeViewProviders);s.resolving=!0;let l=a[t].type||a[t],d,u=s.injectImpl?Rt(s.injectImpl):null,p=Gh(n,r,0);try{i=n[t]=s.factory(void 0,o,a,n,r),e.firstCreatePass&&t>=r.directiveStart&&SC(t,a[t],e)}finally{u!==null&&Rt(u),rm(c),s.resolving=!1,Zh()}}return i}function VC(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Do)?n[Do]:void 0;return typeof e=="number"?e>=0?e&zm:HC:e}function om(n,e,t){let r=1<<n;return!!(t[e+(n>>Bm)]&r)}function im(n,e){return!(n&2)&&!(n&1&&e)}var Vo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Wm(this._tNode,this._lView,e,_o(r),t)}};function HC(){return new Vo(rt(),ee())}function pn(n){return Xi(()=>{let e=n.prototype.constructor,t=e[Qa]||f0(e),r=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){let i=o[Qa]||f0(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function f0(n){return hh(n)?()=>{let e=f0(nt(n));return e&&e()}:xo(n)}function zC(n,e,t,r,o){let i=n,a=e;for(;i!==null&&a!==null&&a[G]&2048&&!Bi(a);){let s=Gm(i,a,t,r|2,On);if(s!==On)return s;let c=i.parent;if(!c){let l=a[Lh];if(l){let d=l.get(t,On,r);if(d!==On)return d}c=Zm(a),a=a[Ao]}i=c}return o}function Zm(n){let e=n[$],t=e.type;return t===2?e.declTNode:t===1?n[Mt]:null}function ws(n){return FC(rt(),n)}function BC(){return Ji(rt(),ee())}function Ji(n,e){return new ot(dn(n,e))}var ot=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=BC}return n})();function qC(n){return n instanceof ot?n.nativeElement:n}function UC(){return this._results[Symbol.iterator]()}var od=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Oe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=yy(e);(this._changesDetected=!gy(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=UC};function Km(n){return(n.flags&128)===128}var U0=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(U0||{}),Ym=new Map,$C=0;function WC(){return $C++}function GC(n){Ym.set(n[as],n)}function g0(n){Ym.delete(n[as])}var am="__ngContext__";function Zi(n,e){An(e)?(n[am]=e[as],GC(e)):n[am]=e}function Qm(n){return Jm(n[zi])}function Xm(n){return Jm(n[Kt])}function Jm(n){for(;n!==null&&!ln(n);)n=n[Kt];return n}var y0;function $0(n){y0=n}function ek(){if(y0!==void 0)return y0;if(typeof document<"u")return document;throw new F(210,!1)}var vd=new V("",{providedIn:"root",factory:()=>ZC}),ZC="ng",Md=new V(""),ea=new V("",{providedIn:"platform",factory:()=>"unknown"});var wd=new V("",{providedIn:"root",factory:()=>ek().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var KC="h",YC="b";var tk="r";var nk="di";var rk=!1,ok=new V("",{providedIn:"root",factory:()=>rk});var W0=new V("");var QC=(n,e,t,r)=>{};function XC(n,e,t,r){QC(n,e,t,r)}function Cd(n){return(n.flags&32)===32}var JC=()=>null;function ik(n,e,t=!1){return JC(n,e,t)}function ak(n,e){let t=n.contentQueries;if(t!==null){let r=W(null);try{for(let o=0;o<t.length;o+=2){let i=t[o],a=t[o+1];if(a!==-1){let s=n.data[a];Hl(i),s.contentQueries(2,e[a],a)}}}finally{W(r)}}}function m0(n,e,t){Hl(0);let r=W(null);try{e(n,t)}finally{W(r)}}function sk(n,e,t){if(Ph(e)){let r=W(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let a=o;a<i;a++){let s=n.data[a];if(s.contentQueries){let c=t[a];s.contentQueries(1,c,a)}}}finally{W(r)}}}var cr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(cr||{});var Zl;function e8(){if(Zl===void 0&&(Zl=null,es.trustedTypes))try{Zl=es.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zl}function sm(n){return e8()?.createScriptURL(n)||n}var id=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ll})`}};function Cs(n){return n instanceof id?n.changingThisBreaksApplicationSecurity:n}function G0(n,e){let t=ck(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ll})`)}return t===e}function ck(n){return n instanceof id&&n.getTypeName()||null}var t8=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function lk(n){return n=String(n),n.match(t8)?n:"unsafe:"+n}var bd=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(bd||{});function dk(n){let e=hk();return e?e.sanitize(bd.URL,n)||"":G0(n,"URL")?Cs(n):lk(Eo(n))}function uk(n){let e=hk();if(e)return sm(e.sanitize(bd.RESOURCE_URL,n)||"");if(G0(n,"ResourceURL"))return sm(Cs(n));throw new F(904,!1)}function n8(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?uk:dk}function Z0(n,e,t){return n8(e,t)(n)}function hk(){let n=ee();return n&&n[En].sanitizer}function pk(n){return n instanceof Function?n():n}function r8(n,e,t){let r=n.length;for(;;){let o=n.indexOf(e,t);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}var fk="ng-template";function o8(n,e,t,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&r8(e[o+1].toLowerCase(),t,0)!==-1)return!0}else if(K0(n))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===t)return!0}return!1}function K0(n){return n.type===4&&n.value!==fk}function i8(n,e,t){let r=n.type===4&&!t?fk:n.value;return e===r}function a8(n,e,t){let r=4,o=n.attrs,i=o!==null?l8(o):0,a=!1;for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number"){if(!a&&!hn(r)&&!hn(c))return!1;if(a&&hn(c))continue;a=!1,r=c|r&1;continue}if(!a)if(r&4){if(r=2|r&1,c!==""&&!i8(n,c,t)||c===""&&e.length===1){if(hn(r))return!1;a=!0}}else if(r&8){if(o===null||!o8(n,o,c,t)){if(hn(r))return!1;a=!0}}else{let l=e[++s],d=s8(c,o,K0(n),t);if(d===-1){if(hn(r))return!1;a=!0;continue}if(l!==""){let u;if(d>i?u="":u=o[d+1].toLowerCase(),r&2&&l!==u){if(hn(r))return!1;a=!0}}}}return hn(r)||a}function hn(n){return(n&1)===0}function s8(n,e,t,r){if(e===null)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){let a=e[o];if(a===n)return o;if(a===3||a===6)i=!0;else if(a===1||a===2){let s=e[++o];for(;typeof s=="string";)s=e[++o];continue}else{if(a===4)break;if(a===0){o+=4;continue}}o+=i?1:2}return-1}else return d8(e,n)}function gk(n,e,t=!1){for(let r=0;r<e.length;r++)if(a8(n,e[r],t))return!0;return!1}function c8(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function l8(n){for(let e=0;e<n.length;e++){let t=n[e];if(Vm(t))return e}return n.length}function d8(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function u8(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function cm(n,e){return n?":not("+e.trim()+")":e}function h8(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let a=n[t];if(typeof a=="string")if(r&2){let s=n[++t];o+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?o+="."+a:r&4&&(o+=" "+a);else o!==""&&!hn(a)&&(e+=cm(i,o),o=""),r=a,i=i||!hn(r);t++}return o!==""&&(e+=cm(i,o)),e}function p8(n){return n.map(h8).join(",")}function f8(n){let e=[],t=[],r=1,o=2;for(;r<n.length;){let i=n[r];if(typeof i=="string")o===2?i!==""&&e.push(i,n[++r]):o===8&&t.push(i);else{if(!hn(o))break;o=i}r++}return t.length&&e.push(1,...t),e}var fn={};function g8(n,e){return n.createText(e)}function y8(n,e,t){n.setValue(e,t)}function yk(n,e,t){return n.createElement(e,t)}function ad(n,e,t,r,o){n.insertBefore(e,t,r,o)}function mk(n,e,t){n.appendChild(e,t)}function lm(n,e,t,r,o){r!==null?ad(n,e,t,r,o):mk(n,e,t)}function kk(n,e,t,r){n.removeChild(null,e,t,r)}function m8(n,e,t){n.setAttribute(e,"style",t)}function k8(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function vk(n,e,t){let{mergedAttrs:r,classes:o,styles:i}=t;r!==null&&AC(n,e,r),o!==null&&k8(n,e,o),i!==null&&m8(n,e,i)}function Y0(n,e,t,r,o,i,a,s,c,l,d){let u=ze+r,p=u+o,h=v8(u,p),y=typeof l=="function"?l():l;return h[$]={type:n,blueprint:h,template:t,queries:null,viewQuery:s,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:d}}function v8(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:fn);return t}function M8(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Y0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Q0(n,e,t,r,o,i,a,s,c,l,d){let u=e.blueprint.slice();return u[cn]=o,u[G]=r|4|128|8|64|1024,(l!==null||n&&n[G]&2048)&&(u[G]|=2048),Oh(u),u[Ge]=u[Ao]=n,u[Ne]=t,u[En]=a||n&&n[En],u[Le]=s||n&&n[Le],u[Tr]=c||n&&n[Tr]||null,u[Mt]=i,u[as]=WC(),u[Lo]=d,u[Lh]=l,u[wt]=e.type==2?n[wt]:u,u}function w8(n,e,t){let r=dn(e,n),o=M8(t),i=n[En].rendererFactory,a=X0(n,Q0(n,o,null,Mk(t),r,e,null,i.createRenderer(r,t),null,null,null));return n[e.index]=a}function Mk(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function wk(n,e,t,r){if(t===0)return-1;let o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function X0(n,e){return n[zi]?n[Eh][Kt]=e:n[zi]=e,n[Eh]=e,e}function C(n=1){Ck(Ze(),ee(),ar()+n,!1)}function Ck(n,e,t,r){if(!r)if((e[G]&3)===3){let i=n.preOrderCheckHooks;i!==null&&Yl(e,i,t)}else{let i=n.preOrderHooks;i!==null&&Ql(e,i,0,t)}jr(t)}var _d=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(_d||{});function k0(n,e,t,r){let o=W(null);try{let[i,a,s]=n.inputs[t],c=null;(a&_d.SignalBased)!==0&&(c=e[i][dt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,i):Tm(e,c,i,r)}finally{W(o)}}var Rn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Rn||{}),C8;function J0(n,e){return C8(n,e)}var Ki=new Set,xd=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(xd||{}),$o=new V(""),dm=new Set;function Nn(n){dm.has(n)||(dm.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var bk=!1,v0=class extends Oe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,_y()&&(this.destroyRef=b(un,{optional:!0})??void 0,this.pendingTasks=b(sr,{optional:!0})??void 0)}emit(e){let t=W(null);try{super.next(e)}finally{W(t)}}subscribe(e,t,r){let o=e,i=t||(()=>null),a=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:o,error:i,complete:a});return e instanceof Ve&&e.add(s),s}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ce=v0;function _k(n){let e,t;function r(){n=jo;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function um(n){return queueMicrotask(()=>n()),()=>{n=jo}}var ep="isAngularZone",sd=ep+"_ID",b8=0,Ue=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ce(!1);onMicrotaskEmpty=new Ce(!1);onStable=new Ce(!1);onError=new Ce(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=bk}=e;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&r,a.shouldCoalesceRunChangeDetection=o,a.callbackScheduled=!1,a.scheduleInRootZone=i,I8(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ep)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new F(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){let i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+o,e,_8,jo,jo);try{return i.runTask(a,t,r)}finally{i.cancelTask(a)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},_8={};function tp(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function x8(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){_k(()=>{n.callbackScheduled=!1,M0(n),n.isCheckStableRunning=!0,tp(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),M0(n)}function I8(n){let e=()=>{x8(n)},t=b8++;n._inner=n._inner.fork({name:"angular",properties:{[ep]:!0,[sd]:t,[sd+t]:!0},onInvokeTask:(r,o,i,a,s,c)=>{if(S8(c))return r.invokeTask(i,a,s,c);try{return hm(n),r.invokeTask(i,a,s,c)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),pm(n)}},onInvoke:(r,o,i,a,s,c,l)=>{try{return hm(n),r.invoke(i,a,s,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!D8(c)&&e(),pm(n)}},onHasTask:(r,o,i,a)=>{r.hasTask(i,a),o===i&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,M0(n),tp(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,o,i,a)=>(r.handleError(i,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function M0(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function hm(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function pm(n){n._nesting--,tp(n)}var cd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ce;onMicrotaskEmpty=new Ce;onStable=new Ce;onError=new Ce;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}};function S8(n){return xk(n,"__ignore_ng_zone__")}function D8(n){return xk(n,"__scheduler_tick__")}function xk(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var np=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=R({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ik=[0,1,2,3],Sk=(()=>{class n{ngZone=b(Ue);scheduler=b(Dn);errorHandler=b(Zt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){b($o,{optional:!0})}execute(){let t=this.sequences.size>0;t&&me(16),this.executing=!0;for(let r of Ik)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&me(17)}register(t){let{view:r}=t;r!==void 0?((r[To]??=[]).push(t),Fr(r),r[G]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(xd.AFTER_NEXT_RENDER,t):t()}static \u0275prov=R({token:n,providedIn:"root",factory:()=>new n})}return n})(),ld=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,o,i,a=null){this.impl=e,this.hooks=t,this.view=r,this.once=o,this.snapshot=a,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[To];e&&(this.view[To]=e.filter(t=>t!==this))}};function bs(n,e){let t=e?.injector??b(ut);return Nn("NgAfterNextRender"),L8(n,t,e,!0)}function E8(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function L8(n,e,t,r){let o=e.get(np);o.impl??=e.get(Sk);let i=e.get($o,null,{optional:!0}),a=t?.manualCleanup!==!0?e.get(un):null,s=e.get($i,null,{optional:!0}),c=new ld(o.impl,E8(n),s?.view,r,a,i?.snapshot(null));return o.impl.register(c),c}var A8=new V("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Dk(n,e){let t=n.get(A8);if(Array.isArray(e))for(let r of e)t.queue.add(r);else t.queue.add(e);t.scheduler&&t.scheduler(n)}function P8(n,e){for(let[t,r]of e)Dk(n,r.animateFns)}function fm(n,e,t,r){let o=n?.[Oo]?.enter;e!==null&&o&&o.has(t.index)&&P8(r,o)}function Wi(n,e,t,r,o,i,a,s){if(o!=null){let c,l=!1;ln(o)?c=o:An(o)&&(l=!0,o=o[cn]);let d=Yt(o);n===0&&r!==null?(fm(s,r,i,t),a==null?mk(e,r,d):ad(e,r,d,a||null,!0)):n===1&&r!==null?(fm(s,r,i,t),ad(e,r,d,a||null,!0)):n===2?gm(s,i,t,u=>{kk(e,d,l,u)}):n===3&&gm(s,i,t,()=>{e.destroyNode(d)}),c!=null&&q8(e,n,t,c,i,r,a)}}function T8(n,e){Ek(n,e),e[cn]=null,e[Mt]=null}function O8(n,e,t,r,o,i){r[cn]=o,r[Mt]=e,Sd(n,r,t,1,o,i)}function Ek(n,e){e[En].changeDetectionScheduler?.notify(9),Sd(n,e,e[Le],2,null,null)}function R8(n){let e=n[zi];if(!e)return r0(n[$],n);for(;e;){let t=null;if(An(e))t=e[zi];else{let r=e[Be];r&&(t=r)}if(!t){for(;e&&!e[Kt]&&e!==n;)An(e)&&r0(e[$],e),e=e[Ge];e===null&&(e=n),An(e)&&r0(e[$],e),t=e&&e[Kt]}e=t}}function rp(n,e){let t=n[Ro],r=t.indexOf(e);t.splice(r,1)}function Id(n,e){if(No(e))return;let t=e[Le];t.destroyNode&&Sd(n,e,t,3,null,null),R8(e)}function r0(n,e){if(No(e))return;let t=W(null);try{e[G]&=-129,e[G]|=256,e[Vt]&&vo(e[Vt]),j8(n,e),F8(n,e),e[$].type===1&&e[Le].destroy();let r=e[Or];if(r!==null&&ln(e[Ge])){r!==e[Ge]&&rp(r,e);let o=e[Ln];o!==null&&o.detachView(n)}g0(e)}finally{W(t)}}function gm(n,e,t,r){let o=n?.[Oo];if(o==null||o.leave==null||!o.leave.has(e.index))return r(!1);if(o.skipLeaveAnimations)return o.skipLeaveAnimations=!1,r(!1);n&&Ki.add(n),Dk(t,()=>{if(o.leave&&o.leave.has(e.index)){let a=o.leave.get(e.index),s=[];if(a)for(let c=0;c<a.animateFns.length;c++){let l=a.animateFns[c],{promise:d}=l();s.push(d)}o.running=Promise.allSettled(s),N8(n,r)}else n&&Ki.delete(n),r(!1)})}function N8(n,e){let t=n[Oo]?.running;if(t){t.then(()=>{n[Oo].running=void 0,Ki.delete(n),e(!0)});return}e(!1)}function F8(n,e){let t=n.cleanup,r=e[Hi];if(t!==null)for(let a=0;a<t.length-1;a+=2)if(typeof t[a]=="string"){let s=t[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[t[a+1]];t[a].call(s)}r!==null&&(e[Hi]=null);let o=e[tr];if(o!==null){e[tr]=null;for(let a=0;a<o.length;a++){let s=o[a];s()}}let i=e[ir];if(i!==null){e[ir]=null;for(let a of i)a.destroy()}}function j8(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let o=e[t[r]];if(!(o instanceof Ho)){let i=t[r+1];if(Array.isArray(i))for(let a=0;a<i.length;a+=2){let s=o[i[a]],c=i[a+1];me(4,s,c);try{c.call(s)}finally{me(5,s,c)}}else{me(4,o,i);try{i.call(o)}finally{me(5,o,i)}}}}}function Lk(n,e,t){return V8(n,e.parent,t)}function V8(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[cn];if(Nr(r)){let{encapsulation:o}=n.data[r.directiveStart+r.componentOffset];if(o===cr.None||o===cr.Emulated)return null}return dn(r,t)}function Ak(n,e,t){return z8(n,e,t)}function H8(n,e,t){return n.type&40?dn(n,t):null}var z8=H8,ym;function op(n,e,t,r){let o=Lk(n,r,e),i=e[Le],a=r.parent||e[Mt],s=Ak(a,r,e);if(o!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)lm(i,o,t[c],s,!1);else lm(i,o,t,s,!1);ym!==void 0&&ym(i,r,e,t,o)}function hs(n,e){if(e!==null){let t=e.type;if(t&3)return dn(e,n);if(t&4)return w0(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return hs(n,r);{let o=n[e.index];return ln(o)?w0(-1,o):Yt(o)}}else{if(t&128)return hs(n,e.next);if(t&32)return J0(e,n)()||Yt(n[e.index]);{let r=Pk(n,e);if(r!==null){if(Array.isArray(r))return r[0];let o=Lr(n[wt]);return hs(o,r)}else return hs(n,e.next)}}}return null}function Pk(n,e){if(e!==null){let r=n[wt][Mt],o=e.projection;return r.projection[o]}return null}function w0(n,e){let t=Be+n+1;if(t<e.length){let r=e[t],o=r[$].firstChild;if(o!==null)return hs(r,o)}return e[Rr]}function ip(n,e,t,r,o,i,a){for(;t!=null;){let s=r[Tr];if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(a&&e===0&&(c&&Zi(Yt(c),r),t.flags|=2),!Cd(t))if(l&8)ip(n,e,t.child,r,o,i,!1),Wi(e,n,s,o,c,t,i,r);else if(l&32){let d=J0(t,r),u;for(;u=d();)Wi(e,n,s,o,u,t,i,r);Wi(e,n,s,o,c,t,i,r)}else l&16?Tk(n,e,r,t,o,i):Wi(e,n,s,o,c,t,i,r);t=a?t.projectionNext:t.next}}function Sd(n,e,t,r,o,i){ip(t,r,n.firstChild,e,o,i,!1)}function B8(n,e,t){let r=e[Le],o=Lk(n,t,e),i=t.parent||e[Mt],a=Ak(i,t,e);Tk(r,0,e,t,o,a)}function Tk(n,e,t,r,o,i){let a=t[wt],c=a[Mt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Wi(e,n,t[Tr],o,d,r,i,t)}else{let l=c,d=a[Ge];Km(r)&&(l.flags|=128),ip(n,e,l,d,o,i,!0)}}function q8(n,e,t,r,o,i,a){let s=r[Rr],c=Yt(r);s!==c&&Wi(e,n,t,i,s,o,a);for(let l=Be;l<r.length;l++){let d=r[l];Sd(d[$],d,n,e,i,s)}}function U8(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=r.indexOf("-")===-1?void 0:Rn.DashCase;o==null?n.removeStyle(t,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Rn.Important),n.setStyle(t,r,o,i))}}function Ok(n,e,t,r,o){let i=ar(),a=r&2;try{jr(-1),a&&e.length>ze&&Ck(n,e,ze,!1),me(a?2:0,o,t),t(r,o)}finally{jr(i),me(a?3:1,o,t)}}function ap(n,e,t){Q8(n,e,t),(t.flags&64)===64&&X8(n,e,t)}function sp(n,e,t=dn){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let a=r[i+1],s=a===-1?t(e,n):n[a];n[o++]=s}}}function $8(n,e,t,r){let i=r.get(ok,rk)||t===cr.ShadowDom,a=n.selectRootElement(e,i);return W8(a),a}function W8(n){G8(n)}var G8=()=>null;function Z8(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Rk(n,e,t,r,o,i){let a=e[$];if(cp(n,a,e,t,r)){Nr(n)&&Y8(e,n.index);return}n.type&3&&(t=Z8(t)),K8(n,e,t,r,o,i)}function K8(n,e,t,r,o,i){if(n.type&3){let a=dn(n,e);r=i!=null?i(r,n.value||"",t):r,o.setProperty(a,t,r)}else n.type&12}function Y8(n,e){let t=Qt(e,n);t[G]&16||(t[G]|=64)}function Q8(n,e,t){let r=t.directiveStart,o=t.directiveEnd;Nr(t)&&w8(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||rd(t,e);let i=t.initialInputs;for(let a=r;a<o;a++){let s=n.data[a],c=gs(e,n,a,t);if(Zi(c,e),i!==null&&nb(e,a-r,c,s,t,i),Pn(s)){let l=Qt(t.index,e);l[Ne]=gs(e,n,a,t)}}}function X8(n,e,t){let r=t.directiveStart,o=t.directiveEnd,i=t.index,a=$y();try{jr(i);for(let s=r;s<o;s++){let c=n.data[s],l=e[s];Vl(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&J8(c,l)}}finally{jr(-1),Vl(a)}}function J8(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Nk(n,e){let t=n.directiveRegistry,r=null;if(t)for(let o=0;o<t.length;o++){let i=t[o];gk(e,i.selectors,!1)&&(r??=[],Pn(i)?r.unshift(i):r.push(i))}return r}function eb(n,e,t,r,o,i){let a=dn(n,e);tb(e[Le],a,i,n.value,t,r,o)}function tb(n,e,t,r,o,i,a){if(i==null)n.removeAttribute(e,o,t);else{let s=a==null?Eo(i):a(i,r||"",o);n.setAttribute(e,o,s,t)}}function nb(n,e,t,r,o,i){let a=i[e];if(a!==null)for(let s=0;s<a.length;s+=2){let c=a[s],l=a[s+1];k0(r,t,c,l)}}function rb(n,e,t,r,o){let i=ze+t,a=e[$],s=o(a,e,n,r,t);e[i]=s,qi(n,!0);let c=n.type===2;return c?(vk(e[Le],s,n),(Oy()===0||cs(n))&&Zi(s,e),Ry()):Zi(s,e),Ul()&&(!c||!Cd(n))&&op(a,e,s,n),n}function ob(n){let e=n;return Bh()?qh():(e=e.parent,qi(e,!1)),e}function ib(n,e){let t=n[Tr];if(!t)return;let r;try{r=t.get(Ht,null)}catch{r=null}r?.(e)}function cp(n,e,t,r,o){let i=n.inputs?.[r],a=n.hostDirectiveInputs?.[r],s=!1;if(a)for(let c=0;c<a.length;c+=2){let l=a[c],d=a[c+1],u=e.data[l];k0(u,t[l],d,o),s=!0}if(i)for(let c of i){let l=t[c],d=e.data[c];k0(d,l,r,o),s=!0}return s}function ab(n,e){let t=Qt(e,n),r=t[$];sb(r,t);let o=t[cn];o!==null&&t[Lo]===null&&(t[Lo]=ik(o,t[Tr])),me(18),lp(r,t,t[Ne]),me(19,t[Ne])}function sb(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function lp(n,e,t){zl(e);try{let r=n.viewQuery;r!==null&&m0(1,r,t);let o=n.template;o!==null&&Ok(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ln]?.finishViewCreation(n),n.staticContentQueries&&ak(n,e),n.staticViewQueries&&m0(2,n.viewQuery,t);let i=n.components;i!==null&&cb(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[G]&=-5,Bl()}}function cb(n,e){for(let t=0;t<e.length;t++)ab(n,e[t])}function _s(n,e,t,r){let o=W(null);try{let i=e.tView,s=n[G]&4096?4096:16,c=Q0(n,i,t,s,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Or]=l;let d=n[Ln];return d!==null&&(c[Ln]=d.createEmbeddedView(i)),lp(i,c,t),c}finally{W(o)}}function Yi(n,e){return!e||e.firstChild===null||Km(n)}function ys(n,e,t,r,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let i=e[t.index];i!==null&&r.push(Yt(i)),ln(i)&&Fk(i,r);let a=t.type;if(a&8)ys(n,e,t.child,r);else if(a&32){let s=J0(t,e),c;for(;c=s();)r.push(c)}else if(a&16){let s=Pk(e,t);if(Array.isArray(s))r.push(...s);else{let c=Lr(e[wt]);ys(c[$],c,s,r,!0)}}t=o?t.projectionNext:t.next}return r}function Fk(n,e){for(let t=Be;t<n.length;t++){let r=n[t],o=r[$].firstChild;o!==null&&ys(r[$],r,o,e)}n[Rr]!==n[cn]&&e.push(n[Rr])}function jk(n){if(n[To]!==null){for(let e of n[To])e.impl.addSequence(e);n[To].length=0}}var Vk=[];function lb(n){return n[Vt]??db(n)}function db(n){let e=Vk.pop()??Object.create(hb);return e.lView=n,e}function ub(n){n.lView[Vt]!==n&&(n.lView=null,Vk.push(n))}var hb=Z(x({},mo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Fr(n.lView)},consumerOnSignalRead(){this.lView[Vt]=this}});function pb(n){let e=n[Vt]??Object.create(fb);return e.lView=n,e}var fb=Z(x({},mo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Lr(n.lView);for(;e&&!Hk(e[$]);)e=Lr(e);e&&Rh(e)},consumerOnSignalRead(){this.lView[Vt]=this}});function Hk(n){return n.type!==2}function zk(n){if(n[ir]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[ir])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[G]&8192)}}var gb=100;function Bk(n,e=0){let r=n[En].rendererFactory,o=!1;o||r.begin?.();try{yb(n,e)}finally{o||r.end?.()}}function yb(n,e){let t=Uh();try{Ui(!0),C0(n,e);let r=0;for(;ds(n);){if(r===gb)throw new F(103,!1);r++,C0(n,1)}}finally{Ui(t)}}function mb(n,e,t,r){if(No(e))return;let o=e[G],i=!1,a=!1;zl(e);let s=!0,c=null,l=null;i||(Hk(n)?(l=lb(e),c=ko(l)):Gc()===null?(s=!1,l=pb(e),c=ko(l)):e[Vt]&&(vo(e[Vt]),e[Vt]=null));try{Oh(e),By(n.bindingStartIndex),t!==null&&Ok(n,e,t,2,r);let d=(o&3)===3;if(!i)if(d){let h=n.preOrderCheckHooks;h!==null&&Yl(e,h,null)}else{let h=n.preOrderHooks;h!==null&&Ql(e,h,0,null),t0(e,0)}if(a||kb(e),zk(e),qk(e,0),n.contentQueries!==null&&ak(n,e),!i)if(d){let h=n.contentCheckHooks;h!==null&&Yl(e,h)}else{let h=n.contentHooks;h!==null&&Ql(e,h,1),t0(e,1)}Mb(n,e);let u=n.components;u!==null&&$k(e,u,0);let p=n.viewQuery;if(p!==null&&m0(2,p,r),!i)if(d){let h=n.viewCheckHooks;h!==null&&Yl(e,h)}else{let h=n.viewHooks;h!==null&&Ql(e,h,2),t0(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Nl]){for(let h of e[Nl])h();e[Nl]=null}i||(jk(e),e[G]&=-73)}catch(d){throw i||Fr(e),d}finally{l!==null&&(_i(l,c),s&&ub(l)),Bl()}}function qk(n,e){for(let t=Qm(n);t!==null;t=Xm(t))for(let r=Be;r<t.length;r++){let o=t[r];Uk(o,e)}}function kb(n){for(let e=Qm(n);e!==null;e=Xm(e)){if(!(e[G]&2))continue;let t=e[Ro];for(let r=0;r<t.length;r++){let o=t[r];Rh(o)}}}function vb(n,e,t){me(18);let r=Qt(e,n);Uk(r,t),me(19,r[Ne])}function Uk(n,e){Fl(n)&&C0(n,e)}function C0(n,e){let r=n[$],o=n[G],i=n[Vt],a=!!(e===0&&o&16);if(a||=!!(o&64&&e===0),a||=!!(o&1024),a||=!!(i?.dirty&&xi(i)),a||=!1,i&&(i.dirty=!1),n[G]&=-9217,a)mb(r,n,r.template,n[Ne]);else if(o&8192){let s=W(null);try{zk(n),qk(n,1);let c=r.components;c!==null&&$k(n,c,1),jk(n)}finally{W(s)}}}function $k(n,e,t){for(let r=0;r<e.length;r++)vb(n,e[r],t)}function Mb(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let o=t[r];if(o<0)jr(~o);else{let i=o,a=t[++r],s=t[++r];Uy(a,i);let c=e[i];me(24,c),s(2,c),me(25,c)}}}finally{jr(-1)}}function dp(n,e){let t=Uh()?64:1088;for(n[En].changeDetectionScheduler?.notify(e);n;){n[G]|=t;let r=Lr(n);if(Bi(n)&&!r)return n;n=r}return null}function Wk(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Gk(n,e){let t=Be+e;if(t<n.length)return n[t]}function xs(n,e,t,r=!0){let o=e[$];if(wb(o,e,n,t),r){let a=w0(t,n),s=e[Le],c=s.parentNode(n[Rr]);c!==null&&O8(o,n[Mt],s,e,c,a)}let i=e[Lo];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Zk(n,e){let t=ms(n,e);return t!==void 0&&Id(t[$],t),t}function ms(n,e){if(n.length<=Be)return;let t=Be+e,r=n[t];if(r){let o=r[Or];o!==null&&o!==n&&rp(o,r),e>0&&(n[t-1][Kt]=r[Kt]);let i=ns(n,Be+e);T8(r[$],r);let a=i[Ln];a!==null&&a.detachView(i[$]),r[Ge]=null,r[Kt]=null,r[G]&=-129}return r}function wb(n,e,t,r){let o=Be+r,i=t.length;r>0&&(t[o-1][Kt]=e),r<i-Be?(e[Kt]=t[o],wh(t,Be+r,e)):(t.push(e),e[Kt]=null),e[Ge]=t;let a=e[Or];a!==null&&t!==a&&Kk(a,e);let s=e[Ln];s!==null&&s.insertView(n),jl(e),e[G]|=128}function Kk(n,e){let t=n[Ro],r=e[Ge];if(An(r))n[G]|=2;else{let o=r[Ge][wt];e[wt]!==o&&(n[G]|=2)}t===null?n[Ro]=[e]:t.push(e)}var Vr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[$];return ys(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Ne]}set context(e){this._lView[Ne]=e}get destroyed(){return No(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ge];if(ln(e)){let t=e[ss],r=t?t.indexOf(this):-1;r>-1&&(ms(e,r),ns(t,r))}this._attachedToViewContainer=!1}Id(this._lView[$],this._lView)}onDestroy(e){Nh(this._lView,e)}markForCheck(){dp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){jl(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,Bk(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Bi(this._lView),t=this._lView[Or];t!==null&&!e&&rp(t,this._lView),Ek(this._lView[$],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e;let t=Bi(this._lView),r=this._lView[Or];r!==null&&!t&&Kk(r,this._lView),jl(this._lView)}};var Hr=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Cb;constructor(t,r,o){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){let i=_s(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new Vr(i)}}return n})();function Cb(){return Dd(rt(),ee())}function Dd(n,e){return n.type&4?new Hr(e,n,Ji(n,e)):null}function Is(n,e,t,r,o){let i=n.data[e];if(i===null)i=bb(n,e,t,r,o),qy()&&(i.flags|=32);else if(i.type&64){i.type=t,i.value=r,i.attrs=o;let a=Vy();i.injectorIndex=a===null?-1:a.injectorIndex}return qi(i,!0),i}function bb(n,e,t,r,o){let i=zh(),a=Bh(),s=a?i:i&&i.parent,c=n.data[e]=xb(n,s,t,e,r,o);return _b(n,c,i,a),c}function _b(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function xb(n,e,t,r,o,i){let a=e?e.injectorIndex:-1,s=0;return Hh()&&(s|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var BN=new RegExp(`^(\\d+)*(${YC}|${KC})*(.*)`);function Ib(n){let e=n[Ah]??[],r=n[Ge][Le],o=[];for(let i of e)i.data[nk]!==void 0?o.push(i):Sb(i,r);n[Ah]=o}function Sb(n,e){let t=0,r=n.firstChild;if(r){let o=n.data[tk];for(;t<o;){let i=r.nextSibling;kk(e,r,!1),r=i,t++}}}var Db=()=>null,Eb=()=>null;function dd(n,e){return Db(n,e)}function Yk(n,e,t){return Eb(n,e,t)}var Qk=class{},Ed=class{},b0=class{resolveComponentFactory(e){throw new F(917,!1)}},Ss=class{static NULL=new b0},zo=class{},zt=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Lb()}return n})();function Lb(){let n=ee(),e=rt(),t=Qt(e.index,n);return(An(t)?t:n)[Le]}var Xk=(()=>{class n{static \u0275prov=R({token:n,providedIn:"root",factory:()=>null})}return n})();var Jl={},_0=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let o=this.injector.get(e,Jl,r);return o!==Jl||t===Jl?o:this.parentInjector.get(e,t,r)}};function mm(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(e!==null)for(let a=0;a<e.length;a++){let s=e[a];if(typeof s=="number")i=s;else if(i==1)o=uh(o,s);else if(i==2){let c=s,l=e[++a];r=uh(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function N(n,e=0){let t=ee();if(t===null)return z(n,e);let r=rt();return Wm(r,t,nt(n),e)}function up(){let n="invalid";throw new Error(n)}function Jk(n,e,t,r,o){let i=r===null?null:{"":-1},a=o(n,t);if(a!==null){let s=a,c=null,l=null;for(let d of a)if(d.resolveHostDirectives!==null){[s,c,l]=d.resolveHostDirectives(a);break}Tb(n,e,t,s,i,c,l)}i!==null&&r!==null&&Ab(t,r,i)}function Ab(n,e,t){let r=n.localNames=[];for(let o=0;o<e.length;o+=2){let i=t[e[o+1]];if(i==null)throw new F(-301,!1);r.push(e[o],i)}}function Pb(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Tb(n,e,t,r,o,i,a){let s=r.length,c=!1;for(let p=0;p<s;p++){let h=r[p];!c&&Pn(h)&&(c=!0,Pb(n,t,p)),p0(rd(t,e),n,h.type)}Vb(t,n.data.length,s);for(let p=0;p<s;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let l=!1,d=!1,u=wk(n,e,s,null);s>0&&(t.directiveToIndex=new Map);for(let p=0;p<s;p++){let h=r[p];if(t.mergedAttrs=fs(t.mergedAttrs,h.hostAttrs),Rb(n,t,e,u,h),jb(u,h,o),a!==null&&a.has(h)){let[k,v]=a.get(h);t.directiveToIndex.set(h.type,[u,k+t.directiveStart,v+t.directiveStart])}else(i===null||!i.has(h))&&t.directiveToIndex.set(h.type,u);h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let y=h.type.prototype;!l&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),u++}Ob(n,t,i)}function Ob(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=n.data[r];if(t===null||!t.has(o))km(0,e,o,r),km(1,e,o,r),Mm(e,r,!1);else{let i=t.get(o);vm(0,e,i,r),vm(1,e,i,r),Mm(e,r,!0)}}}function km(n,e,t,r){let o=n===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let a;n===0?a=e.inputs??={}:a=e.outputs??={},a[i]??=[],a[i].push(r),ev(e,i)}}function vm(n,e,t,r){let o=n===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let a=o[i],s;n===0?s=e.hostDirectiveInputs??={}:s=e.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,i),ev(e,a)}}function ev(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Mm(n,e,t){let{attrs:r,inputs:o,hostDirectiveInputs:i}=n;if(r===null||!t&&o===null||t&&i===null||K0(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!t&&o.hasOwnProperty(c)){let l=o[c];for(let d of l)if(d===e){a??=[],a.push(c,r[s+1]);break}}else if(t&&i.hasOwnProperty(c)){let l=i[c];for(let d=0;d<l.length;d+=2)if(l[d]===e){a??=[],a.push(l[d+1],r[s+1]);break}}s+=2}n.initialInputs??=[],n.initialInputs.push(a)}function Rb(n,e,t,r,o){n.data[r]=o;let i=o.factory||(o.factory=xo(o.type,!0)),a=new Ho(i,Pn(o),N,null);n.blueprint[r]=a,t[r]=a,Nb(n,e,r,wk(n,t,o.hostVars,fn),o)}function Nb(n,e,t,r,o){let i=o.hostBindings;if(i){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let s=~e.index;Fb(a)!=s&&a.push(s),a.push(t,r,i)}}function Fb(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function jb(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Pn(e)&&(t[""]=n)}}function Vb(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function tv(n,e,t,r,o,i,a,s){let c=e[$],l=c.consts,d=Tn(l,a),u=Is(c,n,t,r,d);return i&&Jk(c,e,u,Tn(l,s),o),u.mergedAttrs=fs(u.mergedAttrs,u.attrs),u.attrs!==null&&mm(u,u.attrs,!1),u.mergedAttrs!==null&&mm(u,u.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,u),u}function nv(n,e){Fm(n,e),Ph(e)&&n.queries.elementEnd(e)}function hp(n){return ov(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function rv(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function ov(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function lr(n,e,t){if(t===fn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Hb(n,e,t,r){let o=lr(n,e,t);return lr(n,e+1,r)||o}function o0(n,e,t){return function r(o){let i=Nr(n)?Qt(n.index,e):e;dp(i,5);let a=e[Ne],s=wm(e,a,t,o),c=r.__ngNextListenerFn__;for(;c;)s=wm(e,a,c,o)&&s,c=c.__ngNextListenerFn__;return s}}function wm(n,e,t,r){let o=W(null);try{return me(6,e,t),t(r)!==!1}catch(i){return ib(n,i),!1}finally{me(7,e,t),W(o)}}function zb(n,e,t,r,o,i,a,s){let c=cs(n),l=!1,d=null;if(!r&&c&&(d=qb(e,t,i,n.index)),d!==null){let u=d.__ngLastListenerFn__||d;u.__ngNextListenerFn__=a,d.__ngLastListenerFn__=a,l=!0}else{let u=dn(n,t),p=r?r(u):u;XC(t,p,i,s);let h=o.listen(p,i,s);if(!Bb(i)){let y=r?k=>r(Yt(k[n.index])):n.index;iv(y,e,t,i,s,h,!1)}}return l}function Bb(n){return n.startsWith("animation")||n.startsWith("transition")}function qb(n,e,t,r){let o=n.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let a=o[i];if(a===t&&o[i+1]===r){let s=e[Hi],c=o[i+2];return s&&s.length>c?s[c]:null}typeof a=="string"&&(i+=2)}return null}function iv(n,e,t,r,o,i,a){let s=e.firstCreatePass?jh(e):null,c=Fh(t),l=c.length;c.push(o,i),s&&s.push(r,n,l,(l+1)*(a?-1:1))}function Cm(n,e,t,r,o,i){let a=e[t],s=e[$],l=s.data[t].outputs[r],u=a[l].subscribe(i);iv(n.index,s,e,o,i,u,!0)}var x0=Symbol("BINDING");var ud=class extends Ss{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=or(e);return new Bo(t,this.ngModule)}};function Ub(n){return Object.keys(n).map(e=>{let[t,r,o]=n[e],i={propName:t,templateName:e,isSignal:(r&_d.SignalBased)!==0};return o&&(i.transform=o),i})}function $b(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Wb(n,e,t){let r=e instanceof We?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new _0(t,r):t}function Gb(n){let e=n.get(zo,null);if(e===null)throw new F(407,!1);let t=n.get(Xk,null),r=n.get(Dn,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Zb(n,e){let t=av(n);return yk(e,t,t==="svg"?Iy:t==="math"?Sy:null)}function av(n){return(n.selectors[0][0]||"div").toLowerCase()}var Bo=class extends Ed{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Ub(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=$b(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=p8(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,o,i,a){me(22);let s=W(null);try{let c=this.componentDef,l=Kb(r,c,a,i),d=Wb(c,o||this.ngModule,e),u=Gb(d),p=u.rendererFactory.createRenderer(null,c),h=r?$8(p,r,c.encapsulation,d):Zb(c,p),y=a?.some(bm)||i?.some(w=>typeof w!="function"&&w.bindings.some(bm)),k=Q0(null,l,null,512|Mk(c),null,null,u,p,d,null,ik(h,d,!0));k[ze]=h,zl(k);let v=null;try{let w=tv(ze,k,2,"#host",()=>l.directiveRegistry,!0,0);vk(p,h,w),Zi(h,k),ap(l,k,w),sk(l,w,k),nv(l,w),t!==void 0&&Qb(w,this.ngContentSelectors,t),v=Qt(w.index,k),k[Ne]=v[Ne],lp(l,k,null)}catch(w){throw v!==null&&g0(v),g0(k),w}finally{me(23),Bl()}return new hd(this.componentType,k,!!y)}finally{W(s)}}};function Kb(n,e,t,r){let o=n?["ng-version","20.3.9"]:f8(e.selectors[0]),i=null,a=null,s=0;if(t)for(let d of t)s+=d[x0].requiredVars,d.create&&(d.targetIdx=0,(i??=[]).push(d)),d.update&&(d.targetIdx=0,(a??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let u=r[d];if(typeof u!="function")for(let p of u.bindings){s+=p[x0].requiredVars;let h=d+1;p.create&&(p.targetIdx=h,(i??=[]).push(p)),p.update&&(p.targetIdx=h,(a??=[]).push(p))}}let c=[e];if(r)for(let d of r){let u=typeof d=="function"?d:d.type,p=xh(u);c.push(p)}return Y0(0,null,Yb(i,a),1,s,c,null,null,null,[o],null)}function Yb(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function bm(n){let e=n[x0].kind;return e==="input"||e==="twoWay"}var hd=class extends Qk{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=ls(t[$],ze),this.location=Ji(this._tNode,t),this.instance=Qt(this._tNode.index,t)[Ne],this.hostView=this.changeDetectorRef=new Vr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView,i=cp(r,o[$],o,e,t);this.previousInputValues.set(e,t);let a=Qt(r.index,o);dp(a,1)}get injector(){return new Vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Qb(n,e,t){let r=n.projection=[];for(let o=0;o<e.length;o++){let i=t[o];r.push(i!=null&&i.length?Array.from(i):null)}}var dr=(()=>{class n{static __NG_ELEMENT_ID__=Xb}return n})();function Xb(){let n=rt();return cv(n,ee())}var Jb=dr,sv=class extends Jb{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ji(this._hostTNode,this._hostLView)}get injector(){return new Vo(this._hostTNode,this._hostLView)}get parentInjector(){let e=q0(this._hostTNode,this._hostLView);if(Hm(e)){let t=nd(e,this._hostLView),r=td(e),o=t[$].data[r+8];return new Vo(o,t)}else return new Vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=_m(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Be}createEmbeddedView(e,t,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let a=dd(this._lContainer,e.ssrId),s=e.createEmbeddedViewImpl(t||{},i,a);return this.insertImpl(s,o,Yi(this._hostTNode,a)),s}createComponent(e,t,r,o,i,a,s){let c=e&&!bC(e),l;if(c)l=t;else{let v=t||{};l=v.index,r=v.injector,o=v.projectableNodes,i=v.environmentInjector||v.ngModuleRef,a=v.directives,s=v.bindings}let d=c?e:new Bo(or(e)),u=r||this.parentInjector;if(!i&&d.ngModule==null){let w=(c?u:this.parentInjector).get(We,null);w&&(i=w)}let p=or(d.componentType??{}),h=dd(this._lContainer,p?.id??null),y=h?.firstChild??null,k=d.create(u,o,y,i,a,s);return this.insertImpl(k.hostView,l,Yi(this._hostTNode,h)),k}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let o=e._lView;if(Ly(o)){let s=this.indexOf(e);if(s!==-1)this.detach(s);else{let c=o[Ge],l=new sv(c,c[Mt],c[Ge]);l.detach(l.indexOf(e))}}let i=this._adjustIndex(t),a=this._lContainer;return xs(a,o,i,r),e.attachToViewContainerRef(),wh(i0(a),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=_m(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=ms(this._lContainer,t);r&&(ns(i0(this._lContainer),t),Id(r[$],r))}detach(e){let t=this._adjustIndex(e,-1),r=ms(this._lContainer,t);return r&&ns(i0(this._lContainer),t)!=null?new Vr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function _m(n){return n[ss]}function i0(n){return n[ss]||(n[ss]=[])}function cv(n,e){let t,r=e[n.index];return ln(r)?t=r:(t=Wk(r,e,null,n),e[n.index]=t,X0(e,t)),t6(t,e,n,r),new sv(t,n,e)}function e6(n,e){let t=n[Le],r=t.createComment(""),o=dn(e,n),i=t.parentNode(o);return ad(t,i,r,t.nextSibling(o),!1),r}var t6=o6,n6=()=>!1;function r6(n,e,t){return n6(n,e,t)}function o6(n,e,t,r){if(n[Rr])return;let o;t.type&8?o=Yt(r):o=e6(e,t),n[Rr]=o}var I0=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},S0=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){let a=t.getByIndex(i),s=this.queries[a.indexInDeclarationView];o.push(s.clone())}return new n(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)pp(e,t).matches!==null&&this.queries[t].setDirty()}},D0=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=h6(e):this.predicate=e}},E0=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let o=t!==null?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,t!==null?t.push(i):t=[i])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},L0=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,t,i6(t,i)),this.matchTNodeWithReadOption(e,t,Xl(t,e,i,!1,!1))}else r===Hr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Xl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===ot||o===dr||o===Hr&&t.type&4)this.addMatch(t.index,-2);else{let i=Xl(t,e,o,!1,!1);i!==null&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function i6(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function a6(n,e){return n.type&11?Ji(n,e):n.type&4?Dd(n,e):null}function s6(n,e,t,r){return t===-1?a6(e,n):t===-2?c6(n,e,r):gs(n,n[$],t,e)}function c6(n,e,t){if(t===ot)return Ji(e,n);if(t===Hr)return Dd(e,n);if(t===dr)return cv(e,n)}function lv(n,e,t,r){let o=e[Ln].queries[r];if(o.matches===null){let i=n.data,a=t.matches,s=[];for(let c=0;a!==null&&c<a.length;c+=2){let l=a[c];if(l<0)s.push(null);else{let d=i[l];s.push(s6(e,d,a[c+1],t.metadata.read))}}o.matches=s}return o.matches}function A0(n,e,t,r){let o=n.queries.getByIndex(t),i=o.matches;if(i!==null){let a=lv(n,e,o,t);for(let s=0;s<i.length;s+=2){let c=i[s];if(c>0)r.push(a[s/2]);else{let l=i[s+1],d=e[-c];for(let u=Be;u<d.length;u++){let p=d[u];p[Or]===p[Ge]&&A0(p[$],p,l,r)}if(d[Ro]!==null){let u=d[Ro];for(let p=0;p<u.length;p++){let h=u[p];A0(h[$],h,l,r)}}}}}return r}function l6(n,e){return n[Ln].queries[e].queryList}function d6(n,e,t){let r=new od((t&4)===4);return Ty(n,e,r,r.destroy),(e[Ln]??=new S0).queries.push(new I0(r))-1}function u6(n,e,t,r){let o=Ze();if(o.firstCreatePass){let i=rt();p6(o,new D0(e,t,r),i.index),f6(o,n),(t&2)===2&&(o.staticContentQueries=!0)}return d6(o,ee(),t)}function h6(n){return n.split(",").map(e=>e.trim())}function p6(n,e,t){n.queries===null&&(n.queries=new E0),n.queries.track(new L0(e,t))}function f6(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function pp(n,e){return n.queries.getByIndex(e)}function g6(n,e){let t=n[$],r=pp(t,e);return r.crossesNgTemplate?A0(t,n,e,[]):lv(t,n,r,e)}var qo=class{},Ld=class{};var pd=class extends qo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ud(this);constructor(e,t,r,o=!0){super(),this.ngModuleType=e,this._parent=t;let i=_h(e);this._bootstrapComponents=pk(i.bootstrap),this._r3Injector=Kh(e,t,[{provide:qo,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver},...r],nr(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},fd=class extends Ld{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new pd(this.moduleType,e,[])}};var ks=class extends qo{injector;componentFactoryResolver=new ud(this);instance=null;constructor(e){super();let t=new So([...e.providers,{provide:qo,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver}],e.parent||is(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ta(n,e,t=null){return new ks({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var y6=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Ih(!1,t.type),o=r.length>0?ta([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=R({token:n,providedIn:"environment",factory:()=>new n(z(We))})}return n})();function ue(n){return Xi(()=>{let e=dv(n),t=Z(x({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===U0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(y6).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||cr.Emulated,styles:n.styles||Nt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Nn("NgStandalone"),uv(t);let r=n.dependencies;return t.directiveDefs=xm(r,m6),t.pipeDefs=xm(r,My),t.id=M6(t),t})}function m6(n){return or(n)||xh(n)}function Jt(n){return Xi(()=>({type:n.type,bootstrap:n.bootstrap||Nt,declarations:n.declarations||Nt,imports:n.imports||Nt,exports:n.exports||Nt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function k6(n,e){if(n==null)return Ar;let t={};for(let r in n)if(n.hasOwnProperty(r)){let o=n[r],i,a,s,c;Array.isArray(o)?(s=o[0],i=o[1],a=o[2]??i,c=o[3]||null):(i=o,a=o,s=_d.None,c=null),t[i]=[r,s,c],e[i]=a}return t}function v6(n){if(n==null)return Ar;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function _e(n){return Xi(()=>{let e=dv(n);return uv(e),e})}function dv(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Ar,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Nt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:k6(n.inputs,e),outputs:v6(n.outputs),debugInfo:null}}function uv(n){n.features?.forEach(e=>e(n))}function xm(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let o of t){let i=e(o);i!==null&&r.push(i)}return r}:null}function M6(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function w6(n){return Object.getPrototypeOf(n.prototype).constructor}function Et(n){let e=w6(n.type),t=!0,r=[n];for(;e;){let o;if(Pn(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);let a=n;a.inputs=a0(n.inputs),a.declaredInputs=a0(n.declaredInputs),a.outputs=a0(n.outputs);let s=o.hostBindings;s&&I6(n,s);let c=o.viewQuery,l=o.contentQueries;if(c&&_6(n,c),l&&x6(n,l),C6(n,o),ly(n.outputs,o.outputs),Pn(o)&&o.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let a=0;a<i.length;a++){let s=i[a];s&&s.ngInherit&&s(n),s===Et&&(t=!1)}}e=Object.getPrototypeOf(e)}b6(r)}function C6(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function b6(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=fs(o.hostAttrs,t=fs(t,o.hostAttrs))}}function a0(n){return n===Ar?{}:n===Nt?[]:n}function _6(n,e){let t=n.viewQuery;t?n.viewQuery=(r,o)=>{e(r,o),t(r,o)}:n.viewQuery=e}function x6(n,e){let t=n.contentQueries;t?n.contentQueries=(r,o,i)=>{e(r,o,i),t(r,o,i)}:n.contentQueries=e}function I6(n,e){let t=n.hostBindings;t?n.hostBindings=(r,o)=>{e(r,o),t(r,o)}:n.hostBindings=e}function hv(n,e,t,r,o,i,a,s){if(t.firstCreatePass){n.mergedAttrs=fs(n.mergedAttrs,n.attrs);let d=n.tView=Y0(2,n,o,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}s&&(n.flags|=s),qi(n,!1);let c=D6(t,e,n,r);Ul()&&op(t,e,c,n),Zi(c,e);let l=Wk(c,e,c,n);e[r+ze]=l,X0(e,l),r6(l,n,e)}function S6(n,e,t,r,o,i,a,s,c,l,d){let u=t+ze,p;return e.firstCreatePass?(p=Is(e,u,4,a||null,s||null),Vh()&&Jk(e,n,p,Tn(e.consts,l),Nk),Fm(e,p)):p=e.data[u],hv(p,n,e,t,r,o,i,c),cs(p)&&ap(e,n,p),l!=null&&sp(n,p,d),p}function vs(n,e,t,r,o,i,a,s,c,l,d){let u=t+ze,p;if(e.firstCreatePass){if(p=Is(e,u,4,a||null,s||null),l!=null){let h=Tn(e.consts,l);p.localNames=[];for(let y=0;y<h.length;y+=2)p.localNames.push(h[y],-1)}}else p=e.data[u];return hv(p,n,e,t,r,o,i,c),l!=null&&sp(n,p,d),p}function ie(n,e,t,r,o,i,a,s){let c=ee(),l=Ze(),d=Tn(l.consts,i);return S6(c,l,n,e,t,r,o,d,void 0,a,s),ie}var D6=E6;function E6(n,e,t,r){return $l(!0),e[Le].createComment("")}var fp=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var gp=new V("");function zr(n){return!!n&&typeof n.then=="function"}function yp(n){return!!n&&typeof n.subscribe=="function"}var mp=new V("");function Ad(n){return rs([{provide:mp,multi:!0,useValue:n}])}var kp=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=b(mp,{optional:!0})??[];injector=b(ut);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let i=ht(this.injector,o);if(zr(i))t.push(i);else if(yp(i)){let a=new Promise((s,c)=>{i.subscribe({complete:s,error:c})});t.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ds=new V("");function pv(){O1(()=>{let n="";throw new F(600,n)})}function fv(n){return n.isBoundToModule}var L6=10;var ur=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(Ht);afterRenderManager=b(np);zonelessEnabled=b(Wl);rootEffectScheduler=b(us);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Oe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=b(sr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(re(t=>!t))}constructor(){b($o,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=b(We);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,o=ut.NULL){return this._injector.get(Ue).run(()=>{me(10);let a=t instanceof Ed;if(!this._injector.get(kp).done){let y="";throw new F(405,y)}let c;a?c=t:c=this._injector.get(Ss).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=fv(c)?void 0:this._injector.get(qo),d=r||c.selector,u=c.create(o,[],d,l),p=u.location.nativeElement,h=u.injector.get(gp,null);return h?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),ps(this.components,u),h?.unregisterApplication(p)}),this._loadComponent(u),me(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){me(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(xd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new F(101,!1);let t=W(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,W(t),this.afterTick.next(),me(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(zo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<L6;)me(14),this.synchronizeOnce(),me(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!ds(o))continue;let i=r&&!this.zonelessEnabled?0:1;Bk(o,i),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ds(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ps(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(t),this._injector.get(Ds,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ps(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new F(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ps(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Wo(n,e,t,r){let o=ee(),i=Fo();if(lr(o,i,e)){let a=Ze(),s=ql();eb(s,o,n,e,t,r)}return Wo}var KN=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var P0=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),o=Math.max(e,t),i=this.detach(o);if(o-r>1){let a=this.detach(r);this.attach(r,i),this.attach(o,a)}else this.attach(r,i)}move(e,t){this.attach(t,this.detach(e,!0))}};function s0(n,e,t,r,o){return n===t&&Object.is(e,r)?1:Object.is(o(n,e),o(t,r))?-1:0}function A6(n,e,t){let r,o,i=0,a=n.length-1,s=void 0;if(Array.isArray(e)){let c=e.length-1;for(;i<=a&&i<=c;){let l=n.at(i),d=e[i],u=s0(i,l,i,d,t);if(u!==0){u<0&&n.updateValue(i,d),i++;continue}let p=n.at(a),h=e[c],y=s0(a,p,c,h,t);if(y!==0){y<0&&n.updateValue(a,h),a--,c--;continue}let k=t(i,l),v=t(a,p),w=t(i,d);if(Object.is(w,v)){let O=t(c,h);Object.is(O,k)?(n.swap(i,a),n.updateValue(a,h),c--,a--):n.move(a,i),n.updateValue(i,d),i++;continue}if(r??=new gd,o??=Sm(n,i,a,t),T0(n,r,i,w))n.updateValue(i,d),i++,a++;else if(o.has(w))r.set(k,n.detach(i)),a--;else{let O=n.create(i,e[i]);n.attach(i,O),i++,a++}}for(;i<=c;)Im(n,r,t,i,e[i]),i++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&i<=a;){let d=n.at(i),u=l.value,p=s0(i,d,i,u,t);if(p!==0)p<0&&n.updateValue(i,u),i++,l=c.next();else{r??=new gd,o??=Sm(n,i,a,t);let h=t(i,u);if(T0(n,r,i,h))n.updateValue(i,u),i++,a++,l=c.next();else if(!o.has(h))n.attach(i,n.create(i,u)),i++,a++,l=c.next();else{let y=t(i,d);r.set(y,n.detach(i)),a--}}}for(;!l.done;)Im(n,r,t,n.length,l.value),l=c.next()}for(;i<=a;)n.destroy(n.detach(a--));r?.forEach(c=>{n.destroy(c)})}function T0(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function Im(n,e,t,r,o){if(T0(n,e,r,t(r,o)))n.updateValue(r,o);else{let i=n.create(r,o);n.attach(r,i)}}function Sm(n,e,t,r){let o=new Set;for(let i=e;i<=t;i++)o.add(r(i,n.at(i)));return o}var gd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),e(r,t)}}};function Br(n,e,t,r,o,i,a,s){Nn("NgControlFlow");let c=ee(),l=Ze(),d=Tn(l.consts,i);return vs(c,l,n,e,t,r,o,d,256,a,s),vp}function vp(n,e,t,r,o,i,a,s){Nn("NgControlFlow");let c=ee(),l=Ze(),d=Tn(l.consts,i);return vs(c,l,n,e,t,r,o,d,512,a,s),vp}function qr(n,e){Nn("NgControlFlow");let t=ee(),r=Fo(),o=t[r]!==fn?t[r]:-1,i=o!==-1?yd(t,ze+o):void 0,a=0;if(lr(t,r,n)){let s=W(null);try{if(i!==void 0&&Zk(i,a),n!==-1){let c=ze+n,l=yd(t,c),d=F0(t[$],c),u=Yk(l,d,t),p=_s(t,d,e,{dehydratedView:u});xs(l,p,a,Yi(d,u))}}finally{W(s)}}else if(i!==void 0){let s=Gk(i,a);s!==void 0&&(s[Ne]=e)}}var O0=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Be}};var R0=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Mp(n,e,t,r,o,i,a,s,c,l,d,u,p){Nn("NgControlFlow");let h=ee(),y=Ze(),k=c!==void 0,v=ee(),w=s?a.bind(v[wt][Ne]):a,O=new R0(k,w);v[ze+n]=O,vs(h,y,n+1,e,t,r,o,Tn(y.consts,i),256),k&&vs(h,y,n+2,c,l,d,u,Tn(y.consts,p),512)}var N0=class extends P0{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Be}at(e){return this.getLView(e)[Ne].$implicit}attach(e,t){let r=t[Lo];this.needsIndexUpdate||=e!==this.length,xs(this.lContainer,t,e,Yi(this.templateTNode,r))}detach(e,t){return this.needsIndexUpdate||=e!==this.length-1,t&&P6(this.lContainer,e),T6(this.lContainer,e)}create(e,t){let r=dd(this.lContainer,this.templateTNode.tView.ssrId),o=_s(this.hostLView,this.templateTNode,new O0(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(e){Id(e[$],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Ne].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ne].$index=e}getLView(e){return O6(this.lContainer,e)}};function wp(n){let e=W(null),t=ar();try{let r=ee(),o=r[$],i=r[t],a=t+1,s=yd(r,a);if(i.liveCollection===void 0){let l=F0(o,a);i.liveCollection=new N0(s,r,l)}else i.liveCollection.reset();let c=i.liveCollection;if(A6(c,n,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){let l=Fo(),d=c.length===0;if(lr(r,l,d)){let u=t+2,p=yd(r,u);if(d){let h=F0(o,u),y=Yk(p,h,r),k=_s(r,h,void 0,{dehydratedView:y});xs(p,k,0,Yi(h,y))}else o.firstUpdatePass&&Ib(p),Zk(p,0)}}}finally{W(e)}}function yd(n,e){return n[e]}function P6(n,e){if(n.length<=Be)return;let t=Be+e,r=n[t];r&&r[Oo]&&(r[Oo].skipLeaveAnimations=!0)}function T6(n,e){return ms(n,e)}function O6(n,e){return Gk(n,e)}function F0(n,e){return ls(n,e)}function j(n,e,t){let r=ee(),o=Fo();if(lr(r,o,e)){let i=Ze(),a=ql();Rk(a,r,n,e,r[Le],t)}return j}function Dm(n,e,t,r,o){cp(e,n,t,o?"class":"style",r)}function g(n,e,t,r){let o=ee(),i=o[$],a=n+ze,s=i.firstCreatePass?tv(a,o,2,e,Nk,Vh(),t,r):i.data[a];if(rb(s,o,n,e,R6),cs(s)){let c=o[$];ap(c,o,s),sk(c,s,o)}return r!=null&&sp(o,s),g}function m(){let n=Ze(),e=rt(),t=ob(e);return n.firstCreatePass&&nv(n,t),Fy(t)&&jy(),Ny(),t.classesWithoutHost!=null&&EC(t)&&Dm(n,t,ee(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&LC(t)&&Dm(n,t,ee(),t.stylesWithoutHost,!1),m}function ae(n,e,t,r){return g(n,e,t,r),m(),ae}var R6=(n,e,t,r,o)=>($l(!0),yk(e[Le],r,Qy()));function he(){return ee()}var Es="en-US";var N6=Es;function gv(n){typeof n=="string"&&(N6=n.toLowerCase().replace(/_/g,"-"))}function I(n,e,t){let r=ee(),o=Ze(),i=rt();return yv(o,r,r[Le],i,n,e,t),I}function yv(n,e,t,r,o,i,a){let s=!0,c=null;if((r.type&3||a)&&(c??=o0(r,e,i),zb(r,n,e,a,t,o,i,c)&&(s=!1)),s){let l=r.outputs?.[o],d=r.hostDirectiveOutputs?.[o];if(d&&d.length)for(let u=0;u<d.length;u+=2){let p=d[u],h=d[u+1];c??=o0(r,e,i),Cm(r,e,p,h,o,c)}if(l&&l.length)for(let u of l)c??=o0(r,e,i),Cm(r,e,u,o,o,c)}}function D(n=1){return Yy(n)}function F6(n,e){let t=null,r=c8(n);for(let o=0;o<e.length;o++){let i=e[o];if(i==="*"){t=o;continue}if(r===null?gk(n,i,!0):u8(r,i))return o}return t}function Cp(n){let e=ee()[wt][Mt];if(!e.projection){let t=n?n.length:1,r=e.projection=my(t,null),o=r.slice(),i=e.child;for(;i!==null;){if(i.type!==128){let a=n?F6(i,n):0;a!==null&&(o[a]?o[a].projectionNext=i:r[a]=i,o[a]=i)}i=i.next}}}function bp(n,e=0,t,r,o,i){let a=ee(),s=Ze(),c=r?n+1:null;c!==null&&vs(a,s,c,r,o,i,null,t);let l=Is(s,ze+n,16,null,t||null);l.projection===null&&(l.projection=e),qh();let u=!a[Lo]||Hh();a[wt][Mt].projection[l.projection]===null&&c!==null?j6(a,s,c):u&&!Cd(l)&&B8(s,a,l)}function j6(n,e,t){let r=ze+t,o=e.data[r],i=n[r],a=dd(i,o.tView.ssrId),s=_s(n,o,void 0,{dehydratedView:a});xs(i,s,0,Yi(o,a))}function _p(n,e,t,r){u6(n,e,t,r)}function xp(n){let e=ee(),t=Ze(),r=Wh();Hl(r+1);let o=pp(t,r);if(n.dirty&&Ey(e)===((o.metadata.flags&2)===2)){if(o.matches===null)n.reset([]);else{let i=g6(e,r);n.reset(i,qC),n.notifyOnChanges()}return!0}return!1}function Ip(){return l6(ee(),Wh())}function Sp(n){let e=Hy();return Dy(e,ze+n)}function Kl(n,e){return n<<17|e<<2}function Uo(n){return n>>17&32767}function V6(n){return(n&2)==2}function H6(n,e){return n&131071|e<<17}function j0(n){return n|2}function Qi(n){return(n&131068)>>2}function c0(n,e){return n&-131069|e<<2}function z6(n){return(n&1)===1}function V0(n){return n|1}function B6(n,e,t,r,o,i){let a=i?e.classBindings:e.styleBindings,s=Uo(a),c=Qi(a);n[r]=t;let l=!1,d;if(Array.isArray(t)){let u=t;d=u[1],(d===null||Vi(u,d)>0)&&(l=!0)}else d=t;if(o)if(c!==0){let p=Uo(n[s+1]);n[r+1]=Kl(p,s),p!==0&&(n[p+1]=c0(n[p+1],r)),n[s+1]=H6(n[s+1],r)}else n[r+1]=Kl(s,0),s!==0&&(n[s+1]=c0(n[s+1],r)),s=r;else n[r+1]=Kl(c,0),s===0?s=r:n[c+1]=c0(n[c+1],r),c=r;l&&(n[r+1]=j0(n[r+1])),Em(n,d,r,!0),Em(n,d,r,!1),q6(e,d,n,r,i),a=Kl(s,c),i?e.classBindings=a:e.styleBindings=a}function q6(n,e,t,r,o){let i=o?n.residualClasses:n.residualStyles;i!=null&&typeof e=="string"&&Vi(i,e)>=0&&(t[r+1]=V0(t[r+1]))}function Em(n,e,t,r){let o=n[t+1],i=e===null,a=r?Uo(o):Qi(o),s=!1;for(;a!==0&&(s===!1||i);){let c=n[a],l=n[a+1];U6(c,e)&&(s=!0,n[a+1]=r?V0(l):j0(l)),a=r?Uo(l):Qi(l)}s&&(n[t+1]=r?j0(o):V0(o))}function U6(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Vi(n,e)>=0:!1}function Ae(n,e){return $6(n,e,null,!0),Ae}function $6(n,e,t,r){let o=ee(),i=Ze(),a=$h(2);if(i.firstUpdatePass&&G6(i,n,a,r),e!==fn&&lr(o,a,e)){let s=i.data[ar()];X6(i,s,o,o[Le],n,o[a+1]=J6(e,t),r,a)}}function W6(n,e){return e>=n.expandoStartIndex}function G6(n,e,t,r){let o=n.data;if(o[t+1]===null){let i=o[ar()],a=W6(n,t);e_(i,r)&&e===null&&!a&&(e=!1),e=Z6(o,i,e,r),B6(o,i,e,t,a,r)}}function Z6(n,e,t,r){let o=Wy(n),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(t=l0(null,n,e,t,r),t=Ms(t,e.attrs,r),i=null);else{let a=e.directiveStylingLast;if(a===-1||n[a]!==o)if(t=l0(o,n,e,t,r),i===null){let c=K6(n,e,r);c!==void 0&&Array.isArray(c)&&(c=l0(null,n,e,c[1],r),c=Ms(c,e.attrs,r),Y6(n,e,r,c))}else i=Q6(n,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),t}function K6(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Qi(r)!==0)return n[Uo(r)]}function Y6(n,e,t,r){let o=t?e.classBindings:e.styleBindings;n[Uo(o)]=r}function Q6(n,e,t){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let a=n[i].hostAttrs;r=Ms(r,a,t)}return Ms(r,e.attrs,t)}function l0(n,e,t,r,o){let i=null,a=t.directiveEnd,s=t.directiveStylingLast;for(s===-1?s=t.directiveStart:s++;s<a&&(i=e[s],r=Ms(r,i.hostAttrs,o),i!==n);)s++;return n!==null&&(t.directiveStylingLast=s),r}function Ms(n,e,t){let r=t?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let a=e[i];typeof a=="number"?o=a:o===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),vy(n,a,t?!0:e[++i]))}return n===void 0?null:n}function X6(n,e,t,r,o,i,a,s){if(!(e.type&3))return;let c=n.data,l=c[s+1],d=z6(l)?Lm(c,e,t,o,Qi(l),a):void 0;if(!md(d)){md(i)||V6(l)&&(i=Lm(c,null,t,o,s,a));let u=Th(ar(),t);U8(r,a,u,o,i)}}function Lm(n,e,t,r,o,i){let a=e===null,s;for(;o>0;){let c=n[o],l=Array.isArray(c),d=l?c[1]:c,u=d===null,p=t[o+1];p===fn&&(p=u?Nt:void 0);let h=u?Ol(p,r):d===r?p:void 0;if(l&&!md(h)&&(h=Ol(c,r)),md(h)&&(s=h,a))return s;let y=n[o+1];o=a?Uo(y):Qi(y)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(s=Ol(c,r))}return s}function md(n){return n!==void 0}function J6(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=nr(Cs(n)))),n}function e_(n,e){return(n.flags&(e?8:16))!==0}function M(n,e=""){let t=ee(),r=Ze(),o=n+ze,i=r.firstCreatePass?Is(r,o,1,e,null):r.data[o],a=t_(r,t,i,e,n);t[o]=a,Ul()&&op(r,t,a,i),qi(i,!1)}var t_=(n,e,t,r,o)=>($l(!0),g8(e[Le],r));function n_(n,e,t,r=""){return lr(n,Fo(),t)?e+Eo(t)+r:fn}function r_(n,e,t,r,o,i=""){let a=zy(),s=Hb(n,a,t,o);return $h(2),s?e+Eo(t)+r+Eo(o)+i:fn}function X(n){return pe("",n),X}function pe(n,e,t){let r=ee(),o=n_(r,n,e,t);return o!==fn&&mv(r,ar(),o),pe}function Pd(n,e,t,r,o){let i=ee(),a=r_(i,n,e,t,r,o);return a!==fn&&mv(i,ar(),a),Pd}function mv(n,e,t){let r=Th(e,n);y8(n[Le],r,t)}function ce(n,e,t){Xh(e)&&(e=e());let r=ee(),o=Fo();if(lr(r,o,e)){let i=Ze(),a=ql();Rk(a,r,n,e,r[Le],t)}return ce}function de(n,e){let t=Xh(n);return t&&n.set(e),t}function le(n,e){let t=ee(),r=Ze(),o=rt();return yv(r,t,t[Le],o,n,e),le}function o_(n,e,t){let r=Ze();if(r.firstCreatePass){let o=Pn(n);H0(t,r.data,r.blueprint,o,!0),H0(e,r.data,r.blueprint,o,!1)}}function H0(n,e,t,r,o){if(n=nt(n),Array.isArray(n))for(let i=0;i<n.length;i++)H0(n[i],e,t,r,o);else{let i=Ze(),a=ee(),s=rt(),c=Io(n)?n:nt(n.provide),l=Dh(n),d=s.providerIndexes&1048575,u=s.directiveStart,p=s.providerIndexes>>20;if(Io(n)||!n.multi){let h=new Ho(l,o,N,null),y=u0(c,e,o?d:d+p,u);y===-1?(p0(rd(s,a),i,c),d0(i,n,e.length),e.push(c),s.directiveStart++,s.directiveEnd++,o&&(s.providerIndexes+=1048576),t.push(h),a.push(h)):(t[y]=h,a[y]=h)}else{let h=u0(c,e,d+p,u),y=u0(c,e,d,d+p),k=h>=0&&t[h],v=y>=0&&t[y];if(o&&!v||!o&&!k){p0(rd(s,a),i,c);let w=s_(o?a_:i_,t.length,o,r,l,n);!o&&v&&(t[y].providerFactory=w),d0(i,n,e.length,0),e.push(c),s.directiveStart++,s.directiveEnd++,o&&(s.providerIndexes+=1048576),t.push(w),a.push(w)}else{let w=kv(t[o?y:h],l,!o&&r);d0(i,n,h>-1?h:y,w)}!o&&r&&v&&t[y].componentProviders++}}}function d0(n,e,t,r){let o=Io(e),i=by(e);if(o||i){let c=(i?nt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){let d=l.indexOf(t);d===-1?l.push(t,[r,c]):l[d+1].push(r,c)}else l.push(t,c)}}}function kv(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function u0(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function i_(n,e,t,r,o){return z0(this.multi,[])}function a_(n,e,t,r,o){let i=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=gs(r,r[$],this.providerFactory.index,o);a=c.slice(0,s),z0(i,a);for(let l=s;l<c.length;l++)a.push(c[l])}else a=[],z0(i,a);return a}function z0(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function s_(n,e,t,r,o,i){let a=new Ho(n,t,N,null);return a.multi=[],a.index=e,a.componentProviders=0,kv(a,o,r&&!t),a}function Fn(n,e=[]){return t=>{t.providersResolver=(r,o)=>o_(r,o?o(n):n,e)}}function Dp(n,e){return Dd(n,e)}var kd=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Ep=(()=>{class n{compileModuleSync(t){return new fd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),o=_h(t),i=pk(o.declarations).reduce((a,s)=>{let c=or(s);return c&&a.push(new Bo(c)),a},[]);return new kd(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var c_=(()=>{class n{zone=b(Ue);changeDetectionScheduler=b(Dn);applicationRef=b(ur);applicationErrorHandler=b(Ht);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vv({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ue(Z(x({},Mv()),{scheduleInRootZone:t})),[{provide:Ue,useFactory:n},{provide:Pr,multi:!0,useFactory:()=>{let r=b(c_,{optional:!0});return()=>r.initialize()}},{provide:Pr,multi:!0,useFactory:()=>{let r=b(l_);return()=>{r.initialize()}}},e===!0?{provide:Jh,useValue:!0}:[],{provide:e0,useValue:t??bk},{provide:Ht,useFactory:()=>{let r=b(Ue),o=b(We),i;return a=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw a}):(i??=o.get(Zt),i.handleError(a))})}}}]}function Mv(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var l_=(()=>{class n{subscription=new Ve;initialized=!1;zone=b(Ue);pendingTasks=b(sr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var wv=(()=>{class n{applicationErrorHandler=b(Ht);appRef=b(ur);taskService=b(sr);ngZone=b(Ue);zonelessEnabled=b(Wl);tracing=b($o,{optional:!0});disableScheduling=b(Jh,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(sd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(e0,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof cd||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?um:_k;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(sd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,um(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function d_(){return typeof $localize<"u"&&$localize.locale||Es}var Td=new V("",{providedIn:"root",factory:()=>b(Td,{optional:!0,skipSelf:!0})||d_()});function et(n){return oy(n)}function Ur(n,e){return Qc(n,e?.equal)}var Lp=class{[dt];constructor(e){this[dt]=e}destroy(){this[dt].destroy()}};function Ap(n,e){let t=e?.injector??b(ut),r=e?.manualCleanup!==!0?t.get(un):null,o,i=t.get($i,null,{optional:!0}),a=t.get(Dn);return i!==null?(o=p_(i.view,a,n),r instanceof Ja&&r._lView===i.view&&(r=null)):o=f_(n,t.get(us),a),o.injector=t,r!==null&&(o.onDestroyFn=r.onDestroy(()=>o.destroy())),new Lp(o)}var Cv=Z(x({},iy),{cleanupFns:void 0,zone:null,onDestroyFn:jo,run(){let n=Ui(!1);try{ay(this)}finally{Ui(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=W(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],W(n)}}}),u_=Z(x({},Cv),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){vo(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),h_=Z(x({},Cv),{consumerMarkedDirty(){this.view[G]|=8192,Fr(this.view),this.notifier.notify(13)},destroy(){vo(this),this.onDestroyFn(),this.cleanup(),this.view[ir]?.delete(this)}});function p_(n,e,t){let r=Object.create(h_);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=bv(r,t),n[ir]??=new Set,n[ir].add(r),r.consumerMarkedDirty(r),r}function f_(n,e,t){let r=Object.create(u_);return r.fn=bv(r,n),r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function bv(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var Ev=Symbol("InputSignalNode#UNSET"),E_=Z(x({},Xc),{transformFn:void 0,applyValueToInputSignal(n,e){Si(n,e)}});function Lv(n,e){let t=Object.create(E_);t.value=n,t.transformFn=e?.transform;function r(){if(bi(t),t.value===Ev){let o=null;throw new F(-950,o)}return t.value}return r[dt]=t,r}var Rd=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>ws(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},L_=new V("");L_.__NG_ELEMENT_ID__=n=>{let e=rt();if(e===null)throw new F(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new F(204,!1)};function _v(n,e){return Lv(n,e)}function A_(n){return Lv(Ev,n)}var Av=(_v.required=A_,_v);var Pp=new V(""),P_=new V("");function Ls(n){return!n.moduleRef}function T_(n){let e=Ls(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ue);return t.run(()=>{Ls(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Ht),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:r})}),Ls(n)){let i=()=>e.destroy(),a=n.platformInjector.get(Pp);a.add(i),e.onDestroy(()=>{o.unsubscribe(),a.delete(i)})}else{let i=()=>n.moduleRef.destroy(),a=n.platformInjector.get(Pp);a.add(i),n.moduleRef.onDestroy(()=>{ps(n.allPlatformModules,n.moduleRef),o.unsubscribe(),a.delete(i)})}return R_(r,t,()=>{let i=e.get(sr),a=i.add(),s=e.get(kp);return s.runInitializers(),s.donePromise.then(()=>{let c=e.get(Td,Es);if(gv(c||Es),!e.get(P_,!0))return Ls(n)?e.get(ur):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ls(n)){let d=e.get(ur);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return O_?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void i.remove(a))})})}var O_;function R_(n,e,t){try{let r=t();return zr(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Od=null;function N_(n=[],e){return ut.create({name:e,providers:[{provide:os,useValue:"platform"},{provide:Pp,useValue:new Set([()=>Od=null])},...n]})}function F_(n=[]){if(Od)return Od;let e=N_(n);return Od=e,pv(),j_(e),e}function j_(n){let e=n.get(Md,null);ht(n,()=>{e?.forEach(t=>t())})}var gn=(()=>{class n{static __NG_ELEMENT_ID__=V_}return n})();function V_(n){return H_(rt(),ee(),(n&16)===16)}function H_(n,e,t){if(Nr(n)&&!t){let r=Qt(n.index,e);return new Vr(r,r)}else if(n.type&175){let r=e[wt];return new Vr(r,e)}return null}var Tp=class{constructor(){}supports(e){return hp(e)}create(e){return new Op(e)}},z_=(n,e)=>e,Op=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||z_}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){let a=!r||t&&t.currentIndex<xv(r,o,i)?t:r,s=xv(a,o,i),c=a.currentIndex;if(a===r)o--,r=r._nextRemoved;else if(t=t._next,a.previousIndex==null)o++;else{i||(i=[]);let l=s-o,d=c-o;if(l!=d){for(let p=0;p<l;p++){let h=p<i.length?i[p]:i[p]=0,y=h+p;d<=y&&y<l&&(i[p]=h+1)}let u=a.previousIndex;i[u]=d-l}}s!==c&&e(a,s,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!hp(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,o,i,a;if(Array.isArray(e)){this.length=e.length;for(let s=0;s<this.length;s++)i=e[s],a=this._trackByFn(s,i),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,i,a,s),r=!0):(r&&(t=this._verifyReinsertion(t,i,a,s)),Object.is(t.item,i)||this._addIdentityChange(t,i)),t=t._next}else o=0,rv(e,s=>{a=this._trackByFn(o,s),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,s,a,o),r=!0):(r&&(t=this._verifyReinsertion(t,s,a,o)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new Rp(t,r),i,o)),e}_verifyReinsertion(e,t,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let o=t===null?this._itHead:t._next;return e._next=o,e._prev=t,o===null?this._itTail=e:o._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Nd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Nd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Rp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Np=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Nd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Np,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,o=this.map.get(r);return o?o.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function xv(n,e,t){let r=n.previousIndex;if(r===null)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}function Iv(){return new Fp([new Tp])}var Fp=(()=>{class n{factories;static \u0275prov=R({token:n,providedIn:"root",factory:Iv});constructor(t){this.factories=t}static create(t,r){if(r!=null){let o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=b(n,{optional:!0,skipSelf:!0});return n.create(t,r||Iv())}}}find(t){let r=this.factories.find(o=>o.supports(t));if(r!=null)return r;throw new F(901,!1)}}return n})();function Pv(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:o}=n;me(8);try{let i=o?.injector??F_(r),a=[vv({}),{provide:Dn,useExisting:wv},Jy,...t||[]],s=new ks({providers:a,parent:i,debugName:"",runEnvironmentInitializers:!1});return T_({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{me(9)}}function $r(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Tv(n){let e=or(n);if(!e)return null;let t=new Bo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Nv=null;function en(){return Nv}function jp(n){Nv??=n}var As=class{},Ps=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>b(Fv),providedIn:"platform"})}return n})(),Vp=new V(""),Fv=(()=>{class n extends Ps{_location;_history;_doc=b(qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return en().getBaseHref(this._doc)}onPopState(t){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Fd(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function Ov(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function yn(n){return n&&n[0]!=="?"?`?${n}`:n}var mn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>b(Vd),providedIn:"root"})}return n})(),jd=new V(""),Vd=(()=>{class n extends mn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Fd(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+yn(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){let a=this.prepareExternalUrl(o+yn(i));this._platformLocation.pushState(t,r,a)}replaceState(t,r,o,i){let a=this.prepareExternalUrl(o+yn(i));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(Ps),z(jd,8))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wr=(()=>{class n{_subject=new Oe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=U_(Ov(Rv(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+yn(r))}normalize(t){return n.stripTrailingSlash(q_(this._basePath,Rv(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yn(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=yn;static joinWithSlash=Fd;static stripTrailingSlash=Ov;static \u0275fac=function(r){return new(r||n)(z(mn))};static \u0275prov=R({token:n,factory:()=>B_(),providedIn:"root"})}return n})();function B_(){return new Wr(z(mn))}function q_(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Rv(n){return n.replace(/\/index.html$/,"")}function U_(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Hp=(()=>{class n extends mn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Fd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let a=this.prepareExternalUrl(o+yn(i))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,a)}replaceState(t,r,o,i){let a=this.prepareExternalUrl(o+yn(i))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(Ps),z(jd,8))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();var Hd=class{$implicit;ngForOf;index;count;constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Lt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((o,i,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new Hd(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(i===null?void 0:i);else if(i!==null){let s=r.get(i);r.move(s,a),jv(s,o)}});for(let o=0,i=r.length;o<i;o++){let s=r.get(o).context;s.index=o,s.count=i,s.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);jv(i,o)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(N(dr),N(Hr),N(Fp))};static \u0275dir=_e({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function jv(n,e){n.context.$implicit=e.item}var Ke=(()=>{class n{_viewContainer;_context=new zd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Vv(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Vv(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(N(dr),N(Hr))};static \u0275dir=_e({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),zd=class{$implicit=null;ngIf=null};function Vv(n,e){if(n&&!n.createEmbeddedView)throw new F(2020,!1)}var xe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=jt({})}return n})();function zp(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[o,i]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var Ts=class{};var Hv="browser";var zv=(()=>{class n{static \u0275prov=R({token:n,providedIn:"root",factory:()=>new Bp(b(qe),window)})}return n})(),Bp=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(Z(x({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=$_(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(rr(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(Z(x({},t),{left:o-a[0],top:i-a[1]}))}};function $_(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let a=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(a)return a}o=r.nextNode()}}return null}var Os=class{_doc;constructor(e){this._doc=e}manager},Bd=(()=>{class n extends Os{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o,i){return t.addEventListener(r,o,i),()=>this.removeEventListener(t,r,o,i)}removeEventListener(t,r,o,i){return t.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||n)(z(qe))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),Ud=new V(""),Gp=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(a=>{a.manager=this});let o=t.filter(a=>!(a instanceof Bd));this._plugins=o.slice().reverse();let i=t.find(a=>a instanceof Bd);i&&this._plugins.push(i)}addEventListener(t,r,o,i){return this._findPluginFor(r).addEventListener(t,r,o,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(z(Ud),z(Ue))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),qp="ng-app-id";function Bv(n){for(let e of n)e.remove()}function qv(n,e){let t=e.createElement("style");return t.textContent=n,t}function W_(n,e,t,r){let o=n.head?.querySelectorAll(`style[${qp}="${e}"],link[${qp}="${e}"]`);if(o)for(let i of o)i.removeAttribute(qp),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}function $p(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Zp=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,W_(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let o of t)this.addUsage(o,this.inline,qv);r?.forEach(o=>this.addUsage(o,this.external,$p))}removeStyles(t,r){for(let o of t)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,r,o){let i=r.get(t);i?i.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,o(t,this.doc)))})}removeUsage(t,r){let o=r.get(t);o&&(o.usage--,o.usage<=0&&(Bv(o.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Bv(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(t,qv(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(t,$p(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(z(qe),z(vd),z(wd,8),z(ea))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),Up={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Kp=/%COMP%/g;var $v="%COMP%",G_=`_nghost-${$v}`,Z_=`_ngcontent-${$v}`,K_=!0,Y_=new V("",{providedIn:"root",factory:()=>K_});function Q_(n){return Z_.replace(Kp,n)}function X_(n){return G_.replace(Kp,n)}function Wv(n,e){return e.map(t=>t.replace(Kp,n))}var Yp=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,o,i,a,s,c,l=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=a,this.platformId=s,this.ngZone=c,this.nonce=l,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Rs(t,a,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(t,r);return o instanceof qd?o.applyToHost(t):o instanceof Ns&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let a=this.doc,s=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case cr.Emulated:i=new qd(c,l,r,this.appId,d,a,s,u,p);break;case cr.ShadowDom:return new Wp(c,l,t,r,a,s,this.nonce,u,p);default:i=new Ns(c,l,r,d,a,s,u,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(z(Gp),z(Zp),z(vd),z(Y_),z(qe),z(ea),z(Ue),z(wd),z($o,8))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),Rs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,o,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Up[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Uv(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Uv(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;let i=Up[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let o=Up[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(Rn.DashCase|Rn.Important)?e.style.setProperty(t,r,o&Rn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Rn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,o){if(typeof e=="string"&&(e=en().getGlobalEventTarget(this.doc,e),!e))throw new F(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,t,i)),this.eventManager.addEventListener(e,t,i,o)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Uv(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Wp=class extends Rs{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,o,i,a,s,c,l){super(e,i,a,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=Wv(o.id,d);for(let p of d){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let u=o.getExternalStyles?.();if(u)for(let p of u){let h=$p(p,i);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ns=class extends Rs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,o,i,a,s,c,l){super(e,i,a,s,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o;let d=r.styles;this.styles=l?Wv(l,d):d,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ki.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},qd=class extends Ns{contentAttr;hostAttr;constructor(e,t,r,o,i,a,s,c,l){let d=o+"-"+r.id;super(e,t,r,i,a,s,c,l,d),this.contentAttr=Q_(d),this.hostAttr=X_(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var $d=class n extends As{supportsDOMEvents=!0;static makeCurrent(){jp(new n)}onAndCancel(e,t,r,o){return e.addEventListener(t,r,o),()=>{e.removeEventListener(t,r,o)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=J_();return t==null?null:ex(t)}resetBaseElement(){Fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zp(document.cookie,e)}},Fs=null;function J_(){return Fs=Fs||document.head.querySelector("base"),Fs?Fs.getAttribute("href"):null}function ex(n){return new URL(n,document.baseURI).pathname}var tx=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),Gv=["alt","control","meta","shift"],nx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rx={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Zv=(()=>{class n extends Os{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,o,i){let a=n.parseEventName(r),s=n.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>en().onAndCancel(t,a.domEventName,s,i))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=n._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),Gv.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),a+=l+".")}),a+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(t,r){let o=nx[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Gv.forEach(a=>{if(a!==o){let s=rx[a];s(t)&&(i+=a+".")}}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(z(qe))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();function Qp(n,e,t){let r=x({rootComponent:n,platformRef:t?.platformRef},ox(e));return Pv(r)}function ox(n){return{appProviders:[...lx,...n?.providers??[]],platformProviders:cx}}function ix(){$d.makeCurrent()}function ax(){return new Zt}function sx(){return $0(document),document}var cx=[{provide:ea,useValue:Hv},{provide:Md,useValue:ix,multi:!0},{provide:qe,useFactory:sx}];var lx=[{provide:os,useValue:"root"},{provide:Zt,useFactory:ax},{provide:Ud,useClass:Bd,multi:!0,deps:[qe]},{provide:Ud,useClass:Zv,multi:!0,deps:[qe]},Yp,Zp,Gp,{provide:zo,useExisting:Yp},{provide:Ts,useClass:tx},[]];var Kv=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(z(qe))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var K="primary",Ys=Symbol("RouteTitle"),n2=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ko(n){return new n2(n)}function rM(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let o={};for(let i=0;i<r.length;i++){let a=r[i],s=n[i];if(a[0]===":")o[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function ux(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!jn(n[t],e[t]))return!1;return!0}function jn(n,e){let t=n?r2(n):void 0,r=e?r2(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!oM(n[o],e[o]))return!1;return!0}function r2(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function oM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}else return n===e}function iM(n){return n.length>0?n[n.length-1]:null}function hr(n){return K1(n)?n:zr(n)?Se(Promise.resolve(n)):B(n)}var hx={exact:sM,subset:cM},aM={exact:px,subset:fx,ignored:()=>!0};function Yv(n,e,t){return hx[t.paths](n.root,e.root,t.matrixParams)&&aM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function px(n,e){return jn(n,e)}function sM(n,e,t){if(!Go(n.segments,e.segments)||!Zd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!sM(n.children[r],e.children[r],t))return!1;return!0}function fx(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>oM(n[t],e[t]))}function cM(n,e,t){return lM(n,e,e.segments,t)}function lM(n,e,t,r){if(n.segments.length>t.length){let o=n.segments.slice(0,t.length);return!(!Go(o,t)||e.hasChildren()||!Zd(o,t,r))}else if(n.segments.length===t.length){if(!Go(n.segments,t)||!Zd(n.segments,t,r))return!1;for(let o in e.children)if(!n.children[o]||!cM(n.children[o],e.children[o],r))return!1;return!0}else{let o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!Go(n.segments,o)||!Zd(n.segments,o,r)||!n.children[K]?!1:lM(n.children[K],e,i,r)}}function Zd(n,e,t){return e.every((r,o)=>aM[t](n[o].parameters,r.parameters))}var Hn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new fe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ko(this.queryParams),this._queryParamMap}toString(){return mx.serialize(this)}},fe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kd(this)}},Gr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ko(this.parameters),this._parameterMap}toString(){return uM(this)}};function gx(n,e){return Go(n,e)&&n.every((t,r)=>jn(t.parameters,e[r].parameters))}function Go(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function yx(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===K&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==K&&(t=t.concat(e(o,r)))}),t}var Yo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>new Zr,providedIn:"root"})}return n})(),Zr=class{parse(e){let t=new i2(e);return new Hn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${js(e.root,!0)}`,r=Mx(e.queryParams),o=typeof e.fragment=="string"?`#${kx(e.fragment)}`:"";return`${t}${r}${o}`}},mx=new Zr;function Kd(n){return n.segments.map(e=>uM(e)).join("/")}function js(n,e){if(!n.hasChildren())return Kd(n);if(e){let t=n.children[K]?js(n.children[K],!1):"",r=[];return Object.entries(n.children).forEach(([o,i])=>{o!==K&&r.push(`${o}:${js(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=yx(n,(r,o)=>o===K?[js(n.children[K],!1)]:[`${o}:${js(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[K]!=null?`${Kd(n)}/${t[0]}`:`${Kd(n)}/(${t.join("//")})`}}function dM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wd(n){return dM(n).replace(/%3B/gi,";")}function kx(n){return encodeURI(n)}function o2(n){return dM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yd(n){return decodeURIComponent(n)}function Qv(n){return Yd(n.replace(/\+/g,"%20"))}function uM(n){return`${o2(n.path)}${vx(n.parameters)}`}function vx(n){return Object.entries(n).map(([e,t])=>`;${o2(e)}=${o2(t)}`).join("")}function Mx(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(o=>`${Wd(t)}=${Wd(o)}`).join("&"):`${Wd(t)}=${Wd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var wx=/^[^\/()?;#]+/;function Xp(n){let e=n.match(wx);return e?e[0]:""}var Cx=/^[^\/()?;=#]+/;function bx(n){let e=n.match(Cx);return e?e[0]:""}var _x=/^[^=?&#]+/;function xx(n){let e=n.match(_x);return e?e[0]:""}var Ix=/^[^&#]+/;function Sx(n){let e=n.match(Ix);return e?e[0]:""}var i2=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[K]=new fe(e,t)),r}parseSegment(){let e=Xp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new Gr(Yd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=bx(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=Xp(this.remaining);o&&(r=o,this.capture(r))}e[Yd(t)]=Yd(r)}parseQueryParam(e){let t=xx(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=Sx(this.remaining);a&&(r=a,this.capture(r))}let o=Qv(t),i=Qv(r);if(e.hasOwnProperty(o)){let a=e[o];Array.isArray(a)||(a=[a],e[o]=a),a.push(i)}else e[o]=i}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Xp(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new F(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=K);let a=this.parseChildren();t[i??K]=Object.keys(a).length===1&&a[K]?a[K]:new fe([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function hM(n){return n.segments.length>0?new fe([],{[K]:n}):n}function pM(n){let e={};for(let[r,o]of Object.entries(n.children)){let i=pM(o);if(r===K&&i.segments.length===0&&i.hasChildren())for(let[a,s]of Object.entries(i.children))e[a]=s;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let t=new fe(n.segments,e);return Dx(t)}function Dx(n){if(n.numberOfChildren===1&&n.children[K]){let e=n.children[K];return new fe(n.segments.concat(e.segments),e.children)}return n}function Kr(n){return n instanceof Hn}function fM(n,e,t=null,r=null){let o=gM(n);return yM(o,e,t,r)}function gM(n){let e;function t(i){let a={};for(let c of i.children){let l=t(c);a[c.outlet]=l}let s=new fe(i.url,a);return i===n&&(e=s),s}let r=t(n.root),o=hM(r);return e??o}function yM(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return Jp(o,o,o,t,r);let i=Ex(e);if(i.toRoot())return Jp(o,o,new fe([],{}),t,r);let a=Lx(i,o,n),s=a.processChildren?Hs(a.segmentGroup,a.index,i.commands):kM(a.segmentGroup,a.index,i.commands);return Jp(o,a.segmentGroup,s,t,r)}function Qd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Bs(n){return typeof n=="object"&&n!=null&&n.outlets}function Jp(n,e,t,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let a;n===e?a=t:a=mM(n,e,t);let s=hM(pM(a));return new Hn(s,i,o)}function mM(n,e,t){let r={};return Object.entries(n.children).forEach(([o,i])=>{i===e?r[o]=t:r[o]=mM(i,e,t)}),new fe(n.segments,r)}var Xd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Qd(r[0]))throw new F(4003,!1);let o=r.find(Bs);if(o&&o!==iM(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ex(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Xd(!0,0,n);let e=0,t=!1,r=n.reduce((o,i,a)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let s={};return Object.entries(i.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:s}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:a===0?(i.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?t=!0:s===".."?e++:s!=""&&o.push(s))}),o):[...o,i]},[]);return new Xd(t,e,r)}var oa=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Lx(n,e,t){if(n.isAbsolute)return new oa(e,!0,0);if(!t)return new oa(e,!1,NaN);if(t.parent===null)return new oa(t,!0,0);let r=Qd(n.commands[0])?0:1,o=t.segments.length-1+r;return Ax(t,o,n.numberOfDoubleDots)}function Ax(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new F(4005,!1);o=r.segments.length}return new oa(r,!1,o-i)}function Px(n){return Bs(n[0])?n[0].outlets:{[K]:n}}function kM(n,e,t){if(n??=new fe([],{}),n.segments.length===0&&n.hasChildren())return Hs(n,e,t);let r=Tx(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let i=new fe(n.segments.slice(0,r.pathIndex),{});return i.children[K]=new fe(n.segments.slice(r.pathIndex),n.children),Hs(i,0,o)}else return r.match&&o.length===0?new fe(n.segments,{}):r.match&&!n.hasChildren()?a2(n,e,t):r.match?Hs(n,0,o):a2(n,e,t)}function Hs(n,e,t){if(t.length===0)return new fe(n.segments,{});{let r=Px(t),o={};if(Object.keys(r).some(i=>i!==K)&&n.children[K]&&n.numberOfChildren===1&&n.children[K].segments.length===0){let i=Hs(n.children[K],e,t);return new fe(n.segments,i.children)}return Object.entries(r).forEach(([i,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(o[i]=kM(n.children[i],e,a))}),Object.entries(n.children).forEach(([i,a])=>{r[i]===void 0&&(o[i]=a)}),new fe(n.segments,o)}}function Tx(n,e,t){let r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;let a=n.segments[o],s=t[r];if(Bs(s))break;let c=`${s}`,l=r<t.length-1?t[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Jv(c,l,a))return i;r+=2}else{if(!Jv(c,{},a))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function a2(n,e,t){let r=n.segments.slice(0,e),o=0;for(;o<t.length;){let i=t[o];if(Bs(i)){let c=Ox(i.outlets);return new fe(r,c)}if(o===0&&Qd(t[0])){let c=n.segments[e];r.push(new Gr(c.path,Xv(t[0]))),o++;continue}let a=Bs(i)?i.outlets[K]:`${i}`,s=o<t.length-1?t[o+1]:null;a&&s&&Qd(s)?(r.push(new Gr(a,Xv(s))),o+=2):(r.push(new Gr(a,{})),o++)}return new fe(r,{})}function Ox(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=a2(new fe([],{}),0,r))}),e}function Xv(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Jv(n,e,t){return n==t.path&&jn(e,t.parameters)}var ia="imperative",Ye=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Ye||{}),qt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Yr=class extends qt{type=Ye.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ut=class extends qt{urlAfterRedirects;type=Ye.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ct=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Ct||{}),sa=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(sa||{}),Vn=class extends qt{reason;code;type=Ye.NavigationCancel;constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zn=class extends qt{reason;code;type=Ye.NavigationSkipped;constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o}},ca=class extends qt{error;target;type=Ye.NavigationError;constructor(e,t,r,o){super(e,t),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qs=class extends qt{urlAfterRedirects;state;type=Ye.RoutesRecognized;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jd=class extends qt{urlAfterRedirects;state;type=Ye.GuardsCheckStart;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eu=class extends qt{urlAfterRedirects;state;shouldActivate;type=Ye.GuardsCheckEnd;constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},tu=class extends qt{urlAfterRedirects;state;type=Ye.ResolveStart;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nu=class extends qt{urlAfterRedirects;state;type=Ye.ResolveEnd;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ru=class{route;type=Ye.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ou=class{route;type=Ye.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},iu=class{snapshot;type=Ye.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},au=class{snapshot;type=Ye.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},su=class{snapshot;type=Ye.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cu=class{snapshot;type=Ye.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},la=class{routerEvent;position;anchor;type=Ye.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Us=class{},da=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Rx(n){return!(n instanceof Us)&&!(n instanceof da)}function Nx(n,e){return n.providers&&!n._injector&&(n._injector=ta(n.providers,e,`Route: ${n.path}`)),n._injector??e}function vn(n){return n.outlet||K}function Fx(n,e){let t=n.filter(r=>vn(r)===e);return t.push(...n.filter(r=>vn(r)!==e)),t}function pa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var lu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return pa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Qo(this.rootInjector)}},Qo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new lu(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(z(We))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),du=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=s2(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=s2(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=c2(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return c2(e,this._root).map(t=>t.value)}};function s2(n,e){if(n===e.value)return e;for(let t of e.children){let r=s2(n,t);if(r)return r}return null}function c2(n,e){if(n===e.value)return[e];for(let t of e.children){let r=c2(n,t);if(r.length)return r.unshift(e),r}return[]}var Bt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ra(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var $s=class extends du{snapshot;constructor(e,t){super(e),this.snapshot=t,y2(this,e)}toString(){return this.snapshot.toString()}};function vM(n){let e=jx(n),t=new $e([new Gr("",{})]),r=new $e({}),o=new $e({}),i=new $e({}),a=new $e(""),s=new Bn(t,r,i,a,o,K,n,e.root);return s.snapshot=e.root,new $s(new Bt(s,[]),e)}function jx(n){let e={},t={},r={},i=new Zo([],e,r,"",t,K,n,null,{});return new Ws("",new Bt(i,[]))}var Bn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,o,i,a,s,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(re(l=>l[Ys]))??B(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>Ko(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>Ko(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function uu(n,e,t="emptyOnly"){let r,{routeConfig:o}=n;return e!==null&&(t==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),n.params),data:x(x({},e.data),n.data),resolve:x(x(x(x({},n.data),e.data),o?.data),n._resolvedData)}:r={params:x({},n.params),data:x({},n.data),resolve:x(x({},n.data),n._resolvedData??{})},o&&wM(o)&&(r.resolve[Ys]=o.title),r}var Zo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ys]}constructor(e,t,r,o,i,a,s,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ko(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ko(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ws=class extends du{url;constructor(e,t){super(t),this.url=e,y2(this,t)}toString(){return MM(this._root)}};function y2(n,e){e.value._routerState=n,e.children.forEach(t=>y2(n,t))}function MM(n){let e=n.children.length>0?` { ${n.children.map(MM).join(", ")} } `:"";return`${n.value}${e}`}function e2(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,jn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),jn(e.params,t.params)||n.paramsSubject.next(t.params),ux(e.url,t.url)||n.urlSubject.next(t.url),jn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function l2(n,e){let t=jn(n.params,e.params)&&gx(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||l2(n.parent,e.parent))}function wM(n){return typeof n.title=="string"||n.title===null}var CM=new V(""),Qs=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=K;activateEvents=new Ce;deactivateEvents=new Ce;attachEvents=new Ce;detachEvents=new Ce;routerOutletData=Av();parentContexts=b(Qo);location=b(dr);changeDetector=b(gn);inputBinder=b(Xs,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=t;let o=this.location,a=t.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new d2(t,s,o.injector,this.routerOutletData);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=_e({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Xt]})}return n})(),d2=class{route;childContexts;parent;outletData;constructor(e,t,r,o){this.route=e,this.childContexts=t,this.parent=r,this.outletData=o}get(e,t){return e===Bn?this.route:e===Qo?this.childContexts:e===CM?this.outletData:this.parent.get(e,t)}},Xs=new V(""),m2=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,o=Ga([r.queryParams,r.params,r.data]).pipe(vt(([i,a,s],c)=>(s=x(x(x({},i),a),s),c===0?B(s):Promise.resolve(s)))).subscribe(i=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let a=Tv(r.component);if(!a){this.unsubscribeFromRouteData(t);return}for(let{templateName:s}of a.inputs)t.activatedComponentRef.setInput(s,i[s])});this.outletDataSubscriptions.set(t,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),k2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ue({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&ae(0,"router-outlet")},dependencies:[Qs],encapsulation:2})}return n})();function v2(n){let e=n.children&&n.children.map(v2),t=e?Z(x({},n),{children:e}):x({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==K&&(t.component=k2),t}function Vx(n,e,t){let r=Gs(n,e._root,t?t._root:void 0);return new $s(r,e)}function Gs(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let o=Hx(n,e,t);return new Bt(r,o)}else{if(n.shouldAttach(e.value)){let i=n.retrieve(e.value);if(i!==null){let a=i.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>Gs(n,s)),a}}let r=zx(e.value),o=e.children.map(i=>Gs(n,i));return new Bt(r,o)}}function Hx(n,e,t){return e.children.map(r=>{for(let o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Gs(n,r,o);return Gs(n,r)})}function zx(n){return new Bn(new $e(n.url),new $e(n.params),new $e(n.queryParams),new $e(n.fragment),new $e(n.data),n.outlet,n.component,n)}var ua=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},bM="ngNavigationCancelingError";function hu(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Kr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=_M(!1,Ct.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function _M(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[bM]=!0,t.cancellationCode=e,t}function Bx(n){return xM(n)&&Kr(n.url)}function xM(n){return!!n&&n[bM]}var qx=(n,e,t,r)=>re(o=>(new u2(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)),u2=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,o,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),e2(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let o=ra(t);e.children.forEach(i=>{let a=i.value.outlet;this.deactivateRoutes(i,o[a],r),delete o[a]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){let o=e.value,i=t?t.value:null;if(o===i)if(o.component){let a=r.getContext(o.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=ra(e);for(let a of Object.values(i))this.deactivateRouteAndItsChildren(a,o);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=ra(e);for(let a of Object.values(i))this.deactivateRouteAndItsChildren(a,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let o=ra(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new cu(i.value.snapshot))}),e.children.length&&this.forwardEvent(new au(e.value.snapshot))}activateRoutes(e,t,r){let o=e.value,i=t?t.value:null;if(e2(o),o===i)if(o.component){let a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(o.component){let a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let s=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),e2(s.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=o,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},pu=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},aa=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Ux(n,e,t){let r=n._root,o=e?e._root:null;return Vs(r,o,t,[r.value])}function $x(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function fa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!ph(n)?n:e.get(n):r}function Vs(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=ra(e);return n.children.forEach(a=>{Wx(a,i[a.value.outlet],t,r.concat([a.value]),o),delete i[a.value.outlet]}),Object.entries(i).forEach(([a,s])=>zs(s,t.getContext(a),o)),o}function Wx(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=n.value,a=e?e.value:null,s=t?t.getContext(n.value.outlet):null;if(a&&i.routeConfig===a.routeConfig){let c=Gx(a,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new pu(r)):(i.data=a.data,i._resolvedData=a._resolvedData),i.component?Vs(n,e,s?s.children:null,r,o):Vs(n,e,t,r,o),c&&s&&s.outlet&&s.outlet.isActivated&&o.canDeactivateChecks.push(new aa(s.outlet.component,a))}else a&&zs(e,s,o),o.canActivateChecks.push(new pu(r)),i.component?Vs(n,null,s?s.children:null,r,o):Vs(n,null,t,r,o);return o}function Gx(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Go(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Go(n.url,e.url)||!jn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!l2(n,e)||!jn(n.queryParams,e.queryParams);case"paramsChange":default:return!l2(n,e)}}function zs(n,e,t){let r=ra(n),o=n.value;Object.entries(r).forEach(([i,a])=>{o.component?e?zs(a,e.children.getContext(i),t):zs(a,null,t):zs(a,e,t)}),o.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new aa(e.outlet.component,o)):t.canDeactivateChecks.push(new aa(null,o)):t.canDeactivateChecks.push(new aa(null,o))}function Js(n){return typeof n=="function"}function Zx(n){return typeof n=="boolean"}function Kx(n){return n&&Js(n.canLoad)}function Yx(n){return n&&Js(n.canActivate)}function Qx(n){return n&&Js(n.canActivateChild)}function Xx(n){return n&&Js(n.canDeactivate)}function Jx(n){return n&&Js(n.canMatch)}function IM(n){return n instanceof Qn||n?.name==="EmptyError"}var Gd=Symbol("INITIAL_VALUE");function ha(){return vt(n=>Ga(n.map(e=>e.pipe(Jn(1),J1(Gd)))).pipe(re(e=>{for(let t of e)if(t!==!0){if(t===Gd)return Gd;if(t===!1||e7(t))return t}return!0}),Dt(e=>e!==Gd),Jn(1)))}function e7(n){return Kr(n)||n instanceof ua}function t7(n,e){return Re(t=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:a}}=t;return a.length===0&&i.length===0?B(Z(x({},t),{guardsResult:!0})):n7(a,r,o,n).pipe(Re(s=>s&&Zx(s)?r7(r,i,n,e):B(s)),re(s=>Z(x({},t),{guardsResult:s})))})}function n7(n,e,t,r){return Se(n).pipe(Re(o=>c7(o.component,o.route,t,e,r)),er(o=>o!==!0,!0))}function r7(n,e,t,r){return Se(e).pipe(Dr(o=>Ni(i7(o.route.parent,r),o7(o.route,r),s7(n,o.path,t),a7(n,o.route,t))),er(o=>o!==!0,!0))}function o7(n,e){return n!==null&&e&&e(new su(n)),B(!0)}function i7(n,e){return n!==null&&e&&e(new iu(n)),B(!0)}function a7(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return B(!0);let o=r.map(i=>Za(()=>{let a=pa(e)??t,s=fa(i,a),c=Yx(s)?s.canActivate(e,n):ht(a,()=>s(e,n));return hr(c).pipe(er())}));return B(o).pipe(ha())}function s7(n,e,t){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(a=>$x(a)).filter(a=>a!==null).map(a=>Za(()=>{let s=a.guards.map(c=>{let l=pa(a.node)??t,d=fa(c,l),u=Qx(d)?d.canActivateChild(r,n):ht(l,()=>d(r,n));return hr(u).pipe(er())});return B(s).pipe(ha())}));return B(i).pipe(ha())}function c7(n,e,t,r,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return B(!0);let a=i.map(s=>{let c=pa(e)??o,l=fa(s,c),d=Xx(l)?l.canDeactivate(n,e,t,r):ht(c,()=>l(n,e,t,r));return hr(d).pipe(er())});return B(a).pipe(ha())}function l7(n,e,t,r){let o=e.canLoad;if(o===void 0||o.length===0)return B(!0);let i=o.map(a=>{let s=fa(a,n),c=Kx(s)?s.canLoad(e,t):ht(n,()=>s(e,t));return hr(c)});return B(i).pipe(ha(),SM(r))}function SM(n){return B1(Xe(e=>{if(typeof e!="boolean")throw hu(n,e)}),re(e=>e===!0))}function d7(n,e,t,r){let o=e.canMatch;if(!o||o.length===0)return B(!0);let i=o.map(a=>{let s=fa(a,n),c=Jx(s)?s.canMatch(e,t):ht(n,()=>s(e,t));return hr(c)});return B(i).pipe(ha(),SM(r))}var Zs=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ks=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function na(n){return Ri(new Zs(n))}function u7(n){return Ri(new F(4e3,!1))}function h7(n){return Ri(_M(!1,Ct.GuardRejected))}var h2=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return B(r);if(o.numberOfChildren>1||!o.children[K])return u7(`${e.redirectTo}`);o=o.children[K]}}applyRedirectCommands(e,t,r,o,i){return p7(t,o,i).pipe(re(a=>{if(a instanceof Hn)throw new Ks(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),e,r);if(a[0]==="/")throw new Ks(s);return s}))}applyRedirectCreateUrlTree(e,t,r,o){let i=this.createSegmentGroup(e,t.root,r,o);return new Hn(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let s=i.substring(1);r[o]=t[s]}else r[o]=i}),r}createSegmentGroup(e,t,r,o){let i=this.createSegments(e,t.segments,r,o),a={};return Object.entries(t.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(e,c,r,o)}),new fe(i,a)}createSegments(e,t,r,o){return t.map(i=>i.path[0]===":"?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){let o=r[t.path.substring(1)];if(!o)throw new F(4001,!1);return o}findOrReturn(e,t){let r=0;for(let o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}};function p7(n,e,t){if(typeof n=="string")return B(n);let r=n,{queryParams:o,fragment:i,routeConfig:a,url:s,outlet:c,params:l,data:d,title:u}=e;return hr(ht(t,()=>r({params:l,data:d,queryParams:o,fragment:i,routeConfig:a,url:s,outlet:c,title:u})))}var p2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function f7(n,e,t,r,o){let i=DM(n,e,t);return i.matched?(r=Nx(e,r),d7(r,e,t,o).pipe(re(a=>a===!0?i:x({},p2)))):B(i)}function DM(n,e,t){if(e.path==="**")return g7(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?x({},p2):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let o=(e.matcher||rM)(t,n,e);if(!o)return x({},p2);let i={};Object.entries(o.posParams??{}).forEach(([s,c])=>{i[s]=c.path});let a=o.consumed.length>0?x(x({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:a,positionalParamSegments:o.posParams??{}}}function g7(n){return{matched:!0,parameters:n.length>0?iM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function eM(n,e,t,r){return t.length>0&&k7(n,t,r)?{segmentGroup:new fe(e,m7(r,new fe(t,n.children))),slicedSegments:[]}:t.length===0&&v7(n,t,r)?{segmentGroup:new fe(n.segments,y7(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new fe(n.segments,n.children),slicedSegments:t}}function y7(n,e,t,r){let o={};for(let i of t)if(gu(n,e,i)&&!r[vn(i)]){let a=new fe([],{});o[vn(i)]=a}return x(x({},r),o)}function m7(n,e){let t={};t[K]=e;for(let r of n)if(r.path===""&&vn(r)!==K){let o=new fe([],{});t[vn(r)]=o}return t}function k7(n,e,t){return t.some(r=>gu(n,e,r)&&vn(r)!==K)}function v7(n,e,t){return t.some(r=>gu(n,e,r))}function gu(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function M7(n,e,t){return e.length===0&&!n.children[t]}var f2=class{};function w7(n,e,t,r,o,i,a="emptyOnly"){return new g2(n,e,t,r,o,a,i).recognize()}var C7=31,g2=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,o,i,a,s){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new h2(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=eM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:t,rootSnapshot:r})=>{let o=new Bt(r,t),i=new Ws("",o),a=fM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(a),{state:i,tree:a}}))}match(e){let t=new Zo([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),K,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,K,t).pipe(re(r=>({children:r,rootSnapshot:t})),Xn(r=>{if(r instanceof Ks)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zs?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,i):this.processSegment(e,t,r,r.segments,o,!0,i).pipe(re(a=>a instanceof Bt?[a]:[]))}processChildren(e,t,r,o){let i=[];for(let a of Object.keys(r.children))a==="primary"?i.unshift(a):i.push(a);return Se(i).pipe(Dr(a=>{let s=r.children[a],c=Fx(t,a);return this.processSegmentGroup(e,c,s,a,o)}),X1((a,s)=>(a.push(...s),a)),Er(null),Q1(),Re(a=>{if(a===null)return na(r);let s=EM(a);return b7(s),B(s)}))}processSegment(e,t,r,o,i,a,s){return Se(t).pipe(Dr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,o,i,a,s).pipe(Xn(l=>{if(l instanceof Zs)return B(null);throw l}))),er(c=>!!c),Xn(c=>{if(IM(c))return M7(r,o,i)?B(new f2):na(r);throw c}))}processSegmentAgainstRoute(e,t,r,o,i,a,s,c){return vn(r)!==a&&(a===K||!gu(o,i,r))?na(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,i,a,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,i,a,c):na(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,a,s){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:u,remainingSegments:p}=DM(t,o,i);if(!c)return na(t);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>C7&&(this.allowRedirects=!1));let h=new Zo(i,l,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,tM(o),vn(o),o.component??o._loadedComponent??null,o,nM(o)),y=uu(h,s,this.paramsInheritanceStrategy);return h.params=Object.freeze(y.params),h.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(d,o.redirectTo,u,h,e).pipe(vt(v=>this.applyRedirects.lineralizeSegments(o,v)),Re(v=>this.processSegment(e,r,t,v.concat(p),a,!1,s)))}matchSegmentAgainstRoute(e,t,r,o,i,a){let s=f7(t,r,o,e,this.urlSerializer);return r.path==="**"&&(t.children={}),s.pipe(vt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(vt(({routes:l})=>{let d=r._loadedInjector??e,{parameters:u,consumedSegments:p,remainingSegments:h}=c,y=new Zo(p,u,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,tM(r),vn(r),r.component??r._loadedComponent??null,r,nM(r)),k=uu(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(k.params),y.data=Object.freeze(k.data);let{segmentGroup:v,slicedSegments:w}=eM(t,p,h,l);if(w.length===0&&v.hasChildren())return this.processChildren(d,l,v,y).pipe(re(S=>new Bt(y,S)));if(l.length===0&&w.length===0)return B(new Bt(y,[]));let O=vn(r)===i;return this.processSegment(d,l,v,w,O?K:i,!0,y).pipe(re(S=>new Bt(y,S instanceof Bt?[S]:[])))}))):na(t)))}getChildConfig(e,t,r){return t.children?B({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?B({routes:t._loadedRoutes,injector:t._loadedInjector}):l7(e,t,r,this.urlSerializer).pipe(Re(o=>o?this.configLoader.loadChildren(e,t).pipe(Xe(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):h7(t))):B({routes:[],injector:e})}};function b7(n){n.sort((e,t)=>e.value.outlet===K?-1:t.value.outlet===K?1:e.value.outlet.localeCompare(t.value.outlet))}function _7(n){let e=n.value.routeConfig;return e&&e.path===""}function EM(n){let e=[],t=new Set;for(let r of n){if(!_7(r)){e.push(r);continue}let o=e.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),t.add(o)):e.push(r)}for(let r of t){let o=EM(r.children);e.push(new Bt(r.value,o))}return e.filter(r=>!t.has(r))}function tM(n){return n.data||{}}function nM(n){return n.resolve||{}}function x7(n,e,t,r,o,i){return Re(a=>w7(n,e,t,r,a.extractedUrl,o,i).pipe(re(({state:s,tree:c})=>Z(x({},a),{targetSnapshot:s,urlAfterRedirects:c}))))}function I7(n,e){return Re(t=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return B(t);let i=new Set(o.map(c=>c.route)),a=new Set;for(let c of i)if(!a.has(c))for(let l of LM(c))a.add(l);let s=0;return Se(a).pipe(Dr(c=>i.has(c)?S7(c,r,n,e):(c.data=uu(c,c.parent,n).resolve,B(void 0))),Xe(()=>s++),Fi(1),Re(c=>s===a.size?B(t):It))})}function LM(n){let e=n.children.map(t=>LM(t)).flat();return[n,...e]}function S7(n,e,t,r){let o=n.routeConfig,i=n._resolve;return o?.title!==void 0&&!wM(o)&&(i[Ys]=o.title),Za(()=>(n.data=uu(n,n.parent,t).resolve,D7(i,n,e,r).pipe(re(a=>(n._resolvedData=a,n.data=x(x({},n.data),a),null)))))}function D7(n,e,t,r){let o=r2(n);if(o.length===0)return B({});let i={};return Se(o).pipe(Re(a=>E7(n[a],e,t,r).pipe(er(),Xe(s=>{if(s instanceof ua)throw hu(new Zr,s);i[a]=s}))),Fi(1),re(()=>i),Xn(a=>IM(a)?It:Ri(a)))}function E7(n,e,t,r){let o=pa(e)??r,i=fa(n,o),a=i.resolve?i.resolve(e,t):ht(o,()=>i(e,t));return hr(a)}function t2(n){return vt(e=>{let t=n(e);return t?Se(t).pipe(re(()=>e)):B(e)})}var M2=(()=>{class n{buildTitle(t){let r,o=t.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===K);return r}getResolvedTitleForRoute(t){return t.data[Ys]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>b(AM),providedIn:"root"})}return n})(),AM=(()=>{class n extends M2{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(z(Kv))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qr=new V("",{providedIn:"root",factory:()=>({})}),Xo=new V(""),yu=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(Ep);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return B(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=hr(ht(t,()=>r.loadComponent())).pipe(re(TM),vt(OM),Xe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),Ka(()=>{this.componentLoaders.delete(r)})),i=new Oi(o,()=>new Oe).pipe(Ti());return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=PM(r,this.compiler,t,this.onLoadEndListener).pipe(Ka(()=>{this.childrenLoaders.delete(r)})),a=new Oi(i,()=>new Oe).pipe(Ti());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PM(n,e,t,r){return hr(ht(t,()=>n.loadChildren())).pipe(re(TM),vt(OM),Re(o=>o instanceof Ld||Array.isArray(o)?B(o):Se(e.compileModuleAsync(o))),re(o=>{r&&r(n);let i,a,s=!1;return Array.isArray(o)?(a=o,s=!0):(i=o.create(t).injector,a=i.get(Xo,[],{optional:!0,self:!0}).flat()),{routes:a.map(v2),injector:i}}))}function L7(n){return n&&typeof n=="object"&&"default"in n}function TM(n){return L7(n)?n.default:n}function OM(n){return B(n)}var mu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>b(A7),providedIn:"root"})}return n})(),A7=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),w2=new V(""),C2=new V("");function RM(n,e,t){let r=n.get(C2),o=n.get(qe);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let i,a=new Promise(l=>{i=l}),s=o.startViewTransition(()=>(i(),P7(n)));s.ready.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&ht(n,()=>c({transition:s,from:e,to:t})),a}function P7(n){return new Promise(e=>{bs({read:()=>setTimeout(e)},{injector:n})})}var b2=new V(""),ku=(()=>{class n{currentNavigation=Je(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Oe;transitionAbortWithErrorSubject=new Oe;configLoader=b(yu);environmentInjector=b(We);destroyRef=b(un);urlSerializer=b(Yo);rootContexts=b(Qo);location=b(Wr);inputBindingEnabled=b(Xs,{optional:!0})!==null;titleStrategy=b(M2);options=b(Qr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(mu);createViewTransition=b(w2,{optional:!0});navigationErrorHandler=b(b2,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>B(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=o=>this.events.next(new ru(o)),r=o=>this.events.next(new ou(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;et(()=>{this.transitions?.next(Z(x({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new $e(null),this.transitions.pipe(Dt(r=>r!==null),vt(r=>{let o=!1;return B(r).pipe(vt(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ct.SupersededByNewNavigation),It;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?Z(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=i.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&s!=="reload")return this.events.next(new zn(i.id,this.urlSerializer.serialize(i.rawUrl),"",sa.IgnoredSameUrlNavigation)),i.resolve(!1),It;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return B(i).pipe(vt(c=>(this.events.next(new Yr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?It:Promise.resolve(c))),x7(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Xe(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=c.urlAfterRedirects,d));let l=new qs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:l,source:d,restoredState:u,extras:p}=i,h=new Yr(c,this.urlSerializer.serialize(l),d,u);this.events.next(h);let y=vM(this.rootComponentType).snapshot;return this.currentTransition=r=Z(x({},i),{targetSnapshot:y,urlAfterRedirects:l,extras:Z(x({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(k=>(k.finalUrl=l,k)),B(r)}else return this.events.next(new zn(i.id,this.urlSerializer.serialize(i.extractedUrl),"",sa.IgnoredByUrlHandlingStrategy)),i.resolve(!1),It}),Xe(i=>{let a=new Jd(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(a)}),re(i=>(this.currentTransition=r=Z(x({},i),{guards:Ux(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),t7(this.environmentInjector,i=>this.events.next(i)),Xe(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw hu(this.urlSerializer,i.guardsResult);let a=new eu(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(a)}),Dt(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",Ct.GuardRejected),!1)),t2(i=>{if(i.guards.canActivateChecks.length!==0)return B(i).pipe(Xe(a=>{let s=new tu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),vt(a=>{let s=!1;return B(a).pipe(I7(this.paramsInheritanceStrategy,this.environmentInjector),Xe({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(a,"",Ct.NoDataFromResolver)}}))}),Xe(a=>{let s=new nu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}))}),t2(i=>{let a=s=>{let c=[];if(s.routeConfig?.loadComponent){let l=pa(s)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,s.routeConfig).pipe(Xe(d=>{s.component=d}),re(()=>{})))}for(let l of s.children)c.push(...a(l));return c};return Ga(a(i.targetSnapshot.root)).pipe(Er(null),Jn(1))}),t2(()=>this.afterPreactivation()),vt(()=>{let{currentSnapshot:i,targetSnapshot:a}=r,s=this.createViewTransition?.(this.environmentInjector,i.root,a.root);return s?Se(s).pipe(re(()=>r)):B(r)}),re(i=>{let a=Vx(t.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=Z(x({},i),{targetRouterState:a}),this.currentNavigation.update(s=>(s.targetRouterState=a,s)),r}),Xe(()=>{this.events.next(new Us)}),qx(this.rootContexts,t.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Jn(1),Il(new oe(i=>{let a=r.abortController.signal,s=()=>i.next();return a.addEventListener("abort",s),()=>a.removeEventListener("abort",s)}).pipe(Dt(()=>!o&&!r.targetRouterState),Xe(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ct.Aborted)}))),Xe({next:i=>{o=!0,this.lastSuccessfulNavigation=et(this.currentNavigation),this.events.next(new Ut(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),Il(this.transitionAbortWithErrorSubject.pipe(Xe(i=>{throw i}))),Ka(()=>{o||this.cancelNavigationTransition(r,"",Ct.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Xn(i=>{if(this.destroyed)return r.resolve(!1),It;if(o=!0,xM(i))this.events.next(new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),Bx(i)?this.events.next(new da(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ca(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let s=ht(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(s instanceof ua){let{message:c,cancellationCode:l}=hu(this.urlSerializer,s);this.events.next(new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new da(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(a),i}catch(s){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(s)}}return It}))}))}cancelNavigationTransition(t,r,o){let i=new Vn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=et(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function T7(n){return n!==ia}var NM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>b(O7),providedIn:"root"})}return n})(),fu=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},O7=(()=>{class n extends fu{static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FM=(()=>{class n{urlSerializer=b(Yo);options=b(Qr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(Wr);urlHandlingStrategy=b(mu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Hn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:o}){let i=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,a=o??i;return a instanceof Hn?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:o}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=t):this.rawUrlTree=o}routerState=vM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:()=>b(R7),providedIn:"root"})}return n})(),R7=(()=>{class n extends FM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Yr?this.updateStateMemento():t instanceof zn?this.commitTransition(r):t instanceof qs?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Us?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Vn&&t.code!==Ct.SupersededByNewNavigation&&t.code!==Ct.Redirect?this.restoreHistory(r):t instanceof ca?this.restoreHistory(r,!0):t instanceof Ut&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:o}){let{replaceUrl:i,state:a}=r;if(this.location.isCurrentPathEqualTo(t)||i){let s=this.browserPageId,c=x(x({},a),this.generateNgRouterState(o,s));this.location.replaceState(t,"",c)}else{let s=x(x({},a),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(t,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===t.finalUrl&&i===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vu(n,e){n.events.pipe(Dt(t=>t instanceof Ut||t instanceof Vn||t instanceof ca||t instanceof zn),re(t=>t instanceof Ut||t instanceof zn?0:(t instanceof Vn?t.code===Ct.Redirect||t.code===Ct.SupersededByNewNavigation:!1)?2:1),Dt(t=>t!==2),Jn(1)).subscribe(()=>{e()})}var N7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},F7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Pe=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(fp);stateManager=b(FM);options=b(Qr,{optional:!0})||{};pendingTasks=b(sr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(ku);urlSerializer=b(Yo);location=b(Wr);urlHandlingStrategy=b(mu);injector=b(We);_events=new Oe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(NM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(Xo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(Xs,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ve;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=et(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Vn&&r.code!==Ct.Redirect&&r.code!==Ct.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ut)this.navigated=!0;else if(r instanceof da){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=x({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||T7(o.source)},a);this.scheduleNavigation(s,ia,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Rx(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ia,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,o)=>{this.navigateToSyncWithBrowser(t,o,r)})}navigateToSyncWithBrowser(t,r,o){let i={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=x({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let s=this.parseUrl(t);this.scheduleNavigation(s,r,a,i).catch(c=>{this.disposed||this.injector.get(Ht)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return et(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(v2),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:o,queryParams:i,fragment:a,queryParamsHandling:s,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:a,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=x(x({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let p=o?o.snapshot:this.routerState.snapshot.root;u=gM(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),u=this.currentUrlTree.root}return yM(u,t,d,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let o=Kr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,ia,null,r)}navigate(t,r={skipLocationChange:!1}){return j7(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(rr(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let o;if(r===!0?o=x({},N7):r===!1?o=x({},F7):o=r,Kr(t))return Yv(this.currentUrlTree,t,o);let i=this.parseUrl(t);return Yv(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,a){if(this.disposed)return Promise.resolve(!1);let s,c,l;a?(s=a.resolve,c=a.reject,l=a.promise):l=new Promise((u,p)=>{s=u,c=p});let d=this.pendingTasks.add();return vu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:s,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function j7(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new F(4008,!1)}var ga=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Je(null);get href(){return et(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Oe;applicationErrorHandler=b(Ht);options=b(Qr,{optional:!0});constructor(t,r,o,i,a,s){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=a,this.locationStrategy=s,this.reactiveHref.set(b(new Rd("href"),{optional:!0}));let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=o=>o==="merge"||o==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(o=>{o instanceof Ut&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Kr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,o,i,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(t!==0||r||o||i||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,t,r):o.removeAttribute(i,t)}get urlTree(){return this.routerLinkInput===null?null:Kr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(N(Pe),N(Bn),ws("tabindex"),N(zt),N(ot),N(mn))};static \u0275dir=_e({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,o){r&1&&I("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Wo("href",o.reactiveHref(),Z0)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$r],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$r],replaceUrl:[2,"replaceUrl","replaceUrl",$r],routerLink:"routerLink"},features:[Xt]})}return n})(),x2=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ce;constructor(t,r,o,i,a){this.router=t,this.element=r,this.renderer=o,this.cdr=i,this.link=a,this.routerEventsSubscription=t.events.subscribe(s=>{s instanceof Ut&&this.update()})}ngAfterContentInit(){B(this.links.changes,B(null)).pipe(Sr()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Se(t).pipe(Sr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=V7(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let i=o.urlTree;return i?t.isActive(i,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(N(Pe),N(ot),N(zt),N(gn),N(ga,8))};static \u0275dir=_e({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,i){if(r&1&&_p(i,ga,5),r&2){let a;xp(a=Ip())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Xt]})}return n})();function V7(n){return!!n.paths}var ec=class{};var jM=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,o,i){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(Dt(t=>t instanceof Ut),Dr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=ta(i.providers,t,`Route: ${i.path}`));let a=i._injector??t,s=i._loadedInjector??a;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(a,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(s,i.children??i._loadedRoutes))}return Se(o).pipe(Sr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(t,r):o=B(null);let i=o.pipe(Re(a=>a===null?B(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(t,r);return Se([i,a]).pipe(Sr())}else return i})}static \u0275fac=function(r){return new(r||n)(z(Pe),z(We),z(ec),z(yu))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VM=new V(""),H7=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ia;restoredId=0;store={};constructor(t,r,o,i,a={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ut?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof zn&&t.code===sa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof la))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>f(this,null,function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new la(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){up()};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();function I2(n,...e){return rs([{provide:Xo,multi:!0,useValue:n},[],{provide:Bn,useFactory:HM,deps:[Pe]},{provide:Ds,multi:!0,useFactory:zM},e.map(t=>t.\u0275providers)])}function HM(n){return n.routerState.root}function tc(n,e){return{\u0275kind:n,\u0275providers:e}}function zM(){let n=b(ut);return e=>{let t=n.get(ur);if(e!==t.components[0])return;let r=n.get(Pe),o=n.get(BM);n.get(S2)===1&&r.initialNavigation(),n.get($M,null,{optional:!0})?.setUpPreloading(),n.get(VM,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var BM=new V("",{factory:()=>new Oe}),S2=new V("",{providedIn:"root",factory:()=>1});function qM(){let n=[{provide:W0,useValue:!0},{provide:S2,useValue:0},Ad(()=>{let e=b(ut);return e.get(Vp,Promise.resolve()).then(()=>new Promise(r=>{let o=e.get(Pe),i=e.get(BM);vu(o,()=>{r(!0)}),e.get(ku).afterPreactivation=()=>(r(!0),i.closed?B(void 0):i),o.initialNavigation()}))})];return tc(2,n)}function UM(){let n=[Ad(()=>{b(Pe).setUpLocationChangeListener()}),{provide:S2,useValue:2}];return tc(3,n)}var $M=new V("");function WM(n){return tc(0,[{provide:$M,useExisting:jM},{provide:ec,useExisting:n}])}function GM(){return tc(8,[m2,{provide:Xs,useExisting:m2}])}function ZM(n){Nn("NgRouterViewTransitions");let e=[{provide:w2,useValue:RM},{provide:C2,useValue:x({skipNextTransition:!!n?.skipInitialTransition},n)}];return tc(9,e)}var KM=[Wr,{provide:Yo,useClass:Zr},Pe,Qo,{provide:Bn,useFactory:HM,deps:[Pe]},yu,[]],D2=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[KM,[],{provide:Xo,multi:!0,useValue:t},[],r?.errorHandler?{provide:b2,useValue:r.errorHandler}:[],{provide:Qr,useValue:r||{}},r?.useHash?B7():q7(),z7(),r?.preloadingStrategy?WM(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?U7(r):[],r?.bindToComponentInputs?GM().\u0275providers:[],r?.enableViewTransitions?ZM().\u0275providers:[],$7()]}}static forChild(t){return{ngModule:n,providers:[{provide:Xo,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=jt({})}return n})();function z7(){return{provide:VM,useFactory:()=>{let n=b(zv),e=b(Ue),t=b(Qr),r=b(ku),o=b(Yo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new H7(o,r,n,e,t)}}}function B7(){return{provide:mn,useClass:Hp}}function q7(){return{provide:mn,useClass:Vd}}function U7(n){return[n.initialNavigation==="disabled"?UM().\u0275providers:[],n.initialNavigation==="enabledBlocking"?qM().\u0275providers:[]]}var _2=new V("");function $7(){return[{provide:_2,useFactory:zM},{provide:Ds,multi:!0,useExisting:_2}]}var a4=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(N(zt),N(ot))};static \u0275dir=_e({type:n})}return n})(),Du=(()=>{class n extends a4{static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=_e({type:n,features:[Et]})}return n})(),cc=new V(""),W7={provide:cc,useExisting:Ft(()=>A2),multi:!0},A2=(()=>{class n extends Du{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=_e({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){r&1&&I("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Fn([W7]),Et]})}return n})(),G7={provide:cc,useExisting:Ft(()=>tt),multi:!0};function Z7(){let n=en()?en().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var K7=new V(""),tt=(()=>{class n extends a4{_compositionMode;_composing=!1;constructor(t,r,o){super(t,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!Z7())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(N(zt),N(ot),N(K7,8))};static \u0275dir=_e({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&I("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},standalone:!1,features:[Fn([G7]),Et]})}return n})();function Y7(n){return n==null||s4(n)===0}function s4(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Eu=new V(""),c4=new V("");function Q7(n){return Y7(n.value)?{required:!0}:null}function X7(n){return e=>{let t=e.value?.length??s4(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function QM(n){return null}function l4(n){return n!=null}function d4(n){return zr(n)?Se(n):n}function u4(n){let e={};return n.forEach(t=>{e=t!=null?x(x({},e),t):e}),Object.keys(e).length===0?null:e}function h4(n,e){return e.map(t=>t(n))}function J7(n){return!n.validate}function p4(n){return n.map(e=>J7(e)?e:t=>e.validate(t))}function eI(n){if(!n)return null;let e=n.filter(l4);return e.length==0?null:function(t){return u4(h4(t,e))}}function P2(n){return n!=null?eI(p4(n)):null}function tI(n){if(!n)return null;let e=n.filter(l4);return e.length==0?null:function(t){let r=h4(t,e).map(d4);return Y1(r).pipe(re(u4))}}function T2(n){return n!=null?tI(p4(n)):null}function XM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function nI(n){return n._rawValidators}function rI(n){return n._rawAsyncValidators}function E2(n){return n?Array.isArray(n)?n:[n]:[]}function wu(n,e){return Array.isArray(n)?n.includes(e):n===e}function JM(n,e){let t=E2(e);return E2(n).forEach(o=>{wu(t,o)||t.push(o)}),t}function e4(n,e){return E2(e).filter(t=>!wu(n,t))}var Cu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=P2(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=T2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ka=class extends Cu{name;get formDirective(){return null}get path(){return null}},sc=class extends Cu{_parent=null;name=null;valueAccessor=null},bu=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},oI={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},NW=Z(x({},oI),{"[class.ng-submitted]":"isSubmitted"}),pt=(()=>{class n extends bu{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(N(sc,2))};static \u0275dir=_e({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Ae("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Et]})}return n})(),Jr=(()=>{class n extends bu{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(N(ka,10))};static \u0275dir=_e({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Ae("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Et]})}return n})();var nc="VALID",Mu="INVALID",ya="PENDING",rc="DISABLED",Xr=class{},_u=class extends Xr{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ic=class extends Xr{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ac=class extends Xr{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ma=class extends Xr{status;source;constructor(e,t){super(),this.status=e,this.source=t}},L2=class extends Xr{source;constructor(e){super(),this.source=e}},xu=class extends Xr{source;constructor(e){super(),this.source=e}};function f4(n){return(Lu(n)?n.validators:n)||null}function iI(n){return Array.isArray(n)?P2(n):n||null}function g4(n,e){return(Lu(e)?e.asyncValidators:n)||null}function aI(n){return Array.isArray(n)?T2(n):n||null}function Lu(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function sI(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new F(1e3,"");if(!r[t])throw new F(1001,"")}function cI(n,e,t){n._forEachChild((r,o)=>{if(t[o]===void 0)throw new F(1002,"")})}var Iu=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return et(this.statusReactive)}set status(e){et(()=>this.statusReactive.set(e))}_status=Ur(()=>this.statusReactive());statusReactive=Je(void 0);get valid(){return this.status===nc}get invalid(){return this.status===Mu}get pending(){return this.status==ya}get disabled(){return this.status===rc}get enabled(){return this.status!==rc}errors;get pristine(){return et(this.pristineReactive)}set pristine(e){et(()=>this.pristineReactive.set(e))}_pristine=Ur(()=>this.pristineReactive());pristineReactive=Je(!0);get dirty(){return!this.pristine}get touched(){return et(this.touchedReactive)}set touched(e){et(()=>this.touchedReactive.set(e))}_touched=Ur(()=>this.touchedReactive());touchedReactive=Je(!1);get untouched(){return!this.touched}_events=new Oe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(JM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(JM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(e4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(e4(e,this._rawAsyncValidators))}hasValidator(e){return wu(this._rawValidators,e)}hasAsyncValidator(e){return wu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Z(x({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ac(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ac(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Z(x({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ic(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ic(!0,r))}markAsPending(e={}){this.status=ya;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ma(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Z(x({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=rc,this.errors=null,this._forEachChild(o=>{o.disable(Z(x({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _u(this.value,r)),this._events.next(new ma(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Z(x({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=nc,this._forEachChild(r=>{r.enable(Z(x({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Z(x({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nc||this.status===ya)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _u(this.value,t)),this._events.next(new ma(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Z(x({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rc:nc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ya,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=d4(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ma(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ce,this.statusChanges=new Ce}_calculateStatus(){return this._allControlsDisabled()?rc:this.errors?Mu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ya)?ya:this._anyControlsHaveStatus(Mu)?Mu:nc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),o&&this._events.next(new ic(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ac(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=iI(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=aI(this._rawAsyncValidators)}},Su=class extends Iu{constructor(e,t,r){super(f4(t),g4(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){cI(this,!0,e),Object.keys(e).forEach(r=>{sI(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new xu(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var O2=new V("",{providedIn:"root",factory:()=>R2}),R2="always";function lI(n,e){return[...e.path,n]}function y4(n,e,t=R2){m4(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),uI(n,e),pI(n,e),hI(n,e),dI(n,e)}function t4(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function dI(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function m4(n,e){let t=nI(n);e.validator!==null?n.setValidators(XM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=rI(n);e.asyncValidator!==null?n.setAsyncValidators(XM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let o=()=>n.updateValueAndValidity();t4(e._rawValidators,o),t4(e._rawAsyncValidators,o)}function uI(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&k4(n,e)})}function hI(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&k4(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function k4(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function pI(n,e){let t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function fI(n,e){n==null,m4(n,e)}function gI(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function yI(n){return Object.getPrototypeOf(n.constructor)===Du}function mI(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function kI(n,e){if(!e)return null;Array.isArray(e);let t,r,o;return e.forEach(i=>{i.constructor===tt?t=i:yI(i)?r=i:o=i}),o||r||t||null}var vI={provide:ka,useExisting:Ft(()=>pr)},oc=Promise.resolve(),pr=(()=>{class n extends ka{callSetDisabledState;get submitted(){return et(this.submittedReactive)}_submitted=Ur(()=>this.submittedReactive());submittedReactive=Je(!1);_directives=new Set;form;ngSubmit=new Ce;options;constructor(t,r,o){super(),this.callSetDisabledState=o,this.form=new Su({},P2(t),T2(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){oc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),y4(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){oc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){oc.then(()=>{let r=this._findContainer(t.path),o=new Su({});fI(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){oc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){oc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),mI(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new L2(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(N(Eu,10),N(c4,10),N(O2,8))};static \u0275dir=_e({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&I("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Fn([vI]),Et]})}return n})();function n4(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function r4(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var MI=class extends Iu{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(f4(t),g4(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(r4(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new xu(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){n4(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){n4(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){r4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var wI={provide:sc,useExisting:Ft(()=>it)},o4=Promise.resolve(),it=(()=>{class n extends sc{_changeDetectorRef;callSetDisabledState;control=new MI;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ce;constructor(t,r,o,i,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=kI(this,i)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),gI(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){y4(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){o4.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,o=r!==0&&$r(r);o4.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?lI(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(N(ka,9),N(Eu,10),N(c4,10),N(cc,10),N(gn,8),N(O2,8))};static \u0275dir=_e({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Fn([wI]),Et,Xt]})}return n})();var eo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=_e({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var CI={provide:cc,useExisting:Ft(()=>to),multi:!0};function v4(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function bI(n){return n.split(":")[0]}var to=(()=>{class n extends Du{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=b(ur).injector;destroyRef=b(un);cdr=b(gn);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,bs({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),o=v4(r,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=bI(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=_e({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&I("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Fn([CI]),Et]})}return n})(),va=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(v4(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(N(ot),N(zt),N(to,9))};static \u0275dir=_e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),_I={provide:cc,useExisting:Ft(()=>M4),multi:!0};function i4(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function xI(n){return n.split(":")[0]}var M4=(()=>{class n extends Du{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let o=t.map(i=>this._getOptionId(i));r=(i,a)=>{i._setSelected(o.indexOf(a.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let a=i;for(let s=0;s<a.length;s++){let c=a[s],l=this._getOptionValue(c.value);o.push(l)}}else{let a=r.options;for(let s=0;s<a.length;s++){let c=a[s];if(c.selected){let l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,t(o)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=xI(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=_e({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&I("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Fn([_I]),Et]})}return n})(),Ma=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(i4(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(i4(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(N(ot),N(zt),N(M4,9))};static \u0275dir=_e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function II(n){return typeof n=="number"?n:parseInt(n,10)}var w4=(()=>{class n{_validator=QM;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):QM,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=_e({type:n,features:[Xt]})}return n})();var SI={provide:Eu,useExisting:Ft(()=>fr),multi:!0};var fr=(()=>{class n extends w4{required;inputName="required";normalizeInput=$r;createValidator=t=>Q7;enabled(t){return t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=_e({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Wo("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Fn([SI]),Et]})}return n})();var DI={provide:Eu,useExisting:Ft(()=>lc),multi:!0},lc=(()=>{class n extends w4{minlength;inputName="minlength";normalizeInput=t=>II(t);createValidator=t=>X7(t);static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=_e({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Wo("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[Fn([DI]),Et]})}return n})();var EI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=jt({})}return n})();var ft=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:O2,useValue:t.callSetDisabledState??R2}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=jt({imports:[EI]})}return n})();var LI=["*"];var C4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]];var b4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]];var _4=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]];var x4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]];var I4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]];var S4=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]];var D4=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]];var E4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]];var L4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]];var A4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]];var P4=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]];var T4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]];var O4=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]];var R4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]];var N4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]];var F4=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]];var j4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]];var V4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]];var H4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]];var dc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},N2=new V("LucideIcons",{factory:()=>new uc({})}),uc=class{constructor(e){this.icons=e}getIcon(e){return this.hasIcon(e)?this.icons[e]:null}hasIcon(e){return typeof this.icons=="object"&&e in this.icons}},AI=(()=>{class n{constructor(){this.color=dc.stroke,this.size=dc.width,this.strokeWidth=dc["stroke-width"],this.absoluteStrokeWidth=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PI(n,e=3){return parseFloat(n.toFixed(e)).toString(10)}var gt=(()=>{class n{constructor(t,r,o,i,a){this.elem=t,this.renderer=r,this.changeDetector=o,this.iconProviders=i,this.iconConfig=a,this.absoluteStrokeWidth=!1,this.defaultSize=dc.height}get size(){return this._size??this.iconConfig.size}set size(t){t?this._size=this.parseNumber(t):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(t){t?this._strokeWidth=this.parseNumber(t):delete this._strokeWidth}ngOnChanges(t){if(t.name||t.img||t.color||t.size||t.absoluteStrokeWidth||t.strokeWidth||t.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let o=this.getIcon(this.toPascalCase(r));if(o)this.replaceElement(o);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(t){let r=Z(x({},dc),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?PI(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),o=this.createElement(["svg",r,t]);o.classList.add("lucide"),typeof this.name=="string"&&o.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&o.classList.add(...this.class.split(/ /).map(a=>a.trim()).filter(a=>a.length>0));let i=this.elem.nativeElement.childNodes;for(let a of i)this.renderer.removeChild(this.elem.nativeElement,a);this.renderer.appendChild(this.elem.nativeElement,o)}toPascalCase(t){return t.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,o,i)=>o.toUpperCase()+i.toLowerCase())}parseNumber(t){if(typeof t=="string"){let r=parseInt(t,10);if(isNaN(r))throw new Error(`${t} is not numeric.`);return r}return t}getIcon(t){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(t))return r.getIcon(t);return null}createElement([t,r,o=[]]){let i=this.renderer.createElement(t,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(a=>{let s=typeof r[a]=="string"?r[a]:r[a].toString(10);this.renderer.setAttribute(i,a,s)}),o.length&&o.forEach(a=>{let s=this.createElement(a);this.renderer.appendChild(i,s)}),i}}return n.\u0275fac=function(t){return new(t||n)(N(ot),N(zt),N(gn),N(N2),N(AI))},n.\u0275cmp=ue({type:n,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[Xt],ngContentSelectors:LI,decls:1,vars:0,template:function(t,r){t&1&&(Cp(),bp(0))},encapsulation:2}),n})(),F2=class{constructor(e){this.icons=e}},TI=n=>new uc(n??{}),at=(()=>{class n{static pick(t){return{ngModule:n,providers:[{provide:N2,multi:!0,useValue:new uc(t)},{provide:N2,multi:!0,useFactory:TI,deps:[[new B0,F2]]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Jt({type:n}),n.\u0275inj=jt({imports:[[]]}),n})();Ie();var z4=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};var hc=class extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}},pc=class extends hc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},fc=class extends hc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},gc=class extends hc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},j2=(function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n})(j2||{});var yc=class{constructor(e,{headers:t={},customFetch:r,region:o=j2.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=z4(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return L(this,arguments,void 0,function*(t,r={}){var o;try{let{headers:i,method:a,body:s,signal:c}=r,l={},{region:d}=r;d||(d=this.region);let u=new URL(`${this.url}/${t}`);d&&d!=="any"&&(l["x-region"]=d,u.searchParams.set("forceFunctionRegion",d));let p;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",p=s):typeof s=="string"?(l["Content-Type"]="text/plain",p=s):typeof FormData<"u"&&s instanceof FormData?p=s:(l["Content-Type"]="application/json",p=JSON.stringify(s)):p=s;let h=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:p,signal:c}).catch(w=>{throw w.name==="AbortError"?w:new pc(w)}),y=h.headers.get("x-relay-error");if(y&&y==="true")throw new fc(h);if(!h.ok)throw new gc(h);let k=((o=h.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),v;return k==="application/json"?v=yield h.json():k==="application/octet-stream"||k==="application/pdf"?v=yield h.blob():k==="text/event-stream"?v=h:k==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new pc(i)}:{data:null,error:i,response:i instanceof gc||i instanceof fc?i.context:void 0}}})}};var tf=uw(Q4(),1),{PostgrestClient:X4,PostgrestQueryBuilder:cG,PostgrestFilterBuilder:lG,PostgrestTransformBuilder:dG,PostgrestBuilder:uG,PostgrestError:UI}=tf.default||tf;var nf=class{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let t=process.versions;if(t&&t.node){let r=t.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){let r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},rf=nf;var J4="2.78.0";var e5=`realtime-js/${J4}`,t5="1.0.0";var kc=1e4,n5=1e3,r5=100,vc=(function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n})(vc||{}),Qe=(function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n})(Qe||{}),tn=(function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n})(tn||{}),of=(function(n){return n.websocket="websocket",n})(of||{}),Jo=(function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n})(Jo||{});var Pu=class{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let o=t.getUint8(1),i=t.getUint8(2),a=this.HEADER_LENGTH+2,s=r.decode(e.slice(a,a+o));a=a+o;let c=r.decode(e.slice(a,a+i));a=a+i;let l=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:s,event:c,payload:l}}};var Ca=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var De=(function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n})(De||{}),sf=(n,e,t={})=>{var r;let o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=$I(a,n,e,o),i),{}):{}},$I=(n,e,t,r)=>{let o=e.find(s=>s.name===n),i=o?.type,a=t[n];return i&&!r.includes(i)?o5(i,a):af(a)},o5=(n,e)=>{if(n.charAt(0)==="_"){let t=n.slice(1,n.length);return KI(e,t)}switch(n){case De.bool:return WI(e);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return GI(e);case De.json:case De.jsonb:return ZI(e);case De.timestamp:return YI(e);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return af(e);default:return af(e)}},af=n=>n,WI=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},GI=n=>{if(typeof n=="string"){let e=parseFloat(n);if(!Number.isNaN(e))return e}return n},ZI=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},KI=(n,e)=>{if(typeof n!="string")return n;let t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let i,a=n.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(s=>o5(e,s))}return n},YI=n=>typeof n=="string"?n.replace(" ","T"):n,Tu=n=>{let e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};var ba=class{constructor(e,t,r={},o=kc){this.channel=e,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Mc=class n{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,o,i,a),this.pendingDiffs.forEach(c=>{this.state=n.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=n.syncDiff(this.state,o,i,a),s())}),this.onJoin((o,i,a)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:a})}),this.onLeave((o,i,a)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,o){let i=this.cloneDeep(e),a=this.transformState(t),s={},c={};return this.map(i,(l,d)=>{a[l]||(c[l]=d)}),this.map(a,(l,d)=>{let u=i[l];if(u){let p=d.map(v=>v.presence_ref),h=u.map(v=>v.presence_ref),y=d.filter(v=>h.indexOf(v.presence_ref)<0),k=u.filter(v=>p.indexOf(v.presence_ref)<0);y.length>0&&(s[l]=y),k.length>0&&(c[l]=k)}else s[l]=d}),this.syncDiff(i,{joins:s,leaves:c},r,o)}static syncDiff(e,t,r,o){let{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(s,c)=>{var l;let d=(l=e[s])!==null&&l!==void 0?l:[];if(e[s]=this.cloneDeep(c),d.length>0){let u=e[s].map(h=>h.presence_ref),p=d.filter(h=>u.indexOf(h.presence_ref)<0);e[s].unshift(...p)}r(s,d,c)}),this.map(a,(s,c)=>{let l=e[s];if(!l)return;let d=c.map(u=>u.presence_ref);l=l.filter(u=>d.indexOf(u.presence_ref)<0),e[s]=l,o(s,l,c),l.length===0&&delete e[s]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{let o=e[r];return"metas"in o?t[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var wc=(function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n})(wc||{}),gr=(function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n})(gr||{});var Cc=class n{constructor(e,t={config:{}},r){var o,i;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ba(this,tn.join,this.params,this.timeout),this.rejoinTimer=new Ca(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Mc(this),this.broadcastEndpointURL=Tu(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){let{config:{broadcast:a,presence:s,private:c}}=this.params,l=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&o!==void 0?o:[],d=!!this.bindings[wc.PRESENCE]&&this.bindings[wc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,u={},p={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>e?.(gr.CHANNEL_ERROR,h)),this._onClose(()=>e?.(gr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",y=>f(this,[y],function*({postgres_changes:h}){var k;if(this.socket.setAuth(),h===void 0){e?.(gr.SUBSCRIBED);return}else{let v=this.bindings.postgres_changes,w=(k=v?.length)!==null&&k!==void 0?k:0,O=[];for(let S=0;S<w;S++){let _=v[S],{filter:{event:T,schema:te,table:U,filter:Q}}=_,Ee=h&&h[S];if(Ee&&Ee.event===T&&Ee.schema===te&&Ee.table===U&&Ee.filter===Q)O.push(Object.assign(Object.assign({},_),{id:Ee.id}));else{this.unsubscribe(),this.state=Qe.errored,e?.(gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(gr.SUBSCRIBED);return}})).receive("error",h=>{this.state=Qe.errored,e?.(gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e?.(gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return f(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return f(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this.state===Qe.joined&&e===wc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}httpSend(o,i){return f(this,arguments,function*(e,t,r={}){var a;let s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");let c={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let d=l.statusText;try{let u=yield l.json();d=u.error||u.message||d}catch{}return Promise.reject(new Error(d))})}send(r){return f(this,arguments,function*(e,t={}){var o,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{let d=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=t.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=d.body)===null||i===void 0?void 0:i.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,c,l;let d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qe.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new ba(this,tn.leave,{},e),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}_fetchWithTimeout(e,t,r){return f(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),a=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(i),a})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ba(this,e,t,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>r5){let t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var o,i;let a=e.toLocaleLowerCase(),{close:s,error:c,leave:l,join:d}=tn;if(r&&[s,c,l,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,t,r);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(h=>{var y,k,v;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(k=h.filter)===null||k===void 0?void 0:k.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(h=>h.callback(p,r)):(i=this.bindings[a])===null||i===void 0||i.filter(h=>{var y,k,v,w,O,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){let _=h.id,T=(y=h.filter)===null||y===void 0?void 0:y.event;return _&&((k=t.ids)===null||k===void 0?void 0:k.includes(_))&&(T==="*"||T?.toLocaleLowerCase()===((v=t.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let _=(O=(w=h?.filter)===null||w===void 0?void 0:w.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return _==="*"||_===((S=t?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof p=="object"&&"ids"in p){let y=p.data,{schema:k,table:v,commit_timestamp:w,type:O,errors:S}=y;p=Object.assign(Object.assign({},{schema:k,table:v,commit_timestamp:w,eventType:O,new:{},old:{},errors:S}),this._getPayloadRecords(y))}h.callback(p,r)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let o=e.toLocaleLowerCase(),i={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&n.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tn.close,{},e)}_onError(e){this._on(tn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=sf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=sf(e.columns,e.old_record)),t}};var cf=()=>{},Ou={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XI=[1e3,2e3,5e3,1e4],JI=1e4,eS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,bc=class{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kc,this.transport=null,this.heartbeatIntervalMs=Ou.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cf,this.ref=0,this.reconnectTimer=null,this.logger=cf,this.conn=null,this.sendBuffer=[],this.serializer=new Pu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>import("./chunk-Z76GK7AR.js").then(({default:s})=>s(...a)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${of.websocket}`,this.httpEndpoint=Tu(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=rf.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:t5}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return f(this,null,function*(){let t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return f(this,null,function*(){let e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case vc.connecting:return Jo.Connecting;case vc.open:return Jo.Open;case vc.closing:return Jo.Closing;default:return Jo.Closed}}isConnected(){return this.connectionState()===Jo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){let r=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Cc(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){let{topic:t,event:r,payload:o,ref:i}=e,a=()=>{this.encode(e,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${t} ${r} (${i})`,o),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(e=null){return f(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return f(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(n5,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Ou.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:a}=t,s=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${s}`.trim(),i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(o,i,a)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(tn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${r}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{let r=new Blob([eS],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}_performAuth(e=null){return f(this,null,function*(){let t;e?t=e:this.accessToken?t=yield this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{let o={access_token:t,version:e5};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(tn.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return f(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ca(()=>f(this,null,function*(){setTimeout(()=>f(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Ou.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var t,r,o,i,a,s,c,l,d;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:kc,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Ou.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e?.heartbeatCallback)!==null&&s!==void 0?s:cf,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:u=>XI[u-1]||JI,this.encode=(l=e?.encode)!==null&&l!==void 0?l:(u,p)=>p(JSON.stringify(u)),this.decode=(d=e?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};Ie();var _a=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Me(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Ru=class extends _a{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ei=class extends _a{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};Ie();Ie();var xa=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},i5=()=>L(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-Z76GK7AR.js")).Response:Response}),Nu=n=>{if(Array.isArray(n))return n.map(t=>Nu(t));if(typeof n=="function"||n!==Object(n))return n;let e={};return Object.entries(n).forEach(([t,r])=>{let o=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=Nu(r)}),e},a5=n=>{if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var lf=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},tS=(n,e,t)=>L(void 0,void 0,void 0,function*(){let r=yield i5();n instanceof r&&!t?.noResolveJson?n.json().then(o=>{let i=n.status||500,a=o?.statusCode||i+"";e(new Ru(lf(o),i,a))}).catch(o=>{e(new ei(lf(o),o))}):e(new ei(lf(n),n))}),nS=(n,e,t,r)=>{let o={method:n,headers:e?.headers||{}};return n==="GET"||!r?o:(a5(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function _c(n,e,t,r,o,i){return L(this,void 0,void 0,function*(){return new Promise((a,s)=>{n(t,nS(e,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>tS(c,s,r))})})}function oo(n,e,t,r){return L(this,void 0,void 0,function*(){return _c(n,"GET",e,t,r)})}function At(n,e,t,r,o){return L(this,void 0,void 0,function*(){return _c(n,"POST",e,r,o,t)})}function xc(n,e,t,r,o){return L(this,void 0,void 0,function*(){return _c(n,"PUT",e,r,o,t)})}function s5(n,e,t,r){return L(this,void 0,void 0,function*(){return _c(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Ia(n,e,t,r,o){return L(this,void 0,void 0,function*(){return _c(n,"DELETE",e,r,o,t)})}Ie();Ie();var Fu=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return L(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Me(e))return{data:null,error:e};throw e}})}};var c5,df=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[c5]="BlobDownloadBuilder",this.promise=null}asStream(){return new Fu(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return L(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Me(e))return{data:null,error:e};throw e}})}};c5=Symbol.toStringTag;var l5=df;var rS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},d5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},ju=class{constructor(e,t={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=xa(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,o){return L(this,void 0,void 0,function*(){try{let i,a=Object.assign(Object.assign({},d5),o),s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)}),c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(s=Object.assign(Object.assign({},s),o.headers));let l=this._removeEmptyFolders(t),d=this._getFinalPath(l),u=yield(e=="PUT"?xc:At)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:s},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}})}upload(e,t,r){return L(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,o){return L(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),a=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",t);try{let c,l=Object.assign({upsert:d5.upsert},o),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType);let u=yield xc(this.fetch,s.toString(),c,{headers:d});return{data:{path:i,fullPath:u.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Me(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return L(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");let i=yield At(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),a=new URL(this.url+i.url),s=a.searchParams.get("token");if(!s)throw new _a("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}update(e,t,r){return L(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return L(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Me(o))return{data:null,error:o};throw o}})}copy(e,t,r){return L(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Me(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,r){return L(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield At(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Me(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,r){return L(this,void 0,void 0,function*(){try{let o=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Me(o))return{data:null,error:o};throw o}})}download(e,t){let o=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),a=i?`?${i}`:"",s=this._getFinalPath(e),c=()=>oo(this.fetch,`${this.url}/${o}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new l5(c,this.shouldThrowOnError)}info(e){return L(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let r=yield oo(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Nu(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}exists(e){return L(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield s5(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r)&&r instanceof ei){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){let r=this._getFinalPath(e),o=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&o.push(i);let s=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${l}`)}}}remove(e){return L(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}list(e,t,r){return L(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},rS),t),{prefix:e||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Me(o))return{data:null,error:o};throw o}})}listV2(e,t){return L(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield At(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};Ie();var Vu="2.78.0";var Hu={"X-Client-Info":`storage-js/${Vu}`};var zu=class{constructor(e,t={},r,o){this.shouldThrowOnError=!1;let i=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hu),t),this.fetch=xa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return L(this,void 0,void 0,function*(){try{let t=this.listBucketOptionsToQueryString(e);return{data:yield oo(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}getBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}createBucket(e){return L(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Me(o))return{data:null,error:o};throw o}})}updateBucket(e,t){return L(this,void 0,void 0,function*(){try{return{data:yield xc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}emptyBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}deleteBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}};Ie();var Bu=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hu),t),this.fetch=xa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}listBuckets(e){return L(this,void 0,void 0,function*(){try{let t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);let r=t.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield oo(this.fetch,o,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}deleteBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}};Ie();Ie();var Sa={"X-Client-Info":`storage-js/${Vu}`,"Content-Type":"application/json"};var qu=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function yt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Da=class extends qu{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Uu=class extends qu{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};Ie();var Ea=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};var u5=n=>{if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var h5=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),oS=(n,e,t)=>L(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!t?.noResolveJson){let o=n.status||500,i=n;if(typeof i.json=="function")i.json().then(a=>{let s=a?.statusCode||a?.code||o+"";e(new Da(h5(a),o,s))}).catch(()=>{let a=o+"",s=i.statusText||`HTTP ${o} error`;e(new Da(s,o,a))});else{let a=o+"",s=i.statusText||`HTTP ${o} error`;e(new Da(s,o,a))}}else e(new Uu(h5(n),n))}),iS=(n,e,t,r)=>{let o={method:n,headers:e?.headers||{}};return n==="GET"||!r?o:(u5(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),t))};function aS(n,e,t,r,o,i){return L(this,void 0,void 0,function*(){return new Promise((a,s)=>{n(t,iS(e,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>oS(c,s,r))})})}function mt(n,e,t,r,o){return L(this,void 0,void 0,function*(){return aS(n,"POST",e,r,o,t)})}var $u=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sa),t),this.fetch=Ea(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return L(this,void 0,void 0,function*(){try{return{data:(yield mt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}getIndex(e,t){return L(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}listIndexes(e){return L(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return L(this,void 0,void 0,function*(){try{return{data:(yield mt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yt(r))return{data:null,error:r};throw r}})}};Ie();var Wu=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sa),t),this.fetch=Ea(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return L(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield mt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}getVectors(e){return L(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}listVectors(e){return L(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield mt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}queryVectors(e){return L(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}deleteVectors(e){return L(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield mt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}};Ie();var Gu=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sa),t),this.fetch=Ea(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return L(this,void 0,void 0,function*(){try{return{data:(yield mt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}getBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}listBuckets(){return L(this,arguments,void 0,function*(e={}){try{return{data:yield mt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return L(this,void 0,void 0,function*(){try{return{data:(yield mt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}};var Ic=class extends Gu{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Zu(this.url,this.headers,e,this.fetch)}},Zu=class extends $u{constructor(e,t,r,o){super(e,t,o),this.vectorBucketName=r}createIndex(e){let t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return L(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return L(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return L(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return L(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Ku(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Ku=class extends Wu{constructor(e,t,r,o,i){super(e,t,i),this.vectorBucketName=r,this.indexName=o}putVectors(e){let t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return L(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return L(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return L(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return L(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return L(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var Sc=class extends zu{constructor(e,t={},r,o){super(e,t,r,o)}from(e){return new ju(this.url,this.headers,e,this.fetch)}get vectors(){return new Ic(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Bu(this.url+"/iceberg",this.headers,this.fetch)}};var p5="2.78.0";var Dc="";typeof Deno<"u"?Dc="deno":typeof document<"u"?Dc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dc="react-native":Dc="node";var sS={"X-Client-Info":`supabase-js-${Dc}/${p5}`},f5={headers:sS},g5={schema:"public"},y5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},m5={};ag();var cS=n=>{let e;return n?e=n:typeof fetch>"u"?e=og:e=fetch,(...t)=>e(...t)},lS=()=>typeof Headers>"u"?ig:Headers,k5=(n,e,t)=>{let r=cS(t),o=lS();return(i,a)=>f(null,null,function*(){var s;let c=(s=yield e())!==null&&s!==void 0?s:n,l=new o(a?.headers);return l.has("apikey")||l.set("apikey",n),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:l}))})};function dS(n){return n.endsWith("/")?n:n+"/"}function v5(n,e){var t,r;let{db:o,auth:i,realtime:a,global:s}=n,{db:c,auth:l,realtime:d,global:u}=e,p={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},u),s),{headers:Object.assign(Object.assign({},(t=u?.headers)!==null&&t!==void 0?t:{}),(r=s?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>f(null,null,function*(){return""})};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}function M5(n){let e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(dS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}Ie();Ie();var Yu="2.78.0";var ti=30*1e3,Qu=3,Xu=Qu*ti,w5="http://localhost:9999",C5="supabase.auth.token";var b5={"X-Client-Info":`gotrue-js/${Yu}`};var Ec="X-Supabase-Api-Version",uf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,x5=600*1e3;var io=class extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function H(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var Ju=class extends io{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function I5(n){return H(n)&&n.name==="AuthApiError"}var nn=class extends io{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},qn=class extends io{constructor(e,t,r,o){super(e,r,o),this.name=t,this.status=r}},_t=class extends qn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function S5(n){return H(n)&&n.name==="AuthSessionMissingError"}var yr=class extends qn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ni=class extends qn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},ri=class extends qn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function D5(n){return H(n)&&n.name==="AuthImplicitGrantRedirectError"}var Lc=class extends qn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},La=class extends qn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function e1(n){return H(n)&&n.name==="AuthRetryableFetchError"}var Ac=class extends qn{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var oi=class extends qn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var t1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),E5=` 	
\r=`.split(""),uS=(()=>{let n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<E5.length;e+=1)n[E5[e].charCodeAt(0)]=-2;for(let e=0;e<t1.length;e+=1)n[t1[e].charCodeAt(0)]=e;return n})();function L5(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(t1[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(t1[r]),e.queuedBits-=6}}function A5(n,e,t){let r=uS[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function hf(n){let e=[],t=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=a=>{fS(a,r,t)};for(let a=0;a<n.length;a+=1)A5(n.charCodeAt(a),o,i);return e.join("")}function hS(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function pS(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}hS(r,e)}}function fS(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function ao(n){let e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)A5(n.charCodeAt(o),t,r);return new Uint8Array(e)}function P5(n){let e=[];return pS(n,t=>e.push(t)),new Uint8Array(e)}function mr(n){let e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};return n.forEach(o=>L5(o,t,r)),L5(null,t,r),e.join("")}function T5(n){return Math.round(Date.now()/1e3)+n}function O5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}var st=()=>typeof window<"u"&&typeof document<"u",ii={tested:!1,writable:!1},n1=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ii.tested)return ii.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ii.tested=!0,ii.writable=!0}catch{ii.tested=!0,ii.writable=!1}return ii.writable};function R5(n){let e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return t.searchParams.forEach((r,o)=>{e[o]=r}),e}var r1=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},N5=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ai=(n,e,t)=>f(null,null,function*(){yield n.setItem(e,JSON.stringify(t))}),so=(n,e)=>f(null,null,function*(){let t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),kr=(n,e)=>f(null,null,function*(){yield n.removeItem(e)}),Pc=class n{constructor(){this.promise=new n.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};Pc.promiseConstructor=Promise;function o1(n){let e=n.split(".");if(e.length!==3)throw new oi("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!_5.test(e[r]))throw new oi("JWT not in base64url format");return{header:JSON.parse(hf(e[0])),payload:JSON.parse(hf(e[1])),signature:ao(e[2]),raw:{header:e[0],payload:e[1]}}}function F5(n){return f(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),n)})})}function j5(n,e){return new Promise((r,o)=>{f(null,null,function*(){for(let i=0;i<1/0;i++)try{let a=yield n(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){o(a);return}}})})}function gS(n){return("0"+n.toString(16)).substr(-2)}function yS(){let e=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,o="";for(let i=0;i<56;i++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,gS).join("")}function mS(n){return f(this,null,function*(){let t=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function kS(n){return f(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let t=yield mS(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function si(n,e,t=!1){return f(this,null,function*(){let r=yS(),o=r;t&&(o+="/PASSWORD_RECOVERY"),yield ai(n,`${e}-code-verifier`,o);let i=yield kS(r);return[i,r===i?"plain":"s256"]})}var vS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function V5(n){let e=n.headers.get(Ec);if(!e||!e.match(vS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function H5(n){if(!n)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function z5(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var MS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ci(n){if(!MS.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function i1(){let n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function B5(n,e){return new Proxy(n,{get:(t,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,o)}})}function pf(n){return JSON.parse(JSON.stringify(n))}var li=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),wS=[502,503,504];function q5(n){return f(this,null,function*(){var e;if(!N5(n))throw new La(li(n),0);if(wS.includes(n.status))throw new La(li(n),n.status);let t;try{t=yield n.json()}catch(i){throw new nn(li(i),i)}let r,o=V5(n);if(o&&o.getTime()>=uf["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Ac(li(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new _t}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Ac(li(t),n.status,t.weak_password.reasons);throw new Ju(li(t),n.status||500,r)})}var CS=(n,e,t,r)=>{let o={method:n,headers:e?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};function q(n,e,t,r){return f(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[Ec]||(i[Ec]=uf["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let a=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=yield bS(n,e,t+s,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function bS(n,e,t,r,o,i){return f(this,null,function*(){let a=CS(e,r,o,i),s;try{s=yield n(t,Object.assign({},a))}catch(c){throw console.error(c),new La(li(c),0)}if(s.ok||(yield q5(s)),r?.noResolveJson)return s;try{return yield s.json()}catch(c){yield q5(c)}})}function rn(n){var e;let t=null;_S(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=T5(n.expires_in)));let r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function ff(n){let e=rn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Un(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function U5(n){return{data:n,error:null}}function $5(n){let{action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i}=n,a=Yn(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},a);return{data:{properties:s,user:c},error:null}}function gf(n){return n}function _S(n){return n.access_token&&n.refresh_token&&n.expires_in}var a1=["global","local","others"];var Aa=class{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=r1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return f(this,arguments,function*(e,t=a1[0]){if(a1.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${a1.join(", ")}`);try{return yield q(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(H(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return f(this,arguments,function*(e,t={}){try{return yield q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Un})}catch(o){if(H(o))return{data:{user:null},error:o};throw o}})}generateLink(e){return f(this,null,function*(){try{let{options:t}=e,r=Yn(e,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:$5,redirectTo:t?.redirectTo})}catch(t){if(H(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return f(this,null,function*(){try{return yield q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Un})}catch(t){if(H(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return f(this,null,function*(){var t,r,o,i,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=yield q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:gf});if(d.error)throw d.error;let u=yield d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{let k=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);l[`${v}Page`]=k}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(H(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return f(this,null,function*(){ci(e);try{return yield q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Un})}catch(t){if(H(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return f(this,null,function*(){ci(e);try{return yield q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Un})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return f(this,null,function*(){ci(e);try{return yield q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Un})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return f(this,null,function*(){ci(e.userId);try{let{data:t,error:r}=yield q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(H(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return f(this,null,function*(){ci(e.userId),ci(e.id);try{return{data:yield q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(H(t))return{data:null,error:t};throw t}})}_listOAuthClients(e){return f(this,null,function*(){var t,r,o,i,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=yield q(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:gf});if(d.error)throw d.error;let u=yield d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{let k=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);l[`${v}Page`]=k}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(H(l))return{data:{clients:[]},error:l};throw l}})}_createOAuthClient(e){return f(this,null,function*(){try{return yield q(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(H(t))return{data:null,error:t};throw t}})}_getOAuthClient(e){return f(this,null,function*(){try{return yield q(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(H(t))return{data:null,error:t};throw t}})}_updateOAuthClient(e,t){return f(this,null,function*(){try{return yield q(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(e){return f(this,null,function*(){try{return yield q(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(H(t))return{data:null,error:t};throw t}})}_regenerateOAuthClientSecret(e){return f(this,null,function*(){try{return yield q(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(H(t))return{data:null,error:t};throw t}})}};function yf(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}var di={debug:!!(globalThis&&n1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Tc=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},s1=class extends Tc{};function mf(n,e,t){return f(this,null,function*(){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),di.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>f(null,null,function*(){if(o){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return yield t()}finally{di.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw di.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new s1(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(di.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}function W5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kf(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function G5(n){return parseInt(n,16)}function Z5(n){let e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function K5(n){var e;let{chainId:t,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:a,notBefore:s,requestId:c,resources:l,scheme:d,uri:u,version:p}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}let h=kf(n.address),y=d?`${d}://${r}`:r,k=n.statement?`${n.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${h}

${k}`,w=`URI: ${u}
Version: ${p}
Chain ID: ${t}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(o&&(w+=`
Expiration Time: ${o.toISOString()}`),s&&(w+=`
Not Before: ${s.toISOString()}`),c&&(w+=`
Request ID: ${c}`),l){let O=`
Resources:`;for(let S of l){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);O+=`
- ${S}`}w+=O}return`${v}
${w}`}Ie();var Te=class extends Error{constructor({message:e,code:t,cause:r,name:o}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=t}},ui=class extends Te{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}};function Y5({error:n,options:e}){var t,r,o;let{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=i.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Te({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){let a=window.location.hostname;if(vf(a)){if(i.rp.id!==a)return new Te({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Q5({error:n,options:e}){let{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Te({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){let r=window.location.hostname;if(vf(r)){if(t.rpId!==r)return new Te({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var Mf=class{createNewAbortSignal(){if(this.controller){let t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},xS=new Mf;function J5(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);let{challenge:e,user:t,excludeCredentials:r}=n,o=Yn(n,["challenge","user","excludeCredentials"]),i=ao(e).buffer,a=Object.assign(Object.assign({},t),{id:ao(t.id).buffer}),s=Object.assign(Object.assign({},o),{challenge:i,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];s.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:ao(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function e3(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);let{challenge:e,allowCredentials:t}=n,r=Yn(n,["challenge","allowCredentials"]),o=ao(e).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(t&&t.length>0){i.allowCredentials=new Array(t.length);for(let a=0;a<t.length;a++){let s=t[a];i.allowCredentials[a]=Object.assign(Object.assign({},s),{id:ao(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function t3(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let t=n;return{id:n.id,rawId:n.id,response:{attestationObject:mr(new Uint8Array(n.response.attestationObject)),clientDataJSON:mr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function n3(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let t=n,r=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:mr(new Uint8Array(o.authenticatorData)),clientDataJSON:mr(new Uint8Array(o.clientDataJSON)),signature:mr(new Uint8Array(o.signature)),userHandle:o.userHandle?mr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vf(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function X5(){var n,e;return!!(st()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}function IS(n){return f(this,null,function*(){try{let e=yield navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ui("Browser returned unexpected credential type",e)}:{data:null,error:new ui("Empty credential response",e)}}catch(e){return{data:null,error:Y5({error:e,options:n})}}})}function SS(n){return f(this,null,function*(){try{let e=yield navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ui("Browser returned unexpected credential type",e)}:{data:null,error:new ui("Empty credential response",e)}}catch(e){return{data:null,error:Q5({error:e,options:n})}}})}var DS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},ES={userVerification:"preferred",hints:["security-key"]};function c1(...n){let e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),t=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of n)if(o)for(let i in o){let a=o[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(t(a))r[i]=a;else if(e(a)){let s=r[i];e(s)?r[i]=c1(s,a):r[i]=c1(a)}else r[i]=a}return r}function LS(n,e){return c1(DS,n,e||{})}function AS(n,e){return c1(ES,n,e||{})}var l1=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return f(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(a,s){return f(this,arguments,function*({factorId:e,webauthn:t,friendlyName:r,signal:o},i){try{let{data:c,error:l}=yield this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:l};let d=o??xS.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:u}=c.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(c.webauthn.type){case"create":{let u=LS(c.webauthn.credential_options.publicKey,i?.create),{data:p,error:h}=yield IS({publicKey:u,signal:d});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{let u=AS(c.webauthn.credential_options.publicKey,i?.request),{data:p,error:h}=yield SS(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:u,signal:d}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(c){return H(c)?{data:null,error:c}:{data:null,error:new nn("Unexpected error in challenge",c)}}})}_verify(o){return f(this,arguments,function*({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})})}_authenticate(a,s){return f(this,arguments,function*({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},i){if(!t)return{data:null,error:new io("rpId is required for WebAuthn authentication")};try{if(!X5())return{data:null,error:new nn("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:o},{request:i});if(!c)return{data:null,error:l};let{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:r,credential_response:d.credential_response}})}catch(c){return H(c)?{data:null,error:c}:{data:null,error:new nn("Unexpected error in authenticate",c)}}})}_register(a,s){return f(this,arguments,function*({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},i){if(!t)return{data:null,error:new io("rpId is required for WebAuthn registration")};try{if(!X5())return{data:null,error:new nn("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this._enroll({friendlyName:e});if(!c)return yield this.client.mfa.listFactors().then(p=>{var h;return(h=p.data)===null||h===void 0?void 0:h.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};let{data:d,error:u}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:o},{create:i});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:u}}catch(c){return H(c)?{data:null,error:c}:{data:null,error:new nn("Unexpected error in register",c)}}})}};W5();var PS={url:w5,storageKey:C5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:b5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function r3(n,e,t){return f(this,null,function*(){return yield t()})}var Pa={},TS=(()=>{class n{get jwks(){var t,r;return(r=(t=Pa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Pa[this.storageKey]=Object.assign(Object.assign({},Pa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Pa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Pa[this.storageKey]=Object.assign(Object.assign({},Pa[this.storageKey]),{cachedAt:t})}constructor(t){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&st()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},PS),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Aa({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=r1(i.fetch),this.lock=i.lock||r3,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:st()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=mf:this.lock=r3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new l1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:n1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=yf(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>f(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Yu}) ${new Date().toISOString()}`,...t),this}initialize(){return f(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=f(this,null,function*(){return yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return f(this,null,function*(){var t;try{let r=R5(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),st()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:a}=yield this._getSessionFromURL(r,o);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),D5(a)){let l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return yield this._removeSession(),{error:a}}let{session:s,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),yield this._saveSession(s),setTimeout(()=>f(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return H(r)?{error:r}:{error:new nn("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return f(this,null,function*(){var r,o,i;try{let a=yield q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:rn}),{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}})}signUp(t){return f(this,null,function*(){var r,o,i;try{let a;if("email"in t){let{email:u,password:p,options:h}=t,y=null,k=null;this.flowType==="pkce"&&([y,k]=yield si(this.storage,this.storageKey)),a=yield q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:y,code_challenge_method:k},xform:rn})}else if("phone"in t){let{phone:u,password:p,options:h}=t;a=yield q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:p,data:(o=h?.data)!==null&&o!==void 0?o:{},channel:(i=h?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:rn})}else throw new ni("You must provide either an email or phone number and a password");let{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithPassword(t){return f(this,null,function*(){try{let r;if("email"in t){let{email:a,password:s,options:c}=t;r=yield q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ff})}else if("phone"in t){let{phone:a,password:s,options:c}=t;r=yield q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ff})}else throw new ni("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new yr}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return f(this,null,function*(){var r,o,i,a;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})})}exchangeCodeForSession(t){return f(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>f(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return f(this,null,function*(){let{chain:r}=t;switch(r){case"ethereum":return yield this.signInWithEthereum(t);case"solana":return yield this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(t){return f(this,null,function*(){var r,o,i,a,s,c,l,d,u,p,h;let y,k;if("message"in t)y=t.message,k=t.signature;else{let{chain:v,wallet:w,statement:O,options:S}=t,_;if(st())if(typeof w=="object")_=w;else{let E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")_=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}let T=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href),te=yield _.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let U=kf(te[0]),Q=(o=S?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!Q){let E=yield _.request({method:"eth_chainId"});Q=G5(E)}let Ee={domain:T.host,address:U,statement:O,uri:T.href,version:"1",chainId:Q,nonce:(i=S?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=S?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(c=S?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=S?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(d=S?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=S?.signInWithEthereum)===null||u===void 0?void 0:u.resources};y=K5(Ee),k=yield _.request({method:"personal_sign",params:[Z5(y),U]})}try{let{data:v,error:w}=yield q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:k},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:rn});if(w)throw w;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new yr}:(v.session&&(yield this._saveSession(v.session),yield this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:w})}catch(v){if(H(v))return{data:{user:null,session:null},error:v};throw v}})}signInWithSolana(t){return f(this,null,function*(){var r,o,i,a,s,c,l,d,u,p,h,y;let k,v;if("message"in t)k=t.message,v=t.signature;else{let{chain:w,wallet:O,statement:S,options:_}=t,T;if(st())if(typeof O=="object")T=O;else{let U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))T=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=O}let te=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){let U=yield T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),S?{statement:S}:null)),Q;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")Q=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)Q=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)k=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),v=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${te.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(i=(o=_?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((d=_?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((p=(u=_?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||p===void 0)&&p.length?["Resources",..._.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);let U=yield T.signMessage(new TextEncoder().encode(k),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=U}}try{let{data:w,error:O}=yield q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:mr(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:rn});if(O)throw O;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new yr}:(w.session&&(yield this._saveSession(w.session),yield this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:O})}catch(w){if(H(w))return{data:{user:null,session:null},error:w};throw w}})}_exchangeCodeForSession(t){return f(this,null,function*(){let r=yield so(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:a,error:s}=yield q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:rn});if(yield kr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new yr}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(H(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})}signInWithIdToken(t){return f(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:a,nonce:s}=t,c=yield q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:rn}),{data:l,error:d}=c;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new yr}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return f(this,null,function*(){var r,o,i,a,s;try{if("email"in t){let{email:c,options:l}=t,d=null,u=null;this.flowType==="pkce"&&([d,u]=yield si(this.storage,this.storageKey));let{error:p}=yield q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){let{phone:c,options:l}=t,{data:d,error:u}=yield q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(s=l?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:u}}throw new ni("You must provide either an email or phone number.")}catch(c){if(H(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(t){return f(this,null,function*(){var r,o;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(o=t.options)===null||o===void 0?void 0:o.captchaToken);let{data:s,error:c}=yield q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:rn});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");let l=s.session,d=s.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(t){return f(this,null,function*(){var r,o,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=yield si(this.storage,this.storageKey)),yield q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:U5})}catch(a){if(H(a))return{data:null,error:a};throw a}})}reauthenticate(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return f(this,null,function*(){try{return yield this._useSession(t=>f(this,null,function*(){let{data:{session:r},error:o}=t;if(o)throw o;if(!r)throw new _t;let{error:i}=yield q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(t){if(H(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return f(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:o,type:i,options:a}=t,{error:s}=yield q(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){let{phone:o,type:i,options:a}=t,{data:s,error:c}=yield q(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:c}}throw new ni("You must provide either an email or phone number and a type")}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return this._useSession(r=>f(this,null,function*(){return r}))}))})}_acquireLock(t,r){return f(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=f(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(f(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,t,()=>f(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(f(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return f(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return f(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield so(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let o=t.expires_at?t.expires_at*1e3-Date.now()<Xu:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){let s=yield so(this.userStorage,this.storageKey+"-user");s?.user?t.user=s.user:t.user=i1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){let s={value:this.suppressGetSessionWarning};t.user=B5(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:i,error:a}=yield this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return f(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return f(this,null,function*(){try{return t?yield q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Un}):yield this._useSession(r=>f(this,null,function*(){var o,i,a;let{data:s,error:c}=r;if(c)throw c;return!(!((o=s.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:yield q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Un})}))}catch(r){if(H(r))return S5(r)&&(yield this._removeSession(),yield kr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return f(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(o){return f(this,arguments,function*(t,r={}){try{return yield this._useSession(i=>f(this,null,function*(){let{data:a,error:s}=i;if(s)throw s;if(!a.session)throw new _t;let c=a.session,l=null,d=null;this.flowType==="pkce"&&t.email!=null&&([l,d]=yield si(this.storage,this.storageKey));let{data:u,error:p}=yield q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:d}),jwt:c.access_token,xform:Un});if(p)throw p;return c.user=u.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(H(i))return{data:{user:null},error:i};throw i}})}setSession(t){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return f(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new _t;let r=Date.now()/1e3,o=r,i=!0,a=null,{payload:s}=o1(t.access_token);if(s.exp&&(o=s.exp,i=o<=r),i){let{data:c,error:l}=yield this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};a=c}else{let{data:c,error:l}=yield this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(H(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;if(!t){let{data:s,error:c}=r;if(c)throw c;t=(o=s.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new _t;let{data:i,error:a}=yield this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return f(this,null,function*(){try{if(!st())throw new ri("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ri(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Lc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ri("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Lc("No code detected.");let{data:S,error:_}=yield this._exchangeCodeForSession(t.code);if(_)throw _;let T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:S.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:c,expires_at:l,token_type:d}=t;if(!a||!c||!s||!d)throw new ri("No session defined in URL");let u=Math.round(Date.now()/1e3),p=parseInt(c),h=u+p;l&&(h=parseInt(l));let y=h-u;y*1e3<=ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);let k=h-p;u-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,h,u):u-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,h,u);let{data:v,error:w}=yield this._getUser(a);if(w)throw w;let O={provider_token:o,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:h,refresh_token:s,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:t.type},error:null}}catch(o){if(H(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return f(this,null,function*(){let r=yield so(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return f(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return f(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return{error:a};let s=(o=i.session)===null||o===void 0?void 0:o.access_token;if(s){let{error:c}=yield this.admin.signOut(s,t);if(c&&!(I5(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(yield this._removeSession(),yield kr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=O5(),o={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),f(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(t){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var o,i;try{let{data:{session:a},error:s}=r;if(s)throw s;yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",a),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}}))})}resetPasswordForEmail(o){return f(this,arguments,function*(t,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=yield si(this.storage,this.storageKey,!0));try{return yield q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(H(s))return{data:null,error:s};throw s}})}getUserIdentities(){return f(this,null,function*(){var t;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}})}linkIdentity(t){return f(this,null,function*(){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)})}linkIdentityOAuth(t){return f(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(a=>f(this,null,function*(){var s,c,l,d,u;let{data:p,error:h}=a;if(h)throw h;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield q(this.fetch,"GET",y,{headers:this.headers,jwt:(u=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})}));if(i)throw i;return st()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if(H(o))return{data:{provider:t.provider,url:null},error:o};throw o}})}linkIdentityIdToken(t){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var o;try{let{error:i,data:{session:a}}=r;if(i)throw i;let{options:s,provider:c,token:l,access_token:d,nonce:u}=t,p=yield q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=a?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:l,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:rn}),{data:h,error:y}=p;return y?{data:{user:null,session:null},error:y}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new yr}:(h.session&&(yield this._saveSession(h.session),yield this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:y})}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}))})}unlinkIdentity(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o,i;let{data:a,error:s}=r;if(s)throw s;return yield q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(H(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return f(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield j5(i=>f(this,null,function*(){return i>0&&(yield F5(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rn})}),(i,a)=>{let s=200*Math.pow(2,i);return a&&e1(a)&&Date.now()+s-o<ti})}catch(o){if(this._debug(r,"error",o),H(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return f(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),st()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}})}_recoverAndRefresh(){return f(this,null,function*(){var t,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=yield so(this.storage,this.storageKey);if(i&&this.userStorage){let s=yield so(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},yield ai(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s?.user)!==null&&t!==void 0?t:i1()}else if(i&&!i.user&&!i.user){let s=yield so(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,yield kr(this.storage,this.storageKey+"-user"),yield ai(this.storage,this.storageKey,i)):i.user=i1()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&(yield this._removeSession());return}let a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Xu;if(this._debug(o,`session has${a?"":" not"} expired with margin of ${Xu}s`),a){if(this.autoRefreshToken&&i.refresh_token){let{error:s}=yield this._callRefreshToken(i.refresh_token);s&&(console.error(s),e1(s)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:s,error:c}=yield this._getUser(i.access_token);!c&&s?.user?(i.user=s.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(o,"error getting user data, skipping SIGNED_IN notification",s)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}})}_callRefreshToken(t){return f(this,null,function*(){var r,o;if(!t)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pc;let{data:a,error:s}=yield this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new _t;yield this._saveSession(a.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);let c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),H(a)){let s={data:null,error:a};return e1(a)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(t,r,o=!0){return f(this,null,function*(){let i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:r});let a=[],s=Array.from(this.stateChangeEmitters.values()).map(c=>f(this,null,function*(){try{yield c.callback(t,r)}catch(l){a.push(l)}}));if(yield Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}})}_saveSession(t){return f(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;let r=Object.assign({},t),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&(yield ai(this.userStorage,this.storageKey+"-user",{user:r.user}));let i=Object.assign({},r);delete i.user;let a=pf(i);yield ai(this.storage,this.storageKey,a)}else{let i=pf(r);yield ai(this.storage,this.storageKey,i)}})}_removeSession(){return f(this,null,function*(){this._debug("#_removeSession()"),yield kr(this.storage,this.storageKey),yield kr(this.storage,this.storageKey+"-code-verifier"),yield kr(this.storage,this.storageKey+"-user"),this.userStorage&&(yield kr(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&st()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return f(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),ti);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>f(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return f(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return f(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>f(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-t)/ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ti}ms, refresh threshold is ${Qu} ticks`),i<=Qu&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Tc)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return f(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!st()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>f(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return f(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,o){return f(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[a,s]=yield si(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(c.toString())}if(o?.queryParams){let a=new URLSearchParams(o.queryParams);i.push(a.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${i.join("&")}`})}_unenroll(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;return a?{data:null,error:a}:yield q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(H(r))return{data:null,error:r};throw r}})}_enroll(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o,i;let{data:a,error:s}=r;if(s)return{data:null,error:s};let c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:d}=yield q(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(H(r))return{data:null,error:r};throw r}})}_verify(t){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return{data:null,error:a};let s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?t3(t.webauthn.credential_response):n3(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:l}=yield q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:l})}))}catch(r){if(H(r))return{data:null,error:r};throw r}}))})}_challenge(t){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return{data:null,error:a};let s=yield q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(s.error)return s;let{data:c}=s;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:J5(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:e3(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(H(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return f(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:t.factorId});return o?{data:null,error:o}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return f(this,null,function*(){var t;let{data:{user:r},error:o}=yield this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let a of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}})}_getAuthenticatorAssuranceLevel(){return f(this,null,function*(){var t,r;let{data:{session:o},error:i}=yield this.getSession();if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=o1(o.access_token),s=null;a.aal&&(s=a.aal);let c=s;((r=(t=o.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:d},error:null}})}_getAuthorizationDetails(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:o},error:i}=r;return i?{data:null,error:i}:o?yield q(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:o.access_token,xform:a=>({data:a,error:null})}):{data:null,error:new _t}}))}catch(r){if(H(r))return{data:null,error:r};throw r}})}_approveAuthorization(t,r){return f(this,null,function*(){try{return yield this._useSession(o=>f(this,null,function*(){let{data:{session:i},error:a}=o;if(a)return{data:null,error:a};if(!i)return{data:null,error:new _t};let s=yield q(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&st()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s}))}catch(o){if(H(o))return{data:null,error:o};throw o}})}_denyAuthorization(t,r){return f(this,null,function*(){try{return yield this._useSession(o=>f(this,null,function*(){let{data:{session:i},error:a}=o;if(a)return{data:null,error:a};if(!i)return{data:null,error:new _t};let s=yield q(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&st()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s}))}catch(o){if(H(o))return{data:null,error:o};throw o}})}fetchJwk(o){return f(this,arguments,function*(t,r={keys:[]}){let i=r.keys.find(l=>l.kid===t);if(i)return i;let a=Date.now();if(i=this.jwks.keys.find(l=>l.kid===t),i&&this.jwks_cached_at+x5>a)return i;let{data:s,error:c}=yield q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,i=s.keys.find(l=>l.kid===t),!i)?null:i})}getClaims(o){return f(this,arguments,function*(t,r={}){try{let i=t;if(!i){let{data:k,error:v}=yield this.getSession();if(v||!k.session)return{data:null,error:v};i=k.session.access_token}let{header:a,payload:s,signature:c,raw:{header:l,payload:d}}=o1(i);r?.allowExpired||H5(s.exp);let u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){let{error:k}=yield this.getUser(i);if(k)throw k;return{data:{claims:s,header:a,signature:c},error:null}}let p=z5(a.alg),h=yield crypto.subtle.importKey("jwk",u,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,h,c,P5(`${l}.${d}`))))throw new oi("Invalid JWT signature");return{data:{claims:s,header:a,signature:c},error:null}}catch(i){if(H(i))return{data:null,error:i};throw i}})}}return n.nextInstanceID=0,n})(),wf=TS;var OS=wf,Cf=OS;var d1=class extends Cf{constructor(e){super(e)}};var u1=class{constructor(e,t,r){var o,i,a;this.supabaseUrl=e,this.supabaseKey=t;let s=M5(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);let c=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:g5,realtime:m5,auth:Object.assign(Object.assign({},y5),{storageKey:c}),global:f5},d=v5(r??{},l);this.storageKey=(o=d.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(u,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=k5(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new X4(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Sc(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new yc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return f(this,null,function*(){var e,t;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:a,flowType:s,lock:c,debug:l},d,u){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d1({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:i,flowType:s,lock:c,debug:l,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new bc(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var o3=(n,e,t)=>new u1(n,e,t);function RS(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}RS()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var hi={production:!0,enableAuth:!0,supabaseUrl:"https://zrkzkteruybaujoekdan.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpya3prdGVydXliYXVqb2VrZGFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxODAzNTUsImV4cCI6MjA3Nzc1NjM1NX0._UT310p01cnP0oH0OsEdaE06XuzhlzEC1UWJruld_N8"};var Pt=(()=>{let e=class e{constructor(){this.supabase=o3(hi.supabaseUrl,hi.supabaseKey)}getClient(){return this.supabase}signInWithEmail(r){return f(this,null,function*(){return yield this.supabase.auth.signInWithPassword({email:r.email,password:r.password})})}signUpWithEmail(r){return f(this,null,function*(){let o=document.querySelector("base")?.href||window.location.origin;return yield this.supabase.auth.signUp({email:r.email,password:r.password,options:{emailRedirectTo:o,data:{displayName:r.name}}})})}getUser(){return f(this,null,function*(){return yield this.supabase.auth.getUser()})}signOut(){return f(this,null,function*(){yield this.supabase.auth.signOut(),sessionStorage.removeItem("releaseflowUser")})}resetPasswordForEmail(r){return f(this,null,function*(){try{let o=document.querySelector("base")?.href||window.location.origin,{error:i}=yield this.supabase.auth.resetPasswordForEmail(r,{redirectTo:o+"update-password"});if(i)throw i}catch(o){throw new Error(o.message||"Erreur lors de l\u2019envoi du mail de r\xE9initialisation.")}})}exchangeCodeForSession(r){return f(this,null,function*(){if(!r.includes("access_token"))throw new Error("Token manquant");let o=yield this.supabase.auth.exchangeCodeForSession(r);if(o.error)throw new Error(o.error.message);return o})}updatePassword(r){return f(this,null,function*(){let o=yield this.supabase.auth.updateUser({password:r});if(o.error)throw new Error(o.error.message);return o})}getSession(){return f(this,null,function*(){return this.supabase.auth.getSession()})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var co=(()=>{let e=class e{constructor(r){this.supabase=r,this.eventsSubject=new $e([]),this.events$=this.eventsSubject.asObservable(),this.loadEvents()}loadEvents(){return f(this,null,function*(){let{data:r,error:o}=yield this.supabase.getClient().from("events").select("*").order("event_date",{ascending:!0});if(o){console.error("Error loading events:",o);return}this.eventsSubject.next(r||[])})}createEvent(r){return f(this,null,function*(){let{data:o,error:i}=yield this.supabase.getClient().from("events").insert([r]).select().single();return i?(console.error("Error creating event:",i),null):(yield this.loadEvents(),o)})}updateEvent(r,o){return f(this,null,function*(){let{error:i}=yield this.supabase.getClient().from("events").update(Z(x({},o),{updated_at:new Date().toISOString()})).eq("id",r);return i?(console.error("Error updating event:",i),!1):(yield this.loadEvents(),!0)})}deleteEvent(r){return f(this,null,function*(){let{error:o}=yield this.supabase.getClient().from("events").delete().eq("id",r);return o?(console.error("Error deleting event:",o),!1):(yield this.loadEvents(),!0)})}getEventsByDateRange(r,o){return this.eventsSubject.value.filter(a=>{let s=new Date(a.event_date);return s>=r&&s<=o})}getEventsByDate(r){return this.eventsSubject.value.filter(o=>o.event_date===r)}};e.\u0275fac=function(o){return new(o||e)(z(Pt))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function NS(n,e){if(n&1){let t=he();g(0,"button",18),I("click",function(){A(t);let o=D();return P(o.openAddEventModal())}),ae(1,"lucide-icon",19),M(2," Ajouter "),m()}}function FS(n,e){n&1&&(g(0,"span",31),M(1,"Pass\xE9"),m())}function jS(n,e){if(n&1){let t=he();g(0,"div",30)(1,"button",32),I("click",function(){A(t);let o=D().$implicit,i=D();return P(i.openEditEventModal(o))}),ae(2,"lucide-icon",33),m(),g(3,"button",34),I("click",function(){A(t);let o=D().$implicit,i=D();return P(i.deleteEvent(o.id))}),ae(4,"lucide-icon",35),m()()}}function VS(n,e){if(n&1&&(g(0,"div",20)(1,"div",21)(2,"div",22),ae(3,"lucide-icon",23),m(),g(4,"div",24)(5,"div",25)(6,"span",26),M(7),m(),ie(8,FS,2,0,"span",27),m(),g(9,"div",28),M(10),m(),g(11,"div",29),M(12),m()()(),Br(13,jS,5,0,"div",30),m()),n&2){let t=e.$implicit,r=D();Ae("past-event",r.isPastEvent(t.event_date)),C(2),Ae("badge-livraison",t.event_type==="livraison")("badge-mep",t.event_type==="mep"),C(),j("name",t.event_type==="livraison"?"package":"rocket"),C(4),X(t.title),C(),j("ngIf",r.isPastEvent(t.event_date)),C(2),pe(" ",r.formatDate(t.event_date)," "),C(2),pe(" ",t.description," "),C(),qr(r.readonly?-1:13)}}function HS(n,e){if(n&1){let t=he();g(0,"button",51),I("click",function(){A(t);let o=D(2);return P(o.confirmDelete())}),M(1,"Supprimer"),m()}}function zS(n,e){if(n&1){let t=he();g(0,"div",36),I("click",function(){A(t);let o=D();return P(o.closeModal())}),g(1,"div",37),I("click",function(o){return A(t),P(o.stopPropagation())}),g(2,"div",38)(3,"h3"),M(4),m(),g(5,"button",39),I("click",function(){A(t);let o=D();return P(o.closeModal())}),M(6,"\xD7"),m()(),g(7,"div",40)(8,"div",41)(9,"label"),M(10,"Type"),m(),g(11,"select",42),le("ngModelChange",function(o){A(t);let i=D();return de(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),P(o)}),I("ngModelChange",function(){A(t);let o=D();return P(o.updateModalTitle())}),g(12,"option",43),M(13,"Livraison (LV)"),m(),g(14,"option",44),M(15,"Mise en Production (MEP)"),m()()(),g(16,"div",41)(17,"label"),M(18,"Version"),m(),g(19,"input",45),le("ngModelChange",function(o){A(t);let i=D();return de(i.modalEvent.version,o)||(i.modalEvent.version=o),P(o)}),I("ngModelChange",function(){A(t);let o=D();return P(o.updateModalTitle())}),m()(),g(20,"div",41)(21,"label"),M(22,"Date"),m(),g(23,"input",46),le("ngModelChange",function(o){A(t);let i=D();return de(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),P(o)}),m()(),g(24,"div",41)(25,"label"),M(26,"Description"),m(),g(27,"textarea",47),le("ngModelChange",function(o){A(t);let i=D();return de(i.modalEvent.description,o)||(i.modalEvent.description=o),P(o)}),m()()(),g(28,"div",48),ie(29,HS,2,0,"button",49),g(30,"button",50),I("click",function(){A(t);let o=D();return P(o.closeModal())}),M(31,"Annuler"),m(),g(32,"button",18),I("click",function(){A(t);let o=D();return P(o.saveEvent())}),M(33),m()()()()}if(n&2){let t=D();C(4),X(t.isEditMode?"Modifier":"Nouvel \xE9v\xE9nement"),C(7),ce("ngModel",t.modalEvent.event_type),C(8),ce("ngModel",t.modalEvent.version),C(4),ce("ngModel",t.modalEvent.event_date),C(4),ce("ngModel",t.modalEvent.description),C(2),j("ngIf",t.isEditMode),C(4),X(t.isEditMode?"Sauvegarder":"Cr\xE9er")}}var p1=(()=>{let e=class e{constructor(r){this.eventService=r,this.events=[],this.filteredEvents=[],this.searchText="",this.showPastEvents=!1,this.showModal=!1,this.isEditMode=!1,this.readonly=!1,this.modalEvent={},this.modalEventId=null}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.filterEvents()})}filterEvents(){let r=this.events;if(!this.showPastEvents){let o=new Date;o.setHours(0,0,0,0),r=r.filter(i=>new Date(i.event_date)>=o)}if(this.searchText){let o=this.searchText.toLowerCase();r=r.filter(i=>i.title.toLowerCase().includes(o)||i.version.toLowerCase().includes(o)||i.description.toLowerCase().includes(o))}this.filteredEvents=r.sort((o,i)=>new Date(o.event_date).getTime()-new Date(i.event_date).getTime())}isPastEvent(r){let o=new Date(r),i=new Date;return i.setHours(0,0,0,0),o<i}openAddEventModal(){this.isEditMode=!1,this.modalEventId=null,this.modalEvent={event_type:"livraison",version:"",event_date:new Date().toISOString().split("T")[0],description:"",title:""},this.showModal=!0}openEditEventModal(r){this.isEditMode=!0,this.modalEventId=r.id,this.modalEvent=x({},r),this.showModal=!0}closeModal(){this.showModal=!1,this.modalEvent={},this.modalEventId=null}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return f(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode&&this.modalEventId?yield this.eventService.updateEvent(this.modalEventId,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}confirmDelete(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&this.deleteEvent(this.modalEventId)}deleteEvent(r){return f(this,null,function*(){yield this.eventService.deleteEvent(r),this.closeModal()})}formatDate(r){return new Date(r).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}};e.\u0275fac=function(o){return new(o||e)(N(co))},e.\u0275cmp=ue({type:e,selectors:[["app-event-list"]],inputs:{readonly:"readonly"},decls:22,vars:6,consts:[[1,"event-list-container"],[1,"header"],["name","calendar","size","22"],[1,"btn-primary"],[1,"filters-section"],[1,"search-box"],["name","search","size","18",1,"search-icon"],["type","text","placeholder","Rechercher...","lucide-icon","",3,"ngModelChange","ngModel"],[1,"toggle-row"],[1,"toggle-label"],["name","lucide-history","size","18"],[1,"toggle-material"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"slider"],[1,"events-info"],[1,"badge","coming"],["class","event-card",3,"past-event",4,"ngFor","ngForOf"],["class","modal",3,"click",4,"ngIf"],[1,"btn-primary",3,"click"],["name","plus","size","16"],[1,"event-card"],[1,"left"],[1,"type-badge"],["size","22",3,"name"],[1,"info"],[1,"row-1"],[1,"title"],["class","badge past",4,"ngIf"],[1,"row-2","date"],[1,"row-3","desc"],[1,"actions-cell"],[1,"badge","past"],["title","Modifier",1,"icon-btn","edit-btn",3,"click"],["name","pen-line","size","20"],["title","Supprimer",1,"icon-btn","delete-btn",3,"click"],["name","trash-2","size","20"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","3",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"div",1)(2,"h2"),ae(3,"lucide-icon",2),M(4," \xC9v\xE9nements"),m(),Br(5,NS,3,0,"button",3),m(),g(6,"div",4)(7,"div",5),ae(8,"lucide-icon",6),g(9,"input",7),le("ngModelChange",function(s){return de(i.searchText,s)||(i.searchText=s),s}),I("ngModelChange",function(){return i.filterEvents()}),m()(),g(10,"label",8)(11,"span",9),ae(12,"lucide-icon",10),M(13," \xC9v\xE9nements pass\xE9s"),m(),g(14,"div",11)(15,"input",12),le("ngModelChange",function(s){return de(i.showPastEvents,s)||(i.showPastEvents=s),s}),I("change",function(){return i.filterEvents()}),m(),ae(16,"span",13),m()()(),g(17,"div",14)(18,"span",15),M(19),m()(),ie(20,VS,14,12,"div",16)(21,zS,34,7,"div",17),m()),o&2&&(C(5),qr(i.readonly?-1:5),C(4),ce("ngModel",i.searchText),C(6),ce("ngModel",i.showPastEvents),C(4),pe("",i.filteredEvents.length," \xE9v\xE9nements"),C(),j("ngForOf",i.filteredEvents),C(),j("ngIf",i.showModal))},dependencies:[xe,Lt,Ke,ft,va,Ma,tt,A2,to,pt,it,at,gt],styles:['.badge.coming[_ngcontent-%COMP%]{background:#e8f0ff;color:#5083e6}.toggle-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;cursor:pointer}.toggle-row[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:14px;color:#333;-webkit-user-select:none;user-select:none}.toggle-material[_ngcontent-%COMP%]{position:relative;width:46px;height:24px;display:inline-block}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-material[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000208;border-radius:24px;transition:.25s}.toggle-material[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{content:"";position:absolute;width:18px;height:18px;left:3px;bottom:3px;background:#fff;border-radius:50%;transition:.25s;box-shadow:0 2px 4px #00000040}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background:#3d6df2}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.event-list-container[_ngcontent-%COMP%]{padding:1.5rem;height:100%;display:flex;flex-direction:column;background:#fff;border-right:1px solid #e2e8f0;overflow:hidden}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;gap:.5rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a1a1a;margin:0}.btn-primary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#2563eb;color:#fff;padding:.5rem .75rem;border:none;border-radius:4px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.filters-section[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-direction:column;gap:.75rem}.search-box[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{position:absolute;left:.5rem;color:#6b7280;pointer-events:none}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.4rem .4rem .4rem 2rem;border:1px solid #dee2e6;border-radius:4px;font-size:.8rem}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}.filter-toggle[_ngcontent-%COMP%]{display:flex;align-items:center}.filter-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-size:.8rem;color:#495057;cursor:pointer}.filter-toggle[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{cursor:pointer}.events-info[_ngcontent-%COMP%]{padding:.25rem 0;font-size:.75rem;color:#6b7280;margin-bottom:.5rem}.info-text[_ngcontent-%COMP%]{font-weight:500}.events-table[_ngcontent-%COMP%]{flex:1;overflow-y:auto;border:1px solid #e9ecef;border-radius:4px;margin-bottom:.5rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.75rem}thead[_ngcontent-%COMP%]{background:#f8f9fa;position:sticky;top:0;z-index:10}th[_ngcontent-%COMP%]{text-align:left;padding:.5rem;font-weight:600;color:#495057;border-bottom:1px solid #dee2e6}td[_ngcontent-%COMP%]{padding:.5rem;border-bottom:1px solid #e9ecef;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}tr.past-event[_ngcontent-%COMP%]{opacity:.6}.type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.25rem;padding:.2rem .4rem;border-radius:3px;font-size:.65rem;font-weight:600}.badge-livraison[_ngcontent-%COMP%]{background:#dcfce7;color:#15803d}.badge-mep[_ngcontent-%COMP%]{background:#f3e8ff;color:#7e22ce}.title-cell[_ngcontent-%COMP%], .version-cell[_ngcontent-%COMP%]{font-weight:500}.description-cell[_ngcontent-%COMP%]{color:#6b7280}.actions-cell[_ngcontent-%COMP%]{display:flex;gap:.25rem;justify-content:center}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;padding:.25rem;cursor:pointer;transition:all .2s;border-radius:3px;display:flex;align-items:center;justify-content:center;color:#495057}.icon-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9}.edit-btn[_ngcontent-%COMP%]:hover{color:#f59e0b}.delete-btn[_ngcontent-%COMP%]{color:#ef4444}.delete-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#ef4444}.empty-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:150px;color:#6b7280;font-size:.8rem}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:450px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.75rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:28px;height:28px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.25rem}.form-group[_ngcontent-%COMP%]{margin-bottom:.875rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.8rem;font-weight:500;color:#495057;margin-bottom:.375rem}input[type=text][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.4rem;border:1px solid #dee2e6;border-radius:4px;font-size:.8rem;font-family:inherit;box-sizing:border-box}input[type=text][_ngcontent-%COMP%]:focus, input[type=date][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.25rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.4rem .8rem;border:none;border-radius:4px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}.event-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:14px 18px;border:1px solid #eee;border-radius:10px;margin-bottom:8px;background:#fff;transition:transform .12s ease,box-shadow .12s ease,background-color .12s ease;font-size:18px}.event-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 14px #00000014;background-color:#fafafa;cursor:pointer}.event-card.past-event[_ngcontent-%COMP%]{opacity:.7}.left[_ngcontent-%COMP%]{display:flex;gap:14px;align-items:flex-start}.icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;background:#e9f7ef;display:flex;justify-content:center;align-items:center}.info[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.title[_ngcontent-%COMP%]{font-weight:600}.badge[_ngcontent-%COMP%]{padding:2px 8px;border-radius:8px;font-size:12px}.badge.past[_ngcontent-%COMP%]{background:#efefef;color:#666}.date[_ngcontent-%COMP%]{font-size:15px;color:#666;margin-top:2px}.desc[_ngcontent-%COMP%]{margin-top:6px;font-size:15px;color:#444}body.dark-mode[_nghost-%COMP%]   .event-list-container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-list-container[_ngcontent-%COMP%]{background:#1e293b;border-right-color:#334155}body.dark-mode[_nghost-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .toggle-row[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .toggle-row[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .event-card[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-card[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}body.dark-mode[_nghost-%COMP%]   .event-card[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .event-card[_ngcontent-%COMP%]:hover{background-color:#334155}body.dark-mode[_nghost-%COMP%]   .title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .date[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .desc[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .desc[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .badge.past[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .badge.past[_ngcontent-%COMP%]{background:#334155;color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   label[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   input[type=text][_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[type=text][_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, body.dark-mode   [_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1)}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top-color:#334155}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#475569}']});let n=e;return n})();function BS(n,e){if(n&1){let t=he();g(0,"div",12),I("click",function(){let o=A(t).$implicit,i=D(2);return P(i.emitOpenEvent(o))}),g(1,"div",13)(2,"div",14),ae(3,"lucide-icon",15),m(),g(4,"div",16)(5,"div",17),M(6),m(),g(7,"div",18),M(8),m(),g(9,"div",19),M(10),m()()(),g(11,"div",20)(12,"button",21),I("click",function(o){let i=A(t).$implicit,a=D(2);return o.stopPropagation(),P(a.emitOpenEvent(i))}),ae(13,"lucide-icon",22),m()()()}if(n&2){let t=e.$implicit;C(2),Ae("badge-livraison",t.event_type==="livraison")("badge-mep",t.event_type==="mep"),C(),j("name",t.event_type==="livraison"?"package":"rocket"),C(3),X(t.title),C(2),Pd("",t.event_date," \u2022 ",t.version),C(2),X(t.description)}}function qS(n,e){if(n&1&&(g(0,"div"),ie(1,BS,14,9,"div",11),m()),n&2){let t=D();C(),j("ngForOf",t.events)}}function US(n,e){n&1&&(g(0,"div",23),M(1,"Aucun \xE9v\xE9nement pour ce jour."),m())}var f1=(()=>{let e=class e{constructor(){this.events=[],this.dateStr=null,this.readonly=!1,this.close=new Ce,this.openEvent=new Ce,this.add=new Ce}onClose(){this.close.emit()}emitOpenEvent(r){this.openEvent.emit(r)}onAdd(){setTimeout(()=>this.add.emit(this.dateStr),0)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ue({type:e,selectors:[["app-day-events-modal"]],inputs:{events:"events",dateStr:"dateStr",readonly:"readonly"},outputs:{close:"close",openEvent:"openEvent",add:"add"},decls:17,vars:3,consts:[["noEvents",""],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[4,"ngIf","ngIfElse"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],["name","plus","size","14"],["class","day-event-row",3,"click",4,"ngFor","ngForOf"],[1,"day-event-row",3,"click"],[1,"left"],[1,"type-badge"],["size","18",3,"name"],[1,"info"],[1,"title"],[1,"meta"],[1,"desc"],[1,"actions"],["title","Modifier",1,"icon-btn",3,"click"],["name","pen-line","size","16"],[1,"empty-state"]],template:function(o,i){if(o&1){let a=he();g(0,"div",1),I("click",function(){return A(a),P(i.onClose())}),g(1,"div",2),I("click",function(c){return A(a),P(c.stopPropagation())}),g(2,"div",3)(3,"h3"),M(4),m(),g(5,"button",4),I("click",function(){return A(a),P(i.onClose())}),M(6,"\xD7"),m()(),g(7,"div",5),ie(8,qS,2,1,"div",6)(9,US,2,0,"ng-template",null,0,Dp),m(),g(11,"div",7)(12,"button",8),I("click",function(){return A(a),P(i.onClose())}),M(13,"Fermer"),m(),g(14,"button",9),I("click",function(){return A(a),P(i.onAdd())}),ae(15,"lucide-icon",10),M(16," Ajouter "),m()()()()}if(o&2){let a=Sp(10);C(4),pe("\xC9v\xE9nements du jour - ",i.dateStr),C(4),j("ngIf",i.events&&i.events.length)("ngIfElse",a)}},dependencies:[xe,Lt,Ke,at,gt],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:520px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:1rem;max-height:60vh;overflow:auto}.day-event-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;padding:.75rem;border-bottom:1px solid #f1f5f9;cursor:pointer;align-items:flex-start}.left[_ngcontent-%COMP%]{display:flex;gap:12px}.type-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:8px}.badge-livraison[_ngcontent-%COMP%]{background:#dcfce7;color:#15803d}.badge-mep[_ngcontent-%COMP%]{background:#f3e8ff;color:#7e22ce}.info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600}.info[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280}.info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{margin-top:6px;color:#495057;font-size:.9rem}.actions[_ngcontent-%COMP%]{display:flex;gap:8px}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:6px;border-radius:6px}.empty-state[_ngcontent-%COMP%]{padding:1rem;color:#6b7280}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem;border-top:1px solid #e9ecef}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none;padding:.5rem .75rem;border-radius:6px}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057;border:none;padding:.5rem .75rem;border-radius:6px}body.dark-mode[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .day-event-row[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .day-event-row[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .day-event-row[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .day-event-row[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top-color:#334155}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#475569}body.dark-mode[_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, body.dark-mode   [_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1)}"]});let n=e;return n})();function $S(n,e){if(n&1){let t=he();g(0,"div",6),I("click",function(){A(t);let o=D();return P(o.toggleSidebar())}),m()}}var g1=(()=>{let e=class e{constructor(){this.isOpen=!1,this.toggleEvent=new Ce,this.isMobile=window.innerWidth<1024,window.addEventListener("resize",()=>{this.isMobile=window.innerWidth<1024})}toggleSidebar(){this.toggleEvent.emit()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ue({type:e,selectors:[["app-sidebar-panel"]],inputs:{isOpen:"isOpen"},outputs:{toggleEvent:"toggleEvent"},decls:6,vars:5,consts:[[1,"sidebar-wrapper"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"sidebar-content"],[3,"readonly"],["data-tour","sidebar-toggle-tour",1,"sidebar-toggle",3,"click"],["size","20",3,"name"],[1,"sidebar-overlay",3,"click"]],template:function(o,i){o&1&&(g(0,"div",0),ie(1,$S,1,0,"div",1),g(2,"div",2),ae(3,"app-event-list",3),m(),g(4,"button",4),I("click",function(){return i.toggleSidebar()}),ae(5,"lucide-icon",5),m()()),o&2&&(Ae("open",i.isOpen),C(),j("ngIf",i.isOpen&&i.isMobile),C(2),j("readonly",!0),C(2),j("name",i.isOpen?"panel-left-close":"panel-left-open"))},dependencies:[xe,Ke,p1,at,gt],styles:[".sidebar-wrapper[_ngcontent-%COMP%]{position:relative;height:100%;display:flex}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:99}.sidebar-content[_ngcontent-%COMP%]{width:350px;height:100%;background:#fff;border-right:1px solid #e2e8f0;overflow-y:auto;z-index:100;transition:transform .3s ease;transform:translate(0)}.sidebar-wrapper[_ngcontent-%COMP%]:not(.open)   .sidebar-content[_ngcontent-%COMP%]{position:absolute;transform:translate(-100%)}.sidebar-toggle[_ngcontent-%COMP%]{position:fixed;top:1.25rem;left:1rem;width:44px;height:44px;background:#2563eb;color:#fff;border:none;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:101;box-shadow:0 4px 12px #2563eb4d;transition:all .3s}.sidebar-toggle[_ngcontent-%COMP%]:hover{background:#1d4ed8;box-shadow:0 6px 16px #2563eb66}@media (max-width: 1024px){.sidebar-wrapper[_ngcontent-%COMP%]{position:fixed;top:80px;left:0;width:100%;height:calc(100vh - 80px);z-index:50;pointer-events:none}.sidebar-content[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%], .sidebar-toggle[_ngcontent-%COMP%]{pointer-events:auto}.sidebar-content[_ngcontent-%COMP%]{position:absolute}}@media (max-width: 768px){.sidebar-content[_ngcontent-%COMP%]{width:280px}}"]});let n=e;return n})();function WS(n,e){if(n&1&&(g(0,"div",10),M(1),m()),n&2){let t=e.$implicit;C(),X(t)}}function GS(n,e){if(n&1){let t=he();g(0,"div",16),I("click",function(o){let i=A(t).$implicit,a=D().$implicit,s=D();return o.stopPropagation(),P(s.openEventModal(i,a.date))}),ae(1,"lucide-icon",17),M(2),m()}if(n&2){let t=e.$implicit;Ae("event-livraison",t.event_type==="livraison")("event-mep",t.event_type==="mep"),C(),j("name",t.event_type==="livraison"?"package":"rocket"),C(),pe(" ",t.title.substring(0,10)," ")}}function ZS(n,e){if(n&1){let t=he();g(0,"div",11),I("click",function(){let o=A(t).$implicit,i=D();return P(i.onDayClick(o))}),g(1,"div",12),M(2),m(),g(3,"div",13),ie(4,GS,3,6,"div",14),g(5,"button",15),I("click",function(o){let i=A(t).$implicit,a=D();return o.stopPropagation(),P(a.openAddEventModal(i.date))}),M(6,"+"),m()()()}if(n&2){let t=e.$implicit;Ae("other-month",!t.isCurrentMonth)("today",t.isToday),C(2),X(t.dayNumber),C(2),j("ngForOf",t.events)}}function KS(n,e){if(n&1){let t=he();g(0,"app-day-events-modal",18),I("close",function(){A(t);let o=D();return P(o.showDayEventsModal=!1)})("openEvent",function(o){A(t);let i=D();return P(i.openEventModal(o,i.selectedDayDateStr))})("add",function(o){A(t);let i=D();return P(i.onDayModalAdd(o))}),m()}if(n&2){let t=D();j("events",t.selectedDayEvents)("dateStr",t.selectedDayDateStr)}}function YS(n,e){if(n&1){let t=he();g(0,"button",35),I("click",function(){A(t);let o=D(2);return P(o.deleteEvent())}),M(1,"Supprimer"),m()}}function QS(n,e){if(n&1){let t=he();g(0,"div",19),I("click",function(){A(t);let o=D();return P(o.closeModal())}),g(1,"div",20),I("click",function(o){return A(t),P(o.stopPropagation())}),g(2,"div",21)(3,"h3"),M(4),m(),g(5,"button",22),I("click",function(){A(t);let o=D();return P(o.closeModal())}),M(6,"\xD7"),m()(),g(7,"div",23)(8,"div",24)(9,"label"),M(10,"Type"),m(),g(11,"select",25),le("ngModelChange",function(o){A(t);let i=D();return de(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),P(o)}),I("ngModelChange",function(){A(t);let o=D();return P(o.updateModalTitle())}),g(12,"option",26),M(13,"Livraison (LV)"),m(),g(14,"option",27),M(15,"Mise en Production (MEP)"),m()()(),g(16,"div",24)(17,"label"),M(18,"Version"),m(),g(19,"input",28),le("ngModelChange",function(o){A(t);let i=D();return de(i.modalEvent.version,o)||(i.modalEvent.version=o),P(o)}),I("ngModelChange",function(){A(t);let o=D();return P(o.updateModalTitle())}),m()(),g(20,"div",24)(21,"label"),M(22,"Date"),m(),g(23,"input",29),le("ngModelChange",function(o){A(t);let i=D();return de(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),P(o)}),m()(),g(24,"div",24)(25,"label"),M(26,"Description"),m(),g(27,"textarea",30),le("ngModelChange",function(o){A(t);let i=D();return de(i.modalEvent.description,o)||(i.modalEvent.description=o),P(o)}),m()()(),g(28,"div",31),ie(29,YS,2,0,"button",32),g(30,"button",33),I("click",function(){A(t);let o=D();return P(o.closeModal())}),M(31,"Annuler"),m(),g(32,"button",34),I("click",function(){A(t);let o=D();return P(o.saveEvent())}),M(33),m()()()()}if(n&2){let t=D();C(4),X(t.isEditMode?"Modifier l'\xE9v\xE9nement":"Nouvel \xE9v\xE9nement"),C(7),ce("ngModel",t.modalEvent.event_type),C(8),ce("ngModel",t.modalEvent.version),C(4),ce("ngModel",t.modalEvent.event_date),C(4),ce("ngModel",t.modalEvent.description),C(2),j("ngIf",t.isEditMode),C(4),X(t.isEditMode?"Sauvegarder":"Cr\xE9er")}}var i3=(()=>{let e=class e{constructor(r){this.eventService=r,this.currentDate=new Date,this.calendarDays=[],this.weekDays=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],this.events=[],this.sidebarOpen=!1,this.showModal=!1,this.isEditMode=!1,this.modalEvent={},this.showDayEventsModal=!1,this.selectedDayEvents=[],this.selectedDayDateStr=null}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.generateCalendar()})}generateCalendar(){let r=this.currentDate.getFullYear(),o=this.currentDate.getMonth(),i=new Date(r,o,1),a=new Date(r,o+1,0),s=i.getDay();s=s===0?6:s-1;let c=new Date(r,o,0).getDate();this.calendarDays=[];for(let d=s-1;d>=0;d--){let u=new Date(r,o-1,c-d);this.calendarDays.push({dayNumber:c-d,date:this.formatDateToString(u),isCurrentMonth:!1,isToday:!1,events:[]})}for(let d=1;d<=a.getDate();d++){let u=new Date(r,o,d),p=this.formatDateToString(u),h=this.eventService.getEventsByDate(p);this.calendarDays.push({dayNumber:d,date:p,isCurrentMonth:!0,isToday:this.isToday(u),events:h})}let l=42-this.calendarDays.length;for(let d=1;d<=l;d++){let u=new Date(r,o+1,d);this.calendarDays.push({dayNumber:d,date:this.formatDateToString(u),isCurrentMonth:!1,isToday:!1,events:[]})}}formatDateToString(r){let o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0");return`${o}-${i}-${a}`}isToday(r){let o=new Date;return r.getDate()===o.getDate()&&r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()}getMonthYear(){return this.currentDate.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}previousMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1),this.generateCalendar()}nextMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1),this.generateCalendar()}openAddEventModal(r){this.isEditMode=!1,this.modalEvent={event_type:"livraison",version:"",event_date:r??"",description:"",title:""},this.showModal=!0}openEventModal(r,o){this.showDayEventsModal=!1,this.isEditMode=!0,this.modalEvent=x({},r),this.showModal=!0}onDayClick(r){r&&r.events&&r.events.length>0?(this.selectedDayEvents=r.events,this.selectedDayDateStr=r.date,this.showDayEventsModal=!0):r&&r.date&&this.openAddEventModal(r.date)}onDayModalAdd(r){this.showDayEventsModal=!1,setTimeout(()=>this.openAddEventModal(r),0)}closeModal(){this.showModal=!1,this.modalEvent={}}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return f(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode?yield this.eventService.updateEvent(this.modalEvent.id,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}deleteEvent(){return f(this,null,function*(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&(yield this.eventService.deleteEvent(this.modalEvent.id),this.closeModal())})}};e.\u0275fac=function(o){return new(o||e)(N(co))},e.\u0275cmp=ue({type:e,selectors:[["app-calendar-view"]],decls:15,vars:6,consts:[[1,"calendar-wrapper"],[3,"toggleEvent","isOpen"],[1,"calendar-container"],[1,"calendar-header"],[1,"nav-btn",3,"click"],[1,"calendar-grid"],["class","day-header",4,"ngFor","ngForOf"],["class","calendar-day",3,"other-month","today","click",4,"ngFor","ngForOf"],[3,"events","dateStr","close","openEvent","add",4,"ngIf"],["class","modal",3,"click",4,"ngIf"],[1,"day-header"],[1,"calendar-day",3,"click"],[1,"day-number"],[1,"day-events"],["class","event-item",3,"event-livraison","event-mep","click",4,"ngFor","ngForOf"],[1,"add-event-btn",3,"click"],[1,"event-item",3,"click"],["size","12",3,"name"],[3,"close","openEvent","add","events","dateStr"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","4",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"app-sidebar-panel",1),I("toggleEvent",function(){return i.sidebarOpen=!i.sidebarOpen}),m(),g(2,"div",2)(3,"div",3)(4,"button",4),I("click",function(){return i.previousMonth()}),M(5,"\u2039"),m(),g(6,"h2"),M(7),m(),g(8,"button",4),I("click",function(){return i.nextMonth()}),M(9,"\u203A"),m()(),g(10,"div",5),ie(11,WS,2,1,"div",6)(12,ZS,7,6,"div",7),m(),ie(13,KS,1,2,"app-day-events-modal",8)(14,QS,34,7,"div",9),m()()),o&2&&(C(),j("isOpen",i.sidebarOpen),C(6),X(i.getMonthYear()),C(4),j("ngForOf",i.weekDays),C(),j("ngForOf",i.calendarDays),C(),j("ngIf",i.showDayEventsModal),C(),j("ngIf",i.showModal))},dependencies:[xe,Lt,Ke,ft,va,Ma,tt,to,pt,it,at,gt,g1,f1],styles:[".calendar-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 80px)}.calendar-container[_ngcontent-%COMP%]{flex:1;padding:2rem;overflow-y:auto}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#1a1a1a;margin:0}.nav-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:6px;width:40px;height:40px;font-size:1.5rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#2563eb}.calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;background:#dee2e6;border:1px solid #dee2e6;border-radius:8px;overflow:hidden}.day-header[_ngcontent-%COMP%]{background:#2563eb;padding:1rem;text-align:center;font-weight:600;font-size:.875rem;color:#fff}.calendar-day[_ngcontent-%COMP%]{background:#fff;min-height:120px;padding:.5rem;position:relative;transition:background-color .2s}.calendar-day[_ngcontent-%COMP%]:hover{background:#f8f9fa}.calendar-day.other-month[_ngcontent-%COMP%]{background:#f8f9fa;opacity:.5}.calendar-day.today[_ngcontent-%COMP%]{background:#eff6ff}.day-number[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:#1a1a1a;margin-bottom:.5rem}.day-events[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.event-item[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:500;cursor:pointer;transition:all .2s;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.event-item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.event-item.event-mep[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.add-event-btn[_ngcontent-%COMP%]{background:transparent;border:1px dashed #dee2e6;border-radius:4px;padding:.25rem;font-size:1rem;color:#6b7280;cursor:pointer;margin-top:.25rem;transition:all .2s}.add-event-btn[_ngcontent-%COMP%]:hover{border-color:#2563eb;color:#2563eb;background:#eff6ff}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:32px;height:32px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#495057;margin-bottom:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;font-family:inherit;box-sizing:border-box}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.5rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}body.dark-mode[_nghost-%COMP%]   .calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover{background:#334155;border-color:#60a5fa;color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .calendar-grid[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{background:#334155;border-color:#334155}body.dark-mode[_nghost-%COMP%]   .day-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .day-header[_ngcontent-%COMP%]{background:#1e40af;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%]{background:#1e293b}body.dark-mode[_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .calendar-day.other-month[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-day.other-month[_ngcontent-%COMP%]{background:#0f172a;opacity:.7}body.dark-mode[_nghost-%COMP%]   .calendar-day.today[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-day.today[_ngcontent-%COMP%]{background:#1e3a8a}body.dark-mode[_nghost-%COMP%]   .day-number[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .day-number[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .event-item[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-item[_ngcontent-%COMP%]{background:#1e3a8a;color:#93c5fd}body.dark-mode[_nghost-%COMP%]   .event-item.event-mep[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-item.event-mep[_ngcontent-%COMP%]{background:#14532d;color:#86efac}body.dark-mode[_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%]{border-color:#475569;color:#64748b}body.dark-mode[_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%]:hover{border-color:#60a5fa;color:#60a5fa;background:#1e3a8a}body.dark-mode[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   label[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, body.dark-mode   [_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1)}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top-color:#334155}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#475569}"]});let n=e;return n})();function XS(n,e){if(n&1){let t=he();g(0,"div",21),I("click",function(o){let i=A(t).$implicit,a=D(3);return o.stopPropagation(),P(a.openEventModal(i))}),ae(1,"lucide-icon",22),M(2),m()}if(n&2){let t=e.$implicit;Ae("event-livraison",t.event_type==="livraison")("event-mep",t.event_type==="mep"),C(),j("name",t.event_type==="livraison"?"package":"rocket"),C(),pe(" ",t.title.substring(0,14)," ")}}function JS(n,e){if(n&1){let t=he();g(0,"div",17),I("click",function(){let o=A(t).$implicit,i=D(2);return P(i.onRowClick(o))}),g(1,"div",13),M(2),m(),g(3,"div",14),M(4),m(),g(5,"div",15)(6,"div",18),ie(7,XS,3,6,"div",19),g(8,"button",20),I("click",function(o){let i=A(t).$implicit,a=D(2);return o.stopPropagation(),P(a.openAddEventModal(i.dateStr))}),M(9," + "),m()()()()}if(n&2){let t=e.$implicit;Ae("has-events",t.events.length>0)("today",t.isToday),C(2),X(t.dayNumber),C(2),X(t.dayName),C(3),j("ngForOf",t.events)}}function e9(n,e){if(n&1&&(g(0,"div",9)(1,"h3",10),M(2),m(),g(3,"div",11)(4,"div",12)(5,"div",13),M(6,"Date"),m(),g(7,"div",14),M(8,"Jour"),m(),g(9,"div",15),M(10,"\xC9v\xE9nements"),m()(),ie(11,JS,10,7,"div",16),m()()),n&2){let t=e.$implicit;C(2),X(t.title),C(9),j("ngForOf",t.days)}}function t9(n,e){if(n&1){let t=he();g(0,"app-day-events-modal",23),I("close",function(){A(t);let o=D();return P(o.showDayEventsModal=!1)})("openEvent",function(o){A(t);let i=D();return P(i.openEventModal(o))})("add",function(o){A(t);let i=D();return P(i.onDayModalAdd(o))}),m()}if(n&2){let t=D();j("events",t.selectedDayEvents)("dateStr",t.selectedDayDateStr)}}function n9(n,e){if(n&1){let t=he();g(0,"button",40),I("click",function(){A(t);let o=D(2);return P(o.deleteEvent())}),M(1,"Supprimer"),m()}}function r9(n,e){if(n&1){let t=he();g(0,"div",24),I("click",function(){A(t);let o=D();return P(o.closeModal())}),g(1,"div",25),I("click",function(o){return A(t),P(o.stopPropagation())}),g(2,"div",26)(3,"h3"),M(4),m(),g(5,"button",27),I("click",function(){A(t);let o=D();return P(o.closeModal())}),M(6,"\xD7"),m()(),g(7,"div",28)(8,"div",29)(9,"label"),M(10,"Type"),m(),g(11,"select",30),le("ngModelChange",function(o){A(t);let i=D();return de(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),P(o)}),I("ngModelChange",function(){A(t);let o=D();return P(o.updateModalTitle())}),g(12,"option",31),M(13,"Livraison (LV)"),m(),g(14,"option",32),M(15,"Mise en Production (MEP)"),m()()(),g(16,"div",29)(17,"label"),M(18,"Version"),m(),g(19,"input",33),le("ngModelChange",function(o){A(t);let i=D();return de(i.modalEvent.version,o)||(i.modalEvent.version=o),P(o)}),I("ngModelChange",function(){A(t);let o=D();return P(o.updateModalTitle())}),m()(),g(20,"div",29)(21,"label"),M(22,"Date"),m(),g(23,"input",34),le("ngModelChange",function(o){A(t);let i=D();return de(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),P(o)}),m()(),g(24,"div",29)(25,"label"),M(26,"Description"),m(),g(27,"textarea",35),le("ngModelChange",function(o){A(t);let i=D();return de(i.modalEvent.description,o)||(i.modalEvent.description=o),P(o)}),m()()(),g(28,"div",36),ie(29,n9,2,0,"button",37),g(30,"button",38),I("click",function(){A(t);let o=D();return P(o.closeModal())}),M(31,"Annuler"),m(),g(32,"button",39),I("click",function(){A(t);let o=D();return P(o.saveEvent())}),M(33),m()()()()}if(n&2){let t=D();C(4),X(t.isEditMode?"Modifier l'\xE9v\xE9nement":"Nouvel \xE9v\xE9nement"),C(7),ce("ngModel",t.modalEvent.event_type),C(8),ce("ngModel",t.modalEvent.version),C(4),ce("ngModel",t.modalEvent.event_date),C(4),ce("ngModel",t.modalEvent.description),C(2),j("ngIf",t.isEditMode),C(4),X(t.isEditMode?"Sauvegarder":"Cr\xE9er")}}var a3=(()=>{let e=class e{constructor(r){this.eventService=r,this.startDate=new Date,this.monthsData=[],this.events=[],this.sidebarOpen=!1,this.showModal=!1,this.isEditMode=!1,this.modalEvent={},this.dayNames=["D","L","M","M","J","V","S"],this.showDayEventsModal=!1,this.selectedDayEvents=[],this.selectedDayDateStr=null,this.startDate.setDate(1)}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.generateCompactView()})}generateCompactView(){this.monthsData=[];let r=4;for(let o=0;o<r;o++){let i=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+o,1),a=i.toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),s=new Date(i.getFullYear(),i.getMonth()+1,0).getDate(),c=[];for(let l=1;l<=s;l++){let d=new Date(i.getFullYear(),i.getMonth(),l),u=this.formatDateToString(d),p=this.eventService.getEventsByDate(u);c.push({dayNumber:String(l).padStart(2,"0"),dayName:this.getDayName(d),dateStr:u,isToday:this.isToday(d),events:p})}this.monthsData.push({title:a,days:c})}}formatDateToString(r){let o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0");return`${o}-${i}-${a}`}getDayName(r){let o=r.getDay();return this.dayNames[o]}isToday(r){let o=new Date;return r.getDate()===o.getDate()&&r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()}getPeriodTitle(){let r=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+2,0);return`${this.startDate.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})} - ${r.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}`}previousPeriod(){this.startDate=new Date(this.startDate.getFullYear(),this.startDate.getMonth()-3,1),this.generateCompactView()}nextPeriod(){this.startDate=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+3,1),this.generateCompactView()}openAddEventModal(r){this.isEditMode=!1,this.modalEvent={event_type:"livraison",version:"",event_date:r,description:"",title:""},this.showModal=!0}openEventModal(r){this.showDayEventsModal=!1,this.isEditMode=!0,this.modalEvent=x({},r),this.showModal=!0}onRowClick(r){r&&r.events&&r.events.length>0?(this.selectedDayEvents=r.events,this.selectedDayDateStr=r.dateStr,this.showDayEventsModal=!0):r&&r.dateStr&&this.openAddEventModal(r.dateStr)}onDayModalAdd(r){this.showDayEventsModal=!1,setTimeout(()=>this.openAddEventModal(r??""),0)}closeModal(){this.showModal=!1,this.modalEvent={}}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return f(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode?yield this.eventService.updateEvent(this.modalEvent.id,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}deleteEvent(){return f(this,null,function*(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&(yield this.eventService.deleteEvent(this.modalEvent.id),this.closeModal())})}};e.\u0275fac=function(o){return new(o||e)(N(co))},e.\u0275cmp=ue({type:e,selectors:[["app-compact-view"]],decls:14,vars:5,consts:[[1,"compact-wrapper"],[3,"toggleEvent","isOpen"],[1,"compact-container"],[1,"compact-header"],[1,"nav-btn",3,"click"],[1,"months-grid"],["class","month-column",4,"ngFor","ngForOf"],[3,"events","dateStr","close","openEvent","add",4,"ngIf"],["class","modal",3,"click",4,"ngIf"],[1,"month-column"],[1,"month-title"],[1,"compact-table"],[1,"table-header"],[1,"col-date"],[1,"col-day"],[1,"col-events"],["class","table-row",3,"has-events","today","click",4,"ngFor","ngForOf"],[1,"table-row",3,"click"],[1,"events-list"],["class","compact-event",3,"event-livraison","event-mep","click",4,"ngFor","ngForOf"],[1,"add-compact-btn",3,"click"],[1,"compact-event",3,"click"],["size","11",3,"name"],[3,"close","openEvent","add","events","dateStr"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","4",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"app-sidebar-panel",1),I("toggleEvent",function(){return i.sidebarOpen=!i.sidebarOpen}),m(),g(2,"div",2)(3,"div",3)(4,"button",4),I("click",function(){return i.previousPeriod()}),M(5,"\u2039"),m(),g(6,"h2"),M(7),m(),g(8,"button",4),I("click",function(){return i.nextPeriod()}),M(9,"\u203A"),m()(),g(10,"div",5),ie(11,e9,12,2,"div",6),m()(),ie(12,t9,1,2,"app-day-events-modal",7)(13,r9,34,7,"div",8),m()),o&2&&(C(),j("isOpen",i.sidebarOpen),C(6),X(i.getPeriodTitle()),C(4),j("ngForOf",i.monthsData),C(),j("ngIf",i.showDayEventsModal),C(),j("ngIf",i.showModal))},dependencies:[xe,Lt,Ke,ft,va,Ma,tt,to,pt,it,at,gt,g1,f1],styles:[".compact-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 80px)}.compact-container[_ngcontent-%COMP%]{flex:1;padding:2rem;overflow-y:auto}.compact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#1a1a1a;margin:0}.nav-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:6px;width:40px;height:40px;font-size:1.5rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#2563eb}.months-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1.5rem}.month-column[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 1px 3px #0000001a}.month-title[_ngcontent-%COMP%]{background:#2563eb;margin:0;padding:1rem;font-size:1.125rem;font-weight:600;color:#fff;text-align:center;border-bottom:2px solid #dee2e6}.compact-table[_ngcontent-%COMP%]{font-size:.8rem}.table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:50px 50px 1fr;background:#f8f9fa;font-weight:600;color:#495057;border-bottom:1px solid #dee2e6;position:sticky;top:0;z-index:10}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:.75rem .5rem;border-right:1px solid #e9ecef}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-right:none}.table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:50px 50px 1fr;border-bottom:1px solid #e9ecef;transition:background-color .2s;min-height:36px}.table-row[_ngcontent-%COMP%]:hover{background:#f8f9fa}.table-row.today[_ngcontent-%COMP%]{background:#eff6ff}.table-row.has-events[_ngcontent-%COMP%]{background:#fefce8}.table-row.has-events[_ngcontent-%COMP%]:hover{background:#fef9c3}.col-date[_ngcontent-%COMP%], .col-day[_ngcontent-%COMP%]{padding:.5rem;border-right:1px solid #e9ecef;display:flex;align-items:center;justify-content:center;font-weight:500}.col-events[_ngcontent-%COMP%]{padding:.5rem;display:flex;align-items:center}.events-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem;width:100%}.compact-event[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;padding:.125rem .375rem;border-radius:3px;font-size:.7rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.compact-event[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.compact-event.event-mep[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.add-compact-btn[_ngcontent-%COMP%]{background:transparent;border:1px dashed #dee2e6;border-radius:3px;padding:.125rem .375rem;font-size:.7rem;color:#6b7280;cursor:pointer;transition:all .2s}.add-compact-btn[_ngcontent-%COMP%]:hover{border-color:#2563eb;color:#2563eb;background:#eff6ff}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:32px;height:32px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#495057;margin-bottom:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;font-family:inherit;box-sizing:border-box}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.5rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}body.dark-mode[_nghost-%COMP%]   .compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover{background:#334155;border-color:#60a5fa;color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .month-column[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .month-column[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 1px 3px #0000004d}body.dark-mode[_nghost-%COMP%]   .month-title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .month-title[_ngcontent-%COMP%]{background:#1e40af;border-bottom-color:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .table-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-header[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1;border-bottom-color:#475569}body.dark-mode[_nghost-%COMP%]   .table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-right-color:#475569}body.dark-mode[_nghost-%COMP%]   .table-row[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]{border-bottom-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .table-row.today[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row.today[_ngcontent-%COMP%]{background:#1e3a8a}body.dark-mode[_nghost-%COMP%]   .table-row.has-events[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row.has-events[_ngcontent-%COMP%]{background:#3f3f46}body.dark-mode[_nghost-%COMP%]   .table-row.has-events[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .table-row.has-events[_ngcontent-%COMP%]:hover{background:#52525b}body.dark-mode[_nghost-%COMP%]   .col-date[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .col-date[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .col-day[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .col-day[_ngcontent-%COMP%]{border-right-color:#334155}body.dark-mode[_nghost-%COMP%]   .compact-event[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .compact-event[_ngcontent-%COMP%]{background:#1e3a8a;color:#93c5fd}body.dark-mode[_nghost-%COMP%]   .compact-event.event-mep[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .compact-event.event-mep[_ngcontent-%COMP%]{background:#14532d;color:#86efac}body.dark-mode[_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%]{border-color:#475569;color:#64748b}body.dark-mode[_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%]:hover{border-color:#60a5fa;color:#60a5fa;background:#1e3a8a}body.dark-mode[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   label[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, body.dark-mode   [_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1)}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top-color:#334155}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#475569}@media (max-width: 1200px){.months-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let n=e;return n})();function o9(n,e){if(n&1&&(g(0,"div",16)(1,"div",17)(2,"span",18),ae(3,"lucide-icon",19),m(),g(4,"span",20),M(5),m(),g(6,"span",21),M(7),m()(),g(8,"div",22)(9,"p"),M(10),m()()()),n&2){let t=e.$implicit;Ae("is-livraison",t.event_type==="livraison")("is-mep",t.event_type==="mep"),C(3),j("name",t.event_type==="livraison"?"package":"rocket"),C(2),X(t.title),C(2),X(t.version),C(3),X(t.description)}}function i9(n,e){if(n&1&&(g(0,"div",10)(1,"div",11)(2,"div",12),M(3),m(),g(4,"div",13),ie(5,o9,11,8,"div",14),m()(),ae(6,"div",15),m()),n&2){let t=e.$implicit,r=e.index,o=D();Ae("left",!o.isHorizontal&&r%2===0)("right",!o.isHorizontal&&r%2!==0),C(3),X(o.formatDate(t.date)),C(2),j("ngForOf",t.events)}}function a9(n,e){n&1&&(g(0,"div",23)(1,"p"),M(2,"Aucun \xE9v\xE9nement \xE0 afficher"),m()())}var s3=(()=>{let e=class e{constructor(r){this.eventService=r,this.events=[],this.groupedEvents=[],this.isHorizontal=!1}toggleMode(){this.isHorizontal=!this.isHorizontal}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=[...r].sort((o,i)=>new Date(o.event_date).getTime()-new Date(i.event_date).getTime()),this.groupEvents()})}groupEvents(){this.groupedEvents=[];for(let r of this.events){let o=new Date(r.event_date).toDateString(),i=this.groupedEvents[this.groupedEvents.length-1];i&&new Date(i.date).toDateString()===o?i.events.push(r):this.groupedEvents.push({date:r.event_date,events:[r]})}}formatDate(r){return new Date(r).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}};e.\u0275fac=function(o){return new(o||e)(N(co))},e.\u0275cmp=ue({type:e,selectors:[["app-timeline-view"]],decls:14,vars:7,consts:[[1,"timeline-container"],[1,"header"],["name","git-commit","size","22"],[1,"toggle-btn",3,"click","title"],["size","20",3,"name"],[1,"timeline-wrapper"],[1,"timeline"],[1,"timeline-line"],["class","timeline-item",3,"left","right",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"timeline-item"],[1,"content"],[1,"date-badge"],[1,"events-group"],["class","card",3,"is-livraison","is-mep",4,"ngFor","ngForOf"],[1,"dot"],[1,"card"],[1,"card-header"],[1,"type-icon"],["size","18",3,"name"],[1,"title"],[1,"version"],[1,"card-body"],[1,"empty-state"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"div",1)(2,"h2"),ae(3,"lucide-icon",2),M(4," Timeline"),m(),g(5,"button",3),I("click",function(){return i.toggleMode()}),ae(6,"lucide-icon",4),g(7,"span"),M(8),m()()(),g(9,"div",5)(10,"div",6),ae(11,"div",7),ie(12,i9,7,6,"div",8)(13,a9,3,0,"div",9),m()()()),o&2&&(C(5),j("title",i.isHorizontal?"Passer en vue verticale":"Passer en vue horizontale"),C(),j("name",i.isHorizontal?"align-justify":"columns"),C(2),X(i.isHorizontal?"Vue Verticale":"Vue Horizontale"),C(),Ae("horizontal",i.isHorizontal),C(3),j("ngForOf",i.groupedEvents),C(),j("ngIf",i.events.length===0))},dependencies:[xe,Lt,Ke,at,gt],styles:['.timeline-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden;background:#f8fafc}.timeline-container[_ngcontent-%COMP%]:has(.timeline-wrapper.horizontal){overflow-y:auto}.header[_ngcontent-%COMP%]{padding:2rem;margin-bottom:0;display:flex;justify-content:space-between;align-items:center;flex-shrink:0}.toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#fff;border:1px solid #e2e8f0;border-radius:8px;cursor:pointer;font-weight:500;color:#64748b;transition:all .2s;box-shadow:0 1px 2px #0000000d}.toggle-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#334155}.timeline-wrapper[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;padding:2rem;position:relative}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar{height:12px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:6px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#cbd5e1;border-radius:6px;border:3px solid #f1f5f9}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#94a3b8}.timeline-wrapper.horizontal[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;display:flex;align-items:center;padding:2rem;height:auto;min-height:100%}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;align-items:center;height:auto;min-height:600px;min-width:100%;max-width:none;padding:4rem;margin:0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-line[_ngcontent-%COMP%]{width:100%;height:4px;top:40px;left:0;transform:none;background:linear-gradient(to right,#e2e8f0,#cbd5e1,#e2e8f0)}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:320px;flex-shrink:0;margin:0 1.5rem;height:auto;min-height:200px;position:relative;display:flex;left:auto;right:auto;padding:80px 0 0;text-align:left;overflow:visible;flex-direction:column;justify-content:flex-start;align-self:stretch}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;max-height:none;overflow-y:visible;padding-right:0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#cbd5e1;border-radius:4px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{left:auto;right:auto;text-align:left;padding-left:0;padding-right:0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{position:absolute;inset:30px auto auto 50%;transform:translate(-50%);margin:0;flex-shrink:0;z-index:20}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:50%;transform:translate(-50%);width:2px;background:#e2e8f0;z-index:1;top:40px;height:40px;bottom:auto}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:row}h2[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;font-size:1.8rem;color:#1e293b;margin:0;background:#fff;padding:.5rem 1.5rem;border-radius:50px;box-shadow:0 4px 6px -1px #0000001a}.timeline[_ngcontent-%COMP%]{position:relative;max-width:1000px;margin:0 auto;padding:2rem 0}.timeline-line[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);width:4px;height:100%;background:linear-gradient(to bottom,#e2e8f0,#cbd5e1,#e2e8f0);border-radius:2px}.timeline-item[_ngcontent-%COMP%]{position:relative;margin-bottom:3rem;width:50%}.timeline-item.left[_ngcontent-%COMP%]{left:0;padding-right:3rem;text-align:right}.timeline-item.right[_ngcontent-%COMP%]{left:50%;padding-left:3rem;text-align:left}.timeline-item[_ngcontent-%COMP%]:after{content:"";position:absolute;top:30px;height:2px;width:3rem;background:#e2e8f0;z-index:1}.timeline-item.left[_ngcontent-%COMP%]:after{right:0}.timeline-item.right[_ngcontent-%COMP%]:after{left:0}.dot[_ngcontent-%COMP%]{position:absolute;top:20px;width:20px;height:20px;background:#fff;border:4px solid #3b82f6;border-radius:50%;z-index:10;box-shadow:0 0 0 4px #3b82f633;transition:all .3s ease}.timeline-item.left[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{right:-10px}.timeline-item.right[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{left:-10px}.timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%]{transform:scale(1.2);background:#3b82f6;box-shadow:0 0 0 6px #3b82f64d}.content[_ngcontent-%COMP%]{position:relative;transition:transform .3s ease}.timeline-item[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]{transform:translateY(-5px)}.date-badge[_ngcontent-%COMP%]{display:inline-block;background:#475569;color:#fff;padding:.25rem .75rem;border-radius:20px;font-size:.85rem;font-weight:600;margin-bottom:.5rem;box-shadow:0 2px 4px #0000001a}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border-left:5px solid transparent;position:relative;overflow:hidden}.card[_ngcontent-%COMP%] + .card[_ngcontent-%COMP%]{margin-top:1rem}.card.is-livraison[_ngcontent-%COMP%]{border-left-color:#10b981}.card.is-mep[_ngcontent-%COMP%]{border-left-color:#8b5cf6}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem;border-bottom:1px solid #f1f5f9;padding-bottom:.75rem}.timeline-item.left[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:row-reverse}.type-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:8px}.is-livraison[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.is-mep[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{background:#ede9fe;color:#7c3aed}.title[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:#1e293b}.version[_ngcontent-%COMP%]{background:#f1f5f9;padding:.1rem .5rem;border-radius:4px;font-size:.8rem;font-family:monospace;color:#64748b}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b;line-height:1.5;font-size:.95rem}.empty-state[_ngcontent-%COMP%]{text-align:center;color:#94a3b8;padding:2rem}@media (max-width: 768px){.timeline-line[_ngcontent-%COMP%]{left:30px}.timeline-item[_ngcontent-%COMP%]{width:100%;padding-left:70px;padding-right:0;text-align:left}.timeline-item.left[_ngcontent-%COMP%], .timeline-item.right[_ngcontent-%COMP%]{left:0;text-align:left;padding-right:0;padding-left:70px}.timeline-item.left[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%], .timeline-item.right[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{left:20px;right:auto}.timeline-item.left[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:row}.timeline-item[_ngcontent-%COMP%]:after{width:40px;left:30px;right:auto}}body.dark-mode[_nghost-%COMP%]   .timeline-container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-container[_ngcontent-%COMP%]{background:#0f172a}body.dark-mode[_nghost-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .timeline-line[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-line[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#334155,#475569,#334155)}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-line[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-line[_ngcontent-%COMP%]{background:linear-gradient(to right,#334155,#475569,#334155)}body.dark-mode[_nghost-%COMP%]   .date-badge[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .date-badge[_ngcontent-%COMP%]{background:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .card[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 4px 6px -1px #0000004d,0 2px 4px -1px #0000001a}body.dark-mode[_nghost-%COMP%]   .title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .version[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .version[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:after, body.dark-mode   [_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:after{background:#334155}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before{background:#334155}body.dark-mode[_nghost-%COMP%]   .dot[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .dot[_ngcontent-%COMP%]{background:#1e293b;border-color:#60a5fa;box-shadow:0 0 0 4px #60a5fa33}body.dark-mode[_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%]{background:#60a5fa;box-shadow:0 0 0 6px #60a5fa4d}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e293b}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#475569;border-color:#1e293b}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#64748b}']});let n=e;return n})();var c3=(()=>{let e=class e{constructor(){this.email=Je(""),this.password=Je(""),this.supabaseService=b(Pt),this.router=b(Pe)}signInWithEmail(){return f(this,null,function*(){let{error:r}=yield this.supabaseService.signInWithEmail({email:this.email(),password:this.password()});r?alert("Error signing in: "+r.message):this.router.navigate(["/compact"])})}navigateToSignup(){this.router.navigate(["/signup"])}navigateToForgot(){this.router.navigate(["/forgot-password"])}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ue({type:e,selectors:[["app-login"]],decls:16,vars:2,consts:[[1,"container"],[3,"ngSubmit"],["type","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Password","required","",3,"ngModelChange","ngModel"],["type","submit"],[3,"click"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"h2"),M(2,"Login"),m(),g(3,"form",1),I("ngSubmit",function(){return i.signInWithEmail()}),g(4,"input",2),le("ngModelChange",function(s){return de(i.email,s)||(i.email=s),s}),m(),g(5,"input",3),le("ngModelChange",function(s){return de(i.password,s)||(i.password=s),s}),m(),g(6,"button",4),M(7,"Sign In"),m()(),g(8,"p"),M(9,"Don't have an account? "),g(10,"a",5),I("click",function(){return i.navigateToSignup()}),M(11,"Sign Up"),m()(),g(12,"p"),M(13,"Forgot your password ? "),g(14,"a",5),I("click",function(){return i.navigateToForgot()}),M(15,"Send me a link"),m()()()),o&2&&(C(4),ce("ngModel",i.email),C(),ce("ngModel",i.password))},dependencies:[ft,eo,tt,pt,Jr,fr,it,pr],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}"]});let n=e;return n})();function s9(n,e){if(n&1&&(g(0,"div",9),M(1),m()),n&2){let t=D();C(),pe(" ",t.error," ")}}function c9(n,e){if(n&1&&(g(0,"div",10),M(1),m()),n&2){let t=D();C(),pe(" ",t.message," ")}}var l3=(()=>{let e=class e{constructor(){this.name="",this.email="",this.password="",this.confirmPassword="",this.message="",this.error="",this.supabaseService=b(Pt),this.router=b(Pe)}signUp(){return f(this,null,function*(){if(this.error="",this.message="",this.password.length<6){this.error="Le mot de passe doit contenir au moins 6 caract\xE8res.";return}if(this.password!==this.confirmPassword){this.error="Les mots de passe ne correspondent pas.";return}let{error:r}=yield this.supabaseService.signUpWithEmail({name:this.name,email:this.email,password:this.password});r?alert("Error signing up: "+r.message):(alert("Check your email to confirm your account!"),this.router.navigate(["/login"]))})}navigateToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ue({type:e,selectors:[["app-signup"]],decls:16,vars:6,consts:[[1,"container"],["type","text","name","name","placeholder","Full Name","required","",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","minlength","6","placeholder","Mot de passe (Minimum 6 caract\xE8res)","required","",3,"ngModelChange","ngModel"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirmez votre mot de passe","minlength","6","required","",3,"ngModelChange","ngModel"],["type","button",3,"click"],["class","message error",4,"ngIf"],["class","message success",4,"ngIf"],[3,"click"],[1,"message","error"],[1,"message","success"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"h2"),M(2,"Sign Up"),m(),g(3,"form")(4,"input",1),le("ngModelChange",function(s){return de(i.name,s)||(i.name=s),s}),m(),g(5,"input",2),le("ngModelChange",function(s){return de(i.email,s)||(i.email=s),s}),m(),g(6,"input",3),le("ngModelChange",function(s){return de(i.password,s)||(i.password=s),s}),m(),g(7,"input",4),le("ngModelChange",function(s){return de(i.confirmPassword,s)||(i.confirmPassword=s),s}),m(),g(8,"button",5),I("click",function(){return i.signUp()}),M(9,"Sign Up"),m()(),ie(10,s9,2,1,"div",6)(11,c9,2,1,"div",7),g(12,"p"),M(13,"Already have an account? "),g(14,"a",8),I("click",function(){return i.navigateToLogin()}),M(15,"Log In"),m()()()),o&2&&(C(4),ce("ngModel",i.name),C(),ce("ngModel",i.email),C(),ce("ngModel",i.password),C(),ce("ngModel",i.confirmPassword),C(3),j("ngIf",i.error),C(),j("ngIf",i.message))},dependencies:[ft,eo,tt,pt,Jr,fr,lc,it,pr,xe,Ke],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.container[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.container[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:hover{background-color:#2980b9}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}.message[_ngcontent-%COMP%]{margin-top:20px;padding:12px;border-radius:5px;text-align:center;font-size:14px}.message.error[_ngcontent-%COMP%]{background-color:#fee;color:#c33;border:1px solid #fcc}.message.success[_ngcontent-%COMP%]{background-color:#efe;color:#3c3;border:1px solid #cfc}"]});let n=e;return n})();var d3=(n,e)=>f(null,null,function*(){if(!hi.enableAuth)return!0;let t=b(Pt),r=b(Pe),{data:o}=yield t.getUser();return o.user?!0:(r.navigate(["/login"],{queryParams:{returnUrl:e.url}}),!1)});var y1=(()=>{let e=class e{getDarkMode(){return this.darkMode}getThemePreference(){return this.themePreference}constructor(){this.themePreference=Je("system"),this.systemDarkMode=Je(!1),this.darkMode=Ur(()=>{let i=this.themePreference();return i==="system"?this.systemDarkMode():i==="dark"});let r=window.matchMedia("(prefers-color-scheme: dark)");console.log("mediaQuery ="+r),this.systemDarkMode.set(r.matches),r.addEventListener("change",i=>{this.systemDarkMode.set(i.matches)});let o=localStorage.getItem("theme");o&&["light","dark","system"].includes(o)&&this.themePreference.set(o),Ap(()=>{this.darkMode()?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),localStorage.setItem("theme",this.themePreference())})}setTheme(r){this.themePreference.set(r)}toggleTheme(){let r=this.themePreference();r==="system"?this.themePreference.set(this.systemDarkMode()?"light":"dark"):this.themePreference.set(r==="dark"?"light":"dark")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function l9(n){return n instanceof Element}function ja(n){return n instanceof HTMLElement}function lo(n){return typeof n=="function"}function Rc(n){return typeof n=="string"}function kt(n){return n===void 0}var Nc=class{on(e,t,r,o=!1){var i;return kt(this.bindings)&&(this.bindings={}),kt(this.bindings[e])&&(this.bindings[e]=[]),(i=this.bindings[e])==null||i.push({handler:t,ctx:r,once:o}),this}once(e,t,r){return this.on(e,t,r,!0)}off(e,t){if(kt(this.bindings)||kt(this.bindings[e]))return this;if(kt(t))delete this.bindings[e];else{var r;(r=this.bindings[e])==null||r.forEach((o,i)=>{if(o.handler===t){var a;(a=this.bindings[e])==null||a.splice(i,1)}})}return this}trigger(e,...t){if(!kt(this.bindings)&&this.bindings[e]){var r;(r=this.bindings[e])==null||r.forEach((o,i)=>{let{ctx:a,handler:s,once:c}=o,l=a||this;if(s.apply(l,t),c){var d;(d=this.bindings[e])==null||d.splice(i,1)}})}return this}};function Tt(){return Tt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Tt.apply(null,arguments)}function Uf(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}var ho={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};ho.defaultMerge;function d9(n,e){return e}function u9(n,e){return n.filter(t=>t!==void 0)}function u3(n){return typeof n!="object"||n===null?0:Array.isArray(n)?2:f9(n)?1:n instanceof Set?3:n instanceof Map?4:5}function h9(n){let e=new Set;for(let t of n)for(let r of[...Object.keys(t),...Object.getOwnPropertySymbols(t)])e.add(r);return e}function p9(n,e){return typeof n=="object"&&Object.prototype.propertyIsEnumerable.call(n,e)}function O3(n){return{*[Symbol.iterator](){for(let e of n)for(let t of e)yield t}}}var h3=new Set(["[object Object]","[object Module]"]);function f9(n){if(!h3.has(Object.prototype.toString.call(n)))return!1;let{constructor:e}=n;if(e===void 0)return!0;let t=e.prototype;return!(t===null||typeof t!="object"||!h3.has(Object.prototype.toString.call(t))||!t.hasOwnProperty("isPrototypeOf"))}function g9(n,e,t){let r={};for(let o of h9(n)){let i=[];for(let c of n)p9(c,o)&&i.push(c[o]);if(i.length===0)continue;let a=e.metaDataUpdater(t,{key:o,parents:n}),s=R3(i,e,a);s!==ho.skip&&(o==="__proto__"?Object.defineProperty(r,o,{value:s,configurable:!0,enumerable:!0,writable:!0}):r[o]=s)}return r}function y9(n){return n.flat()}function m9(n){return new Set(O3(n))}function k9(n){return new Map(O3(n))}function v9(n){return n.at(-1)}var m1={mergeRecords:g9,mergeArrays:y9,mergeSets:m9,mergeMaps:k9,mergeOthers:v9};function $f(...n){return M9({})(...n)}function M9(n,e){let t=w9(n,r);function r(...o){return R3(o,t,e)}return r}function w9(n,e){var t,r,o;return{defaultMergeFunctions:m1,mergeFunctions:Tt({},m1,Object.fromEntries(Object.entries(n).filter(([i,a])=>Object.hasOwn(m1,i)).map(([i,a])=>a===!1?[i,m1.mergeOthers]:[i,a]))),metaDataUpdater:(t=n.metaDataUpdater)!=null?t:d9,deepmerge:e,useImplicitDefaultMerging:(r=n.enableImplicitDefaultMerging)!=null?r:!1,filterValues:n.filterValues===!1?void 0:(o=n.filterValues)!=null?o:u9,actions:ho}}function R3(n,e,t){var r;let o=(r=e.filterValues==null?void 0:e.filterValues(n,t))!=null?r:n;if(o.length===0)return;if(o.length===1)return _f(o,e,t);let i=u3(o[0]);if(i!==0&&i!==5){for(let a=1;a<o.length;a++)if(u3(o[a])!==i)return _f(o,e,t)}switch(i){case 1:return C9(o,e,t);case 2:return b9(o,e,t);case 3:return _9(o,e,t);case 4:return x9(o,e,t);default:return _f(o,e,t)}}function C9(n,e,t){let r=e.mergeFunctions.mergeRecords(n,e,t);return r===ho.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeRecords!==e.defaultMergeFunctions.mergeRecords?e.defaultMergeFunctions.mergeRecords(n,e,t):r}function b9(n,e,t){let r=e.mergeFunctions.mergeArrays(n,e,t);return r===ho.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeArrays!==e.defaultMergeFunctions.mergeArrays?e.defaultMergeFunctions.mergeArrays(n):r}function _9(n,e,t){let r=e.mergeFunctions.mergeSets(n,e,t);return r===ho.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeSets!==e.defaultMergeFunctions.mergeSets?e.defaultMergeFunctions.mergeSets(n):r}function x9(n,e,t){let r=e.mergeFunctions.mergeMaps(n,e,t);return r===ho.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeMaps!==e.defaultMergeFunctions.mergeMaps?e.defaultMergeFunctions.mergeMaps(n):r}function _f(n,e,t){let r=e.mergeFunctions.mergeOthers(n,e,t);return r===ho.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeOthers!==e.defaultMergeFunctions.mergeOthers?e.defaultMergeFunctions.mergeOthers(n):r}function Wf(n){let e=Object.getOwnPropertyNames(n.constructor.prototype);for(let t=0;t<e.length;t++){let r=e[t],o=n[r];r!=="constructor"&&typeof o=="function"&&(n[r]=o.bind(n))}return n}function I9(n,e){return t=>{if(n.isOpen()){let r=n.el&&t.currentTarget===n.el;(!kt(e)&&t.currentTarget.matches(e)||r)&&n.tour.next()}}}function S9(n){let{event:e,selector:t}=n.options.advanceOn||{};if(e){let r=I9(n,t),o=null;if(!kt(t)&&(o=document.querySelector(t),!o))return console.error(`No element was found for the selector supplied to advanceOn: ${t}`);o?(o.addEventListener(e,r),n.on("destroy",()=>o.removeEventListener(e,r))):(document.body.addEventListener(e,r,!0),n.on("destroy",()=>document.body.removeEventListener(e,r,!0)))}else return console.error("advanceOn was defined, but no event name was passed.")}var Sf=class{constructor(e){}},Df=class{constructor(e,t){}};function N3(n){return!Rc(n)||n===""?"":n.charAt(n.length-1)!=="-"?`${n}-`:n}function D9(n){let e=n.options.attachTo||{},t=Object.assign({},e);if(lo(t.element)&&(t.element=t.element.call(n)),Rc(t.element)){try{t.element=document.querySelector(t.element)}catch{}t.element||console.error(`The element for this Shepherd step was not found ${e.element}`)}return t}function E9(n){return n.options.extraHighlights?n.options.extraHighlights.flatMap(e=>Array.from(document.querySelectorAll(e))):[]}function F3(n){return n==null?!0:!n.element||!n.on}function j3(){let n=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(e=="x"?t:t&3|8).toString(16)})}var L9=["top","right","bottom","left"],p3=["start","end"],f3=L9.reduce((n,e)=>n.concat(e,e+"-"+p3[0],e+"-"+p3[1]),[]),Va=Math.min,fi=Math.max,M1=Math.round,k1=Math.floor,Wn=n=>({x:n,y:n}),A9={left:"right",right:"left",bottom:"top",top:"bottom"},P9={start:"end",end:"start"};function Ef(n,e,t){return fi(n,Va(e,t))}function ki(n,e){return typeof n=="function"?n(e):n}function Mr(n){return n.split("-")[0]}function vr(n){return n.split("-")[1]}function Gf(n){return n==="x"?"y":"x"}function Zf(n){return n==="y"?"height":"width"}function gi(n){return["top","bottom"].includes(Mr(n))?"y":"x"}function Kf(n){return Gf(gi(n))}function V3(n,e,t){t===void 0&&(t=!1);let r=vr(n),o=Kf(n),i=Zf(o),a=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=C1(a)),[a,C1(a)]}function T9(n){let e=C1(n);return[w1(n),e,w1(e)]}function w1(n){return n.replace(/start|end/g,e=>P9[e])}function O9(n,e,t){let r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?o:r:e?r:o;case"left":case"right":return e?i:a;default:return[]}}function R9(n,e,t,r){let o=vr(n),i=O9(Mr(n),t==="start",r);return o&&(i=i.map(a=>a+"-"+o),e&&(i=i.concat(i.map(w1)))),i}function C1(n){return n.replace(/left|right|bottom|top/g,e=>A9[e])}function N9(n){return Tt({top:0,right:0,bottom:0,left:0},n)}function H3(n){return typeof n!="number"?N9(n):{top:n,right:n,bottom:n,left:n}}function b1(n){let{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}var F9=["crossAxis","alignment","allowedPlacements","autoAlignment"],j9=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],V9=["mainAxis","crossAxis","limiter"];function g3(n,e,t){let{reference:r,floating:o}=n,i=gi(e),a=Kf(e),s=Zf(a),c=Mr(e),l=i==="y",d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,p=r[s]/2-o[s]/2,h;switch(c){case"top":h={x:d,y:r.y-o.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-o.width,y:u};break;default:h={x:r.x,y:r.y}}switch(vr(e)){case"start":h[a]-=p*(t&&l?-1:1);break;case"end":h[a]+=p*(t&&l?-1:1);break}return h}var H9=(n,e,t)=>f(null,null,function*(){let{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=t,s=i.filter(Boolean),c=yield a.isRTL==null?void 0:a.isRTL(e),l=yield a.getElementRects({reference:n,floating:e,strategy:o}),{x:d,y:u}=g3(l,r,c),p=r,h={},y=0;for(let k=0;k<s.length;k++){let{name:v,fn:w}=s[k],{x:O,y:S,data:_,reset:T}=yield w({x:d,y:u,initialPlacement:r,placement:p,strategy:o,middlewareData:h,rects:l,platform:a,elements:{reference:n,floating:e}});d=O??d,u=S??u,h=Tt({},h,{[v]:Tt({},h[v],_)}),T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(l=T.rects===!0?yield a.getElementRects({reference:n,floating:e,strategy:o}):T.rects),{x:d,y:u}=g3(l,p,c)),k=-1)}return{x:d,y:u,placement:p,strategy:o,middlewareData:h}});function Yf(n,e){return f(this,null,function*(){var t;e===void 0&&(e={});let{x:r,y:o,platform:i,rects:a,elements:s,strategy:c}=n,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:p=!1,padding:h=0}=ki(e,n),y=H3(h),v=s[p?u==="floating"?"reference":"floating":u],w=b1(yield i.getClippingRect({element:(t=yield i.isElement==null?void 0:i.isElement(v))==null||t?v:v.contextElement||(yield i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:l,rootBoundary:d,strategy:c})),O=u==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,S=yield i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating),_=(yield i.isElement==null?void 0:i.isElement(S))?(yield i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},T=b1(i.convertOffsetParentRelativeRectToViewportRelativeRect?yield i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:O,offsetParent:S,strategy:c}):O);return{top:(w.top-T.top+y.top)/_.y,bottom:(T.bottom-w.bottom+y.bottom)/_.y,left:(w.left-T.left+y.left)/_.x,right:(T.right-w.right+y.right)/_.x}})}var z9=n=>({name:"arrow",options:n,fn(t){return f(this,null,function*(){let{x:r,y:o,placement:i,rects:a,platform:s,elements:c,middlewareData:l}=t,{element:d,padding:u=0}=ki(n,t)||{};if(d==null)return{};let p=H3(u),h={x:r,y:o},y=Kf(i),k=Zf(y),v=yield s.getDimensions(d),w=y==="y",O=w?"top":"left",S=w?"bottom":"right",_=w?"clientHeight":"clientWidth",T=a.reference[k]+a.reference[y]-h[y]-a.floating[k],te=h[y]-a.reference[y],U=yield s.getOffsetParent==null?void 0:s.getOffsetParent(d),Q=U?U[_]:0;(!Q||!(yield s.isElement==null?void 0:s.isElement(U)))&&(Q=c.floating[_]||a.floating[k]);let Ee=T/2-te/2,E=Q/2-v[k]/2-1,we=Va(p[O],E),je=Va(p[S],E),ye=we,xt=Q-v[k]-je,ct=Q/2-v[k]/2+Ee,an=Ef(ye,ct,xt),br=!l.arrow&&vr(i)!=null&&ct!==an&&a.reference[k]/2-(ct<ye?we:je)-v[k]/2<0,Gt=br?ct<ye?ct-ye:ct-xt:0;return{[y]:h[y]+Gt,data:Tt({[y]:an,centerOffset:ct-an-Gt},br&&{alignmentOffset:Gt}),reset:br}})}});function B9(n,e,t){return(n?[...t.filter(o=>vr(o)===n),...t.filter(o=>vr(o)!==n)]:t.filter(o=>Mr(o)===o)).filter(o=>n?vr(o)===n||(e?w1(o)!==o:!1):!0)}var q9=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,fn(r){return f(this,null,function*(){var o,i,a;let{rects:s,middlewareData:c,placement:l,platform:d,elements:u}=r,p=ki(e,r),{crossAxis:h=!1,alignment:y,allowedPlacements:k=f3,autoAlignment:v=!0}=p,w=Uf(p,F9),O=y!==void 0||k===f3?B9(y||null,v,k):k,S=yield Yf(r,w),_=((o=c.autoPlacement)==null?void 0:o.index)||0,T=O[_];if(T==null)return{};let te=V3(T,s,yield d.isRTL==null?void 0:d.isRTL(u.floating));if(l!==T)return{reset:{placement:O[0]}};let U=[S[Mr(T)],S[te[0]],S[te[1]]],Q=[...((i=c.autoPlacement)==null?void 0:i.overflows)||[],{placement:T,overflows:U}],Ee=O[_+1];if(Ee)return{data:{index:_+1,overflows:Q},reset:{placement:Ee}};let E=Q.map(ye=>{let xt=vr(ye.placement);return[ye.placement,xt&&h?ye.overflows.slice(0,2).reduce((ct,an)=>ct+an,0):ye.overflows[0],ye.overflows]}).sort((ye,xt)=>ye[1]-xt[1]),je=((a=E.filter(ye=>ye[2].slice(0,vr(ye[0])?2:3).every(xt=>xt<=0))[0])==null?void 0:a[0])||E[0][0];return je!==l?{data:{index:_+1,overflows:Q},reset:{placement:je}}:{}})}}},U9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(r){return f(this,null,function*(){var o,i;let{placement:a,middlewareData:s,rects:c,initialPlacement:l,platform:d,elements:u}=r,p=ki(e,r),{mainAxis:h=!0,crossAxis:y=!0,fallbackPlacements:k,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:O=!0}=p,S=Uf(p,j9);if((o=s.arrow)!=null&&o.alignmentOffset)return{};let _=Mr(a),T=gi(l),te=Mr(l)===l,U=yield d.isRTL==null?void 0:d.isRTL(u.floating),Q=k||(te||!O?[C1(l)]:T9(l)),Ee=w!=="none";!k&&Ee&&Q.push(...R9(l,O,w,U));let E=[l,...Q],we=yield Yf(r,S),je=[],ye=((i=s.flip)==null?void 0:i.overflows)||[];if(h&&je.push(we[_]),y){let Gt=V3(a,c,U);je.push(we[Gt[0]],we[Gt[1]])}if(ye=[...ye,{placement:a,overflows:je}],!je.every(Gt=>Gt<=0)){var xt,ct;let Gt=(((xt=s.flip)==null?void 0:xt.index)||0)+1,wi=E[Gt];if(wi){var an;let _r=y==="alignment"?T!==gi(wi):!1,xn=((an=ye[0])==null?void 0:an.overflows[0])>0;if(!_r||xn)return{data:{index:Gt,overflows:ye},reset:{placement:wi}}}let _n=(ct=ye.filter(_r=>_r.overflows[0]<=0).sort((_r,xn)=>_r.overflows[1]-xn.overflows[1])[0])==null?void 0:ct.placement;if(!_n)switch(v){case"bestFit":{var br;let _r=(br=ye.filter(xn=>{if(Ee){let xr=gi(xn.placement);return xr===T||xr==="y"}return!0}).map(xn=>[xn.placement,xn.overflows.filter(xr=>xr>0).reduce((xr,cw)=>xr+cw,0)]).sort((xn,xr)=>xn[1]-xr[1])[0])==null?void 0:br[0];_r&&(_n=_r);break}case"initialPlacement":_n=l;break}if(a!==_n)return{reset:{placement:_n}}}return{}})}}},$9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(r){return f(this,null,function*(){let{x:o,y:i,placement:a}=r,s=ki(e,r),{mainAxis:c=!0,crossAxis:l=!1,limiter:d={fn:S=>{let{x:_,y:T}=S;return{x:_,y:T}}}}=s,u=Uf(s,V9),p={x:o,y:i},h=yield Yf(r,u),y=gi(Mr(a)),k=Gf(y),v=p[k],w=p[y];if(c){let S=k==="y"?"top":"left",_=k==="y"?"bottom":"right",T=v+h[S],te=v-h[_];v=Ef(T,v,te)}if(l){let S=y==="y"?"top":"left",_=y==="y"?"bottom":"right",T=w+h[S],te=w-h[_];w=Ef(T,w,te)}let O=d.fn(Tt({},r,{[k]:v,[y]:w}));return Tt({},O,{data:{x:O.x-o,y:O.y-i,enabled:{[k]:c,[y]:l}}})})}}},W9=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:r,y:o,placement:i,rects:a,middlewareData:s}=t,{offset:c=0,mainAxis:l=!0,crossAxis:d=!0}=ki(e,t),u={x:r,y:o},p=gi(i),h=Gf(p),y=u[h],k=u[p],v=ki(c,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:Tt({mainAxis:0,crossAxis:0},v);if(l){let _=h==="y"?"height":"width",T=a.reference[h]-a.floating[_]+w.mainAxis,te=a.reference[h]+a.reference[_]-w.mainAxis;y<T?y=T:y>te&&(y=te)}if(d){var O,S;let _=h==="y"?"width":"height",T=["top","left"].includes(Mr(i)),te=a.reference[p]-a.floating[_]+(T&&((O=s.offset)==null?void 0:O[p])||0)+(T?0:w.crossAxis),U=a.reference[p]+a.reference[_]+(T?0:((S=s.offset)==null?void 0:S[p])||0)-(T?w.crossAxis:0);k<te?k=te:k>U&&(k=U)}return{[h]:y,[p]:k}}}};function x1(){return typeof window<"u"}function qa(n){return z3(n)?(n.nodeName||"").toLowerCase():"#document"}function $t(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Kn(n){var e;return(e=(z3(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function z3(n){return x1()?n instanceof Node||n instanceof $t(n).Node:!1}function Mn(n){return x1()?n instanceof Element||n instanceof $t(n).Element:!1}function Gn(n){return x1()?n instanceof HTMLElement||n instanceof $t(n).HTMLElement:!1}function y3(n){return!x1()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof $t(n).ShadowRoot}function Hc(n){let{overflow:e,overflowX:t,overflowY:r,display:o}=wn(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(o)}function G9(n){return["table","td","th"].includes(qa(n))}function I1(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Qf(n){let e=Xf(),t=Mn(n)?wn(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Z9(n){let e=uo(n);for(;Gn(e)&&!Ha(e);){if(Qf(e))return e;if(I1(e))return null;e=uo(e)}return null}function Xf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ha(n){return["html","body","#document"].includes(qa(n))}function wn(n){return $t(n).getComputedStyle(n)}function S1(n){return Mn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function uo(n){if(qa(n)==="html")return n;let e=n.assignedSlot||n.parentNode||y3(n)&&n.host||Kn(n);return y3(e)?e.host:e}function B3(n){let e=uo(n);return Ha(e)?n.ownerDocument?n.ownerDocument.body:n.body:Gn(e)&&Hc(e)?e:B3(e)}function Fc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);let o=B3(n),i=o===((r=n.ownerDocument)==null?void 0:r.body),a=$t(o);if(i){let s=Lf(a);return e.concat(a,a.visualViewport||[],Hc(o)?o:[],s&&t?Fc(s):[])}return e.concat(o,Fc(o,[],t))}function Lf(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function q3(n){let e=wn(n),t=parseFloat(e.width)||0,r=parseFloat(e.height)||0,o=Gn(n),i=o?n.offsetWidth:t,a=o?n.offsetHeight:r,s=M1(t)!==i||M1(r)!==a;return s&&(t=i,r=a),{width:t,height:r,$:s}}function Jf(n){return Mn(n)?n:n.contextElement}function Na(n){let e=Jf(n);if(!Gn(e))return Wn(1);let t=e.getBoundingClientRect(),{width:r,height:o,$:i}=q3(e),a=(i?M1(t.width):t.width)/r,s=(i?M1(t.height):t.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}var K9=Wn(0);function U3(n){let e=$t(n);return!Xf()||!e.visualViewport?K9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Y9(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==$t(n)?!1:e}function vi(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);let o=n.getBoundingClientRect(),i=Jf(n),a=Wn(1);e&&(r?Mn(r)&&(a=Na(r)):a=Na(n));let s=Y9(i,t,r)?U3(i):Wn(0),c=(o.left+s.x)/a.x,l=(o.top+s.y)/a.y,d=o.width/a.x,u=o.height/a.y;if(i){let p=$t(i),h=r&&Mn(r)?$t(r):r,y=p,k=Lf(y);for(;k&&r&&h!==y;){let v=Na(k),w=k.getBoundingClientRect(),O=wn(k),S=w.left+(k.clientLeft+parseFloat(O.paddingLeft))*v.x,_=w.top+(k.clientTop+parseFloat(O.paddingTop))*v.y;c*=v.x,l*=v.y,d*=v.x,u*=v.y,c+=S,l+=_,y=$t(k),k=Lf(y)}}return b1({width:d,height:u,x:c,y:l})}function eg(n,e){let t=S1(n).scrollLeft;return e?e.left+t:vi(Kn(n)).left+t}function $3(n,e,t){t===void 0&&(t=!1);let r=n.getBoundingClientRect(),o=r.left+e.scrollLeft-(t?0:eg(n,r)),i=r.top+e.scrollTop;return{x:o,y:i}}function Q9(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n,i=o==="fixed",a=Kn(r),s=e?I1(e.floating):!1;if(r===a||s&&i)return t;let c={scrollLeft:0,scrollTop:0},l=Wn(1),d=Wn(0),u=Gn(r);if((u||!u&&!i)&&((qa(r)!=="body"||Hc(a))&&(c=S1(r)),Gn(r))){let h=vi(r);l=Na(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}let p=a&&!u&&!i?$3(a,c,!0):Wn(0);return{width:t.width*l.x,height:t.height*l.y,x:t.x*l.x-c.scrollLeft*l.x+d.x+p.x,y:t.y*l.y-c.scrollTop*l.y+d.y+p.y}}function X9(n){return Array.from(n.getClientRects())}function J9(n){let e=Kn(n),t=S1(n),r=n.ownerDocument.body,o=fi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=fi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight),a=-t.scrollLeft+eg(n),s=-t.scrollTop;return wn(r).direction==="rtl"&&(a+=fi(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}function eD(n,e){let t=$t(n),r=Kn(n),o=t.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,c=0;if(o){i=o.width,a=o.height;let l=Xf();(!l||l&&e==="fixed")&&(s=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:s,y:c}}function tD(n,e){let t=vi(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,i=Gn(n)?Na(n):Wn(1),a=n.clientWidth*i.x,s=n.clientHeight*i.y,c=o*i.x,l=r*i.y;return{width:a,height:s,x:c,y:l}}function m3(n,e,t){let r;if(e==="viewport")r=eD(n,t);else if(e==="document")r=J9(Kn(n));else if(Mn(e))r=tD(e,t);else{let o=U3(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return b1(r)}function W3(n,e){let t=uo(n);return t===e||!Mn(t)||Ha(t)?!1:wn(t).position==="fixed"||W3(t,e)}function nD(n,e){let t=e.get(n);if(t)return t;let r=Fc(n,[],!1).filter(s=>Mn(s)&&qa(s)!=="body"),o=null,i=wn(n).position==="fixed",a=i?uo(n):n;for(;Mn(a)&&!Ha(a);){let s=wn(a),c=Qf(a);!c&&s.position==="fixed"&&(o=null),(i?!c&&!o:!c&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Hc(a)&&!c&&W3(n,a))?r=r.filter(d=>d!==a):o=s,a=uo(a)}return e.set(n,r),r}function rD(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n,a=[...t==="clippingAncestors"?I1(e)?[]:nD(e,this._c):[].concat(t),r],s=a[0],c=a.reduce((l,d)=>{let u=m3(e,d,o);return l.top=fi(u.top,l.top),l.right=Va(u.right,l.right),l.bottom=Va(u.bottom,l.bottom),l.left=fi(u.left,l.left),l},m3(e,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function oD(n){let{width:e,height:t}=q3(n);return{width:e,height:t}}function iD(n,e,t){let r=Gn(e),o=Kn(e),i=t==="fixed",a=vi(n,!0,i,e),s={scrollLeft:0,scrollTop:0},c=Wn(0);function l(){c.x=eg(o)}if(r||!r&&!i)if((qa(e)!=="body"||Hc(o))&&(s=S1(e)),r){let h=vi(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else o&&l();i&&!r&&o&&l();let d=o&&!r&&!i?$3(o,s):Wn(0),u=a.left+s.scrollLeft-c.x-d.x,p=a.top+s.scrollTop-c.y-d.y;return{x:u,y:p,width:a.width,height:a.height}}function xf(n){return wn(n).position==="static"}function k3(n,e){if(!Gn(n)||wn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Kn(n)===t&&(t=t.ownerDocument.body),t}function G3(n,e){let t=$t(n);if(I1(n))return t;if(!Gn(n)){let o=uo(n);for(;o&&!Ha(o);){if(Mn(o)&&!xf(o))return o;o=uo(o)}return t}let r=k3(n,e);for(;r&&G9(r)&&xf(r);)r=k3(r,e);return r&&Ha(r)&&xf(r)&&!Qf(r)?t:r||Z9(n)||t}var aD=function(e){return f(this,null,function*(){let t=this.getOffsetParent||G3,r=this.getDimensions,o=yield r(e.floating);return{reference:iD(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}})};function sD(n){return wn(n).direction==="rtl"}var cD={convertOffsetParentRelativeRectToViewportRelativeRect:Q9,getDocumentElement:Kn,getClippingRect:rD,getOffsetParent:G3,getElementRects:aD,getClientRects:X9,getDimensions:oD,getScale:Na,isElement:Mn,isRTL:sD};function Z3(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function lD(n,e){let t=null,r,o=Kn(n);function i(){var s;clearTimeout(r),(s=t)==null||s.disconnect(),t=null}function a(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),i();let l=n.getBoundingClientRect(),{left:d,top:u,width:p,height:h}=l;if(s||e(),!p||!h)return;let y=k1(u),k=k1(o.clientWidth-(d+p)),v=k1(o.clientHeight-(u+h)),w=k1(d),S={rootMargin:-y+"px "+-k+"px "+-v+"px "+-w+"px",threshold:fi(0,Va(1,c))||1},_=!0;function T(te){let U=te[0].intersectionRatio;if(U!==c){if(!_)return a();U?a(!1,U):r=setTimeout(()=>{a(!1,1e-7)},1e3)}U===1&&!Z3(l,n.getBoundingClientRect())&&a(),_=!1}try{t=new IntersectionObserver(T,Tt({},S,{root:o.ownerDocument}))}catch{t=new IntersectionObserver(T,S)}t.observe(n)}return a(!0),i}function dD(n,e,t,r){r===void 0&&(r={});let{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=Jf(n),d=o||i?[...l?Fc(l):[],...Fc(e)]:[];d.forEach(w=>{o&&w.addEventListener("scroll",t,{passive:!0}),i&&w.addEventListener("resize",t)});let u=l&&s?lD(l,t):null,p=-1,h=null;a&&(h=new ResizeObserver(w=>{let[O]=w;O&&O.target===l&&h&&(h.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=h)==null||S.observe(e)})),t()}),l&&!c&&h.observe(l),h.observe(e));let y,k=c?vi(n):null;c&&v();function v(){let w=vi(n);k&&!Z3(k,w)&&t(),k=w,y=requestAnimationFrame(v)}return t(),()=>{var w;d.forEach(O=>{o&&O.removeEventListener("scroll",t),i&&O.removeEventListener("resize",t)}),u?.(),(w=h)==null||w.disconnect(),h=null,c&&cancelAnimationFrame(y)}}var uD=q9,hD=$9,pD=U9,fD=z9,gD=W9,yD=(n,e,t)=>{let r=new Map,o=Tt({platform:cD},t),i=Tt({},o.platform,{_c:r});return H9(n,e,Tt({},o,{platform:i}))};function mD(n){n.cleanup&&n.cleanup();let e=n._getResolvedAttachToOptions(),t=e.element,r=bD(e,n),o=F3(e);return o&&(t=document.body,n.shepherdElementComponent.getElement().classList.add("shepherd-centered")),n.cleanup=dD(t,n.el,()=>{if(!n.el){n.cleanup==null||n.cleanup();return}MD(t,n,r,o)}),n.target=e.element,r}function kD(n,e){return{floatingUIOptions:$f(n.floatingUIOptions||{},e.floatingUIOptions||{})}}function vD(n){n.cleanup&&n.cleanup(),n.cleanup=null}function MD(n,e,t,r){return yD(n,e.el,t).then(wD(e,r)).then(o=>new Promise(i=>{setTimeout(()=>i(o),300)})).then(o=>{o!=null&&o.el&&(o.el.tabIndex=0,o.el.focus({preventScroll:!0}))})}function wD(n,e){return({x:t,y:r,placement:o,middlewareData:i})=>(n.el&&(e?Object.assign(n.el.style,{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}):Object.assign(n.el.style,{position:"absolute",left:`${t}px`,top:`${r}px`}),n.el.dataset.popperPlacement=o,CD(n.el,i)),n)}function CD(n,e){let t=n.querySelector(".shepherd-arrow");if(ja(t)&&e.arrow){let{x:r,y:o}=e.arrow;Object.assign(t.style,{left:r!=null?`${r}px`:"",top:o!=null?`${o}px`:""})}}function bD(n,e){var t,r,o;let i={strategy:"absolute"};i.middleware=[];let a=_D(e),s=F3(n),c=(t=n.on)==null?void 0:t.includes("auto"),l=(n==null||(r=n.on)==null?void 0:r.includes("-start"))||(n==null||(o=n.on)==null?void 0:o.includes("-end"));if(!s){if(c){var d;i.middleware.push(uD({crossAxis:!0,alignment:l?n==null||(d=n.on)==null?void 0:d.split("-").pop():null}))}else i.middleware.push(pD());if(i.middleware.push(hD({limiter:gD(),crossAxis:!0})),a){let u=typeof e.options.arrow=="object"?e.options.arrow:{padding:4};i.middleware.push(fD({element:a,padding:l?u.padding:0}))}c||(i.placement=n.on)}return $f(i,e.options.floatingUIOptions||{})}function _D(n){return n.options.arrow&&n.el?n.el.querySelector(".shepherd-arrow"):!1}function Wt(){}function xD(n,e){for(let t in e)n[t]=e[t];return n}function K3(n){return n()}function v3(){return Object.create(null)}function zc(n){n.forEach(K3)}function tg(n){return typeof n=="function"}function wr(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function ID(n){return Object.keys(n).length===0}function za(n,e){n.appendChild(e)}function bn(n,e,t){n.insertBefore(e,t||null)}function on(n){n.parentNode&&n.parentNode.removeChild(n)}function SD(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function Zn(n){return document.createElement(n)}function M3(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Y3(n){return document.createTextNode(n)}function _1(){return Y3(" ")}function DD(){return Y3("")}function D1(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function be(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}var ED=["width","height"];function w3(n,e){let t=Object.getOwnPropertyDescriptors(n.__proto__);for(let r in e)e[r]==null?n.removeAttribute(r):r==="style"?n.style.cssText=e[r]:r==="__value"?n.value=n[r]=e[r]:t[r]&&t[r].set&&ED.indexOf(r)===-1?n[r]=e[r]:be(n,r,e[r])}function LD(n){return Array.from(n.childNodes)}function Ta(n,e,t){n.classList.toggle(e,!!t)}var jc;function Oc(n){jc=n}function ng(){if(!jc)throw new Error("Function called outside component initialization");return jc}function AD(n){ng().$$.on_mount.push(n)}function rg(n){ng().$$.after_update.push(n)}function PD(n){ng().$$.on_destroy.push(n)}var Ra=[],Ba=[],Fa=[],C3=[],TD=Promise.resolve(),Af=!1;function OD(){Af||(Af=!0,TD.then(Q3))}function Pf(n){Fa.push(n)}var If=new Set,Oa=0;function Q3(){if(Oa!==0)return;let n=jc;do{try{for(;Oa<Ra.length;){let e=Ra[Oa];Oa++,Oc(e),RD(e.$$)}}catch(e){throw Ra.length=0,Oa=0,e}for(Oc(null),Ra.length=0,Oa=0;Ba.length;)Ba.pop()();for(let e=0;e<Fa.length;e+=1){let t=Fa[e];If.has(t)||(If.add(t),t())}Fa.length=0}while(Ra.length);for(;C3.length;)C3.pop()();Af=!1,If.clear(),Oc(n)}function RD(n){if(n.fragment!==null){n.update(),zc(n.before_update);let e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Pf)}}function ND(n){let e=[],t=[];Fa.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),Fa=e}var v1=new Set,pi;function yi(){pi={r:0,c:[],p:pi}}function mi(){pi.r||zc(pi.c),pi=pi.p}function ke(n,e){n&&n.i&&(v1.delete(n),n.i(e))}function Fe(n,e,t,r){if(n&&n.o){if(v1.has(n))return;v1.add(n),pi.c.push(()=>{v1.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function b3(n){return n?.length!==void 0?n:Array.from(n)}function FD(n,e){let t={},r={},o={$$scope:1},i=n.length;for(;i--;){let a=n[i],s=e[i];if(s){for(let c in a)c in s||(r[c]=1);for(let c in s)o[c]||(t[c]=s[c],o[c]=1);n[i]=s}else for(let c in a)o[c]=1}for(let a in r)a in t||(t[a]=void 0);return t}function Mi(n){n&&n.c()}function po(n,e,t){let{fragment:r,after_update:o}=n.$$;r&&r.m(e,t),Pf(()=>{let i=n.$$.on_mount.map(K3).filter(tg);n.$$.on_destroy?n.$$.on_destroy.push(...i):zc(i),n.$$.on_mount=[]}),o.forEach(Pf)}function fo(n,e){let t=n.$$;t.fragment!==null&&(ND(t.after_update),zc(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function jD(n,e){n.$$.dirty[0]===-1&&(Ra.push(n),OD(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Cr(n,e,t,r,o,i,a=null,s=[-1]){let c=jc;Oc(n);let l=n.$$={fragment:null,ctx:[],props:i,update:Wt,not_equal:o,bound:v3(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:v3(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};a&&a(l.root);let d=!1;if(l.ctx=t?t(n,e.props||{},(u,p,...h)=>{let y=h.length?h[0]:p;return l.ctx&&o(l.ctx[u],l.ctx[u]=y)&&(!l.skip_bound&&l.bound[u]&&l.bound[u](y),d&&jD(n,u)),p}):[],l.update(),d=!0,zc(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){let u=LD(e.target);l.fragment&&l.fragment.l(u),u.forEach(on)}else l.fragment&&l.fragment.c();e.intro&&ke(n.$$.fragment),po(n,e.target,e.anchor),Q3()}Oc(c)}var Cn=class{constructor(){this.$$=void 0,this.$$set=void 0}$destroy(){fo(this,1),this.$destroy=Wt}$on(e,t){if(!tg(t))return Wt;let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!ID(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}},VD="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(VD);function HD(n){let e,t,r,o,i;return{c(){e=Zn("button"),be(e,"aria-label",t=n[3]?n[3]:null),be(e,"class",r=`${n[1]||""} shepherd-button ${n[4]?"shepherd-button-secondary":""}`),e.disabled=n[2],be(e,"tabindex","0"),be(e,"type","button")},m(a,s){bn(a,e,s),e.innerHTML=n[5],o||(i=D1(e,"click",function(){tg(n[0])&&n[0].apply(this,arguments)}),o=!0)},p(a,[s]){n=a,s&32&&(e.innerHTML=n[5]),s&8&&t!==(t=n[3]?n[3]:null)&&be(e,"aria-label",t),s&18&&r!==(r=`${n[1]||""} shepherd-button ${n[4]?"shepherd-button-secondary":""}`)&&be(e,"class",r),s&4&&(e.disabled=n[2])},i:Wt,o:Wt,d(a){a&&on(e),o=!1,i()}}}function zD(n,e,t){let{config:r,step:o}=e,i,a,s,c,l,d;function u(p){return lo(p)?p=p.call(o):p}return n.$$set=p=>{"config"in p&&t(6,r=p.config),"step"in p&&t(7,o=p.step)},n.$$.update=()=>{n.$$.dirty&192&&(t(0,i=r.action?r.action.bind(o.tour):null),t(1,a=r.classes),t(2,s=r.disabled?u(r.disabled):!1),t(3,c=r.label?u(r.label):null),t(4,l=r.secondary),t(5,d=r.text?u(r.text):null))},[i,a,s,c,l,d,r,o]}var Tf=class extends Cn{constructor(e){super(),Cr(this,e,zD,HD,wr,{config:6,step:7})}};function _3(n,e,t){let r=n.slice();return r[2]=e[t],r}function x3(n){let e,t,r=b3(n[1]),o=[];for(let a=0;a<r.length;a+=1)o[a]=I3(_3(n,r,a));let i=a=>Fe(o[a],1,1,()=>{o[a]=null});return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=DD()},m(a,s){for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(a,s);bn(a,e,s),t=!0},p(a,s){if(s&3){r=b3(a[1]);let c;for(c=0;c<r.length;c+=1){let l=_3(a,r,c);o[c]?(o[c].p(l,s),ke(o[c],1)):(o[c]=I3(l),o[c].c(),ke(o[c],1),o[c].m(e.parentNode,e))}for(yi(),c=r.length;c<o.length;c+=1)i(c);mi()}},i(a){if(!t){for(let s=0;s<r.length;s+=1)ke(o[s]);t=!0}},o(a){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)Fe(o[s]);t=!1},d(a){a&&on(e),SD(o,a)}}}function I3(n){let e,t;return e=new Tf({props:{config:n[2],step:n[0]}}),{c(){Mi(e.$$.fragment)},m(r,o){po(e,r,o),t=!0},p(r,o){let i={};o&2&&(i.config=r[2]),o&1&&(i.step=r[0]),e.$set(i)},i(r){t||(ke(e.$$.fragment,r),t=!0)},o(r){Fe(e.$$.fragment,r),t=!1},d(r){fo(e,r)}}}function BD(n){let e,t,r=n[1]&&x3(n);return{c(){e=Zn("footer"),r&&r.c(),be(e,"class","shepherd-footer")},m(o,i){bn(o,e,i),r&&r.m(e,null),t=!0},p(o,[i]){o[1]?r?(r.p(o,i),i&2&&ke(r,1)):(r=x3(o),r.c(),ke(r,1),r.m(e,null)):r&&(yi(),Fe(r,1,1,()=>{r=null}),mi())},i(o){t||(ke(r),t=!0)},o(o){Fe(r),t=!1},d(o){o&&on(e),r&&r.d()}}}function qD(n,e,t){let r,{step:o}=e;return n.$$set=i=>{"step"in i&&t(0,o=i.step)},n.$$.update=()=>{n.$$.dirty&1&&t(1,r=o.options.buttons)},[o,r]}var Of=class extends Cn{constructor(e){super(),Cr(this,e,qD,BD,wr,{step:0})}};function UD(n){let e,t,r,o,i;return{c(){e=Zn("button"),t=Zn("span"),t.textContent="\xD7",be(t,"aria-hidden","true"),be(e,"aria-label",r=n[0].label?n[0].label:"Close Tour"),be(e,"class","shepherd-cancel-icon"),be(e,"type","button")},m(a,s){bn(a,e,s),za(e,t),o||(i=D1(e,"click",n[1]),o=!0)},p(a,[s]){s&1&&r!==(r=a[0].label?a[0].label:"Close Tour")&&be(e,"aria-label",r)},i:Wt,o:Wt,d(a){a&&on(e),o=!1,i()}}}function $D(n,e,t){let{cancelIcon:r,step:o}=e,i=a=>{a.preventDefault(),o.cancel()};return n.$$set=a=>{"cancelIcon"in a&&t(0,r=a.cancelIcon),"step"in a&&t(2,o=a.step)},[r,i,o]}var Rf=class extends Cn{constructor(e){super(),Cr(this,e,$D,UD,wr,{cancelIcon:0,step:2})}};function WD(n){let e;return{c(){e=Zn("h3"),be(e,"id",n[1]),be(e,"class","shepherd-title")},m(t,r){bn(t,e,r),n[3](e)},p(t,[r]){r&2&&be(e,"id",t[1])},i:Wt,o:Wt,d(t){t&&on(e),n[3](null)}}}function GD(n,e,t){let{labelId:r,element:o,title:i}=e;rg(()=>{lo(i)&&t(2,i=i()),t(0,o.innerHTML=i,o)});function a(s){Ba[s?"unshift":"push"](()=>{o=s,t(0,o)})}return n.$$set=s=>{"labelId"in s&&t(1,r=s.labelId),"element"in s&&t(0,o=s.element),"title"in s&&t(2,i=s.title)},[o,r,i,a]}var Nf=class extends Cn{constructor(e){super(),Cr(this,e,GD,WD,wr,{labelId:1,element:0,title:2})}};function S3(n){let e,t;return e=new Nf({props:{labelId:n[0],title:n[2]}}),{c(){Mi(e.$$.fragment)},m(r,o){po(e,r,o),t=!0},p(r,o){let i={};o&1&&(i.labelId=r[0]),o&4&&(i.title=r[2]),e.$set(i)},i(r){t||(ke(e.$$.fragment,r),t=!0)},o(r){Fe(e.$$.fragment,r),t=!1},d(r){fo(e,r)}}}function D3(n){let e,t;return e=new Rf({props:{cancelIcon:n[3],step:n[1]}}),{c(){Mi(e.$$.fragment)},m(r,o){po(e,r,o),t=!0},p(r,o){let i={};o&8&&(i.cancelIcon=r[3]),o&2&&(i.step=r[1]),e.$set(i)},i(r){t||(ke(e.$$.fragment,r),t=!0)},o(r){Fe(e.$$.fragment,r),t=!1},d(r){fo(e,r)}}}function ZD(n){let e,t,r,o=n[2]&&S3(n),i=n[3]&&n[3].enabled&&D3(n);return{c(){e=Zn("header"),o&&o.c(),t=_1(),i&&i.c(),be(e,"class","shepherd-header")},m(a,s){bn(a,e,s),o&&o.m(e,null),za(e,t),i&&i.m(e,null),r=!0},p(a,[s]){a[2]?o?(o.p(a,s),s&4&&ke(o,1)):(o=S3(a),o.c(),ke(o,1),o.m(e,t)):o&&(yi(),Fe(o,1,1,()=>{o=null}),mi()),a[3]&&a[3].enabled?i?(i.p(a,s),s&8&&ke(i,1)):(i=D3(a),i.c(),ke(i,1),i.m(e,null)):i&&(yi(),Fe(i,1,1,()=>{i=null}),mi())},i(a){r||(ke(o),ke(i),r=!0)},o(a){Fe(o),Fe(i),r=!1},d(a){a&&on(e),o&&o.d(),i&&i.d()}}}function KD(n,e,t){let{labelId:r,step:o}=e,i,a;return n.$$set=s=>{"labelId"in s&&t(0,r=s.labelId),"step"in s&&t(1,o=s.step)},n.$$.update=()=>{n.$$.dirty&2&&(t(2,i=o.options.title),t(3,a=o.options.cancelIcon))},[r,o,i,a]}var Ff=class extends Cn{constructor(e){super(),Cr(this,e,KD,ZD,wr,{labelId:0,step:1})}};function YD(n){let e;return{c(){e=Zn("div"),be(e,"class","shepherd-text"),be(e,"id",n[1])},m(t,r){bn(t,e,r),n[3](e)},p(t,[r]){r&2&&be(e,"id",t[1])},i:Wt,o:Wt,d(t){t&&on(e),n[3](null)}}}function QD(n,e,t){let{descriptionId:r,element:o,step:i}=e;rg(()=>{let{text:s}=i.options;lo(s)&&(s=s.call(i)),ja(s)?o.appendChild(s):t(0,o.innerHTML=s,o)});function a(s){Ba[s?"unshift":"push"](()=>{o=s,t(0,o)})}return n.$$set=s=>{"descriptionId"in s&&t(1,r=s.descriptionId),"element"in s&&t(0,o=s.element),"step"in s&&t(2,i=s.step)},[o,r,i,a]}var jf=class extends Cn{constructor(e){super(),Cr(this,e,QD,YD,wr,{descriptionId:1,element:0,step:2})}};function E3(n){let e,t;return e=new Ff({props:{labelId:n[1],step:n[2]}}),{c(){Mi(e.$$.fragment)},m(r,o){po(e,r,o),t=!0},p(r,o){let i={};o&2&&(i.labelId=r[1]),o&4&&(i.step=r[2]),e.$set(i)},i(r){t||(ke(e.$$.fragment,r),t=!0)},o(r){Fe(e.$$.fragment,r),t=!1},d(r){fo(e,r)}}}function L3(n){let e,t;return e=new jf({props:{descriptionId:n[0],step:n[2]}}),{c(){Mi(e.$$.fragment)},m(r,o){po(e,r,o),t=!0},p(r,o){let i={};o&1&&(i.descriptionId=r[0]),o&4&&(i.step=r[2]),e.$set(i)},i(r){t||(ke(e.$$.fragment,r),t=!0)},o(r){Fe(e.$$.fragment,r),t=!1},d(r){fo(e,r)}}}function A3(n){let e,t;return e=new Of({props:{step:n[2]}}),{c(){Mi(e.$$.fragment)},m(r,o){po(e,r,o),t=!0},p(r,o){let i={};o&4&&(i.step=r[2]),e.$set(i)},i(r){t||(ke(e.$$.fragment,r),t=!0)},o(r){Fe(e.$$.fragment,r),t=!1},d(r){fo(e,r)}}}function XD(n){let e,t=!kt(n[2].options.title)||n[2].options.cancelIcon&&n[2].options.cancelIcon.enabled,r,o=!kt(n[2].options.text),i,a=Array.isArray(n[2].options.buttons)&&n[2].options.buttons.length,s,c=t&&E3(n),l=o&&L3(n),d=a&&A3(n);return{c(){e=Zn("div"),c&&c.c(),r=_1(),l&&l.c(),i=_1(),d&&d.c(),be(e,"class","shepherd-content")},m(u,p){bn(u,e,p),c&&c.m(e,null),za(e,r),l&&l.m(e,null),za(e,i),d&&d.m(e,null),s=!0},p(u,[p]){p&4&&(t=!kt(u[2].options.title)||u[2].options.cancelIcon&&u[2].options.cancelIcon.enabled),t?c?(c.p(u,p),p&4&&ke(c,1)):(c=E3(u),c.c(),ke(c,1),c.m(e,r)):c&&(yi(),Fe(c,1,1,()=>{c=null}),mi()),p&4&&(o=!kt(u[2].options.text)),o?l?(l.p(u,p),p&4&&ke(l,1)):(l=L3(u),l.c(),ke(l,1),l.m(e,i)):l&&(yi(),Fe(l,1,1,()=>{l=null}),mi()),p&4&&(a=Array.isArray(u[2].options.buttons)&&u[2].options.buttons.length),a?d?(d.p(u,p),p&4&&ke(d,1)):(d=A3(u),d.c(),ke(d,1),d.m(e,null)):d&&(yi(),Fe(d,1,1,()=>{d=null}),mi())},i(u){s||(ke(c),ke(l),ke(d),s=!0)},o(u){Fe(c),Fe(l),Fe(d),s=!1},d(u){u&&on(e),c&&c.d(),l&&l.d(),d&&d.d()}}}function JD(n,e,t){let{descriptionId:r,labelId:o,step:i}=e;return n.$$set=a=>{"descriptionId"in a&&t(0,r=a.descriptionId),"labelId"in a&&t(1,o=a.labelId),"step"in a&&t(2,i=a.step)},[r,o,i]}var Vf=class extends Cn{constructor(e){super(),Cr(this,e,JD,XD,wr,{descriptionId:0,labelId:1,step:2})}};function P3(n){let e;return{c(){e=Zn("div"),be(e,"class","shepherd-arrow"),be(e,"data-popper-arrow","")},m(t,r){bn(t,e,r)},d(t){t&&on(e)}}}function eE(n){let e,t,r,o,i,a,s,c,l=n[4].options.arrow&&n[4].options.attachTo&&n[4].options.attachTo.element&&n[4].options.attachTo.on&&P3();r=new Vf({props:{descriptionId:n[2],labelId:n[3],step:n[4]}});let d=[{"aria-describedby":o=kt(n[4].options.text)?null:n[2]},{"aria-labelledby":i=n[4].options.title?n[3]:null},n[1],{open:"true"}],u={};for(let p=0;p<d.length;p+=1)u=xD(u,d[p]);return{c(){e=Zn("dialog"),l&&l.c(),t=_1(),Mi(r.$$.fragment),w3(e,u),Ta(e,"shepherd-has-cancel-icon",n[5]),Ta(e,"shepherd-has-title",n[6]),Ta(e,"shepherd-element",!0)},m(p,h){bn(p,e,h),l&&l.m(e,null),za(e,t),po(r,e,null),n[18](e),a=!0,s||(c=D1(e,"keydown",n[7]),s=!0)},p(p,[h]){p[4].options.arrow&&p[4].options.attachTo&&p[4].options.attachTo.element&&p[4].options.attachTo.on?l||(l=P3(),l.c(),l.m(e,t)):l&&(l.d(1),l=null);let y={};h&4&&(y.descriptionId=p[2]),h&8&&(y.labelId=p[3]),h&16&&(y.step=p[4]),r.$set(y),w3(e,u=FD(d,[(!a||h&20&&o!==(o=kt(p[4].options.text)?null:p[2]))&&{"aria-describedby":o},(!a||h&24&&i!==(i=p[4].options.title?p[3]:null))&&{"aria-labelledby":i},h&2&&p[1],{open:"true"}])),Ta(e,"shepherd-has-cancel-icon",p[5]),Ta(e,"shepherd-has-title",p[6]),Ta(e,"shepherd-element",!0)},i(p){a||(ke(r.$$.fragment,p),a=!0)},o(p){Fe(r.$$.fragment,p),a=!1},d(p){p&&on(e),l&&l.d(),fo(r),n[18](null),s=!1,c()}}}var tE=9,nE=27,rE=37,oE=39;function T3(n){return n.split(" ").filter(e=>!!e.length)}function iE(n,e,t){let{attachToElement:r,attachTofocusableDialogElements:o,classPrefix:i,element:a,descriptionId:s,focusableAttachToElements:c,firstFocusableAttachToElement:l,lastFocusableAttachToElement:d,firstFocusableDialogElement:u,focusableDialogElements:p,lastFocusableDialogElement:h,labelId:y,step:k,dataStepId:v}=e,w,O,S,_=()=>a;AD(()=>{t(1,v={[`data-${i}shepherd-step-id`]:k.id}),t(13,p=[...a.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')]),t(12,u=p[0]),t(14,h=p[p.length-1]);let E=k._getResolvedAttachToOptions();E!=null&&E.element&&(t(8,r=E.element),t(8,r.tabIndex=0,r),t(9,c=[r,...r.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')]),t(10,l=c[0]),t(11,d=c[c.length-1]),r.addEventListener("keydown",Q))}),PD(()=>{var E;(E=r)==null||E.removeEventListener("keydown",Q)}),rg(()=>{S!==k.options.classes&&T()});function T(){te(S),S=k.options.classes,U(S)}function te(E){if(Rc(E)){let we=T3(E);we.length&&a.classList.remove(...we)}}function U(E){if(Rc(E)){let we=T3(E);we.length&&a.classList.add(...we)}}let Q=E=>{let{tour:we}=k;switch(E.keyCode){case tE:if((!c||c.length===0)&&p.length===0){E.preventDefault();break}if(E.shiftKey)if(document.activeElement===u||document.activeElement.classList.contains("shepherd-element")){var je;E.preventDefault(),((je=d)!=null?je:h).focus()}else document.activeElement===l&&(E.preventDefault(),h.focus());else if(document.activeElement===h){var ye;E.preventDefault(),((ye=l)!=null?ye:u).focus()}else document.activeElement===d&&(E.preventDefault(),u.focus());break;case nE:we.options.exitOnEsc&&(E.preventDefault(),E.stopPropagation(),k.cancel());break;case rE:we.options.keyboardNavigation&&(E.preventDefault(),E.stopPropagation(),we.back());break;case oE:we.options.keyboardNavigation&&(E.preventDefault(),E.stopPropagation(),we.next());break}};function Ee(E){Ba[E?"unshift":"push"](()=>{a=E,t(0,a)})}return n.$$set=E=>{"attachToElement"in E&&t(8,r=E.attachToElement),"attachTofocusableDialogElements"in E&&t(15,o=E.attachTofocusableDialogElements),"classPrefix"in E&&t(16,i=E.classPrefix),"element"in E&&t(0,a=E.element),"descriptionId"in E&&t(2,s=E.descriptionId),"focusableAttachToElements"in E&&t(9,c=E.focusableAttachToElements),"firstFocusableAttachToElement"in E&&t(10,l=E.firstFocusableAttachToElement),"lastFocusableAttachToElement"in E&&t(11,d=E.lastFocusableAttachToElement),"firstFocusableDialogElement"in E&&t(12,u=E.firstFocusableDialogElement),"focusableDialogElements"in E&&t(13,p=E.focusableDialogElements),"lastFocusableDialogElement"in E&&t(14,h=E.lastFocusableDialogElement),"labelId"in E&&t(3,y=E.labelId),"step"in E&&t(4,k=E.step),"dataStepId"in E&&t(1,v=E.dataStepId)},n.$$.update=()=>{n.$$.dirty&16&&(t(5,w=k.options&&k.options.cancelIcon&&k.options.cancelIcon.enabled),t(6,O=k.options&&k.options.title))},[a,v,s,y,k,w,O,Q,r,c,l,d,u,p,h,o,i,_,Ee]}var Hf=class extends Cn{constructor(e){super(),Cr(this,e,iE,eE,wr,{attachToElement:8,attachTofocusableDialogElements:15,classPrefix:16,element:0,descriptionId:2,focusableAttachToElements:9,firstFocusableAttachToElement:10,lastFocusableAttachToElement:11,firstFocusableDialogElement:12,focusableDialogElements:13,lastFocusableDialogElement:14,labelId:3,step:4,dataStepId:1,getElement:17})}get getElement(){return this.$$.ctx[17]}},Vc=class extends Nc{constructor(e,t={}){return super(),this._resolvedAttachTo=void 0,this._resolvedExtraHighlightElements=void 0,this.classPrefix=void 0,this.el=void 0,this.target=void 0,this.tour=void 0,this.tour=e,this.classPrefix=this.tour.options?N3(this.tour.options.classPrefix):"",this.styles=e.styles,this._resolvedAttachTo=null,Wf(this),this._setOptions(t),this}cancel(){this.tour.cancel(),this.trigger("cancel")}complete(){this.tour.complete(),this.trigger("complete")}destroy(){vD(this),ja(this.el)&&(this.el.remove(),this.el=null),this._updateStepTargetOnHide(),this.trigger("destroy")}getTour(){return this.tour}hide(){var e;(e=this.tour.modal)==null||e.hide(),this.trigger("before-hide"),this.el&&(this.el.hidden=!0),this._updateStepTargetOnHide(),this.trigger("hide")}_resolveExtraHiglightElements(){return this._resolvedExtraHighlightElements=E9(this),this._resolvedExtraHighlightElements}_resolveAttachToOptions(){return this._resolvedAttachTo=D9(this),this._resolvedAttachTo}_getResolvedAttachToOptions(){return this._resolvedAttachTo===null?this._resolveAttachToOptions():this._resolvedAttachTo}isOpen(){return!!(this.el&&!this.el.hidden)}show(){return lo(this.options.beforeShowPromise)?Promise.resolve(this.options.beforeShowPromise()).then(()=>this._show()):Promise.resolve(this._show())}updateStepOptions(e){Object.assign(this.options,e),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}getElement(){return this.el}getTarget(){return this.target}_createTooltipContent(){let e=`${this.id}-description`,t=`${this.id}-label`;return this.shepherdElementComponent=new Hf({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:e,labelId:t,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()}_scrollTo(e){let{element:t}=this._getResolvedAttachToOptions();lo(this.options.scrollToHandler)?this.options.scrollToHandler(t):l9(t)&&typeof t.scrollIntoView=="function"&&t.scrollIntoView(e)}_getClassOptions(e){let t=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,r=e.classes?e.classes:"",o=t&&t.classes?t.classes:"",i=[...r.split(" "),...o.split(" ")],a=new Set(i);return Array.from(a).join(" ").trim()}_setOptions(e={}){let t=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;t=$f({},t||{}),this.options=Object.assign({arrow:!0},t,e,kD(t,e));let{when:r}=this.options;this.options.classes=this._getClassOptions(e),this.destroy(),this.id=this.options.id||`step-${j3()}`,r&&Object.keys(r).forEach(o=>{this.on(o,r[o],this)})}_setupElements(){kt(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&S9(this),mD(this)}_show(){var e;this.trigger("before-show"),this._resolveAttachToOptions(),this._resolveExtraHiglightElements(),this._setupElements(),this.tour.modal||this.tour.setupModal(),(e=this.tour.modal)==null||e.setupForStep(this),this._styleTargetElementForStep(this),this.el&&(this.el.hidden=!1),this.options.scrollTo&&setTimeout(()=>{this._scrollTo(this.options.scrollTo)}),this.el&&(this.el.hidden=!1);let t=this.shepherdElementComponent.getElement(),r=this.target||document.body,o=this._resolvedExtraHighlightElements;r.classList.add(`${this.classPrefix}shepherd-enabled`),r.classList.add(`${this.classPrefix}shepherd-target`),t.classList.add("shepherd-enabled"),o?.forEach(i=>{i.classList.add(`${this.classPrefix}shepherd-enabled`),i.classList.add(`${this.classPrefix}shepherd-target`)}),this.trigger("show")}_styleTargetElementForStep(e){let t=e.target,r=e._resolvedExtraHighlightElements;if(!t)return;let o=e.options.highlightClass;o&&(t.classList.add(o),r?.forEach(i=>i.classList.add(o))),t.classList.remove("shepherd-target-click-disabled"),r?.forEach(i=>i.classList.remove("shepherd-target-click-disabled")),e.options.canClickTarget===!1&&(t.classList.add("shepherd-target-click-disabled"),r?.forEach(i=>i.classList.add("shepherd-target-click-disabled")))}_updateStepTargetOnHide(){let e=this.target||document.body,t=this._resolvedExtraHighlightElements,r=this.options.highlightClass;r&&(e.classList.remove(r),t?.forEach(o=>o.classList.remove(r))),e.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`),t?.forEach(o=>{o.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`)})}};function aE(n){if(n){let{steps:e}=n;e.forEach(t=>{t.options&&t.options.canClickTarget===!1&&t.options.attachTo&&(ja(t.target)&&t.target.classList.remove("shepherd-target-click-disabled"),t._resolvedExtraHighlightElements&&t._resolvedExtraHighlightElements.forEach(r=>{ja(r)&&r.classList.remove("shepherd-target-click-disabled")}))})}}function sE(n){let e="",{innerWidth:t,innerHeight:r}=window;return n.forEach(o=>{let{width:i,height:a,x:s=0,y:c=0,r:l=0}=o,{topLeft:d=0,topRight:u=0,bottomRight:p=0,bottomLeft:h=0}=typeof l=="number"?{topLeft:l,topRight:l,bottomRight:l,bottomLeft:l}:l;e+=`M${s+d},${c}      a${d},${d},0,0,0-${d},${d}      V${a+c-h}      a${h},${h},0,0,0,${h},${h}      H${i+s-p}      a${p},${p},0,0,0,${p}-${p}      V${c+u}      a${u},${u},0,0,0-${u}-${u}      Z`}),`M${t},${r}          H0          V0          H${t}          V${r}          Z          ${e}`.replace(/\s/g,"")}function cE(n){let e,t,r,o,i;return{c(){e=M3("svg"),t=M3("path"),be(t,"d",n[2]),be(e,"class",r=`${n[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)},m(a,s){bn(a,e,s),za(e,t),n[11](e),o||(i=D1(e,"touchmove",n[3]),o=!0)},p(a,[s]){s&4&&be(t,"d",a[2]),s&2&&r!==(r=`${a[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)&&be(e,"class",r)},i:Wt,o:Wt,d(a){a&&on(e),n[11](null),o=!1,i()}}}function X3(n){if(!n)return null;let t=n instanceof HTMLElement&&window.getComputedStyle(n).overflowY;return t!=="hidden"&&t!=="visible"&&n.scrollHeight>=n.clientHeight?n:X3(n.parentElement)}function lE(n){let e={top:0,left:0};if(!n)return e;let t=n.ownerDocument.defaultView;for(;t!==window.top;){var r;let a=(r=t)==null?void 0:r.frameElement;if(a){var o,i;let s=a.getBoundingClientRect();e.top+=s.top+((o=s.scrollTop)!=null?o:0),e.left+=s.left+((i=s.scrollLeft)!=null?i:0)}t=t.parent}return e}function dE(n,e){let t=n.getBoundingClientRect(),r=t.y||t.top,o=t.bottom||r+t.height;if(e){let a=e.getBoundingClientRect(),s=a.y||a.top,c=a.bottom||s+a.height;r=Math.max(r,s),o=Math.min(o,c)}let i=Math.max(o-r,0);return{y:r,height:i}}function uE(n,e,t){let{element:r,openingProperties:o}=e,i=!1,a,s;l();let c=()=>r;function l(){t(4,o=[{width:0,height:0,x:0,y:0,r:0}])}function d(){t(1,i=!1),w()}function u(_=0,T=0,te=0,U=0,Q,Ee,E){if(Ee){let we=[Ee,...E||[]];t(4,o=[]);for(let je of we){if(!je||we.indexOf(je)!==we.lastIndexOf(je))continue;let{y:ye,height:xt}=dE(je,Q),{x:ct,width:an,left:br}=je.getBoundingClientRect();we.some(wi=>{if(wi===je)return!1;let _n=wi.getBoundingClientRect();return ct>=_n.left&&ct+an<=_n.right&&ye>=_n.top&&ye+xt<=_n.bottom})||o.push({width:an+_*2,height:xt+_*2,x:(ct||br)+te-_,y:ye+U-_,r:T})}}else l()}function p(_){w(),_.tour.options.useModalOverlay?(O(_),h()):d()}function h(){t(1,i=!0)}let y=_=>{_.preventDefault()},k=_=>{_.stopPropagation()};function v(){window.addEventListener("touchmove",y,{passive:!1})}function w(){a&&(cancelAnimationFrame(a),a=void 0),window.removeEventListener("touchmove",y,{passive:!1})}function O(_){let{modalOverlayOpeningPadding:T,modalOverlayOpeningRadius:te,modalOverlayOpeningXOffset:U=0,modalOverlayOpeningYOffset:Q=0}=_.options,Ee=lE(_.target),E=X3(_.target),we=()=>{a=void 0,u(T,te,U+Ee.left,Q+Ee.top,E,_.target,_._resolvedExtraHighlightElements),a=requestAnimationFrame(we)};we(),v()}function S(_){Ba[_?"unshift":"push"](()=>{r=_,t(0,r)})}return n.$$set=_=>{"element"in _&&t(0,r=_.element),"openingProperties"in _&&t(4,o=_.openingProperties)},n.$$.update=()=>{n.$$.dirty&16&&t(2,s=sE(o))},[r,i,s,k,o,c,l,d,u,p,h,S]}var zf=class extends Cn{constructor(e){super(),Cr(this,e,uE,cE,wr,{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10})}get getElement(){return this.$$.ctx[5]}get closeModalOpening(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}get positionModal(){return this.$$.ctx[8]}get setupForStep(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}},Bf=class extends Nc{constructor(){super(),this.activeTour=void 0,Wf(this)}},qf=class extends Nc{constructor(e={}){super(),this.trackedEvents=["active","cancel","complete","show"],this.classPrefix=void 0,this.currentStep=void 0,this.focusedElBeforeOpen=void 0,this.id=void 0,this.modal=void 0,this.options=void 0,this.steps=void 0,Wf(this);let t={exitOnEsc:!0,keyboardNavigation:!0};return this.options=Object.assign({},t,e),this.classPrefix=N3(this.options.classPrefix),this.steps=[],this.addSteps(this.options.steps),["active","cancel","complete","inactive","show","start"].map(o=>{(i=>{this.on(i,a=>{a=a||{},a.tour=this,$n.trigger(i,a)})})(o)}),this._setTourID(e.id),this}addStep(e,t){let r=e;return r instanceof Vc?r.tour=this:r=new Vc(this,r),kt(t)?this.steps.push(r):this.steps.splice(t,0,r),r}addSteps(e){return Array.isArray(e)&&e.forEach(t=>{this.addStep(t)}),this}back(){let e=this.steps.indexOf(this.currentStep);this.show(e-1,!1)}cancel(){return f(this,null,function*(){if(this.options.confirmCancel){let e=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?",t;lo(this.options.confirmCancel)?t=yield this.options.confirmCancel():t=window.confirm(e),t&&this._done("cancel")}else this._done("cancel")})}complete(){this._done("complete")}getById(e){return this.steps.find(t=>t.id===e)}getCurrentStep(){return this.currentStep}hide(){let e=this.getCurrentStep();if(e)return e.hide()}isActive(){return $n.activeTour===this}next(){let e=this.steps.indexOf(this.currentStep);e===this.steps.length-1?this.complete():this.show(e+1,!0)}removeStep(e){let t=this.getCurrentStep();this.steps.some((r,o)=>{if(r.id===e)return r.isOpen()&&r.hide(),r.destroy(),this.steps.splice(o,1),!0}),t&&t.id===e&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}show(e=0,t=!0){let r=Rc(e)?this.getById(e):this.steps[e];r&&(this._updateStateBeforeShow(),lo(r.options.showOn)&&!r.options.showOn()?this._skipStep(r,t):(this.currentStep=r,this.trigger("show",{step:r,previous:this.currentStep}),r.show()))}start(){return f(this,null,function*(){this.trigger("start"),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this.setupModal(),this._setupActiveTour(),this.next()})}_done(e){let t=this.steps.indexOf(this.currentStep);if(Array.isArray(this.steps)&&this.steps.forEach(r=>r.destroy()),aE(this),this.trigger(e,{index:t}),$n.activeTour=null,this.trigger("inactive",{tour:this}),this.modal&&this.modal.hide(),(e==="cancel"||e==="complete")&&this.modal){let r=document.querySelector(".shepherd-modal-overlay-container");r&&(r.remove(),this.modal=null)}ja(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()}_setupActiveTour(){this.trigger("active",{tour:this}),$n.activeTour=this}setupModal(){this.modal=new zf({target:this.options.modalContainer||document.body,props:{styles:this.styles}})}_skipStep(e,t){let r=this.steps.indexOf(e);if(r===this.steps.length-1)this.complete();else{let o=t?r+1:r-1;this.show(o,t)}}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}_setTourID(e){let t=this.options.tourName||"tour",r=e||j3();this.id=`${t}--${r}`}},$n=new Bf,J3=typeof window>"u";$n.Step=J3?Sf:Vc;$n.Tour=J3?Df:qf;function hE(n){return n.offsetWidth===0&&n.offsetHeight===0}function pE(n){let{classes:e,disabled:t,label:r,secondary:o,type:i,text:a}=n,s=["back","cancel","next"];if(!i)return n;if(s.indexOf(i)===-1)throw new Error("'type' property must be one of 'back', 'cancel', or 'next'");return{action:this[i].bind(this),classes:e,disabled:t,label:r,secondary:o,text:a}}var ew=(()=>{let e=class e{constructor(){this.confirmCancel=!1,this.defaultStepOptions={},this.exitOnEsc=!0,this.isActive=!1,this.keyboardNavigation=!0,this.messageForUser=null,this.modal=!1,this.requiredElements=[],this.tourName=void 0,this.tourObject=null}back(){this.tourObject?.back()}cancel(){this.tourObject?.cancel()}complete(){this.tourObject?.complete()}hide(){this.tourObject?.hide()}next(){this.tourObject?.next()}show(r){this.tourObject?.show(r)}start(){this.isActive=!0,this.tourObject?.start()}onTourFinish(r){this.isActive=!1}addSteps(r){this._initialize();let o=this.tourObject;if(!(!o||!r||!Array.isArray(r)||r.length===0)){if(!this.requiredElementsPresent()){o.addStep({buttons:[{text:"Exit",action:o.cancel}],id:"error",title:this.errorTitle,text:[this.messageForUser]});return}r.forEach(i=>{i.buttons&&(i.buttons=i.buttons.map(pE.bind(this),this)),o.addStep(i)})}}requiredElementsPresent(){let r=!0;return this.requiredElements.forEach(o=>{let i=document.querySelector(o.selector);r&&(!i||hE(i))&&(r=!1,this.errorTitle=o.title,this.messageForUser=o.message)}),r}_initialize(){let r=new $n.Tour({confirmCancel:this.confirmCancel,confirmCancelMessage:this.confirmCancelMessage,defaultStepOptions:this.defaultStepOptions,keyboardNavigation:this.keyboardNavigation,tourName:this.tourName,useModalOverlay:this.modal,exitOnEsc:this.exitOnEsc});r.on("complete",this.onTourFinish.bind(this,"complete")),r.on("cancel",this.onTourFinish.bind(this,"cancel")),this.tourObject=r}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var tw=(()=>{let e=class e{constructor(r){this.tour=r}startTutorial(){this.tour.start()}init(){this.tour.modal=!0,this.tour.defaultStepOptions={classes:"btn-theme",scrollTo:{behavior:"smooth",block:"center"},cancelIcon:{enabled:!0},arrow:!0},this.tour.addSteps([{id:"profile-step-2",title:"Actions",text:"Ici tu peux modifier ton profil.",attachTo:{element:'[data-tour="profile"]',on:"left"},buttons:[{text:"Suivant",action:()=>this.tour.next()}]},{id:"profile-step-1",title:"Dark Mode",text:'Cliquez ici pour activer le th\xE8me Sombre ou rebasculer au th\xE8me Clair <div class="shepherd-progress">\xC9tape 1 sur 4</div>',attachTo:{element:'[data-tour="darkmode-1"]',on:"bottom"},buttons:[{text:"Terminer",action:()=>this.tour.complete()}]}])}stopTutorial(){this.tour&&this.tour.cancel()}};e.\u0275fac=function(o){return new(o||e)(z(ew))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var yE=(n,e)=>e.value;function mE(n,e){if(n&1&&(g(0,"div",2)(1,"p"),M(2),m(),g(3,"p"),M(4),m(),g(5,"p"),M(6),m()()),n&2){let t=D();C(2),pe("User ID: ",t.user.id),C(2),pe("Email: ",t.user.email),C(2),pe("Display Name: ",t.user.user_metadata.displayName)}}function kE(n,e){if(n&1){let t=he();g(0,"button",9),I("click",function(){let o=A(t).$implicit,i=D();return P(i.setTheme(o.value))}),ae(1,"lucide-icon",10),g(2,"span"),M(3),m()()}if(n&2){let t=e.$implicit,r=D();Ae("active",r.getCurrentTheme()===t.value),j("title",t.label),C(),j("name",t.icon),C(2),X(t.label)}}var nw=(()=>{let e=class e{constructor(r){this.tuto=r,this.user=null,this.loading=!1,this.showInfo=!1,this.supabaseService=b(Pt),this.router=b(Pe),this.themeService=b(y1),this.themeOptions=[{value:"light",label:"Clair",icon:"sun"},{value:"dark",label:"Sombre",icon:"moon"},{value:"system",label:"Navigateur",icon:"monitor"}]}ngOnInit(){this.tuto.init()}replayTutorial(){this.tuto.startTutorial()}toggleUserInfo(){return f(this,null,function*(){this.user?this.showInfo=!this.showInfo:(yield this.fetchUser(),this.showInfo=!0)})}fetchUser(){return f(this,null,function*(){this.loading=!0;try{let{data:r}=yield this.supabaseService.getUser();this.user=r.user,this.user||this.router.navigate(["/login"])}finally{this.loading=!1}})}signOut(){return f(this,null,function*(){yield this.supabaseService.signOut(),this.router.navigate(["/login"])})}updatePassword(){return f(this,null,function*(){this.router.navigate(["/update-password"])})}toggleTheme(){this.themeService.toggleTheme()}setTheme(r){this.themeService.setTheme(r)}getCurrentTheme(){return this.themeService.getThemePreference()()}};e.\u0275fac=function(o){return new(o||e)(N(tw))},e.\u0275cmp=ue({type:e,selectors:[["app-profile"]],decls:20,vars:3,consts:[[1,"container"],[1,"btn","btn-primary",3,"click","disabled"],[1,"user-info"],["data-tour","darkmode-1",1,"theme-selector"],[1,"theme-buttons"],[1,"theme-btn",3,"active","title"],[1,"btn","btn-secondary",3,"click"],[1,"btn",3,"click"],[1,"help-button",3,"click"],[1,"theme-btn",3,"click","title"],["size","20",3,"name"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"h2"),M(2,"User Profile"),m(),g(3,"p"),M(4,"Congratulations! Welcome to secure auth with Angular + Supabase is running. \u{1F389}"),m(),g(5,"button",1),I("click",function(){return i.toggleUserInfo()}),M(6),m(),Br(7,mE,7,3,"div",2),g(8,"div",3)(9,"label"),M(10,"Th\xE8me:"),m(),g(11,"div",4),Mp(12,kE,4,5,"button",5,yE),m()(),g(14,"button",6),I("click",function(){return i.updatePassword()}),M(15,"Modifier le mot de passe"),m(),g(16,"button",7),I("click",function(){return i.signOut()}),M(17,"Sign Out"),m(),g(18,"button",8),I("click",function(){return i.replayTutorial()}),M(19,"?"),m()()),o&2&&(C(5),j("disabled",i.loading),C(),pe(" ",i.loading?"Chargement...":i.showInfo?"Masquer les informations":"Afficher les informations personnelles"," "),C(),qr(i.showInfo&&i.user?7:-1),C(5),wp(i.themeOptions))},dependencies:[at,gt,xe],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;text-align:left}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1.5rem;font-weight:500;text-align:left}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:#555;line-height:1.5;text-align:left}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{font-size:1.1rem;margin-bottom:2rem;color:#27ae60}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type){font-weight:500;color:#2c3e50;word-break:break-all}.container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;width:100%;padding:.85rem;margin-top:1rem;background-color:#e74c3c;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease}.container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#c0392b}.container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;margin-top:2rem}.container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.container[_ngcontent-%COMP%]   .btn-theme[_ngcontent-%COMP%]{background-color:#3498db;margin-top:2rem}.container[_ngcontent-%COMP%]   .btn-theme[_ngcontent-%COMP%]:hover{background-color:#2980b9}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 6px 18px #0000004d}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type, body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{color:#4ade80}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type), body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type){color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#475569;color:#f8fafc}.user-info[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}body.dark-mode[_nghost-%COMP%]   .user-info[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .user-info[_ngcontent-%COMP%]{background:#334155;border-color:#475569}.theme-selector[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}.theme-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;font-weight:600;color:#2c3e50;font-size:.95rem}.theme-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-start}.theme-btn[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:1rem .75rem;background:#fff;color:#2c3e50;border:2px solid #e9ecef;border-radius:6px;font-size:.85rem;font-weight:500;cursor:pointer;transition:all .3s ease}.theme-btn[_ngcontent-%COMP%]:hover{border-color:#3498db;background:#f0f7ff}.theme-btn.active[_ngcontent-%COMP%]{background:#3498db;color:#fff;border-color:#3498db;box-shadow:0 2px 8px #3498db4d}.theme-btn[_ngcontent-%COMP%]   lucide-icon[_ngcontent-%COMP%]{display:block}.theme-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}body.dark-mode[_nghost-%COMP%]   .theme-selector[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .theme-selector[_ngcontent-%COMP%]{background:#334155;border-color:#475569}body.dark-mode[_nghost-%COMP%]   .theme-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .theme-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .theme-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .theme-btn[_ngcontent-%COMP%]{background:#1e293b;color:#cbd5e1;border-color:#475569}body.dark-mode[_nghost-%COMP%]   .theme-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .theme-btn[_ngcontent-%COMP%]:hover{border-color:#64b5f6;background:#0f172a}body.dark-mode[_nghost-%COMP%]   .theme-btn.active[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .theme-btn.active[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border-color:#3b82f6;box-shadow:0 2px 8px #3b82f64d}"]});let n=e;return n})();function vE(n,e){if(n&1&&(g(0,"div",8),M(1),m()),n&2){let t=D();C(),pe(" ",t.message," ")}}var rw=(()=>{let e=class e{constructor(r){this.supabaseService=r,this.email="",this.message="",this.loading=!1,this.router=b(Pe)}onSubmit(){return f(this,null,function*(){this.loading=!0;try{yield this.supabaseService.resetPasswordForEmail(this.email),this.message="Un lien de r\xE9initialisation a \xE9t\xE9 envoy\xE9 \xE0 votre adresse email."}catch(r){this.message=`Erreur : ${r.message}`}finally{this.loading=!1}})}navigateToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(o){return new(o||e)(N(Pt))},e.\u0275cmp=ue({type:e,selectors:[["app-forgot-password"]],decls:14,vars:2,consts:[[1,"forgot-password-container"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","placeholder","Votre email",3,"ngModelChange","ngModel"],["type","submit"],["class","message",4,"ngIf"],[3,"click"],[1,"message"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"h2"),M(2,"Mot de passe oubli\xE9"),m(),g(3,"form",1),I("ngSubmit",function(){return i.onSubmit()}),g(4,"div",2)(5,"label",3),M(6,"Email"),m(),g(7,"input",4),le("ngModelChange",function(s){return de(i.email,s)||(i.email=s),s}),m()(),g(8,"button",5),M(9,"Envoyer le lien de r\xE9initialisation"),m()(),ie(10,vE,2,1,"div",6),g(11,"p")(12,"a",7),I("click",function(){return i.navigateToLogin()}),M(13,"Retour au Log In"),m()()()),o&2&&(C(7),ce("ngModel",i.email),C(3),j("ngIf",i.message))},dependencies:[ft,eo,tt,pt,Jr,fr,it,pr,xe,Ke],styles:[".forgot-password-container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.forgot-password-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.forgot-password-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2c3e50;font-weight:500}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.forgot-password-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.forgot-password-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#2980b9}.forgot-password-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;text-align:center;border-radius:6px;background-color:#e8f4fc;color:#2c3e50;border:1px solid #b8d8f0}p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}"]});let n=e;return n})();function ME(n,e){if(n&1){let t=he();g(0,"form",8),I("ngSubmit",function(){A(t);let o=D();return P(o.onSubmit())}),g(1,"div",9)(2,"label",10),M(3,"Nouveau mot de passe"),m(),g(4,"input",11),le("ngModelChange",function(o){A(t);let i=D();return de(i.newPassword,o)||(i.newPassword=o),P(o)}),m()(),g(5,"div",9)(6,"label",12),M(7,"Confirmer le mot de passe"),m(),g(8,"input",13),le("ngModelChange",function(o){A(t);let i=D();return de(i.confirmPassword,o)||(i.confirmPassword=o),P(o)}),m()(),g(9,"button",14),M(10),m()()}if(n&2){let t=D();C(4),ce("ngModel",t.newPassword),j("disabled",t.loading),C(4),ce("ngModel",t.confirmPassword),j("disabled",t.loading),C(),j("disabled",t.loading),C(),pe(" ",t.loading?"Mise \xE0 jour...":"Mettre \xE0 jour le mot de passe"," ")}}function wE(n,e){if(n&1&&(g(0,"div",15),M(1),m()),n&2){let t=D();C(),pe(" ",t.error," ")}}function CE(n,e){if(n&1&&(g(0,"div",16),M(1),m()),n&2){let t=D();C(),pe(" ",t.message," ")}}var ow=(()=>{let e=class e{constructor(r,o){this.supabaseService=r,this.router=o,this.newPassword="",this.confirmPassword="",this.message="",this.error="",this.loading=!1,this.success=!1}ngOnInit(){return f(this,null,function*(){let{data:r}=yield this.supabaseService.getSession();r.session||(this.error="Session invalide. Veuillez demander un nouveau lien de r\xE9initialisation.")})}onSubmit(){return f(this,null,function*(){if(this.error="",this.message="",this.newPassword.length<6){this.error="Le mot de passe doit contenir au moins 6 caract\xE8res.";return}if(this.newPassword!==this.confirmPassword){this.error="Les mots de passe ne correspondent pas.";return}this.loading=!0;try{let{error:r}=yield this.supabaseService.updatePassword(this.newPassword);r?this.error="Erreur : "+r.message:(this.message="Mot de passe mis \xE0 jour avec succ\xE8s !",this.success=!0)}catch(r){this.error="Une erreur est survenue : "+r.message}finally{this.loading=!1}})}goToProfile(){this.router.navigate(["/profile"])}goToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(o){return new(o||e)(N(Pt),N(Pe))},e.\u0275cmp=ue({type:e,selectors:[["app-update-password"]],decls:13,vars:3,consts:[[1,"update-password-container"],[1,"update-password-card"],[1,"subtitle"],[3,"ngSubmit",4,"ngIf"],["class","message error",4,"ngIf"],["class","message success",4,"ngIf"],[1,"profile-button",3,"click"],[1,"login-button",3,"click"],[3,"ngSubmit"],[1,"form-group"],["for","newPassword"],["type","password","id","newPassword","name","newPassword","required","","minlength","6","placeholder","Minimum 6 caract\xE8res",3,"ngModelChange","ngModel","disabled"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","","minlength","6","placeholder","Confirmez votre mot de passe",3,"ngModelChange","ngModel","disabled"],["type","submit",3,"disabled"],[1,"message","error"],[1,"message","success"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"div",1)(2,"h2"),M(3,"Mettre \xE0 jour votre mot de passe"),m(),g(4,"p",2),M(5,"Veuillez entrer votre nouveau mot de passe"),m(),ie(6,ME,11,6,"form",3)(7,wE,2,1,"div",4)(8,CE,2,1,"div",5),g(9,"button",6),I("click",function(){return i.goToProfile()}),M(10," Retour au profil "),m(),g(11,"button",7),I("click",function(){return i.goToLogin()}),M(12," Retour \xE0 la connexion "),m()()()),o&2&&(C(6),j("ngIf",!i.success&&(!i.error||i.newPassword)),C(),j("ngIf",i.error),C(),j("ngIf",i.message))},dependencies:[ft,eo,tt,pt,Jr,fr,lc,it,pr,xe,Ke],styles:[".update-password-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.update-password-card[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:10px;box-shadow:0 10px 25px #0003;max-width:400px;width:100%}h2[_ngcontent-%COMP%]{margin:0 0 10px;color:#333;font-size:24px;text-align:center}.subtitle[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:30px;font-size:14px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500;font-size:14px}input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:5px;font-size:14px;box-sizing:border-box;transition:border-color .3s}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}button[_ngcontent-%COMP%]{width:100%;padding:12px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:5px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .2s,box-shadow .2s}button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]{margin-top:20px;background:linear-gradient(135deg,#2ecc71,#27ae60)}.login-button[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #2ecc7166}.profile-button[_ngcontent-%COMP%]{margin-top:20px;background:linear-gradient(135deg,#cc2e85 0% 100%)}.profile-button[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #2ecc7166}.message[_ngcontent-%COMP%]{margin-top:20px;padding:12px;border-radius:5px;text-align:center;font-size:14px}.message.error[_ngcontent-%COMP%]{background-color:#fee;color:#c33;border:1px solid #fcc}.message.success[_ngcontent-%COMP%]{background-color:#efe;color:#3c3;border:1px solid #cfc}"]});let n=e;return n})();var iw=(()=>{let e=class e{constructor(){this.tour=null}startTutorial(){this.tour=new $n.Tour({useModalOverlay:!0,defaultStepOptions:{classes:"shepherd-theme-dark",scrollTo:{behavior:"smooth",block:"center"},cancelIcon:{enabled:!0}}}),this.tour.addStep({id:"step-1",title:"\u2795 Cr\xE9er un ticket",text:'Cliquez ici pour cr\xE9er un nouveau ticket dans votre tableau.<div class="shepherd-progress">\xC9tape 1 sur 4</div>',attachTo:{element:".create-ticket-btn",on:"bottom"},buttons:[{text:"Suivant",action:this.tour.next,classes:"shepherd-button-primary"}]}),this.tour.addStep({id:"step-2",title:"\u{1F50D} Recherche rapide",text:'Utilisez la recherche pour filtrer vos tickets rapidement.<div class="shepherd-progress">\xC9tape 2 sur 4</div>',attachTo:{element:".search-input",on:"bottom"},buttons:[{text:"Pr\xE9c\xE9dent",action:this.tour.back,classes:"shepherd-button-secondary"},{text:"Suivant",action:this.tour.next,classes:"shepherd-button-primary"}]}),this.tour.addStep({id:"step-3",title:"\u{1F4CB} Tableau Kanban",text:'Glissez-d\xE9posez vos tickets entre les colonnes pour changer leur statut.<div class="shepherd-progress">\xC9tape 3 sur 4</div>',attachTo:{element:".kanban-board",on:"top"},buttons:[{text:"Pr\xE9c\xE9dent",action:this.tour.back,classes:"shepherd-button-secondary"},{text:"Suivant",action:this.tour.next,classes:"shepherd-button-primary"}]}),this.tour.addStep({id:"step-4",title:"\u{1F3AB} \xC9dition rapide",text:'Cliquez sur un ticket pour \xE9diter ses d\xE9tails directement.<div class="shepherd-progress">\xC9tape 4 sur 4</div>',attachTo:{element:".ticket-card",on:"right"},buttons:[{text:"Pr\xE9c\xE9dent",action:this.tour.back,classes:"shepherd-button-secondary"},{text:"Terminer",action:this.tour.complete,classes:"shepherd-button-primary"}]}),this.tour.on("complete",()=>{console.log("\u2705 Tutorial termin\xE9"),localStorage.setItem("kanban-tutorial-completed","true")}),this.tour.on("cancel",()=>{console.log("\u274C Tutorial annul\xE9")}),this.tour.start()}stopTutorial(){this.tour&&this.tour.cancel()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function _E(n,e){if(n&1){let t=he();g(0,"div",13),I("click",function(){let o=A(t).$implicit,i=D();return P(i.editTicket(o))}),g(1,"h4"),M(2),m(),g(3,"p"),M(4),m(),g(5,"div",14)(6,"span",15),M(7),m()()()}if(n&2){let t=e.$implicit;C(2),X(t.title),C(2),X(t.description),C(3),pe("\u{1F464} ",t.assignee)}}function xE(n,e){if(n&1){let t=he();g(0,"div",13),I("click",function(){let o=A(t).$implicit,i=D();return P(i.editTicket(o))}),g(1,"h4"),M(2),m(),g(3,"p"),M(4),m(),g(5,"div",14)(6,"span",15),M(7),m()()()}if(n&2){let t=e.$implicit;C(2),X(t.title),C(2),X(t.description),C(3),pe("\u{1F464} ",t.assignee)}}function IE(n,e){if(n&1){let t=he();g(0,"div",16),I("click",function(){let o=A(t).$implicit,i=D();return P(i.editTicket(o))}),g(1,"h4"),M(2),m(),g(3,"p"),M(4),m(),g(5,"div",14)(6,"span",15),M(7),m()()()}if(n&2){let t=e.$implicit;C(2),X(t.title),C(2),X(t.description),C(3),pe("\u{1F464} ",t.assignee)}}var aw=(()=>{let e=class e{constructor(r){this.tutorialService=r,this.tutorialCompleted=!1,this.searchQuery="",this.tickets=[{id:1,title:"Responsive sur Releaseflow",description:"Adapter l'interface mobile",status:"backlog",assignee:"Beno\xEEt Briens"},{id:2,title:"Fix bug d'authentification",description:"Corriger le probl\xE8me de session",status:"in-progress",assignee:"Marie Dupont"},{id:3,title:"Ajouter tests unitaires",description:"Couverture \xE0 80%",status:"done",assignee:"Jean Martin"}]}ngAfterViewInit(){this.tutorialCompleted=localStorage.getItem("kanban-tutorial-completed")==="true",this.tutorialCompleted||setTimeout(()=>{this.startTutorial()},1e3)}startTutorial(){this.tutorialService.startTutorial()}resetTutorial(){localStorage.removeItem("kanban-tutorial-completed"),this.tutorialCompleted=!1,this.startTutorial()}getTicketsByStatus(r){return this.tickets.filter(o=>o.status===r)}createTicket(){let r={id:Date.now(),title:"Nouveau ticket",description:"Description",status:"backlog",assignee:"Non assign\xE9"};this.tickets.push(r),console.log("Ticket cr\xE9\xE9:",r)}onSearch(){console.log("Recherche:",this.searchQuery)}editTicket(r){console.log("\xC9dition du ticket:",r)}};e.\u0275fac=function(o){return new(o||e)(N(iw))},e.\u0275cmp=ue({type:e,selectors:[["app-kanban-board"]],decls:35,vars:7,consts:[[1,"kanban-container"],[1,"toolbar"],[1,"search-bar"],["type","text","placeholder","\u{1F50D} Rechercher dans un ticket...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"create-ticket-btn",3,"click"],[1,"kanban-board"],[1,"kanban-column"],[1,"column-header"],[1,"count"],[1,"tickets-list"],["class","ticket-card",3,"click",4,"ngFor","ngForOf"],["class","ticket-card done",3,"click",4,"ngFor","ngForOf"],["title","Relancer le tutorial",1,"help-button",3,"click"],[1,"ticket-card",3,"click"],[1,"ticket-footer"],[1,"assignee"],[1,"ticket-card","done",3,"click"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"div",1)(2,"h1"),M(3,"\u{1F4CA} Tableau SIDE"),m(),g(4,"div",2)(5,"input",3),le("ngModelChange",function(s){return de(i.searchQuery,s)||(i.searchQuery=s),s}),I("input",function(){return i.onSearch()}),m()(),g(6,"button",4),I("click",function(){return i.createTicket()}),M(7,"\u2795 Nouveau ticket"),m()(),g(8,"div",5)(9,"div",6)(10,"div",7)(11,"h3"),M(12,"\u{1F4DD} BACKLOG"),m(),g(13,"span",8),M(14),m()(),g(15,"div",9),ie(16,_E,8,3,"div",10),m()(),g(17,"div",6)(18,"div",7)(19,"h3"),M(20,"\u26A1 EN COURS"),m(),g(21,"span",8),M(22),m()(),g(23,"div",9),ie(24,xE,8,3,"div",10),m()(),g(25,"div",6)(26,"div",7)(27,"h3"),M(28,"\u2705 TERMIN\xC9"),m(),g(29,"span",8),M(30),m()(),g(31,"div",9),ie(32,IE,8,3,"div",11),m()()(),g(33,"button",12),I("click",function(){return i.resetTutorial()}),M(34," ? "),m()()),o&2&&(C(5),ce("ngModel",i.searchQuery),C(9),X(i.getTicketsByStatus("backlog").length),C(2),j("ngForOf",i.getTicketsByStatus("backlog")),C(6),X(i.getTicketsByStatus("in-progress").length),C(2),j("ngForOf",i.getTicketsByStatus("in-progress")),C(6),X(i.getTicketsByStatus("done").length),C(2),j("ngForOf",i.getTicketsByStatus("done")))},dependencies:[ft,tt,pt,it,xe,Lt],styles:[".kanban-container[_ngcontent-%COMP%]{padding:24px;background-color:#f5f6f8;min-height:100vh}.toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-bottom:30px;background:#fff;padding:20px;border-radius:8px;box-shadow:0 1px 3px #0000001a}.toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;color:#172b4d}.search-bar[_ngcontent-%COMP%]{flex:1;max-width:400px}.search-input[_ngcontent-%COMP%]{width:100%;padding:10px 16px;border:2px solid #dfe1e6;border-radius:6px;font-size:14px;transition:all .2s}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0052cc;box-shadow:0 0 0 3px #0052cc1a}.create-ticket-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#0052cc;color:#fff;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.create-ticket-btn[_ngcontent-%COMP%]:hover{background-color:#0747a6;transform:translateY(-1px);box-shadow:0 4px 8px #0052cc4d}.kanban-board[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:flex-start}.kanban-column[_ngcontent-%COMP%]{flex:1;background-color:#f4f5f7;padding:16px;border-radius:8px;min-height:500px}.column-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:12px;border-bottom:2px solid #dfe1e6}.column-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#172b4d;font-weight:600}.column-header[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background-color:#dfe1e6;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:600;color:#5e6c84}.tickets-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.ticket-card[_ngcontent-%COMP%]{background:#fff;padding:16px;border-radius:6px;box-shadow:0 1px 3px #0000001f;cursor:pointer;transition:all .2s}.ticket-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.ticket-card.done[_ngcontent-%COMP%]{opacity:.7}.ticket-card.done[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-decoration:line-through}.ticket-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;color:#172b4d;font-weight:600}.ticket-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px;font-size:13px;color:#5e6c84;line-height:1.4}.ticket-card[_ngcontent-%COMP%]   .ticket-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:12px}.ticket-card[_ngcontent-%COMP%]   .ticket-footer[_ngcontent-%COMP%]   .assignee[_ngcontent-%COMP%]{color:#5e6c84}.help-button[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;width:60px;height:60px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;cursor:pointer;font-size:24px;box-shadow:0 4px 12px #0000004d;z-index:1000;transition:all .3s}.help-button[_ngcontent-%COMP%]:hover{transform:scale(1.1) rotate(10deg);box-shadow:0 6px 20px #0006}.help-button[_ngcontent-%COMP%]:active{transform:scale(.95)}"]});let n=e;return n})();var sw=[{path:"login",component:c3},{path:"signup",component:l3},{path:"forgot-password",component:rw},{path:"",canActivate:[d3],children:[{path:"",redirectTo:"/compact",pathMatch:"full"},{path:"list",component:p1},{path:"calendar",component:i3},{path:"compact",component:a3},{path:"timeline",component:s3},{path:"profile",component:nw},{path:"update-password",component:ow},{path:"kanban",component:aw}]},{path:"**",redirectTo:"login"}];function SE(n,e){n&1&&(g(0,"a",11),M(1,"Kanban"),m())}var DE=(()=>{let e=class e{constructor(){this.environment=hi,this.themeService=b(y1)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ue({type:e,selectors:[["app-root"]],decls:20,vars:1,consts:[[1,"app-container"],[1,"navbar"],[1,"nav-content"],[1,"app-title"],[1,"nav-links"],["routerLink","/calendar","routerLinkActive","active"],["routerLink","/compact","routerLinkActive","active"],["routerLink","/list","routerLinkActive","active"],["routerLink","/timeline","routerLinkActive","active"],["data-tour","profile","routerLink","/profile","routerLinkActive","active"],["name","user",1,"icon"],["routerLink","/kanban","routerLinkActive","active"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"nav",1)(2,"div",2)(3,"h1",3),M(4,"Calendrier Livraisons & MEP"),m(),g(5,"div",4)(6,"a",5),M(7,"Calendrier"),m(),g(8,"a",6),M(9,"Vue Compacte"),m(),g(10,"a",7),M(11,"Liste"),m(),g(12,"a",8),M(13,"Timeline"),m(),g(14,"a",9),ae(15,"lucide-icon",10),M(16," Profil "),m(),Br(17,SE,2,0,"a",11),m()()(),g(18,"main"),ae(19,"router-outlet"),m()()),o&2&&(C(17),qr(i.environment.production===!1?17:-1))},dependencies:[xe,D2,Qs,ga,x2,at,gt],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background:#f1f5f9}.app-container[_ngcontent-%COMP%]{min-height:100vh}.navbar[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e2e8f0;position:sticky;top:0;z-index:100;box-shadow:0 1px 3px #0000000d}.nav-content[_ngcontent-%COMP%]{max-width:1600px;margin:0 auto;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center}.app-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1e293b}.nav-links[_ngcontent-%COMP%]{display:flex;gap:.5rem}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:6px;text-decoration:none;color:#64748b;font-weight:500;transition:all .2s}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff}main[_ngcontent-%COMP%]{min-height:calc(100vh - 80px)}.icon[_ngcontent-%COMP%]{width:18px;height:18px;margin-right:6px;vertical-align:middle;fill:currentColor}body.dark-mode[_nghost-%COMP%], body.dark-mode   [_nghost-%COMP%]{background:#0f172a}body.dark-mode[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{background:#1e293b;border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .app-title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .app-title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff}"]});let n=e;return n})();Qp(DE,{providers:[I2(sw),Rl(at.pick({User:V4,Search:R4,X:H4,Package:E4,Plus:T4,Trash2:j4,PenLine:P4,Rocket:O4,Menu:I4,PanelLeftClose:L4,PanelLeftOpen:A4,LucideHistory:x4,Calendar:C4,GitCommit:_4,Columns:b4,AlignJustify:F4,Sun:N4,Moon:D4,Monitor:S4}))]});export{DE as App};
