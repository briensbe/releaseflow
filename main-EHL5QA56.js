var Cw=Object.create;var Ua=Object.defineProperty,bw=Object.defineProperties,_w=Object.getOwnPropertyDescriptor,xw=Object.getOwnPropertyDescriptors,Iw=Object.getOwnPropertyNames,lg=Object.getOwnPropertySymbols,Sw=Object.getPrototypeOf,ug=Object.prototype.hasOwnProperty,Dw=Object.prototype.propertyIsEnumerable;var dg=(t,e,n)=>e in t?Ua(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||={})ug.call(e,n)&&dg(t,n,e[n]);if(lg)for(var n of lg(e))Dw.call(e,n)&&dg(t,n,e[n]);return t},$=(t,e)=>bw(t,xw(e));var Ew=(t,e)=>()=>(t&&(e=t(t=0)),e);var go=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Lw=(t,e)=>{for(var n in e)Ua(t,n,{get:e[n],enumerable:!0})},hg=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Iw(e))!ug.call(t,o)&&o!==n&&Ua(t,o,{get:()=>e[o],enumerable:!(r=_w(e,o))||r.enumerable});return t};var Ow=(t,e,n)=>(n=t!=null?Cw(Sw(t)):{},hg(e||!t||!t.__esModule?Ua(n,"default",{value:t,enumerable:!0}):n,t)),bi=t=>hg(Ua({},"__esModule",{value:!0}),t);var f=(t,e,n)=>new Promise((r,o)=>{var i=c=>{try{s(n.next(c))}catch(l){o(l)}},a=c=>{try{s(n.throw(c))}catch(l){o(l)}},s=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,a);s((n=n.apply(t,e)).next())});var wo={};Lw(wo,{__addDisposableResource:()=>Yg,__assign:()=>sl,__asyncDelegator:()=>qg,__asyncGenerator:()=>dl,__asyncValues:()=>ul,__await:()=>Sn,__awaiter:()=>A,__classPrivateFieldGet:()=>Gg,__classPrivateFieldIn:()=>Kg,__classPrivateFieldSet:()=>Zg,__createBinding:()=>ll,__decorate:()=>Og,__disposeResources:()=>Xg,__esDecorate:()=>Ag,__exportStar:()=>Vg,__extends:()=>Lg,__generator:()=>jg,__importDefault:()=>Wg,__importStar:()=>$g,__makeTemplateObject:()=>Ug,__metadata:()=>Fg,__param:()=>Pg,__propKey:()=>Rg,__read:()=>X1,__rest:()=>Yn,__rewriteRelativeImportExtension:()=>Qg,__runInitializers:()=>Tg,__setFunctionName:()=>Ng,__spread:()=>Hg,__spreadArray:()=>zg,__spreadArrays:()=>Bg,__values:()=>cl,default:()=>Ww});function Lg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");K1(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Yn(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function Og(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}function Pg(t,e){return function(n,r){e(n,r,t)}}function Ag(t,e,n,r,o,i){function a(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var s=r.kind,c=s==="getter"?"get":s==="setter"?"set":"value",l=!e&&t?r.static?t:t.prototype:null,d=e||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),u,p=!1,h=n.length-1;h>=0;h--){var y={};for(var k in r)y[k]=k==="access"?{}:r[k];for(var k in r.access)y.access[k]=r.access[k];y.addInitializer=function(v){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(v||null))};var M=(0,n[h])(s==="accessor"?{get:d.get,set:d.set}:d[c],y);if(s==="accessor"){if(M===void 0)continue;if(M===null||typeof M!="object")throw new TypeError("Object expected");(u=a(M.get))&&(d.get=u),(u=a(M.set))&&(d.set=u),(u=a(M.init))&&o.unshift(u)}else(u=a(M))&&(s==="field"?o.unshift(u):d[c]=u)}l&&Object.defineProperty(l,r.name,d),p=!0}function Tg(t,e,n){for(var r=arguments.length>2,o=0;o<e.length;o++)n=r?e[o].call(t,n):e[o].call(t);return r?n:void 0}function Rg(t){return typeof t=="symbol"?t:"".concat(t)}function Ng(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Fg(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function A(t,e,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?i(d.value):o(d.value).then(s,c)}l((r=r.apply(t,e||[])).next())})}function jg(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(d){return c([l,d])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,o=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(d){l=[6,d],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Vg(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&ll(e,t,n)}function cl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function X1(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function Hg(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(X1(arguments[e]));return t}function Bg(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function zg(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Sn(t){return this instanceof Sn?(this.v=t,this):new Sn(t)}function dl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(h){return function(y){return Promise.resolve(y).then(h,u)}}function s(h,y){r[h]&&(o[h]=function(k){return new Promise(function(M,v){i.push([h,k,M,v])>1||c(h,k)})},y&&(o[h]=y(o[h])))}function c(h,y){try{l(r[h](y))}catch(k){p(i[0][3],k)}}function l(h){h.value instanceof Sn?Promise.resolve(h.value.v).then(d,u):p(i[0][2],h)}function d(h){c("next",h)}function u(h){c("throw",h)}function p(h,y){h(y),i.shift(),i.length&&c(i[0][0],i[0][1])}}function qg(t){var e,n;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,i){e[o]=t[o]?function(a){return(n=!n)?{value:Sn(t[o](a)),done:!1}:i?i(a):a}:i}}function ul(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cl=="function"?cl(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(a){return new Promise(function(s,c){a=t[i](a),o(s,c,a.done,a.value)})}}function o(i,a,s,c){Promise.resolve(c).then(function(l){i({value:l,done:s})},a)}}function Ug(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function $g(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Y1(t),r=0;r<n.length;r++)n[r]!=="default"&&ll(e,t,n[r]);return Uw(e,t),e}function Wg(t){return t&&t.__esModule?t:{default:t}}function Gg(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Zg(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function Kg(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Yg(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}function Xg(t){function e(i){t.error=t.hasError?new $w(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function o(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(o,function(a){return e(a),o()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function Qg(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,i,a){return r?e?".jsx":".js":o&&(!i||!a)?n:o+i+"."+a.toLowerCase()+"js"}):t}var K1,sl,ll,Uw,Y1,$w,Ww,Le=Ew(()=>{"use strict";K1=function(t,e){return K1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},K1(t,e)};sl=function(){return sl=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sl.apply(this,arguments)};ll=Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};Uw=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Y1=function(t){return Y1=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Y1(t)};$w=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};Ww={__extends:Lg,__assign:sl,__rest:Yn,__decorate:Og,__param:Pg,__esDecorate:Ag,__runInitializers:Tg,__propKey:Rg,__setFunctionName:Ng,__metadata:Fg,__awaiter:A,__generator:jg,__createBinding:ll,__exportStar:Vg,__values:cl,__read:X1,__spread:Hg,__spreadArrays:Bg,__spreadArray:zg,__await:Sn,__asyncGenerator:dl,__asyncDelegator:qg,__asyncValues:ul,__makeTemplateObject:Ug,__importStar:$g,__importDefault:Wg,__classPrivateFieldGet:Gg,__classPrivateFieldSet:Zg,__classPrivateFieldIn:Kg,__addDisposableResource:Yg,__disposeResources:Xg,__rewriteRelativeImportExtension:Qg}});var Uf=go(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});var zf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};qf.default=zf});var Gf=go(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});var eS=(Le(),bi(wo)),tS=eS.__importDefault(Uf()),$f=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>f(this,null,function*(){var a,s,c,l;let d=null,u=null,p=null,h=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){let P=yield i.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?u=P:u=JSON.parse(P))}let M=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");M&&v&&v.length>1&&(p=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,p=null,h=406,y="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let M=yield i.text();try{d=JSON.parse(M),Array.isArray(d)&&i.status===404&&(u=[],d=null,h=200,y="OK")}catch{i.status===404&&M===""?(h=204,y="No Content"):d={message:M}}if(d&&this.isMaybeSingle&&(!((l=d?.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,h=200,y="OK"),d&&this.shouldThrowOnError)throw new tS.default(d)}return{error:d,data:u,count:p,status:h,statusText:y}}));return this.shouldThrowOnError||(o=o.catch(i=>{var a,s,c,l,d,u;let p="",h=i?.cause;if(h){let y=(a=h?.message)!==null&&a!==void 0?a:"",k=(s=h?.code)!==null&&s!==void 0?s:"";p=`${(c=i?.name)!==null&&c!==void 0?c:"FetchError"}: ${i?.message}`,p+=`

Caused by: ${(l=h?.name)!==null&&l!==void 0?l:"Error"}: ${y}`,k&&(p+=` (${k})`),h?.stack&&(p+=`
${h.stack}`)}else p=(d=i?.stack)!==null&&d!==void 0?d:"";return{error:{message:`${(u=i?.name)!==null&&u!==void 0?u:"FetchError"}: ${i?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}};Wf.default=$f});var Yf=go(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});var nS=(Le(),bi(wo)),rS=nS.__importDefault(Gf()),Zf=class extends rS.default{select(e){let n=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:a="text"}={}){var s;let c=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Kf.default=Zf});var Au=go(Qf=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});var oS=(Le(),bi(wo)),iS=oS.__importDefault(Yf()),aS=new RegExp("[,()]"),Xf=class extends iS.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}regexMatch(e,n){return this.url.searchParams.append(e,`match.${n}`),this}regexIMatch(e,n){return this.url.searchParams.append(e,`imatch.${n}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}isDistinct(e,n){return this.url.searchParams.append(e,`isdistinct.${n}`),this}in(e,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&aS.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Qf.default=Xf});var t2=go(e2=>{"use strict";Object.defineProperty(e2,"__esModule",{value:!0});var sS=(Le(),bi(wo)),vc=sS.__importDefault(Au()),Jf=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(e,n){let{head:r=!1,count:o}=n??{},i=r?"HEAD":"GET",a=!1,s=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",s),o&&this.headers.append("Prefer",`count=${o}`),new vc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var o;let i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(a.length>0){let s=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new vc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var a;let s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let c=e.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(c.length>0){let l=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new vc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:n}={}){var r;let o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new vc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new vc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};e2.default=Jf});var Y4=go(r2=>{"use strict";Object.defineProperty(r2,"__esModule",{value:!0});var K4=(Le(),bi(wo)),cS=K4.__importDefault(t2()),lS=K4.__importDefault(Au()),n2=class t{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let n=new URL(`${this.url}/${e}`);return new cS.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:o=!1,count:i}={}){var a;let s,c=new URL(`${this.url}/rpc/${e}`),l;r||o?(s=r?"HEAD":"GET",Object.entries(n).filter(([u,p])=>p!==void 0).map(([u,p])=>[u,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([u,p])=>{c.searchParams.append(u,p)})):(s="POST",l=n);let d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new lS.default({method:s,url:c,headers:d,schema:this.schemaName,body:l,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};r2.default=n2});var r5=go(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.PostgrestError=_t.PostgrestBuilder=_t.PostgrestTransformBuilder=_t.PostgrestFilterBuilder=_t.PostgrestQueryBuilder=_t.PostgrestClient=void 0;var wa=(Le(),bi(wo)),X4=wa.__importDefault(Y4());_t.PostgrestClient=X4.default;var Q4=wa.__importDefault(t2());_t.PostgrestQueryBuilder=Q4.default;var J4=wa.__importDefault(Au());_t.PostgrestFilterBuilder=J4.default;var e5=wa.__importDefault(Yf());_t.PostgrestTransformBuilder=e5.default;var t5=wa.__importDefault(Gf());_t.PostgrestBuilder=t5.default;var n5=wa.__importDefault(Uf());_t.PostgrestError=n5.default;_t.default={PostgrestClient:X4.default,PostgrestQueryBuilder:Q4.default,PostgrestFilterBuilder:J4.default,PostgrestTransformBuilder:e5.default,PostgrestBuilder:t5.default,PostgrestError:n5.default}});var P1;function Uc(){return P1}function In(t){let e=P1;return P1=t,e}var pg=Symbol("NotFound");function _i(t){return t===pg||t?.name==="\u0275NotFound"}var ut=null,$c=!1,A1=1,Pw=null,ht=Symbol("SIGNAL");function G(t){let e=ut;return ut=t,e}function Kc(){return ut}var yo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function xi(t){if($c)throw new Error("");if(ut===null)return;ut.consumerOnSignalRead(t);let e=ut.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=ut.recomputing;if(r&&(n=e!==void 0?e.nextProducer:ut.producers,n!==void 0&&n.producer===t)){ut.producersTail=n,n.lastReadVersion=t.version;return}let o=t.consumersTail;if(o!==void 0&&o.consumer===ut&&(!r||Tw(o,ut)))return;let i=Di(ut),a={producer:t,consumer:ut,nextProducer:n,prevConsumer:o,lastReadVersion:t.version,nextConsumer:void 0};ut.producersTail=a,e!==void 0?e.nextProducer=a:ut.producers=a,i&&mg(t,a)}function fg(){A1++}function Yc(t){if(!(Di(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===A1)){if(!t.producerMustRecompute(t)&&!Si(t)){Zc(t);return}t.producerRecomputeValue(t),Zc(t)}}function T1(t){if(t.consumers===void 0)return;let e=$c;$c=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Aw(r)}}finally{$c=e}}function R1(){return ut?.consumerAllowSignalWrites!==!1}function Aw(t){t.dirty=!0,T1(t),t.consumerMarkedDirty?.(t)}function Zc(t){t.dirty=!1,t.lastCleanEpoch=A1}function mo(t){return t&&gg(t),G(t)}function gg(t){t.producersTail=void 0,t.recomputing=!0}function Ii(t,e){G(e),t&&yg(t)}function yg(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Di(t))do n=N1(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Si(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Yc(n),r!==n.version))return!0}return!1}function ko(t){if(Di(t)){let e=t.producers;for(;e!==void 0;)e=N1(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function mg(t,e){let n=t.consumersTail,r=Di(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let o=t.producers;o!==void 0;o=o.nextProducer)mg(o.producer,o)}function N1(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,o=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:e.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(e.consumers=r,!Di(e)){let i=e.producers;for(;i!==void 0;)i=N1(i)}return n}function Di(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Xc(t){Pw?.(t)}function Tw(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Qc(t,e){return Object.is(t,e)}function Jc(t,e){let n=Object.create(Rw);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Yc(n),xi(n),n.value===$a)throw n.error;return n.value};return r[ht]=n,Xc(n),r}var Wc=Symbol("UNSET"),Gc=Symbol("COMPUTING"),$a=Symbol("ERRORED"),Rw=$(I({},yo),{value:Wc,dirty:!0,error:null,equal:Qc,kind:"computed",producerMustRecompute(t){return t.value===Wc||t.value===Gc},producerRecomputeValue(t){if(t.value===Gc)throw new Error("");let e=t.value;t.value=Gc;let n=mo(t),r,o=!1;try{r=t.computation(),G(null),o=e!==Wc&&e!==$a&&r!==$a&&t.equal(e,r)}catch(i){r=$a,t.error=i}finally{Ii(t,n)}if(o){t.value=e;return}t.value=r,t.version++}});function Nw(){throw new Error}var kg=Nw;function vg(t){kg(t)}function F1(t){kg=t}var Fw=null;function j1(t,e){let n=Object.create(el);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Mg(n);return r[ht]=n,Xc(n),[r,a=>Ei(n,a),a=>V1(n,a)]}function Mg(t){return xi(t),t.value}function Ei(t,e){R1()||vg(t),t.equal(t.value,e)||(t.value=e,jw(t))}function V1(t,e){R1()||vg(t),Ei(t,e(t.value))}var el=$(I({},yo),{equal:Qc,value:void 0,kind:"signal"});function jw(t){t.version++,fg(),T1(t),Fw?.(t)}function Y(t){return typeof t=="function"}function Li(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var tl=Li(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Wa(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(i){e=i instanceof tl?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{wg(i)}catch(a){e=e??[],a instanceof tl?e=[...e,...a.errors]:e.push(a)}}if(e)throw new tl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)wg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Wa(n,e)}remove(e){let{_finalizers:n}=this;n&&Wa(n,e),e instanceof t&&e._removeParent(this)}};qe.EMPTY=(()=>{let t=new qe;return t.closed=!0,t})();var H1=qe.EMPTY;function nl(t){return t instanceof qe||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function wg(t){Y(t)?t():t.unsubscribe()}var cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Oi={setTimeout(t,e,...n){let{delegate:r}=Oi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Oi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function rl(t){Oi.setTimeout(()=>{let{onUnhandledError:e}=cn;if(e)e(t);else throw t})}function Ga(){}var Cg=B1("C",void 0,void 0);function bg(t){return B1("E",void 0,t)}function _g(t){return B1("N",t,void 0)}function B1(t,e,n){return{kind:t,value:e,error:n}}var vo=null;function Pi(t){if(cn.useDeprecatedSynchronousErrorHandling){let e=!vo;if(e&&(vo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=vo;if(vo=null,n)throw r}}else t()}function xg(t){cn.useDeprecatedSynchronousErrorHandling&&vo&&(vo.errorThrown=!0,vo.error=t)}var Mo=class extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nl(e)&&e.add(this)):this.destination=Bw}static create(e,n,r){return new Ai(e,n,r)}next(e){this.isStopped?q1(_g(e),this):this._next(e)}error(e){this.isStopped?q1(bg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?q1(Cg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Vw=Function.prototype.bind;function z1(t,e){return Vw.call(t,e)}var U1=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ol(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ol(r)}else ol(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ol(n)}}},Ai=class extends Mo{constructor(e,n,r){super();let o;if(Y(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&cn.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&z1(e.next,i),error:e.error&&z1(e.error,i),complete:e.complete&&z1(e.complete,i)}):o=e}this.destination=new U1(o)}};function ol(t){cn.useDeprecatedSynchronousErrorHandling?xg(t):rl(t)}function Hw(t){throw t}function q1(t,e){let{onStoppedNotification:n}=cn;n&&Oi.setTimeout(()=>n(t,e))}var Bw={closed:!0,next:Ga,error:Hw,complete:Ga};var Ti=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tt(t){return t}function $1(...t){return W1(t)}function W1(t){return t.length===0?Tt:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=qw(n)?n:new Ai(n,r,o);return Pi(()=>{let{operator:a,source:s}=this;i.add(a?a.call(i,s):s?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ig(r),new r((o,i)=>{let a=new Ai({next:s=>{try{n(s)}catch(c){i(c),a.unsubscribe()}},error:i,complete:o});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ti](){return this}pipe(...n){return W1(n)(this)}toPromise(n){return n=Ig(n),new n((r,o)=>{let i;this.subscribe(a=>i=a,a=>o(a),()=>r(i))})}}return t.create=e=>new t(e),t})();function Ig(t){var e;return(e=t??cn.Promise)!==null&&e!==void 0?e:Promise}function zw(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}function qw(t){return t&&t instanceof Mo||zw(t)&&nl(t)}function G1(t){return Y(t?.lift)}function se(t){return e=>{if(G1(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function re(t,e,n,r,o){return new Z1(t,e,n,r,o)}var Z1=class extends Mo{constructor(e,n,r,o,i,a){super(e),this.onFinalize=i,this.shouldUnsubscribe=a,this._next=n?function(s){try{n(s)}catch(c){e.error(c)}}:super._next,this._error=o?function(s){try{o(s)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ri(){return se((t,e)=>{let n=null;t._refCount++;let r=re(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ni=class extends ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,G1(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qe;let n=this.getSubject();e.add(this.source.subscribe(re(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qe.EMPTY)}return e}refCount(){return Ri()(this)}};var Sg=Li(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var je=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new il(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Sg}next(n){Pi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Pi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Pi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?H1:(this.currentObservers=null,i.push(n),new qe(()=>{this.currentObservers=null,Wa(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new ae;return n.source=this,n}}return t.create=(e,n)=>new il(e,n),t})(),il=class extends je{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:H1}};var Ze=class extends je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var It=new ae(t=>t.complete());function Dg(t){return t&&Y(t.schedule)}function Eg(t){return t[t.length-1]}function al(t){return Y(Eg(t))?t.pop():void 0}function Ir(t){return Dg(Eg(t))?t.pop():void 0}Le();var hl=t=>t&&typeof t.length=="number"&&typeof t!="function";function pl(t){return Y(t?.then)}function fl(t){return Y(t[Ti])}function gl(t){return Symbol.asyncIterator&&Y(t?.[Symbol.asyncIterator])}function yl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Gw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ml=Gw();function kl(t){return Y(t?.[ml])}Le();function vl(t){return dl(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield Sn(n.read());if(o)return yield Sn(void 0);yield yield Sn(r)}}finally{n.releaseLock()}})}function Ml(t){return Y(t?.getReader)}function Ue(t){if(t instanceof ae)return t;if(t!=null){if(fl(t))return Zw(t);if(hl(t))return Kw(t);if(pl(t))return Yw(t);if(gl(t))return Jg(t);if(kl(t))return Xw(t);if(Ml(t))return Qw(t)}throw yl(t)}function Zw(t){return new ae(e=>{let n=t[Ti]();if(Y(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Kw(t){return new ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Yw(t){return new ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,rl)})}function Xw(t){return new ae(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Jg(t){return new ae(e=>{Jw(t,e).catch(n=>e.error(n))})}function Qw(t){return Jg(vl(t))}function Jw(t,e){var n,r,o,i;return A(this,void 0,void 0,function*(){try{for(n=ul(t);r=yield n.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){o={error:a}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function St(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function wl(t,e=0){return se((n,r)=>{n.subscribe(re(r,o=>St(r,t,()=>r.next(o),e),()=>St(r,t,()=>r.complete(),e),o=>St(r,t,()=>r.error(o),e)))})}function Cl(t,e=0){return se((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ey(t,e){return Ue(t).pipe(Cl(e),wl(e))}function ty(t,e){return Ue(t).pipe(Cl(e),wl(e))}function ny(t,e){return new ae(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function ry(t,e){return new ae(n=>{let r;return St(n,e,()=>{r=t[ml](),St(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(a){n.error(a);return}i?n.complete():n.next(o)},0,!0)}),()=>Y(r?.return)&&r.return()})}function bl(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(n=>{St(n,e,()=>{let r=t[Symbol.asyncIterator]();St(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function oy(t,e){return bl(vl(t),e)}function iy(t,e){if(t!=null){if(fl(t))return ey(t,e);if(hl(t))return ny(t,e);if(pl(t))return ty(t,e);if(gl(t))return bl(t,e);if(kl(t))return ry(t,e);if(Ml(t))return oy(t,e)}throw yl(t)}function Se(t,e){return e?iy(t,e):Ue(t)}function z(...t){let e=Ir(t);return Se(t,e)}function Fi(t,e){let n=Y(t)?t:()=>t,r=o=>o.error(n());return new ae(e?o=>e.schedule(r,0,o):r)}function Q1(t){return!!t&&(t instanceof ae||Y(t.lift)&&Y(t.subscribe))}var Xn=Li(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(t,e){return se((n,r)=>{let o=0;n.subscribe(re(r,i=>{r.next(t.call(e,i,o++))}))})}var{isArray:eC}=Array;function tC(t,e){return eC(e)?t(...e):t(e)}function _l(t){return oe(e=>tC(t,e))}var{isArray:nC}=Array,{getPrototypeOf:rC,prototype:oC,keys:iC}=Object;function xl(t){if(t.length===1){let e=t[0];if(nC(e))return{args:e,keys:null};if(aC(e)){let n=iC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function aC(t){return t&&typeof t=="object"&&rC(t)===oC}function Il(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function Za(...t){let e=Ir(t),n=al(t),{args:r,keys:o}=xl(t);if(r.length===0)return Se([],e);let i=new ae(sC(r,e,o?a=>Il(o,a):Tt));return n?i.pipe(_l(n)):i}function sC(t,e,n=Tt){return r=>{ay(e,()=>{let{length:o}=t,i=new Array(o),a=o,s=o;for(let c=0;c<o;c++)ay(e,()=>{let l=Se(t[c],e),d=!1;l.subscribe(re(r,u=>{i[c]=u,d||(d=!0,s--),s||r.next(n(i.slice()))},()=>{--a||r.complete()}))},r)},r)}}function ay(t,e,n){t?St(n,t,e):e()}function sy(t,e,n,r,o,i,a,s){let c=[],l=0,d=0,u=!1,p=()=>{u&&!c.length&&!l&&e.complete()},h=k=>l<r?y(k):c.push(k),y=k=>{i&&e.next(k),l++;let M=!1;Ue(n(k,d++)).subscribe(re(e,v=>{o?.(v),i?h(v):e.next(v)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;c.length&&l<r;){let v=c.shift();a?St(e,a,()=>y(v)):y(v)}p()}catch(v){e.error(v)}}))};return t.subscribe(re(e,h,()=>{u=!0,p()})),()=>{s?.()}}function Ve(t,e,n=1/0){return Y(e)?Ve((r,o)=>oe((i,a)=>e(r,i,o,a))(Ue(t(r,o))),n):(typeof e=="number"&&(n=e),se((r,o)=>sy(r,o,t,n)))}function Sr(t=1/0){return Ve(Tt,t)}function cy(){return Sr(1)}function ji(...t){return cy()(Se(t,Ir(t)))}function Ka(t){return new ae(e=>{Ue(t()).subscribe(e)})}function J1(...t){let e=al(t),{args:n,keys:r}=xl(t),o=new ae(i=>{let{length:a}=n;if(!a){i.complete();return}let s=new Array(a),c=a,l=a;for(let d=0;d<a;d++){let u=!1;Ue(n[d]).subscribe(re(i,p=>{u||(u=!0,l--),s[d]=p},()=>c--,void 0,()=>{(!c||!u)&&(l||i.next(r?Il(r,s):s),i.complete())}))}});return e?o.pipe(_l(e)):o}function Dt(t,e){return se((n,r)=>{let o=0;n.subscribe(re(r,i=>t.call(e,i,o++)&&r.next(i)))})}function Qn(t){return se((e,n)=>{let r=null,o=!1,i;r=e.subscribe(re(n,void 0,void 0,a=>{i=Ue(t(a,Qn(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function ly(t,e,n,r,o){return(i,a)=>{let s=n,c=e,l=0;i.subscribe(re(a,d=>{let u=l++;c=s?t(c,d,u):(s=!0,d),r&&a.next(c)},o&&(()=>{s&&a.next(c),a.complete()})))}}function Dr(t,e){return Y(e)?Ve(t,e,1):Ve(t,1)}function Er(t){return se((e,n)=>{let r=!1;e.subscribe(re(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function Jn(t){return t<=0?()=>It:se((e,n)=>{let r=0;e.subscribe(re(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function Sl(t=cC){return se((e,n)=>{let r=!1;e.subscribe(re(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function cC(){return new Xn}function Ya(t){return se((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function er(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Dt((o,i)=>t(o,i,r)):Tt,Jn(1),n?Er(e):Sl(()=>new Xn))}function Vi(t){return t<=0?()=>It:se((e,n)=>{let r=[];e.subscribe(re(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function eh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Dt((o,i)=>t(o,i,r)):Tt,Vi(1),n?Er(e):Sl(()=>new Xn))}function th(t,e){return se(ly(t,e,arguments.length>=2,!0))}function nh(...t){let e=Ir(t);return se((n,r)=>{(e?ji(t,n,e):ji(t,n)).subscribe(r)})}function Mt(t,e){return se((n,r)=>{let o=null,i=0,a=!1,s=()=>a&&!o&&r.complete();n.subscribe(re(r,c=>{o?.unsubscribe();let l=0,d=i++;Ue(t(c,d)).subscribe(o=re(r,u=>r.next(e?e(c,u,d,l++):u),()=>{o=null,s()}))},()=>{a=!0,s()}))})}function Dl(t){return se((e,n)=>{Ue(t).subscribe(re(n,()=>n.complete(),Ga)),!n.closed&&e.subscribe(n)})}function nt(t,e,n){let r=Y(t)||e||n?{next:t,error:e,complete:n}:t;return r?se((o,i)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;o.subscribe(re(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;s=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Tt}function dy(t){let e=G(null);try{return t()}finally{G(e)}}var uy=$(I({},yo),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function hy(t){if(t.dirty=!1,t.version>0&&!Si(t))return;t.version++;let e=mo(t);try{t.cleanup(),t.fn()}finally{Ii(t,e)}}var Pl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",F=class extends Error{code;constructor(e,n){super(rr(e,n)),this.code=e}};function lC(t){return`NG0${Math.abs(t)}`}function rr(t,e){return`${lC(t)}${e?": "+e:""}`}var ts=globalThis;function pe(t){for(let e in t)if(t[e]===pe)return e;throw Error("")}function gy(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function nr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(nr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function fh(t,e){return t?e?`${t} ${e}`:t:e||""}var dC=pe({__forward_ref__:pe});function Ft(t){return t.__forward_ref__=Ft,t.toString=function(){return nr(this())},t}function it(t){return gh(t)?t():t}function gh(t){return typeof t=="function"&&t.hasOwnProperty(dC)&&t.__forward_ref__===Ft}function N(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jt(t){return{providers:t.providers||[],imports:t.imports||[]}}function ns(t){return uC(t,Al)}function yh(t){return ns(t)!==null}function uC(t,e){return t.hasOwnProperty(e)&&t[e]||null}function hC(t){let e=t?.[Al]??null;return e||null}function oh(t){return t&&t.hasOwnProperty(Ll)?t[Ll]:null}var Al=pe({\u0275prov:pe}),Ll=pe({\u0275inj:pe}),H=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function mh(t){return t&&!!t.\u0275providers}var kh=pe({\u0275cmp:pe}),vh=pe({\u0275dir:pe}),Mh=pe({\u0275pipe:pe}),wh=pe({\u0275mod:pe}),Qa=pe({\u0275fac:pe}),So=pe({__NG_ELEMENT_ID__:pe}),py=pe({__NG_ENV_ID__:pe});function rs(t){return typeof t=="string"?t:t==null?"":String(t)}function yy(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():rs(t)}var my=pe({ngErrorCode:pe}),pC=pe({ngErrorMessage:pe}),fC=pe({ngTokenPath:pe});function Ch(t,e){return ky("",-200,e)}function Tl(t,e){throw new F(-201,!1)}function ky(t,e,n){let r=new F(e,t);return r[my]=e,r[pC]=t,n&&(r[fC]=n),r}function gC(t){return t[my]}var ih;function vy(){return ih}function Rt(t){let e=ih;return ih=t,e}function bh(t,e,n){let r=ns(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Tl(t,"Injector")}var yC={},Co=yC,ah="__NG_DI_FLAG__",sh=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=bo(n)||0;try{return this.injector.get(e,r&8?null:Co,r)}catch(o){if(_i(o))return o;throw o}}};function mC(t,e=0){let n=Uc();if(n===void 0)throw new F(-203,!1);if(n===null)return bh(t,void 0,e);{let r=kC(e),o=n.retrieve(t,r);if(_i(o)){if(r.optional)return null;throw o}return o}}function q(t,e=0){return(vy()||mC)(it(t),e)}function _(t,e){return q(t,bo(e))}function bo(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function kC(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function ch(t){let e=[];for(let n=0;n<t.length;n++){let r=it(t[n]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let o,i=0;for(let a=0;a<r.length;a++){let s=r[a],c=vC(s);typeof c=="number"?c===-1?o=s.token:i|=c:o=s}e.push(q(o,i))}else e.push(q(r))}return e}function My(t,e){return t[ah]=e,t.prototype[ah]=e,t}function vC(t){return t[ah]}function _o(t,e){let n=t.hasOwnProperty(Qa);return n?t[Qa]:null}function wy(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=e[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function Cy(t){return t.flat(Number.POSITIVE_INFINITY)}function Rl(t,e){t.forEach(n=>Array.isArray(n)?Rl(n,e):e(n))}function _h(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function os(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function by(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function _y(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function xy(t,e,n){let r=Bi(t,e);return r>=0?t[r|1]=n:(r=~r,_y(t,r,e,n)),r}function Nl(t,e){let n=Bi(t,e);if(n>=0)return t[n|1]}function Bi(t,e){return MC(t,e,1)}function MC(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),a=t[i<<n];if(e===a)return i<<n;a>e?o=i:r=i+1}return~(o<<n)}var Or={},Nt=[],Pr=new H(""),xh=new H("",-1),Ih=new H(""),Ja=class{get(e,n=Co){if(n===Co){let o=ky("",-201);throw o.name="\u0275NotFound",o}return n}};function Sh(t){return t[wh]||null}function or(t){return t[kh]||null}function Dh(t){return t[vh]||null}function Iy(t){return t[Mh]||null}function is(t){return{\u0275providers:t}}function Fl(...t){return{\u0275providers:Eh(!0,t),\u0275fromNgModule:!0}}function Eh(t,...e){let n=[],r=new Set,o,i=a=>{n.push(a)};return Rl(e,a=>{let s=a;Ol(s,i,[],r)&&(o||=[],o.push(s))}),o!==void 0&&Sy(o,i),n}function Sy(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];Lh(o,i=>{e(i,r)})}}function Ol(t,e,n,r){if(t=it(t),!t)return!1;let o=null,i=oh(t),a=!i&&or(t);if(!i&&!a){let c=t.ngModule;if(i=oh(c),i)o=c;else return!1}else{if(a&&!a.standalone)return!1;o=t}let s=r.has(o);if(a){if(s)return!1;if(r.add(o),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let l of c)Ol(l,e,n,r)}}else if(i){if(i.imports!=null&&!s){r.add(o);let l;try{Rl(i.imports,d=>{Ol(d,e,n,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&Sy(l,e)}if(!s){let l=_o(o)||(()=>new o);e({provide:o,useFactory:l,deps:Nt},o),e({provide:Ih,useValue:o,multi:!0},o),e({provide:Pr,useValue:()=>q(o),multi:!0},o)}let c=i.providers;if(c!=null&&!s){let l=t;Lh(c,d=>{e(d,l)})}}else return!1;return o!==t&&t.providers!==void 0}function Lh(t,e){for(let n of t)mh(n)&&(n=n.\u0275providers),Array.isArray(n)?Lh(n,e):e(n)}var wC=pe({provide:String,useValue:pe});function Dy(t){return t!==null&&typeof t=="object"&&wC in t}function CC(t){return!!(t&&t.useExisting)}function bC(t){return!!(t&&t.useFactory)}function xo(t){return typeof t=="function"}function Ey(t){return!!t.useClass}var as=new H(""),El={},fy={},rh;function ss(){return rh===void 0&&(rh=new Ja),rh}var Ke=class{},Io=class extends Ke{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,dh(e,a=>this.processProvider(a)),this.records.set(xh,Hi(void 0,this)),o.has("environment")&&this.records.set(Ke,Hi(void 0,this));let i=this.records.get(as);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Ih,Nt,{self:!0}))}retrieve(e,n){let r=bo(n)||0;try{return this.get(e,Co,r)}catch(o){if(_i(o))return o;throw o}}destroy(){Xa(this),this._destroyed=!0;let e=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(e)}}onDestroy(e){return Xa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Xa(this);let n=In(this),r=Rt(void 0),o;try{return e()}finally{In(n),Rt(r)}}get(e,n=Co,r){if(Xa(this),e.hasOwnProperty(py))return e[py](this);let o=bo(r),i,a=In(this),s=Rt(void 0);try{if(!(o&4)){let l=this.records.get(e);if(l===void 0){let d=DC(e)&&ns(e);d&&this.injectableDefInScope(d)?l=Hi(lh(e),El):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,o)}let c=o&2?ss():this.parent;return n=o&8&&n===Co?null:n,c.get(e,n)}catch(c){let l=gC(c);throw l===-200||l===-201?new F(l,null):c}finally{Rt(s),In(a)}}resolveInjectorInitializers(){let e=G(null),n=In(this),r=Rt(void 0),o;try{let i=this.get(Pr,Nt,{self:!0});for(let a of i)a()}finally{In(n),Rt(r),G(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(nr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=it(e);let n=xo(e)?e:it(e&&e.provide),r=xC(e);if(!xo(e)&&e.multi===!0){let o=this.records.get(n);o||(o=Hi(void 0,El,!0),o.factory=()=>ch(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let o=G(null);try{if(n.value===fy)throw Ch(nr(e));return n.value===El&&(n.value=fy,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&SC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{G(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=it(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function lh(t){let e=ns(t),n=e!==null?e.factory:_o(t);if(n!==null)return n;if(t instanceof H)throw new F(204,!1);if(t instanceof Function)return _C(t);throw new F(204,!1)}function _C(t){if(t.length>0)throw new F(204,!1);let n=hC(t);return n!==null?()=>n.factory(t):()=>new t}function xC(t){if(Dy(t))return Hi(void 0,t.useValue);{let e=Oh(t);return Hi(e,El)}}function Oh(t,e,n){let r;if(xo(t)){let o=it(t);return _o(o)||lh(o)}else if(Dy(t))r=()=>it(t.useValue);else if(bC(t))r=()=>t.useFactory(...ch(t.deps||[]));else if(CC(t))r=(o,i)=>q(it(t.useExisting),i!==void 0&&i&8?8:void 0);else{let o=it(t&&(t.useClass||t.provide));if(IC(t))r=()=>new o(...ch(t.deps));else return _o(o)||lh(o)}return r}function Xa(t){if(t.destroyed)throw new F(205,!1)}function Hi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function IC(t){return!!t.deps}function SC(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function DC(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function dh(t,e){for(let n of t)Array.isArray(n)?dh(n,e):n&&mh(n)?dh(n.\u0275providers,e):e(n)}function ft(t,e){let n;t instanceof Io?(Xa(t),n=t):n=new sh(t);let r,o=In(n),i=Rt(void 0);try{return e()}finally{In(o),Rt(i)}}function Ly(){return vy()!==void 0||Uc()!=null}var ln=0,W=1,Z=2,Ye=3,Kt=4,wt=5,Do=6,zi=7,He=8,ir=9,En=10,Oe=11,qi=12,Ph=13,Eo=14,Ct=15,Ar=16,Lo=17,Ln=18,cs=19,Ah=20,tr=21,jl=22,ar=23,Vt=24,Oo=25,Po=26,$e=27,Oy=1,Th=6,Tr=7,ls=8,Ao=9,Ne=10;function On(t){return Array.isArray(t)&&typeof t[Oy]=="object"}function dn(t){return Array.isArray(t)&&t[Oy]===!0}function Rh(t){return(t.flags&4)!==0}function Rr(t){return t.componentOffset>-1}function ds(t){return(t.flags&1)===1}function Pn(t){return!!t.template}function Ui(t){return(t[Z]&512)!==0}function To(t){return(t[Z]&256)===256}var Py="svg",Ay="math";function Yt(t){for(;Array.isArray(t);)t=t[ln];return t}function Nh(t,e){return Yt(e[t])}function un(t,e){return Yt(e[t.index])}function us(t,e){return t.data[e]}function Ty(t,e){return t[e]}function Xt(t,e){let n=e[t];return On(n)?n:n[ln]}function Ry(t){return(t[Z]&4)===4}function Vl(t){return(t[Z]&128)===128}function Ny(t){return dn(t[Ye])}function An(t,e){return e==null?null:t[e]}function Fh(t){t[Lo]=0}function jh(t){t[Z]&1024||(t[Z]|=1024,Vl(t)&&Nr(t))}function Fy(t,e){for(;t>0;)e=e[Eo],t--;return e}function hs(t){return!!(t[Z]&9216||t[Vt]?.dirty)}function Hl(t){t[En].changeDetectionScheduler?.notify(8),t[Z]&64&&(t[Z]|=1024),hs(t)&&Nr(t)}function Nr(t){t[En].changeDetectionScheduler?.notify(0);let e=Lr(t);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!Vl(e)));)e=Lr(e)}function Vh(t,e){if(To(t))throw new F(911,!1);t[tr]===null&&(t[tr]=[]),t[tr].push(e)}function jy(t,e){if(t[tr]===null)return;let n=t[tr].indexOf(e);n!==-1&&t[tr].splice(n,1)}function Lr(t){let e=t[Ye];return dn(e)?e[Ye]:e}function Hh(t){return t[zi]??=[]}function Bh(t){return t.cleanup??=[]}function Vy(t,e,n,r){let o=Hh(e);o.push(n),t.firstCreatePass&&Bh(t).push(r,o.length-1)}var ee={lFrame:em(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var uh=!1;function Hy(){return ee.lFrame.elementDepthCount}function By(){ee.lFrame.elementDepthCount++}function zy(){ee.lFrame.elementDepthCount--}function zh(){return ee.bindingsEnabled}function qh(){return ee.skipHydrationRootTNode!==null}function qy(t){return ee.skipHydrationRootTNode===t}function Uy(){ee.skipHydrationRootTNode=null}function te(){return ee.lFrame.lView}function Xe(){return ee.lFrame.tView}function E(t){return ee.lFrame.contextLView=t,t[He]}function L(t){return ee.lFrame.contextLView=null,t}function at(){let t=Uh();for(;t!==null&&t.type===64;)t=t.parent;return t}function Uh(){return ee.lFrame.currentTNode}function $y(){let t=ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $i(t,e){let n=ee.lFrame;n.currentTNode=t,n.isParent=e}function $h(){return ee.lFrame.isParent}function Wh(){ee.lFrame.isParent=!1}function Wy(){return ee.lFrame.contextLView}function Gh(){return uh}function Wi(t){let e=uh;return uh=t,e}function Gy(t){return ee.lFrame.bindingIndex=t}function Ro(){return ee.lFrame.bindingIndex++}function Zy(t){let e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ky(){return ee.lFrame.inI18n}function Yy(t,e){let n=ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,Bl(e)}function Xy(){return ee.lFrame.currentDirectiveIndex}function Bl(t){ee.lFrame.currentDirectiveIndex=t}function Qy(t){let e=ee.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Zh(){return ee.lFrame.currentQueryIndex}function zl(t){ee.lFrame.currentQueryIndex=t}function EC(t){let e=t[W];return e.type===2?e.declTNode:e.type===1?t[wt]:null}function Kh(t,e,n){if(n&4){let o=e,i=t;for(;o=o.parent,o===null&&!(n&1);)if(o=EC(i),o===null||(i=i[Eo],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=ee.lFrame=Jy();return r.currentTNode=e,r.lView=t,!0}function ql(t){let e=Jy(),n=t[W];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Jy(){let t=ee.lFrame,e=t===null?null:t.child;return e===null?em(t):e}function em(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function tm(){let t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Yh=tm;function Ul(){let t=tm();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nm(t){return(ee.lFrame.contextLView=Fy(t,ee.lFrame.contextLView))[He]}function Fr(){return ee.lFrame.selectedIndex}function jr(t){ee.lFrame.selectedIndex=t}function $l(){let t=ee.lFrame;return us(t.tView,t.selectedIndex)}function rm(){return ee.lFrame.currentNamespace}var om=!0;function Wl(){return om}function Gl(t){om=t}function hh(t,e=null,n=null,r){let o=Xh(t,e,n,r);return o.resolveInjectorInitializers(),o}function Xh(t,e=null,n=null,r,o=new Set){let i=[n||Nt,Fl(t)];return r=r||(typeof t=="object"?void 0:nr(t)),new Io(i,e||ss(),r||null,o)}var pt=class t{static THROW_IF_NOT_FOUND=Co;static NULL=new Ja;static create(e,n){if(Array.isArray(e))return hh({name:""},n,e,"");{let r=e.name??"";return hh({name:r},e.parent,e.providers,r)}}static \u0275prov=N({token:t,providedIn:"any",factory:()=>q(xh)});static __NG_ELEMENT_ID__=-1},We=new H(""),Qt=(()=>{class t{static __NG_ELEMENT_ID__=LC;static __NG_ENV_ID__=n=>n}return t})(),es=class extends Qt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return To(this._lView)}onDestroy(e){let n=this._lView;return Vh(n,e),()=>jy(n,e)}};function LC(){return new es(te())}var Zt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ht=new H("",{providedIn:"root",factory:()=>{let t=_(Ke),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Zt),e.handleError(n))}}}),im={provide:Pr,useValue:()=>void _(Zt),multi:!0};function Qh(t){return typeof t=="function"&&t[ht]!==void 0}function ce(t,e){let[n,r,o]=j1(t,e?.equal),i=n,a=i[ht];return i.set=r,i.update=o,i.asReadonly=Jh.bind(i),i}function Jh(){let t=this[ht];if(t.readonlyFn===void 0){let e=()=>this();e[ht]=t,t.readonlyFn=e}return t.readonlyFn}function e0(t){return Qh(t)&&typeof t.set=="function"}var Gi=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=OC}return t})();function OC(){return new Gi(te(),at())}var Dn=class{},Zl=new H("",{providedIn:"root",factory:()=>!1});var t0=new H(""),n0=new H(""),sr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ze(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ae(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=N({token:t,providedIn:"root",factory:()=>new t})}return t})();function No(...t){}var ps=(()=>{class t{static \u0275prov=N({token:t,providedIn:"root",factory:()=>new ph})}return t})(),ph=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Ji(t){return{toString:t}.toString()}var Kl="__parameters__";function HC(t){return function(...n){if(t){let r=t(...n);for(let o in r)this[o]=r[o]}}}function BC(t,e,n){return Ji(()=>{let r=HC(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let a=new o(...i);return s.annotation=a,s;function s(c,l,d){let u=c.hasOwnProperty(Kl)?c[Kl]:Object.defineProperty(c,Kl,{value:[]})[Kl];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(a),c}}return o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var U0=My(BC("Optional"),8);function zC(t){return typeof t=="function"}var nd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Vm(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Jt=(()=>{let t=()=>Hm;return t.ngInherit=!0,t})();function Hm(t){return t.type.prototype.ngOnChanges&&(t.setInput=UC),qC}function qC(){let t=zm(this),e=t?.current;if(e){let n=t.previous;if(n===Or)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function UC(t,e,n,r,o){let i=this.declaredInputs[r],a=zm(t)||$C(t,{previous:Or,current:null}),s=a.current||(a.current={}),c=a.previous,l=c[i];s[i]=new nd(l&&l.currentValue,n,c===Or),Vm(t,e,o,n)}var Bm="__ngSimpleChanges__";function zm(t){return t[Bm]||null}function $C(t,e){return t[Bm]=e}var am=[];var ge=function(t,e=null,n){for(let r=0;r<am.length;r++){let o=am[r];o(t,e,n)}};function WC(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let a=Hm(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function qm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=i;a&&(t.contentHooks??=[]).push(-n,a),s&&((t.contentHooks??=[]).push(n,s),(t.contentCheckHooks??=[]).push(n,s)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Ql(t,e,n){Um(t,e,3,n)}function Jl(t,e,n,r){(t[Z]&3)===n&&Um(t,e,n,r)}function r0(t,e){let n=t[Z];(n&3)===e&&(n&=16383,n+=1,t[Z]=n)}function Um(t,e,n,r){let o=r!==void 0?t[Lo]&65535:0,i=r??-1,a=e.length-1,s=0;for(let c=o;c<a;c++)if(typeof e[c+1]=="number"){if(s=e[c],r!=null&&s>=r)break}else e[c]<0&&(t[Lo]+=65536),(s<i||i==-1)&&(GC(t,n,e,c),t[Lo]=(t[Lo]&4294901760)+c+2),c++}function sm(t,e){ge(4,t,e);let n=G(null);try{e.call(t)}finally{G(n),ge(5,t,e)}}function GC(t,e,n,r){let o=n[r]<0,i=n[r+1],a=o?-n[r]:n[r],s=t[a];o?t[Z]>>14<t[Lo]>>16&&(t[Z]&3)===e&&(t[Z]+=16384,sm(s,i)):sm(s,i)}var Ki=-1,jo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,o){this.factory=e,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function ZC(t){return(t.flags&8)!==0}function KC(t){return(t.flags&16)!==0}function YC(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],a=n[r++],s=n[r++];t.setAttribute(e,a,s,i)}else{let i=o,a=n[++r];XC(i)?t.setProperty(e,i,a):t.setAttribute(e,i,a),r++}}return r}function $m(t){return t===3||t===4||t===6}function XC(t){return t.charCodeAt(0)===64}function ys(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?cm(t,n,o,null,e[++r]):cm(t,n,o,null,null))}}return t}function cm(t,e,n,r,o){let i=0,a=t.length;if(e===-1)a=-1;else for(;i<t.length;){let s=t[i++];if(typeof s=="number"){if(s===e){a=-1;break}else if(s>e){a=i-1;break}}}for(;i<t.length;){let s=t[i];if(typeof s=="number")break;if(s===n){o!==null&&(t[i+1]=o);return}i++,o!==null&&i++}a!==-1&&(t.splice(a,0,e),i=a+1),t.splice(i++,0,n),o!==null&&t.splice(i++,0,o)}function Wm(t){return t!==Ki}function rd(t){return t&32767}function QC(t){return t>>16}function od(t,e){let n=QC(t),r=e;for(;n>0;)r=r[Eo],n--;return r}var f0=!0;function lm(t){let e=f0;return f0=t,e}var JC=256,Gm=JC-1,Zm=5,eb=0,Tn={};function tb(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(So)&&(r=n[So]),r==null&&(r=n[So]=eb++);let o=r&Gm,i=1<<o;e.data[t+(o>>Zm)]|=i}function id(t,e){let n=Km(t,e);if(n!==-1)return n;let r=e[W];r.firstCreatePass&&(t.injectorIndex=e.length,o0(r.data,t),o0(e,null),o0(r.blueprint,null));let o=$0(t,e),i=t.injectorIndex;if(Wm(o)){let a=rd(o),s=od(o,e),c=s[W].data;for(let l=0;l<8;l++)e[i+l]=s[a+l]|c[a+l]}return e[i+8]=o,i}function o0(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Km(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function $0(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=ek(o),r===null)return Ki;if(n++,o=o[Eo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ki}function g0(t,e,n){tb(t,e,n)}function nb(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if($m(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===e)return n[o+1];o=o+2}}}return null}function Ym(t,e,n){if(n&8||t!==void 0)return t;Tl(e,"NodeInjector")}function Xm(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=t[ir],i=Rt(void 0);try{return o?o.get(e,r,n&8):bh(e,r,n&8)}finally{Rt(i)}}return Ym(r,e,n)}function Qm(t,e,n,r=0,o){if(t!==null){if(e[Z]&2048&&!(r&2)){let a=ab(t,e,n,r,Tn);if(a!==Tn)return a}let i=Jm(t,e,n,r,Tn);if(i!==Tn)return i}return Xm(e,n,r,o)}function Jm(t,e,n,r,o){let i=ob(n);if(typeof i=="function"){if(!Kh(e,t,r))return r&1?Ym(o,n,r):Xm(e,n,r,o);try{let a;if(a=i(r),a==null&&!(r&8))Tl(n);else return a}finally{Yh()}}else if(typeof i=="number"){let a=null,s=Km(t,e),c=Ki,l=r&1?e[Ct][wt]:null;for((s===-1||r&4)&&(c=s===-1?$0(t,e):e[s+8],c===Ki||!um(r,!1)?s=-1:(a=e[W],s=rd(c),e=od(c,e)));s!==-1;){let d=e[W];if(dm(i,s,d.data)){let u=rb(s,e,n,a,r,l);if(u!==Tn)return u}c=e[s+8],c!==Ki&&um(r,e[W].data[s+8]===l)&&dm(i,s,e)?(a=d,s=rd(c),e=od(c,e)):s=-1}}return o}function rb(t,e,n,r,o,i){let a=e[W],s=a.data[t+8],c=r==null?Rr(s)&&f0:r!=a&&(s.type&3)!==0,l=o&1&&i===s,d=ed(s,a,n,c,l);return d!==null?ms(e,a,d,s,o):Tn}function ed(t,e,n,r,o){let i=t.providerIndexes,a=e.data,s=i&1048575,c=t.directiveStart,l=t.directiveEnd,d=i>>20,u=r?s:s+d,p=o?s+d:l;for(let h=u;h<p;h++){let y=a[h];if(h<c&&n===y||h>=c&&y.type===n)return h}if(o){let h=a[c];if(h&&Pn(h)&&h.type===n)return c}return null}function ms(t,e,n,r,o){let i=t[n],a=e.data;if(i instanceof jo){let s=i;if(s.resolving){let h=yy(a[n]);throw Ch(h)}let c=lm(s.canSeeViewProviders);s.resolving=!0;let l=a[n].type||a[n],d,u=s.injectImpl?Rt(s.injectImpl):null,p=Kh(t,r,0);try{i=t[n]=s.factory(void 0,o,a,t,r),e.firstCreatePass&&n>=r.directiveStart&&WC(n,a[n],e)}finally{u!==null&&Rt(u),lm(c),s.resolving=!1,Yh()}}return i}function ob(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(So)?t[So]:void 0;return typeof e=="number"?e>=0?e&Gm:ib:e}function dm(t,e,n){let r=1<<t;return!!(n[e+(t>>Zm)]&r)}function um(t,e){return!(t&2)&&!(t&1&&e)}var Fo=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Qm(this._tNode,this._lView,e,bo(r),n)}};function ib(){return new Fo(at(),te())}function pn(t){return Ji(()=>{let e=t.prototype.constructor,n=e[Qa]||y0(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[Qa]||y0(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function y0(t){return gh(t)?()=>{let e=y0(it(t));return e&&e()}:_o(t)}function ab(t,e,n,r,o){let i=t,a=e;for(;i!==null&&a!==null&&a[Z]&2048&&!Ui(a);){let s=Jm(i,a,n,r|2,Tn);if(s!==Tn)return s;let c=i.parent;if(!c){let l=a[Ah];if(l){let d=l.get(n,Tn,r);if(d!==Tn)return d}c=ek(a),a=a[Eo]}i=c}return o}function ek(t){let e=t[W],n=e.type;return n===2?e.declTNode:n===1?t[wt]:null}function bs(t){return nb(at(),t)}function sb(){return ea(at(),te())}function ea(t,e){return new st(un(t,e))}var st=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=sb}return t})();function cb(t){return t instanceof st?t.nativeElement:t}function lb(){return this._results[Symbol.iterator]()}var ad=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new je}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Cy(e);(this._changesDetected=!wy(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=lb};function tk(t){return(t.flags&128)===128}var W0=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(W0||{}),nk=new Map,db=0;function ub(){return db++}function hb(t){nk.set(t[cs],t)}function m0(t){nk.delete(t[cs])}var hm="__ngContext__";function Yi(t,e){On(e)?(t[hm]=e[cs],hb(e)):t[hm]=e}function rk(t){return ik(t[qi])}function ok(t){return ik(t[Kt])}function ik(t){for(;t!==null&&!dn(t);)t=t[Kt];return t}var k0;function G0(t){k0=t}function ak(){if(k0!==void 0)return k0;if(typeof document<"u")return document;throw new F(210,!1)}var wd=new H("",{providedIn:"root",factory:()=>pb}),pb="ng",Cd=new H(""),_s=new H("",{providedIn:"platform",factory:()=>"unknown"});var bd=new H("",{providedIn:"root",factory:()=>ak().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var fb="h",gb="b";var sk="r";var ck="di";var lk=!1,dk=new H("",{providedIn:"root",factory:()=>lk});var Z0=new H("");var yb=(t,e,n,r)=>{};function mb(t,e,n,r){yb(t,e,n,r)}function _d(t){return(t.flags&32)===32}var kb=()=>null;function uk(t,e,n=!1){return kb(t,e,n)}function hk(t,e){let n=t.contentQueries;if(n!==null){let r=G(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],a=n[o+1];if(a!==-1){let s=t.data[a];zl(i),s.contentQueries(2,e[a],a)}}}finally{G(r)}}}function v0(t,e,n){zl(0);let r=G(null);try{e(t,n)}finally{G(r)}}function pk(t,e,n){if(Rh(e)){let r=G(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let a=o;a<i;a++){let s=t.data[a];if(s.contentQueries){let c=n[a];s.contentQueries(1,c,a)}}}finally{G(r)}}}var cr=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(cr||{});var Yl;function vb(){if(Yl===void 0&&(Yl=null,ts.trustedTypes))try{Yl=ts.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Yl}function pm(t){return vb()?.createScriptURL(t)||t}var sd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pl})`}};function xs(t){return t instanceof sd?t.changingThisBreaksApplicationSecurity:t}function K0(t,e){let n=fk(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Pl})`)}return n===e}function fk(t){return t instanceof sd&&t.getTypeName()||null}var Mb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gk(t){return t=String(t),t.match(Mb)?t:"unsafe:"+t}var xd=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(xd||{});function yk(t){let e=kk();return e?e.sanitize(xd.URL,t)||"":K0(t,"URL")?xs(t):gk(rs(t))}function mk(t){let e=kk();if(e)return pm(e.sanitize(xd.RESOURCE_URL,t)||"");if(K0(t,"ResourceURL"))return pm(xs(t));throw new F(904,!1)}function wb(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?mk:yk}function Y0(t,e,n){return wb(e,n)(t)}function kk(){let t=te();return t&&t[En].sanitizer}function vk(t){return t instanceof Function?t():t}function Cb(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}var Mk="ng-template";function bb(t,e,n,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&Cb(e[o+1].toLowerCase(),n,0)!==-1)return!0}else if(X0(t))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function X0(t){return t.type===4&&t.value!==Mk}function _b(t,e,n){let r=t.type===4&&!n?Mk:t.value;return e===r}function xb(t,e,n){let r=4,o=t.attrs,i=o!==null?Db(o):0,a=!1;for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number"){if(!a&&!hn(r)&&!hn(c))return!1;if(a&&hn(c))continue;a=!1,r=c|r&1;continue}if(!a)if(r&4){if(r=2|r&1,c!==""&&!_b(t,c,n)||c===""&&e.length===1){if(hn(r))return!1;a=!0}}else if(r&8){if(o===null||!bb(t,o,c,n)){if(hn(r))return!1;a=!0}}else{let l=e[++s],d=Ib(c,o,X0(t),n);if(d===-1){if(hn(r))return!1;a=!0;continue}if(l!==""){let u;if(d>i?u="":u=o[d+1].toLowerCase(),r&2&&l!==u){if(hn(r))return!1;a=!0}}}}return hn(r)||a}function hn(t){return(t&1)===0}function Ib(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let a=e[o];if(a===t)return o;if(a===3||a===6)i=!0;else if(a===1||a===2){let s=e[++o];for(;typeof s=="string";)s=e[++o];continue}else{if(a===4)break;if(a===0){o+=4;continue}}o+=i?1:2}return-1}else return Eb(e,t)}function wk(t,e,n=!1){for(let r=0;r<e.length;r++)if(xb(t,e[r],n))return!0;return!1}function Sb(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function Db(t){for(let e=0;e<t.length;e++){let n=t[e];if($m(n))return e}return t.length}function Eb(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Lb(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function fm(t,e){return t?":not("+e.trim()+")":e}function Ob(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(r&2){let s=t[++n];o+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?o+="."+a:r&4&&(o+=" "+a);else o!==""&&!hn(a)&&(e+=fm(i,o),o=""),r=a,i=i||!hn(r);n++}return o!==""&&(e+=fm(i,o)),e}function Pb(t){return t.map(Ob).join(",")}function Ab(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!hn(o))break;o=i}r++}return n.length&&e.push(1,...n),e}var lr={};function Tb(t,e){return t.createText(e)}function Rb(t,e,n){t.setValue(e,n)}function Ck(t,e,n){return t.createElement(e,n)}function cd(t,e,n,r,o){t.insertBefore(e,n,r,o)}function bk(t,e,n){t.appendChild(e,n)}function gm(t,e,n,r,o){r!==null?cd(t,e,n,r,o):bk(t,e,n)}function _k(t,e,n,r){t.removeChild(null,e,n,r)}function Nb(t,e,n){t.setAttribute(e,"style",n)}function Fb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function xk(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&YC(t,e,r),o!==null&&Fb(t,e,o),i!==null&&Nb(t,e,i)}function Q0(t,e,n,r,o,i,a,s,c,l,d){let u=$e+r,p=u+o,h=jb(u,p),y=typeof l=="function"?l():l;return h[W]={type:t,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:d}}function jb(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:lr);return n}function Vb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Q0(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function J0(t,e,n,r,o,i,a,s,c,l,d){let u=e.blueprint.slice();return u[ln]=o,u[Z]=r|4|128|8|64|1024,(l!==null||t&&t[Z]&2048)&&(u[Z]|=2048),Fh(u),u[Ye]=u[Eo]=t,u[He]=n,u[En]=a||t&&t[En],u[Oe]=s||t&&t[Oe],u[ir]=c||t&&t[ir]||null,u[wt]=i,u[cs]=ub(),u[Do]=d,u[Ah]=l,u[Ct]=e.type==2?t[Ct]:u,u}function Hb(t,e,n){let r=un(e,t),o=Vb(n),i=t[En].rendererFactory,a=ep(t,J0(t,o,null,Ik(n),r,e,null,i.createRenderer(r,n),null,null,null));return t[e.index]=a}function Ik(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Sk(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function ep(t,e){return t[qi]?t[Ph][Kt]=e:t[qi]=e,t[Ph]=e,e}function C(t=1){Dk(Xe(),te(),Fr()+t,!1)}function Dk(t,e,n,r){if(!r)if((e[Z]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Ql(e,i,n)}else{let i=t.preOrderHooks;i!==null&&Jl(e,i,0,n)}jr(n)}var Id=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Id||{});function M0(t,e,n,r){let o=G(null);try{let[i,a,s]=t.inputs[n],c=null;(a&Id.SignalBased)!==0&&(c=e[i][ht]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,i):Vm(e,c,i,r)}finally{G(o)}}var Rn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Rn||{}),Bb;function tp(t,e){return Bb(t,e)}var Vo=new Set,Sd=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Sd||{}),Uo=new H(""),ym=new Set;function Nn(t){ym.has(t)||(ym.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Ek=!1,w0=class extends je{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Ly()&&(this.destroyRef=_(Qt,{optional:!0})??void 0,this.pendingTasks=_(sr,{optional:!0})??void 0)}emit(e){let n=G(null);try{super.next(e)}finally{G(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),a=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:o,error:i,complete:a});return e instanceof qe&&e.add(s),s}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},be=w0;function Lk(t){let e,n;function r(){t=No;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function mm(t){return queueMicrotask(()=>t()),()=>{t=No}}var np="isAngularZone",ld=np+"_ID",zb=0,Ge=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new be(!1);onMicrotaskEmpty=new be(!1);onStable=new be(!1);onError=new be(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Ek}=e;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&r,a.shouldCoalesceRunChangeDetection=o,a.callbackScheduled=!1,a.scheduleInRootZone=i,$b(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(np)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new F(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+o,e,qb,No,No);try{return i.runTask(a,n,r)}finally{i.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},qb={};function rp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ub(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Lk(()=>{t.callbackScheduled=!1,C0(t),t.isCheckStableRunning=!0,rp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),C0(t)}function $b(t){let e=()=>{Ub(t)},n=zb++;t._inner=t._inner.fork({name:"angular",properties:{[np]:!0,[ld]:n,[ld+n]:!0},onInvokeTask:(r,o,i,a,s,c)=>{if(Wb(c))return r.invokeTask(i,a,s,c);try{return km(t),r.invokeTask(i,a,s,c)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),vm(t)}},onInvoke:(r,o,i,a,s,c,l)=>{try{return km(t),r.invoke(i,a,s,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Gb(c)&&e(),vm(t)}},onHasTask:(r,o,i,a)=>{r.hasTask(i,a),o===i&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,C0(t),rp(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,o,i,a)=>(r.handleError(i,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function C0(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function km(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vm(t){t._nesting--,rp(t)}var dd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new be;onMicrotaskEmpty=new be;onStable=new be;onError=new be;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}};function Wb(t){return Ok(t,"__ignore_ng_zone__")}function Gb(t){return Ok(t,"__scheduler_tick__")}function Ok(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var op=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=N({token:t,providedIn:"root",factory:()=>new t})}return t})(),Pk=[0,1,2,3],Ak=(()=>{class t{ngZone=_(Ge);scheduler=_(Dn);errorHandler=_(Zt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){_(Uo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ge(16),this.executing=!0;for(let r of Pk)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ge(17)}register(n){let{view:r}=n;r!==void 0?((r[Oo]??=[]).push(n),Nr(r),r[Z]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Sd.AFTER_NEXT_RENDER,n):n()}static \u0275prov=N({token:t,providedIn:"root",factory:()=>new t})}return t})(),ud=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,o,i,a=null){this.impl=e,this.hooks=n,this.view=r,this.once=o,this.snapshot=a,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Oo];e&&(this.view[Oo]=e.filter(n=>n!==this))}};function Is(t,e){let n=e?.injector??_(pt);return Nn("NgAfterNextRender"),Kb(t,n,e,!0)}function Zb(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Kb(t,e,n,r){let o=e.get(op);o.impl??=e.get(Ak);let i=e.get(Uo,null,{optional:!0}),a=n?.manualCleanup!==!0?e.get(Qt):null,s=e.get(Gi,null,{optional:!0}),c=new ud(o.impl,Zb(t),s?.view,r,a,i?.snapshot(null));return o.impl.register(c),c}var Tk=new H("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Rk(t,e,n){let r=t.get(Tk);if(Array.isArray(e))for(let o of e)r.queue.add(o),n?.detachedLeaveAnimationFns?.push(o);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function Yb(t,e){let n=t.get(Tk);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function Xb(t,e){for(let[n,r]of e)Rk(t,r.animateFns)}function Mm(t,e,n,r){let o=t?.[Po]?.enter;e!==null&&o&&o.has(n.index)&&Xb(r,o)}function Zi(t,e,n,r,o,i,a,s){if(o!=null){let c,l=!1;dn(o)?c=o:On(o)&&(l=!0,o=o[ln]);let d=Yt(o);t===0&&r!==null?(Mm(s,r,i,n),a==null?bk(e,r,d):cd(e,r,d,a||null,!0)):t===1&&r!==null?(Mm(s,r,i,n),cd(e,r,d,a||null,!0)):t===2?wm(s,i,n,u=>{_k(e,d,l,u)}):t===3&&wm(s,i,n,()=>{e.destroyNode(d)}),c!=null&&c8(e,t,n,c,i,r,a)}}function Qb(t,e){Nk(t,e),e[ln]=null,e[wt]=null}function Jb(t,e,n,r,o,i){r[ln]=o,r[wt]=e,Ed(t,r,n,1,o,i)}function Nk(t,e){e[En].changeDetectionScheduler?.notify(9),Ed(t,e,e[Oe],2,null,null)}function e8(t){let e=t[qi];if(!e)return i0(t[W],t);for(;e;){let n=null;if(On(e))n=e[qi];else{let r=e[Ne];r&&(n=r)}if(!n){for(;e&&!e[Kt]&&e!==t;)On(e)&&i0(e[W],e),e=e[Ye];e===null&&(e=t),On(e)&&i0(e[W],e),n=e&&e[Kt]}e=n}}function ip(t,e){let n=t[Ao],r=n.indexOf(e);n.splice(r,1)}function Dd(t,e){if(To(e))return;let n=e[Oe];n.destroyNode&&Ed(t,e,n,3,null,null),e8(e)}function i0(t,e){if(To(e))return;let n=G(null);try{e[Z]&=-129,e[Z]|=256,e[Vt]&&ko(e[Vt]),r8(t,e),n8(t,e),e[W].type===1&&e[Oe].destroy();let r=e[Ar];if(r!==null&&dn(e[Ye])){r!==e[Ye]&&ip(r,e);let o=e[Ln];o!==null&&o.detachView(t)}m0(e)}finally{G(n)}}function wm(t,e,n,r){let o=t?.[Po];if(o==null||o.leave==null||!o.leave.has(e.index))return r(!1);t&&Vo.add(t),Rk(n,()=>{if(o.leave&&o.leave.has(e.index)){let a=o.leave.get(e.index),s=[];if(a){for(let c=0;c<a.animateFns.length;c++){let l=a.animateFns[c],{promise:d}=l();s.push(d)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(s),t8(t,r)}else t&&Vo.delete(t),r(!1)},o)}function t8(t,e){let n=t[Po]?.running;if(n){n.then(()=>{t[Po].running=void 0,Vo.delete(t),e(!0)});return}e(!1)}function n8(t,e){let n=t.cleanup,r=e[zi];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let s=n[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[n[a+1]];n[a].call(s)}r!==null&&(e[zi]=null);let o=e[tr];if(o!==null){e[tr]=null;for(let a=0;a<o.length;a++){let s=o[a];s()}}let i=e[ar];if(i!==null){e[ar]=null;for(let a of i)a.destroy()}}function r8(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof jo)){let i=n[r+1];if(Array.isArray(i))for(let a=0;a<i.length;a+=2){let s=o[i[a]],c=i[a+1];ge(4,s,c);try{c.call(s)}finally{ge(5,s,c)}}else{ge(4,o,i);try{i.call(o)}finally{ge(5,o,i)}}}}}function Fk(t,e,n){return o8(t,e.parent,n)}function o8(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[ln];if(Rr(r)){let{encapsulation:o}=t.data[r.directiveStart+r.componentOffset];if(o===cr.None||o===cr.Emulated)return null}return un(r,n)}function jk(t,e,n){return a8(t,e,n)}function i8(t,e,n){return t.type&40?un(t,n):null}var a8=i8,Cm;function ap(t,e,n,r){let o=Fk(t,r,e),i=e[Oe],a=r.parent||e[wt],s=jk(a,r,e);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)gm(i,o,n[c],s,!1);else gm(i,o,n,s,!1);Cm!==void 0&&Cm(i,r,e,n,o)}function fs(t,e){if(e!==null){let n=e.type;if(n&3)return un(e,t);if(n&4)return b0(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return fs(t,r);{let o=t[e.index];return dn(o)?b0(-1,o):Yt(o)}}else{if(n&128)return fs(t,e.next);if(n&32)return tp(e,t)()||Yt(t[e.index]);{let r=Vk(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=Lr(t[Ct]);return fs(o,r)}else return fs(t,e.next)}}}return null}function Vk(t,e){if(e!==null){let r=t[Ct][wt],o=e.projection;return r.projection[o]}return null}function b0(t,e){let n=Ne+t+1;if(n<e.length){let r=e[n],o=r[W].firstChild;if(o!==null)return fs(r,o)}return e[Tr]}function sp(t,e,n,r,o,i,a){for(;n!=null;){let s=r[ir];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(a&&e===0&&(c&&Yi(Yt(c),r),n.flags|=2),!_d(n))if(l&8)sp(t,e,n.child,r,o,i,!1),Zi(e,t,s,o,c,n,i,r);else if(l&32){let d=tp(n,r),u;for(;u=d();)Zi(e,t,s,o,u,n,i,r);Zi(e,t,s,o,c,n,i,r)}else l&16?Hk(t,e,r,n,o,i):Zi(e,t,s,o,c,n,i,r);n=a?n.projectionNext:n.next}}function Ed(t,e,n,r,o,i){sp(n,r,t.firstChild,e,o,i,!1)}function s8(t,e,n){let r=e[Oe],o=Fk(t,n,e),i=n.parent||e[wt],a=jk(i,n,e);Hk(r,0,e,n,o,a)}function Hk(t,e,n,r,o,i){let a=n[Ct],c=a[wt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Zi(e,t,n[ir],o,d,r,i,n)}else{let l=c,d=a[Ye];tk(r)&&(l.flags|=128),sp(t,e,l,d,o,i,!0)}}function c8(t,e,n,r,o,i,a){let s=r[Tr],c=Yt(r);s!==c&&Zi(e,t,n,i,s,o,a);for(let l=Ne;l<r.length;l++){let d=r[l];Ed(d[W],d,t,e,i,s)}}function l8(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Rn.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Rn.Important),t.setStyle(n,r,o,i))}}function Bk(t,e,n,r,o){let i=Fr(),a=r&2;try{jr(-1),a&&e.length>$e&&Dk(t,e,$e,!1),ge(a?2:0,o,n),n(r,o)}finally{jr(i),ge(a?3:1,o,n)}}function cp(t,e,n){y8(t,e,n),(n.flags&64)===64&&m8(t,e,n)}function lp(t,e,n=un){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let a=r[i+1],s=a===-1?n(e,t):t[a];t[o++]=s}}}function d8(t,e,n,r){let i=r.get(dk,lk)||n===cr.ShadowDom,a=t.selectRootElement(e,i);return u8(a),a}function u8(t){h8(t)}var h8=()=>null;function p8(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function zk(t,e,n,r,o,i){let a=e[W];if(dp(t,a,e,n,r)){Rr(t)&&g8(e,t.index);return}t.type&3&&(n=p8(n)),f8(t,e,n,r,o,i)}function f8(t,e,n,r,o,i){if(t.type&3){let a=un(t,e);r=i!=null?i(r,t.value||"",n):r,o.setProperty(a,n,r)}else t.type&12}function g8(t,e){let n=Xt(e,t);n[Z]&16||(n[Z]|=64)}function y8(t,e,n){let r=n.directiveStart,o=n.directiveEnd;Rr(n)&&Hb(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||id(n,e);let i=n.initialInputs;for(let a=r;a<o;a++){let s=t.data[a],c=ms(e,t,a,n);if(Yi(c,e),i!==null&&w8(e,a-r,c,s,n,i),Pn(s)){let l=Xt(n.index,e);l[He]=ms(e,t,a,n)}}}function m8(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,a=Xy();try{jr(i);for(let s=r;s<o;s++){let c=t.data[s],l=e[s];Bl(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&k8(c,l)}}finally{jr(-1),Bl(a)}}function k8(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function qk(t,e){let n=t.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];wk(e,i.selectors,!1)&&(r??=[],Pn(i)?r.unshift(i):r.push(i))}return r}function v8(t,e,n,r,o,i){let a=un(t,e);M8(e[Oe],a,i,t.value,n,r,o)}function M8(t,e,n,r,o,i,a){if(i==null)t.removeAttribute(e,o,n);else{let s=a==null?rs(i):a(i,r||"",o);t.setAttribute(e,o,s,n)}}function w8(t,e,n,r,o,i){let a=i[e];if(a!==null)for(let s=0;s<a.length;s+=2){let c=a[s],l=a[s+1];M0(r,n,c,l)}}function C8(t,e,n,r,o){let i=$e+n,a=e[W],s=o(a,e,t,r,n);e[i]=s,$i(t,!0);let c=t.type===2;return c?(xk(e[Oe],s,t),(Hy()===0||ds(t))&&Yi(s,e),By()):Yi(s,e),Wl()&&(!c||!_d(t))&&ap(a,e,s,t),t}function b8(t){let e=t;return $h()?Wh():(e=e.parent,$i(e,!1)),e}function _8(t,e){let n=t[ir];if(!n)return;let r;try{r=n.get(Ht,null)}catch{r=null}r?.(e)}function dp(t,e,n,r,o){let i=t.inputs?.[r],a=t.hostDirectiveInputs?.[r],s=!1;if(a)for(let c=0;c<a.length;c+=2){let l=a[c],d=a[c+1],u=e.data[l];M0(u,n[l],d,o),s=!0}if(i)for(let c of i){let l=n[c],d=e.data[c];M0(d,l,r,o),s=!0}return s}function x8(t,e){let n=Xt(e,t),r=n[W];I8(r,n);let o=n[ln];o!==null&&n[Do]===null&&(n[Do]=uk(o,n[ir])),ge(18),up(r,n,n[He]),ge(19,n[He])}function I8(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function up(t,e,n){ql(e);try{let r=t.viewQuery;r!==null&&v0(1,r,n);let o=t.template;o!==null&&Bk(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ln]?.finishViewCreation(t),t.staticContentQueries&&hk(t,e),t.staticViewQueries&&v0(2,t.viewQuery,n);let i=t.components;i!==null&&S8(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Z]&=-5,Ul()}}function S8(t,e){for(let n=0;n<e.length;n++)x8(t,e[n])}function Ss(t,e,n,r){let o=G(null);try{let i=e.tView,s=t[Z]&4096?4096:16,c=J0(t,i,n,s,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Ar]=l;let d=t[Ln];return d!==null&&(c[Ln]=d.createEmbeddedView(i)),up(i,c,n),c}finally{G(o)}}function Xi(t,e){return!e||e.firstChild===null||tk(t)}function ks(t,e,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&r.push(Yt(i)),dn(i)&&Uk(i,r);let a=n.type;if(a&8)ks(t,e,n.child,r);else if(a&32){let s=tp(n,e),c;for(;c=s();)r.push(c)}else if(a&16){let s=Vk(e,n);if(Array.isArray(s))r.push(...s);else{let c=Lr(e[Ct]);ks(c[W],c,s,r,!0)}}n=o?n.projectionNext:n.next}return r}function Uk(t,e){for(let n=Ne;n<t.length;n++){let r=t[n],o=r[W].firstChild;o!==null&&ks(r[W],r,o,e)}t[Tr]!==t[ln]&&e.push(t[Tr])}function $k(t){if(t[Oo]!==null){for(let e of t[Oo])e.impl.addSequence(e);t[Oo].length=0}}var Wk=[];function D8(t){return t[Vt]??E8(t)}function E8(t){let e=Wk.pop()??Object.create(O8);return e.lView=t,e}function L8(t){t.lView[Vt]!==t&&(t.lView=null,Wk.push(t))}var O8=$(I({},yo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Nr(t.lView)},consumerOnSignalRead(){this.lView[Vt]=this}});function P8(t){let e=t[Vt]??Object.create(A8);return e.lView=t,e}var A8=$(I({},yo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Lr(t.lView);for(;e&&!Gk(e[W]);)e=Lr(e);e&&jh(e)},consumerOnSignalRead(){this.lView[Vt]=this}});function Gk(t){return t.type!==2}function Zk(t){if(t[ar]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ar])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Z]&8192)}}var T8=100;function Kk(t,e=0){let r=t[En].rendererFactory,o=!1;o||r.begin?.();try{R8(t,e)}finally{o||r.end?.()}}function R8(t,e){let n=Gh();try{Wi(!0),_0(t,e);let r=0;for(;hs(t);){if(r===T8)throw new F(103,!1);r++,_0(t,1)}}finally{Wi(n)}}function N8(t,e,n,r){if(To(e))return;let o=e[Z],i=!1,a=!1;ql(e);let s=!0,c=null,l=null;i||(Gk(t)?(l=D8(e),c=mo(l)):Kc()===null?(s=!1,l=P8(e),c=mo(l)):e[Vt]&&(ko(e[Vt]),e[Vt]=null));try{Fh(e),Gy(t.bindingStartIndex),n!==null&&Bk(t,e,n,2,r);let d=(o&3)===3;if(!i)if(d){let h=t.preOrderCheckHooks;h!==null&&Ql(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Jl(e,h,0,null),r0(e,0)}if(a||F8(e),Zk(e),Yk(e,0),t.contentQueries!==null&&hk(t,e),!i)if(d){let h=t.contentCheckHooks;h!==null&&Ql(e,h)}else{let h=t.contentHooks;h!==null&&Jl(e,h,1),r0(e,1)}V8(t,e);let u=t.components;u!==null&&Qk(e,u,0);let p=t.viewQuery;if(p!==null&&v0(2,p,r),!i)if(d){let h=t.viewCheckHooks;h!==null&&Ql(e,h)}else{let h=t.viewHooks;h!==null&&Jl(e,h,2),r0(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[jl]){for(let h of e[jl])h();e[jl]=null}i||($k(e),e[Z]&=-73)}catch(d){throw i||Nr(e),d}finally{l!==null&&(Ii(l,c),s&&L8(l)),Ul()}}function Yk(t,e){for(let n=rk(t);n!==null;n=ok(n))for(let r=Ne;r<n.length;r++){let o=n[r];Xk(o,e)}}function F8(t){for(let e=rk(t);e!==null;e=ok(e)){if(!(e[Z]&2))continue;let n=e[Ao];for(let r=0;r<n.length;r++){let o=n[r];jh(o)}}}function j8(t,e,n){ge(18);let r=Xt(e,t);Xk(r,n),ge(19,r[He])}function Xk(t,e){Vl(t)&&_0(t,e)}function _0(t,e){let r=t[W],o=t[Z],i=t[Vt],a=!!(e===0&&o&16);if(a||=!!(o&64&&e===0),a||=!!(o&1024),a||=!!(i?.dirty&&Si(i)),a||=!1,i&&(i.dirty=!1),t[Z]&=-9217,a)N8(r,t,r.template,t[He]);else if(o&8192){let s=G(null);try{Zk(t),Yk(t,1);let c=r.components;c!==null&&Qk(t,c,1),$k(t)}finally{G(s)}}}function Qk(t,e,n){for(let r=0;r<e.length;r++)j8(t,e[r],n)}function V8(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)jr(~o);else{let i=o,a=n[++r],s=n[++r];Yy(a,i);let c=e[i];ge(24,c),s(2,c),ge(25,c)}}}finally{jr(-1)}}function hp(t,e){let n=Gh()?64:1088;for(t[En].changeDetectionScheduler?.notify(e);t;){t[Z]|=n;let r=Lr(t);if(Ui(t)&&!r)return t;t=r}return null}function Jk(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ev(t,e){let n=Ne+e;if(n<t.length)return t[n]}function Ds(t,e,n,r=!0){let o=e[W];if(H8(o,e,t,n),r){let a=b0(n,t),s=e[Oe],c=s.parentNode(t[Tr]);c!==null&&Jb(o,t[wt],s,e,c,a)}let i=e[Do];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function tv(t,e){let n=vs(t,e);return n!==void 0&&Dd(n[W],n),n}function vs(t,e){if(t.length<=Ne)return;let n=Ne+e,r=t[n];if(r){let o=r[Ar];o!==null&&o!==t&&ip(o,r),e>0&&(t[n-1][Kt]=r[Kt]);let i=os(t,Ne+e);Qb(r[W],r);let a=i[Ln];a!==null&&a.detachView(i[W]),r[Ye]=null,r[Kt]=null,r[Z]&=-129}return r}function H8(t,e,n,r){let o=Ne+r,i=n.length;r>0&&(n[o-1][Kt]=e),r<i-Ne?(e[Kt]=n[o],_h(n,Ne+r,e)):(n.push(e),e[Kt]=null),e[Ye]=n;let a=e[Ar];a!==null&&n!==a&&nv(a,e);let s=e[Ln];s!==null&&s.insertView(t),Hl(e),e[Z]|=128}function nv(t,e){let n=t[Ao],r=e[Ye];if(On(r))t[Z]|=2;else{let o=r[Ye][Ct];e[Ct]!==o&&(t[Z]|=2)}n===null?t[Ao]=[e]:n.push(e)}var Vr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[W];return ks(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[He]}set context(e){this._lView[He]=e}get destroyed(){return To(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ye];if(dn(e)){let n=e[ls],r=n?n.indexOf(this):-1;r>-1&&(vs(e,r),os(n,r))}this._attachedToViewContainer=!1}Dd(this._lView[W],this._lView)}onDestroy(e){Vh(this._lView,e)}markForCheck(){hp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){Hl(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,Kk(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ui(this._lView),n=this._lView[Ar];n!==null&&!e&&ip(n,this._lView),Nk(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e;let n=Ui(this._lView),r=this._lView[Ar];r!==null&&!n&&nv(r,this._lView),Hl(this._lView)}};var Hr=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=B8;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=Ss(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Vr(i)}}return t})();function B8(){return Ld(at(),te())}function Ld(t,e){return t.type&4?new Hr(e,t,ea(t,e)):null}function Es(t,e,n,r,o){let i=t.data[e];if(i===null)i=z8(t,e,n,r,o),Ky()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let a=$y();i.injectorIndex=a===null?-1:a.injectorIndex}return $i(i,!0),i}function z8(t,e,n,r,o){let i=Uh(),a=$h(),s=a?i:i&&i.parent,c=t.data[e]=U8(t,s,n,e,r,o);return q8(t,c,i,a),c}function q8(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function U8(t,e,n,r,o,i){let a=e?e.injectorIndex:-1,s=0;return qh()&&(s|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var wF=new RegExp(`^(\\d+)*(${gb}|${fb})*(.*)`);function $8(t){let e=t[Th]??[],r=t[Ye][Oe],o=[];for(let i of e)i.data[ck]!==void 0?o.push(i):W8(i,r);t[Th]=o}function W8(t,e){let n=0,r=t.firstChild;if(r){let o=t.data[sk];for(;n<o;){let i=r.nextSibling;_k(e,r,!1),r=i,n++}}}var G8=()=>null,Z8=()=>null;function hd(t,e){return G8(t,e)}function rv(t,e,n){return Z8(t,e,n)}var ov=class{},Od=class{},x0=class{resolveComponentFactory(e){throw new F(917,!1)}},Ls=class{static NULL=new x0},Ho=class{},Bt=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>K8()}return t})();function K8(){let t=te(),e=at(),n=Xt(e.index,t);return(On(n)?n:t)[Oe]}var iv=(()=>{class t{static \u0275prov=N({token:t,providedIn:"root",factory:()=>null})}return t})();var td={},I0=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let o=this.injector.get(e,td,r);return o!==td||n===td?o:this.parentInjector.get(e,n,r)}};function bm(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let a=0;a<e.length;a++){let s=e[a];if(typeof s=="number")i=s;else if(i==1)o=fh(o,s);else if(i==2){let c=s,l=e[++a];r=fh(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}function j(t,e=0){let n=te();if(n===null)return q(t,e);let r=at();return Qm(r,n,it(t),e)}function pp(){let t="invalid";throw new Error(t)}function av(t,e,n,r,o){let i=r===null?null:{"":-1},a=o(t,n);if(a!==null){let s=a,c=null,l=null;for(let d of a)if(d.resolveHostDirectives!==null){[s,c,l]=d.resolveHostDirectives(a);break}Q8(t,e,n,s,i,c,l)}i!==null&&r!==null&&Y8(n,r,i)}function Y8(t,e,n){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new F(-301,!1);r.push(e[o],i)}}function X8(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Q8(t,e,n,r,o,i,a){let s=r.length,c=!1;for(let p=0;p<s;p++){let h=r[p];!c&&Pn(h)&&(c=!0,X8(t,n,p)),g0(id(n,e),t,h.type)}o_(n,t.data.length,s);for(let p=0;p<s;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let l=!1,d=!1,u=Sk(t,e,s,null);s>0&&(n.directiveToIndex=new Map);for(let p=0;p<s;p++){let h=r[p];if(n.mergedAttrs=ys(n.mergedAttrs,h.hostAttrs),e_(t,n,e,u,h),r_(u,h,o),a!==null&&a.has(h)){let[k,M]=a.get(h);n.directiveToIndex.set(h.type,[u,k+n.directiveStart,M+n.directiveStart])}else(i===null||!i.has(h))&&n.directiveToIndex.set(h.type,u);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let y=h.type.prototype;!l&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),u++}J8(t,n,i)}function J8(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=t.data[r];if(n===null||!n.has(o))_m(0,e,o,r),_m(1,e,o,r),Im(e,r,!1);else{let i=n.get(o);xm(0,e,i,r),xm(1,e,i,r),Im(e,r,!0)}}}function _m(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let a;t===0?a=e.inputs??={}:a=e.outputs??={},a[i]??=[],a[i].push(r),sv(e,i)}}function xm(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let a=o[i],s;t===0?s=e.hostDirectiveInputs??={}:s=e.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,i),sv(e,a)}}function sv(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Im(t,e,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=t;if(r===null||!n&&o===null||n&&i===null||X0(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let l=o[c];for(let d of l)if(d===e){a??=[],a.push(c,r[s+1]);break}}else if(n&&i.hasOwnProperty(c)){let l=i[c];for(let d=0;d<l.length;d+=2)if(l[d]===e){a??=[],a.push(l[d+1],r[s+1]);break}}s+=2}t.initialInputs??=[],t.initialInputs.push(a)}function e_(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=_o(o.type,!0)),a=new jo(i,Pn(o),j,null);t.blueprint[r]=a,n[r]=a,t_(t,e,r,Sk(t,n,o.hostVars,lr),o)}function t_(t,e,n,r,o){let i=o.hostBindings;if(i){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let s=~e.index;n_(a)!=s&&a.push(s),a.push(n,r,i)}}function n_(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function r_(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pn(e)&&(n[""]=t)}}function o_(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function cv(t,e,n,r,o,i,a,s){let c=e[W],l=c.consts,d=An(l,a),u=Es(c,t,n,r,d);return i&&av(c,e,u,An(l,s),o),u.mergedAttrs=ys(u.mergedAttrs,u.attrs),u.attrs!==null&&bm(u,u.attrs,!1),u.mergedAttrs!==null&&bm(u,u.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,u),u}function lv(t,e){qm(t,e),Rh(e)&&t.queries.elementEnd(e)}function fp(t){return uv(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function dv(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function uv(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function $o(t,e,n){if(n===lr)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function a0(t,e,n){return function r(o){let i=Rr(t)?Xt(t.index,e):e;hp(i,5);let a=e[He],s=Sm(e,a,n,o),c=r.__ngNextListenerFn__;for(;c;)s=Sm(e,a,c,o)&&s,c=c.__ngNextListenerFn__;return s}}function Sm(t,e,n,r){let o=G(null);try{return ge(6,e,n),n(r)!==!1}catch(i){return _8(t,i),!1}finally{ge(7,e,n),G(o)}}function i_(t,e,n,r,o,i,a,s){let c=ds(t),l=!1,d=null;if(!r&&c&&(d=s_(e,n,i,t.index)),d!==null){let u=d.__ngLastListenerFn__||d;u.__ngNextListenerFn__=a,d.__ngLastListenerFn__=a,l=!0}else{let u=un(t,n),p=r?r(u):u;mb(n,p,i,s);let h=o.listen(p,i,s);if(!a_(i)){let y=r?k=>r(Yt(k[t.index])):t.index;hv(y,e,n,i,s,h,!1)}}return l}function a_(t){return t.startsWith("animation")||t.startsWith("transition")}function s_(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let a=o[i];if(a===n&&o[i+1]===r){let s=e[zi],c=o[i+2];return s&&s.length>c?s[c]:null}typeof a=="string"&&(i+=2)}return null}function hv(t,e,n,r,o,i,a){let s=e.firstCreatePass?Bh(e):null,c=Hh(n),l=c.length;c.push(o,i),s&&s.push(r,t,l,(l+1)*(a?-1:1))}function Dm(t,e,n,r,o,i){let a=e[n],s=e[W],l=s.data[n].outputs[r],u=a[l].subscribe(i);hv(t.index,s,e,o,i,u,!0)}var S0=Symbol("BINDING");var pd=class extends Ls{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=or(e);return new Bo(n,this.ngModule)}};function c_(t){return Object.keys(t).map(e=>{let[n,r,o]=t[e],i={propName:n,templateName:e,isSignal:(r&Id.SignalBased)!==0};return o&&(i.transform=o),i})}function l_(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function d_(t,e,n){let r=e instanceof Ke?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new I0(n,r):n}function u_(t){let e=t.get(Ho,null);if(e===null)throw new F(407,!1);let n=t.get(iv,null),r=t.get(Dn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function h_(t,e){let n=pv(t);return Ck(e,n,n==="svg"?Py:n==="math"?Ay:null)}function pv(t){return(t.selectors[0][0]||"div").toLowerCase()}var Bo=class extends Od{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=c_(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=l_(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Pb(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,o,i,a){ge(22);let s=G(null);try{let c=this.componentDef,l=p_(r,c,a,i),d=d_(c,o||this.ngModule,e),u=u_(d),p=u.rendererFactory.createRenderer(null,c),h=r?d8(p,r,c.encapsulation,d):h_(c,p),y=a?.some(Em)||i?.some(v=>typeof v!="function"&&v.bindings.some(Em)),k=J0(null,l,null,512|Ik(c),null,null,u,p,d,null,uk(h,d,!0));k[$e]=h,ql(k);let M=null;try{let v=cv($e,k,2,"#host",()=>l.directiveRegistry,!0,0);xk(p,h,v),Yi(h,k),cp(l,k,v),pk(l,v,k),lv(l,v),n!==void 0&&g_(v,this.ngContentSelectors,n),M=Xt(v.index,k),k[He]=M[He],up(l,k,null)}catch(v){throw M!==null&&m0(M),m0(k),v}finally{ge(23),Ul()}return new fd(this.componentType,k,!!y)}finally{G(s)}}};function p_(t,e,n,r){let o=t?["ng-version","20.3.14"]:Ab(e.selectors[0]),i=null,a=null,s=0;if(n)for(let d of n)s+=d[S0].requiredVars,d.create&&(d.targetIdx=0,(i??=[]).push(d)),d.update&&(d.targetIdx=0,(a??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let u=r[d];if(typeof u!="function")for(let p of u.bindings){s+=p[S0].requiredVars;let h=d+1;p.create&&(p.targetIdx=h,(i??=[]).push(p)),p.update&&(p.targetIdx=h,(a??=[]).push(p))}}let c=[e];if(r)for(let d of r){let u=typeof d=="function"?d:d.type,p=Dh(u);c.push(p)}return Q0(0,null,f_(i,a),1,s,c,null,null,null,[o],null)}function f_(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function Em(t){let e=t[S0].kind;return e==="input"||e==="twoWay"}var fd=class extends ov{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=us(n[W],$e),this.location=ea(this._tNode,n),this.instance=Xt(this._tNode.index,n)[He],this.hostView=this.changeDetectorRef=new Vr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView,i=dp(r,o[W],o,e,n);this.previousInputValues.set(e,n);let a=Xt(r.index,o);hp(a,1)}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function g_(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var dr=(()=>{class t{static __NG_ELEMENT_ID__=y_}return t})();function y_(){let t=at();return gv(t,te())}var m_=dr,fv=class extends m_{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ea(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){let e=$0(this._hostTNode,this._hostLView);if(Wm(e)){let n=od(e,this._hostLView),r=rd(e),o=n[W].data[r+8];return new Fo(o,n)}else return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Lm(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ne}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let a=hd(this._lContainer,e.ssrId),s=e.createEmbeddedViewImpl(n||{},i,a);return this.insertImpl(s,o,Xi(this._hostTNode,a)),s}createComponent(e,n,r,o,i,a,s){let c=e&&!zC(e),l;if(c)l=n;else{let M=n||{};l=M.index,r=M.injector,o=M.projectableNodes,i=M.environmentInjector||M.ngModuleRef,a=M.directives,s=M.bindings}let d=c?e:new Bo(or(e)),u=r||this.parentInjector;if(!i&&d.ngModule==null){let v=(c?u:this.parentInjector).get(Ke,null);v&&(i=v)}let p=or(d.componentType??{}),h=hd(this._lContainer,p?.id??null),y=h?.firstChild??null,k=d.create(u,o,y,i,a,s);return this.insertImpl(k.hostView,l,Xi(this._hostTNode,h)),k}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(Ny(o)){let s=this.indexOf(e);if(s!==-1)this.detach(s);else{let c=o[Ye],l=new fv(c,c[wt],c[Ye]);l.detach(l.indexOf(e))}}let i=this._adjustIndex(n),a=this._lContainer;return Ds(a,o,i,r),e.attachToViewContainerRef(),_h(s0(a),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Lm(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=vs(this._lContainer,n);r&&(os(s0(this._lContainer),n),Dd(r[W],r))}detach(e){let n=this._adjustIndex(e,-1),r=vs(this._lContainer,n);return r&&os(s0(this._lContainer),n)!=null?new Vr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Lm(t){return t[ls]}function s0(t){return t[ls]||(t[ls]=[])}function gv(t,e){let n,r=e[t.index];return dn(r)?n=r:(n=Jk(r,e,null,t),e[t.index]=n,ep(e,n)),v_(n,e,t,r),new fv(n,t,e)}function k_(t,e){let n=t[Oe],r=n.createComment(""),o=un(e,t),i=n.parentNode(o);return cd(n,i,r,n.nextSibling(o),!1),r}var v_=C_,M_=()=>!1;function w_(t,e,n){return M_(t,e,n)}function C_(t,e,n,r){if(t[Tr])return;let o;n.type&8?o=Yt(r):o=k_(e,n),t[Tr]=o}var D0=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},E0=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let a=n.getByIndex(i),s=this.queries[a.indexInDeclarationView];o.push(s.clone())}return new t(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)gp(e,n).matches!==null&&this.queries[n].setDirty()}},L0=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=L_(e):this.predicate=e}},O0=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},P0=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,n,b_(n,i)),this.matchTNodeWithReadOption(e,n,ed(n,e,i,!1,!1))}else r===Hr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ed(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===st||o===dr||o===Hr&&n.type&4)this.addMatch(n.index,-2);else{let i=ed(n,e,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function b_(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function __(t,e){return t.type&11?ea(t,e):t.type&4?Ld(t,e):null}function x_(t,e,n,r){return n===-1?__(e,t):n===-2?I_(t,e,r):ms(t,t[W],n,e)}function I_(t,e,n){if(n===st)return ea(e,t);if(n===Hr)return Ld(e,t);if(n===dr)return gv(e,t)}function yv(t,e,n,r){let o=e[Ln].queries[r];if(o.matches===null){let i=t.data,a=n.matches,s=[];for(let c=0;a!==null&&c<a.length;c+=2){let l=a[c];if(l<0)s.push(null);else{let d=i[l];s.push(x_(e,d,a[c+1],n.metadata.read))}}o.matches=s}return o.matches}function A0(t,e,n,r){let o=t.queries.getByIndex(n),i=o.matches;if(i!==null){let a=yv(t,e,o,n);for(let s=0;s<i.length;s+=2){let c=i[s];if(c>0)r.push(a[s/2]);else{let l=i[s+1],d=e[-c];for(let u=Ne;u<d.length;u++){let p=d[u];p[Ar]===p[Ye]&&A0(p[W],p,l,r)}if(d[Ao]!==null){let u=d[Ao];for(let p=0;p<u.length;p++){let h=u[p];A0(h[W],h,l,r)}}}}}return r}function S_(t,e){return t[Ln].queries[e].queryList}function D_(t,e,n){let r=new ad((n&4)===4);return Vy(t,e,r,r.destroy),(e[Ln]??=new E0).queries.push(new D0(r))-1}function E_(t,e,n,r){let o=Xe();if(o.firstCreatePass){let i=at();O_(o,new L0(e,n,r),i.index),P_(o,t),(n&2)===2&&(o.staticContentQueries=!0)}return D_(o,te(),n)}function L_(t){return t.split(",").map(e=>e.trim())}function O_(t,e,n){t.queries===null&&(t.queries=new O0),t.queries.track(new P0(e,n))}function P_(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function gp(t,e){return t.queries.getByIndex(e)}function A_(t,e){let n=t[W],r=gp(n,e);return r.crossesNgTemplate?A0(n,t,e,[]):yv(n,t,r,e)}var zo=class{},Pd=class{};var gd=class extends zo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new pd(this);constructor(e,n,r,o=!0){super(),this.ngModuleType=e,this._parent=n;let i=Sh(e);this._bootstrapComponents=vk(i.bootstrap),this._r3Injector=Xh(e,n,[{provide:zo,useValue:this},{provide:Ls,useValue:this.componentFactoryResolver},...r],nr(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},yd=class extends Pd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new gd(this.moduleType,e,[])}};var Ms=class extends zo{injector;componentFactoryResolver=new pd(this);instance=null;constructor(e){super();let n=new Io([...e.providers,{provide:zo,useValue:this},{provide:Ls,useValue:this.componentFactoryResolver}],e.parent||ss(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ta(t,e,n=null){return new Ms({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var T_=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Eh(!1,n.type),o=r.length>0?ta([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=N({token:t,providedIn:"environment",factory:()=>new t(q(Ke))})}return t})();function de(t){return Ji(()=>{let e=mv(t),n=$(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===W0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(T_).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||cr.Emulated,styles:t.styles||Nt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Nn("NgStandalone"),kv(n);let r=t.dependencies;return n.directiveDefs=Om(r,R_),n.pipeDefs=Om(r,Iy),n.id=j_(n),n})}function R_(t){return or(t)||Dh(t)}function en(t){return Ji(()=>({type:t.type,bootstrap:t.bootstrap||Nt,declarations:t.declarations||Nt,imports:t.imports||Nt,exports:t.exports||Nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function N_(t,e){if(t==null)return Or;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,a,s,c;Array.isArray(o)?(s=o[0],i=o[1],a=o[2]??i,c=o[3]||null):(i=o,a=o,s=Id.None,c=null),n[i]=[r,s,c],e[i]=a}return n}function F_(t){if(t==null)return Or;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function xe(t){return Ji(()=>{let e=mv(t);return kv(e),e})}function mv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Or,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Nt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:N_(t.inputs,e),outputs:F_(t.outputs),debugInfo:null}}function kv(t){t.features?.forEach(e=>e(t))}function Om(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let o of n){let i=e(o);i!==null&&r.push(i)}return r}:null}function j_(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function V_(t){return Object.getPrototypeOf(t.prototype).constructor}function Et(t){let e=V_(t.type),n=!0,r=[t];for(;e;){let o;if(Pn(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);let a=t;a.inputs=c0(t.inputs),a.declaredInputs=c0(t.declaredInputs),a.outputs=c0(t.outputs);let s=o.hostBindings;s&&U_(t,s);let c=o.viewQuery,l=o.contentQueries;if(c&&z_(t,c),l&&q_(t,l),H_(t,o),gy(t.outputs,o.outputs),Pn(o)&&o.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let a=0;a<i.length;a++){let s=i[a];s&&s.ngInherit&&s(t),s===Et&&(n=!1)}}e=Object.getPrototypeOf(e)}B_(r)}function H_(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function B_(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=ys(o.hostAttrs,n=ys(n,o.hostAttrs))}}function c0(t){return t===Or?{}:t===Nt?[]:t}function z_(t,e){let n=t.viewQuery;n?t.viewQuery=(r,o)=>{e(r,o),n(r,o)}:t.viewQuery=e}function q_(t,e){let n=t.contentQueries;n?t.contentQueries=(r,o,i)=>{e(r,o,i),n(r,o,i)}:t.contentQueries=e}function U_(t,e){let n=t.hostBindings;n?t.hostBindings=(r,o)=>{e(r,o),n(r,o)}:t.hostBindings=e}function vv(t,e,n,r,o,i,a,s){if(n.firstCreatePass){t.mergedAttrs=ys(t.mergedAttrs,t.attrs);let d=t.tView=Q0(2,t,o,i,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),d.queries=n.queries.embeddedTView(t))}s&&(t.flags|=s),$i(t,!1);let c=W_(n,e,t,r);Wl()&&ap(n,e,c,t),Yi(c,e);let l=Jk(c,e,c,t);e[r+$e]=l,ep(e,l),w_(l,t,e)}function $_(t,e,n,r,o,i,a,s,c,l,d){let u=n+$e,p;return e.firstCreatePass?(p=Es(e,u,4,a||null,s||null),zh()&&av(e,t,p,An(e.consts,l),qk),qm(e,p)):p=e.data[u],vv(p,t,e,n,r,o,i,c),ds(p)&&cp(e,t,p),l!=null&&lp(t,p,d),p}function ws(t,e,n,r,o,i,a,s,c,l,d){let u=n+$e,p;if(e.firstCreatePass){if(p=Es(e,u,4,a||null,s||null),l!=null){let h=An(e.consts,l);p.localNames=[];for(let y=0;y<h.length;y+=2)p.localNames.push(h[y],-1)}}else p=e.data[u];return vv(p,t,e,n,r,o,i,c),l!=null&&lp(t,p,d),p}function ie(t,e,n,r,o,i,a,s){let c=te(),l=Xe(),d=An(l.consts,i);return $_(c,l,t,e,n,r,o,d,void 0,a,s),ie}var W_=G_;function G_(t,e,n,r){return Gl(!0),e[Oe].createComment("")}var yp=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var mp=new H("");function Br(t){return!!t&&typeof t.then=="function"}function kp(t){return!!t&&typeof t.subscribe=="function"}var vp=new H("");function Ad(t){return is([{provide:vp,multi:!0,useValue:t}])}var Mp=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=_(vp,{optional:!0})??[];injector=_(pt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=ft(this.injector,o);if(Br(i))n.push(i);else if(kp(i)){let a=new Promise((s,c)=>{i.subscribe({complete:s,error:c})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Os=new H("");function Mv(){F1(()=>{let t="";throw new F(600,t)})}function wv(t){return t.isBoundToModule}var Z_=10;var ur=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=_(Ht);afterRenderManager=_(op);zonelessEnabled=_(Zl);rootEffectScheduler=_(ps);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new je;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=_(sr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(oe(n=>!n))}constructor(){_(Uo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=_(Ke);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=pt.NULL){return this._injector.get(Ge).run(()=>{ge(10);let a=n instanceof Od;if(!this._injector.get(Mp).done){let y="";throw new F(405,y)}let c;a?c=n:c=this._injector.get(Ls).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=wv(c)?void 0:this._injector.get(zo),d=r||c.selector,u=c.create(o,[],d,l),p=u.location.nativeElement,h=u.injector.get(mp,null);return h?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),gs(this.components,u),h?.unregisterApplication(p)}),this._loadComponent(u),ge(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ge(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Sd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new F(101,!1);let n=G(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,G(n),this.afterTick.next(),ge(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ho,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Z_;)ge(14),this.synchronizeOnce(),ge(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!hs(o))continue;let i=r&&!this.zonelessEnabled?0:1;Kk(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>hs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;gs(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(Os,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>gs(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new F(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gs(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Wo(t,e,n,r){let o=te(),i=Ro();if($o(o,i,e)){let a=Xe(),s=$l();v8(s,o,t,e,n,r)}return Wo}var DF=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var T0=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),o=Math.max(e,n),i=this.detach(o);if(o-r>1){let a=this.detach(r);this.attach(r,i),this.attach(o,a)}else this.attach(r,i)}move(e,n){this.attach(n,this.detach(e))}};function l0(t,e,n,r,o){return t===n&&Object.is(e,r)?1:Object.is(o(t,e),o(n,r))?-1:0}function K_(t,e,n){let r,o,i=0,a=t.length-1,s=void 0;if(Array.isArray(e)){let c=e.length-1;for(;i<=a&&i<=c;){let l=t.at(i),d=e[i],u=l0(i,l,i,d,n);if(u!==0){u<0&&t.updateValue(i,d),i++;continue}let p=t.at(a),h=e[c],y=l0(a,p,c,h,n);if(y!==0){y<0&&t.updateValue(a,h),a--,c--;continue}let k=n(i,l),M=n(a,p),v=n(i,d);if(Object.is(v,M)){let P=n(c,h);Object.is(P,k)?(t.swap(i,a),t.updateValue(a,h),c--,a--):t.move(a,i),t.updateValue(i,d),i++;continue}if(r??=new md,o??=Am(t,i,a,n),R0(t,r,i,v))t.updateValue(i,d),i++,a++;else if(o.has(v))r.set(k,t.detach(i)),a--;else{let P=t.create(i,e[i]);t.attach(i,P),i++,a++}}for(;i<=c;)Pm(t,r,n,i,e[i]),i++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&i<=a;){let d=t.at(i),u=l.value,p=l0(i,d,i,u,n);if(p!==0)p<0&&t.updateValue(i,u),i++,l=c.next();else{r??=new md,o??=Am(t,i,a,n);let h=n(i,u);if(R0(t,r,i,h))t.updateValue(i,u),i++,a++,l=c.next();else if(!o.has(h))t.attach(i,t.create(i,u)),i++,a++,l=c.next();else{let y=n(i,d);r.set(y,t.detach(i)),a--}}}for(;!l.done;)Pm(t,r,n,t.length,l.value),l=c.next()}for(;i<=a;)t.destroy(t.detach(a--));r?.forEach(c=>{t.destroy(c)})}function R0(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Pm(t,e,n,r,o){if(R0(t,e,r,n(r,o)))t.updateValue(r,o);else{let i=t.create(r,o);t.attach(r,i)}}function Am(t,e,n,r){let o=new Set;for(let i=e;i<=n;i++)o.add(r(i,t.at(i)));return o}var md=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),e(r,n)}}};function zr(t,e,n,r,o,i,a,s){Nn("NgControlFlow");let c=te(),l=Xe(),d=An(l.consts,i);return ws(c,l,t,e,n,r,o,d,256,a,s),wp}function wp(t,e,n,r,o,i,a,s){Nn("NgControlFlow");let c=te(),l=Xe(),d=An(l.consts,i);return ws(c,l,t,e,n,r,o,d,512,a,s),wp}function qr(t,e){Nn("NgControlFlow");let n=te(),r=Ro(),o=n[r]!==lr?n[r]:-1,i=o!==-1?kd(n,$e+o):void 0,a=0;if($o(n,r,t)){let s=G(null);try{if(i!==void 0&&tv(i,a),t!==-1){let c=$e+t,l=kd(n,c),d=V0(n[W],c),u=rv(l,d,n),p=Ss(n,d,e,{dehydratedView:u});Ds(l,p,a,Xi(d,u))}}finally{G(s)}}else if(i!==void 0){let s=ev(i,a);s!==void 0&&(s[He]=e)}}var N0=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ne}};var F0=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Cp(t,e,n,r,o,i,a,s,c,l,d,u,p){Nn("NgControlFlow");let h=te(),y=Xe(),k=c!==void 0,M=te(),v=s?a.bind(M[Ct][He]):a,P=new F0(k,v);M[$e+t]=P,ws(h,y,t+1,e,n,r,o,An(y.consts,i),256),k&&ws(h,y,t+2,c,l,d,u,An(y.consts,p),512)}var j0=class extends T0{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Ne}at(e){return this.getLView(e)[He].$implicit}attach(e,n){let r=n[Do];this.needsIndexUpdate||=e!==this.length,Ds(this.lContainer,n,e,Xi(this.templateTNode,r)),Y_(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,X_(this.lContainer,e),Q_(this.lContainer,e)}create(e,n){let r=hd(this.lContainer,this.templateTNode.tView.ssrId),o=Ss(this.hostLView,this.templateTNode,new N0(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(e){Dd(e[W],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[He].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[He].$index=e}getLView(e){return J_(this.lContainer,e)}};function bp(t){let e=G(null),n=Fr();try{let r=te(),o=r[W],i=r[n],a=n+1,s=kd(r,a);if(i.liveCollection===void 0){let l=V0(o,a);i.liveCollection=new j0(s,r,l)}else i.liveCollection.reset();let c=i.liveCollection;if(K_(c,t,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){let l=Ro(),d=c.length===0;if($o(r,l,d)){let u=n+2,p=kd(r,u);if(d){let h=V0(o,u),y=rv(p,h,r),k=Ss(r,h,void 0,{dehydratedView:y});Ds(p,k,0,Xi(h,y))}else o.firstUpdatePass&&$8(p),tv(p,0)}}}finally{G(e)}}function kd(t,e){return t[e]}function Y_(t,e){if(t.length<=Ne)return;let n=Ne+e,r=t[n],o=r?r[Po]:void 0;if(r&&o&&o.detachedLeaveAnimationFns&&o.detachedLeaveAnimationFns.length>0){let i=r[ir];Yb(i,o),Vo.delete(r),o.detachedLeaveAnimationFns=void 0}}function X_(t,e){if(t.length<=Ne)return;let n=Ne+e,r=t[n],o=r?r[Po]:void 0;o&&o.leave&&o.leave.size>0&&(o.detachedLeaveAnimationFns=[])}function Q_(t,e){return vs(t,e)}function J_(t,e){return ev(t,e)}function V0(t,e){return us(t,e)}function T(t,e,n){let r=te(),o=Ro();if($o(r,o,e)){let i=Xe(),a=$l();zk(a,r,t,e,r[Oe],n)}return T}function Tm(t,e,n,r,o){dp(e,t,n,o?"class":"style",r)}function g(t,e,n,r){let o=te(),i=o[W],a=t+$e,s=i.firstCreatePass?cv(a,o,2,e,qk,zh(),n,r):i.data[a];if(C8(s,o,t,e,e6),ds(s)){let c=o[W];cp(c,o,s),pk(c,s,o)}return r!=null&&lp(o,s),g}function m(){let t=Xe(),e=at(),n=b8(e);return t.firstCreatePass&&lv(t,n),qy(n)&&Uy(),zy(),n.classesWithoutHost!=null&&ZC(n)&&Tm(t,n,te(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&KC(n)&&Tm(t,n,te(),n.stylesWithoutHost,!1),m}function X(t,e,n,r){return g(t,e,n,r),m(),X}var e6=(t,e,n,r,o)=>(Gl(!0),Ck(e[Oe],r,rm()));function le(){return te()}var Ps="en-US";var t6=Ps;function Cv(t){typeof t=="string"&&(t6=t.toLowerCase().replace(/_/g,"-"))}function x(t,e,n){let r=te(),o=Xe(),i=at();return bv(o,r,r[Oe],i,t,e,n),x}function bv(t,e,n,r,o,i,a){let s=!0,c=null;if((r.type&3||a)&&(c??=a0(r,e,i),i_(r,t,e,a,n,o,i,c)&&(s=!1)),s){let l=r.outputs?.[o],d=r.hostDirectiveOutputs?.[o];if(d&&d.length)for(let u=0;u<d.length;u+=2){let p=d[u],h=d[u+1];c??=a0(r,e,i),Dm(r,e,p,h,o,c)}if(l&&l.length)for(let u of l)c??=a0(r,e,i),Dm(r,e,u,o,o,c)}}function D(t=1){return nm(t)}function n6(t,e){let n=null,r=Sb(t);for(let o=0;o<e.length;o++){let i=e[o];if(i==="*"){n=o;continue}if(r===null?wk(t,i,!0):Lb(r,i))return o}return n}function _p(t){let e=te()[Ct][wt];if(!e.projection){let n=t?t.length:1,r=e.projection=by(n,null),o=r.slice(),i=e.child;for(;i!==null;){if(i.type!==128){let a=t?n6(i,t):0;a!==null&&(o[a]?o[a].projectionNext=i:r[a]=i,o[a]=i)}i=i.next}}}function xp(t,e=0,n,r,o,i){let a=te(),s=Xe(),c=r?t+1:null;c!==null&&ws(a,s,c,r,o,i,null,n);let l=Es(s,$e+t,16,null,n||null);l.projection===null&&(l.projection=e),Wh();let u=!a[Do]||qh();a[Ct][wt].projection[l.projection]===null&&c!==null?r6(a,s,c):u&&!_d(l)&&s8(s,a,l)}function r6(t,e,n){let r=$e+n,o=e.data[r],i=t[r],a=hd(i,o.tView.ssrId),s=Ss(t,o,void 0,{dehydratedView:a});Ds(i,s,0,Xi(o,a))}function Ip(t,e,n,r){E_(t,e,n,r)}function Sp(t){let e=te(),n=Xe(),r=Zh();zl(r+1);let o=gp(n,r);if(t.dirty&&Ry(e)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let i=A_(e,r);t.reset(i,cb),t.notifyOnChanges()}return!0}return!1}function Dp(){return S_(te(),Zh())}function Ep(t){let e=Wy();return Ty(e,$e+t)}function Xl(t,e){return t<<17|e<<2}function qo(t){return t>>17&32767}function o6(t){return(t&2)==2}function i6(t,e){return t&131071|e<<17}function H0(t){return t|2}function Qi(t){return(t&131068)>>2}function d0(t,e){return t&-131069|e<<2}function a6(t){return(t&1)===1}function B0(t){return t|1}function s6(t,e,n,r,o,i){let a=i?e.classBindings:e.styleBindings,s=qo(a),c=Qi(a);t[r]=n;let l=!1,d;if(Array.isArray(n)){let u=n;d=u[1],(d===null||Bi(u,d)>0)&&(l=!0)}else d=n;if(o)if(c!==0){let p=qo(t[s+1]);t[r+1]=Xl(p,s),p!==0&&(t[p+1]=d0(t[p+1],r)),t[s+1]=i6(t[s+1],r)}else t[r+1]=Xl(s,0),s!==0&&(t[s+1]=d0(t[s+1],r)),s=r;else t[r+1]=Xl(c,0),s===0?s=r:t[c+1]=d0(t[c+1],r),c=r;l&&(t[r+1]=H0(t[r+1])),Rm(t,d,r,!0),Rm(t,d,r,!1),c6(e,d,t,r,i),a=Xl(s,c),i?e.classBindings=a:e.styleBindings=a}function c6(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&Bi(i,e)>=0&&(n[r+1]=B0(n[r+1]))}function Rm(t,e,n,r){let o=t[n+1],i=e===null,a=r?qo(o):Qi(o),s=!1;for(;a!==0&&(s===!1||i);){let c=t[a],l=t[a+1];l6(c,e)&&(s=!0,t[a+1]=r?B0(l):H0(l)),a=r?qo(l):Qi(l)}s&&(t[n+1]=r?H0(o):B0(o))}function l6(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Bi(t,e)>=0:!1}function Pe(t,e){return d6(t,e,null,!0),Pe}function d6(t,e,n,r){let o=te(),i=Xe(),a=Zy(2);if(i.firstUpdatePass&&h6(i,t,a,r),e!==lr&&$o(o,a,e)){let s=i.data[Fr()];m6(i,s,o,o[Oe],t,o[a+1]=k6(e,n),r,a)}}function u6(t,e){return e>=t.expandoStartIndex}function h6(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[Fr()],a=u6(t,n);v6(i,r)&&e===null&&!a&&(e=!1),e=p6(o,i,e,r),s6(o,i,e,n,a,r)}}function p6(t,e,n,r){let o=Qy(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=u0(null,t,e,n,r),n=Cs(n,e.attrs,r),i=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==o)if(n=u0(o,t,e,n,r),i===null){let c=f6(t,e,r);c!==void 0&&Array.isArray(c)&&(c=u0(null,t,e,c[1],r),c=Cs(c,e.attrs,r),g6(t,e,r,c))}else i=y6(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function f6(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Qi(r)!==0)return t[qo(r)]}function g6(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[qo(o)]=r}function y6(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let a=t[i].hostAttrs;r=Cs(r,a,n)}return Cs(r,e.attrs,n)}function u0(t,e,n,r,o){let i=null,a=n.directiveEnd,s=n.directiveStylingLast;for(s===-1?s=n.directiveStart:s++;s<a&&(i=e[s],r=Cs(r,i.hostAttrs,o),i!==t);)s++;return t!==null&&(n.directiveStylingLast=s),r}function Cs(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let a=e[i];typeof a=="number"?o=a:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),xy(t,a,n?!0:e[++i]))}return t===void 0?null:t}function m6(t,e,n,r,o,i,a,s){if(!(e.type&3))return;let c=t.data,l=c[s+1],d=a6(l)?Nm(c,e,n,o,Qi(l),a):void 0;if(!vd(d)){vd(i)||o6(l)&&(i=Nm(c,null,n,o,s,a));let u=Nh(Fr(),n);l8(r,a,u,o,i)}}function Nm(t,e,n,r,o,i){let a=e===null,s;for(;o>0;){let c=t[o],l=Array.isArray(c),d=l?c[1]:c,u=d===null,p=n[o+1];p===lr&&(p=u?Nt:void 0);let h=u?Nl(p,r):d===r?p:void 0;if(l&&!vd(h)&&(h=Nl(c,r)),vd(h)&&(s=h,a))return s;let y=t[o+1];o=a?qo(y):Qi(y)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(s=Nl(c,r))}return s}function vd(t){return t!==void 0}function k6(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=nr(xs(t)))),t}function v6(t,e){return(t.flags&(e?8:16))!==0}function w(t,e=""){let n=te(),r=Xe(),o=t+$e,i=r.firstCreatePass?Es(r,o,1,e,null):r.data[o],a=M6(r,n,i,e,t);n[o]=a,Wl()&&ap(r,n,a,i),$i(i,!1)}var M6=(t,e,n,r,o)=>(Gl(!0),Tb(e[Oe],r));function w6(t,e,n,r=""){return $o(t,Ro(),n)?e+rs(n)+r:lr}function Q(t){return ue("",t),Q}function ue(t,e,n){let r=te(),o=w6(r,t,e,n);return o!==lr&&C6(r,Fr(),o),ue}function C6(t,e,n){let r=Nh(e,t);Rb(t[Oe],r,n)}function ye(t,e,n){e0(e)&&(e=e());let r=te(),o=Ro();if($o(r,o,e)){let i=Xe(),a=$l();zk(a,r,t,e,r[Oe],n)}return ye}function ve(t,e){let n=e0(t);return n&&t.set(e),n}function me(t,e){let n=te(),r=Xe(),o=at();return bv(r,n,n[Oe],o,t,e),me}function b6(t,e,n){let r=Xe();if(r.firstCreatePass){let o=Pn(t);z0(n,r.data,r.blueprint,o,!0),z0(e,r.data,r.blueprint,o,!1)}}function z0(t,e,n,r,o){if(t=it(t),Array.isArray(t))for(let i=0;i<t.length;i++)z0(t[i],e,n,r,o);else{let i=Xe(),a=te(),s=at(),c=xo(t)?t:it(t.provide),l=Oh(t),d=s.providerIndexes&1048575,u=s.directiveStart,p=s.providerIndexes>>20;if(xo(t)||!t.multi){let h=new jo(l,o,j,null),y=p0(c,e,o?d:d+p,u);y===-1?(g0(id(s,a),i,c),h0(i,t,e.length),e.push(c),s.directiveStart++,s.directiveEnd++,o&&(s.providerIndexes+=1048576),n.push(h),a.push(h)):(n[y]=h,a[y]=h)}else{let h=p0(c,e,d+p,u),y=p0(c,e,d,d+p),k=h>=0&&n[h],M=y>=0&&n[y];if(o&&!M||!o&&!k){g0(id(s,a),i,c);let v=I6(o?x6:_6,n.length,o,r,l,t);!o&&M&&(n[y].providerFactory=v),h0(i,t,e.length,0),e.push(c),s.directiveStart++,s.directiveEnd++,o&&(s.providerIndexes+=1048576),n.push(v),a.push(v)}else{let v=_v(n[o?y:h],l,!o&&r);h0(i,t,h>-1?h:y,v)}!o&&r&&M&&n[y].componentProviders++}}}function h0(t,e,n,r){let o=xo(e),i=Ey(e);if(o||i){let c=(i?it(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){let d=l.indexOf(n);d===-1?l.push(n,[r,c]):l[d+1].push(r,c)}else l.push(n,c)}}}function _v(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function p0(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function _6(t,e,n,r,o){return q0(this.multi,[])}function x6(t,e,n,r,o){let i=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=ms(r,r[W],this.providerFactory.index,o);a=c.slice(0,s),q0(i,a);for(let l=s;l<c.length;l++)a.push(c[l])}else a=[],q0(i,a);return a}function q0(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function I6(t,e,n,r,o,i){let a=new jo(t,n,j,null);return a.multi=[],a.index=e,a.componentProviders=0,_v(a,o,r&&!n),a}function Fn(t,e=[]){return n=>{n.providersResolver=(r,o)=>b6(r,o?o(t):t,e)}}function Lp(t,e){return Ld(t,e)}var Md=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Op=(()=>{class t{compileModuleSync(n){return new yd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Sh(n),i=vk(o.declarations).reduce((a,s)=>{let c=or(s);return c&&a.push(new Bo(c)),a},[]);return new Md(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var S6=(()=>{class t{zone=_(Ge);changeDetectionScheduler=_(Dn);applicationRef=_(ur);applicationErrorHandler=_(Ht);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xv({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ge($(I({},Iv()),{scheduleInRootZone:n})),[{provide:Ge,useFactory:t},{provide:Pr,multi:!0,useFactory:()=>{let r=_(S6,{optional:!0});return()=>r.initialize()}},{provide:Pr,multi:!0,useFactory:()=>{let r=_(D6);return()=>{r.initialize()}}},e===!0?{provide:t0,useValue:!0}:[],{provide:n0,useValue:n??Ek},{provide:Ht,useFactory:()=>{let r=_(Ge),o=_(Ke),i;return a=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw a}):(i??=o.get(Zt),i.handleError(a))})}}}]}function Iv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var D6=(()=>{class t{subscription=new qe;initialized=!1;zone=_(Ge);pendingTasks=_(sr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Sv=(()=>{class t{applicationErrorHandler=_(Ht);appRef=_(ur);taskService=_(sr);ngZone=_(Ge);zonelessEnabled=_(Zl);tracing=_(Uo,{optional:!0});disableScheduling=_(t0,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new qe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ld):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(n0,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof dd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?mm:Lk;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ld+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,mm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function E6(){return typeof $localize<"u"&&$localize.locale||Ps}var Td=new H("",{providedIn:"root",factory:()=>_(Td,{optional:!0,skipSelf:!0})||E6()});function rt(t){return dy(t)}function Ur(t,e){return Jc(t,e?.equal)}var Pp=class{[ht];constructor(e){this[ht]=e}destroy(){this[ht].destroy()}};function Ap(t,e){let n=e?.injector??_(pt),r=e?.manualCleanup!==!0?n.get(Qt):null,o,i=n.get(Gi,null,{optional:!0}),a=n.get(Dn);return i!==null?(o=P6(i.view,a,t),r instanceof es&&r._lView===i.view&&(r=null)):o=A6(t,n.get(ps),a),o.injector=n,r!==null&&(o.onDestroyFn=r.onDestroy(()=>o.destroy())),new Pp(o)}var Dv=$(I({},uy),{cleanupFns:void 0,zone:null,onDestroyFn:No,run(){let t=Wi(!1);try{hy(this)}finally{Wi(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=G(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],G(t)}}}),L6=$(I({},Dv),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){ko(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),O6=$(I({},Dv),{consumerMarkedDirty(){this.view[Z]|=8192,Nr(this.view),this.notifier.notify(13)},destroy(){ko(this),this.onDestroyFn(),this.cleanup(),this.view[ar]?.delete(this)}});function P6(t,e,n){let r=Object.create(O6);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=Ev(r,n),t[ar]??=new Set,t[ar].add(r),r.consumerMarkedDirty(r),r}function A6(t,e,n){let r=Object.create(L6);return r.fn=Ev(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function Ev(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}var Rv=Symbol("InputSignalNode#UNSET"),Z6=$(I({},el),{transformFn:void 0,applyValueToInputSignal(t,e){Ei(t,e)}});function Nv(t,e){let n=Object.create(Z6);n.value=t,n.transformFn=e?.transform;function r(){if(xi(n),n.value===Rv){let o=null;throw new F(-950,o)}return n.value}return r[ht]=n,r}var Nd=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>bs(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},K6=new H("");K6.__NG_ELEMENT_ID__=t=>{let e=at();if(e===null)throw new F(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new F(204,!1)};function Lv(t,e){return Nv(t,e)}function Y6(t){return Nv(Rv,t)}var Fv=(Lv.required=Y6,Lv);var Tp=new H(""),X6=new H("");function As(t){return!t.moduleRef}function Q6(t){let e=As(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ge);return n.run(()=>{As(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ht),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),As(t)){let i=()=>e.destroy(),a=t.platformInjector.get(Tp);a.add(i),e.onDestroy(()=>{o.unsubscribe(),a.delete(i)})}else{let i=()=>t.moduleRef.destroy(),a=t.platformInjector.get(Tp);a.add(i),t.moduleRef.onDestroy(()=>{gs(t.allPlatformModules,t.moduleRef),o.unsubscribe(),a.delete(i)})}return ex(r,n,()=>{let i=e.get(sr),a=i.add(),s=e.get(Mp);return s.runInitializers(),s.donePromise.then(()=>{let c=e.get(Td,Ps);if(Cv(c||Ps),!e.get(X6,!0))return As(t)?e.get(ur):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(As(t)){let d=e.get(ur);return t.rootComponent!==void 0&&d.bootstrap(t.rootComponent),d}else return J6?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void i.remove(a))})})}var J6;function ex(t,e,n){try{let r=n();return Br(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Rd=null;function tx(t=[],e){return pt.create({name:e,providers:[{provide:as,useValue:"platform"},{provide:Tp,useValue:new Set([()=>Rd=null])},...t]})}function nx(t=[]){if(Rd)return Rd;let e=tx(t);return Rd=e,Mv(),rx(e),e}function rx(t){let e=t.get(Cd,null);ft(t,()=>{e?.forEach(n=>n())})}var fn=(()=>{class t{static __NG_ELEMENT_ID__=ox}return t})();function ox(t){return ix(at(),te(),(t&16)===16)}function ix(t,e,n){if(Rr(t)&&!n){let r=Xt(t.index,e);return new Vr(r,r)}else if(t.type&175){let r=e[Ct];return new Vr(r,e)}return null}var Rp=class{constructor(){}supports(e){return fp(e)}create(e){return new Np(e)}},ax=(t,e)=>e,Np=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||ax}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let a=!r||n&&n.currentIndex<Ov(r,o,i)?n:r,s=Ov(a,o,i),c=a.currentIndex;if(a===r)o--,r=r._nextRemoved;else if(n=n._next,a.previousIndex==null)o++;else{i||(i=[]);let l=s-o,d=c-o;if(l!=d){for(let p=0;p<l;p++){let h=p<i.length?i[p]:i[p]=0,y=h+p;d<=y&&y<l&&(i[p]=h+1)}let u=a.previousIndex;i[u]=d-l}}s!==c&&e(a,s,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!fp(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,o,i,a;if(Array.isArray(e)){this.length=e.length;for(let s=0;s<this.length;s++)i=e[s],a=this._trackByFn(s,i),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,i,a,s),r=!0):(r&&(n=this._verifyReinsertion(n,i,a,s)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,dv(e,s=>{a=this._trackByFn(o,s),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,s,a,o),r=!0):(r&&(n=this._verifyReinsertion(n,s,a,o)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new Fp(n,r),i,o)),e}_verifyReinsertion(e,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let o=n===null?this._itHead:n._next;return e._next=o,e._prev=n,o===null?this._itTail=e:o._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Fd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Fd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Fp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},jp=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Fd=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new jp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,o=this.map.get(r);return o?o.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Ov(t,e,n){let r=t.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}function Pv(){return new Vp([new Rp])}var Vp=(()=>{class t{factories;static \u0275prov=N({token:t,providedIn:"root",factory:Pv});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=_(t,{optional:!0,skipSelf:!0});return t.create(n,r||Pv())}}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new F(901,!1)}}return t})();function jv(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:o}=t;ge(8);try{let i=o?.injector??nx(r),a=[xv({}),{provide:Dn,useExisting:Sv},im,...n||[]],s=new Ms({providers:a,parent:i,debugName:"",runEnvironmentInitializers:!1});return Q6({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{ge(9)}}function $r(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Vv(t){let e=or(t);if(!e)return null;let n=new Bo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var zv=null;function tn(){return zv}function Hp(t){zv??=t}var Ts=class{},Rs=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:()=>_(qv),providedIn:"platform"})}return t})(),Bp=new H(""),qv=(()=>{class t extends Rs{_location;_history;_doc=_(We);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tn().getBaseHref(this._doc)}onPopState(n){let r=tn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=tn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function jd(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Hv(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function gn(t){return t&&t[0]!=="?"?`?${t}`:t}var yn=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:()=>_(Hd),providedIn:"root"})}return t})(),Vd=new H(""),Hd=(()=>{class t extends yn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_(We).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return jd(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+gn(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let a=this.prepareExternalUrl(o+gn(i));this._platformLocation.pushState(n,r,a)}replaceState(n,r,o,i){let a=this.prepareExternalUrl(o+gn(i));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(q(Rs),q(Vd,8))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wr=(()=>{class t{_subject=new je;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=lx(Hv(Bv(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+gn(r))}normalize(n){return t.stripTrailingSlash(cx(this._basePath,Bv(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gn(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=gn;static joinWithSlash=jd;static stripTrailingSlash=Hv;static \u0275fac=function(r){return new(r||t)(q(yn))};static \u0275prov=N({token:t,factory:()=>sx(),providedIn:"root"})}return t})();function sx(){return new Wr(q(yn))}function cx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Bv(t){return t.replace(/\/index.html$/,"")}function lx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var zp=(()=>{class t extends yn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=jd(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let a=this.prepareExternalUrl(o+gn(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,a)}replaceState(n,r,o,i){let a=this.prepareExternalUrl(o+gn(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(q(Rs),q(Vd,8))};static \u0275prov=N({token:t,factory:t.\u0275fac})}return t})();var Bd=class{$implicit;ngForOf;index;count;constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Lt=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new Bd(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(i===null?void 0:i);else if(i!==null){let s=r.get(i);r.move(s,a),Uv(s,o)}});for(let o=0,i=r.length;o<i;o++){let s=r.get(o).context;s.index=o,s.count=i,s.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);Uv(i,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(j(dr),j(Hr),j(Vp))};static \u0275dir=xe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Uv(t,e){t.context.$implicit=e.item}var Qe=(()=>{class t{_viewContainer;_context=new zd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){$v(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){$v(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(j(dr),j(Hr))};static \u0275dir=xe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),zd=class{$implicit=null;ngIf=null};function $v(t,e){if(t&&!t.createEmbeddedView)throw new F(2020,!1)}var Ie=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=en({type:t});static \u0275inj=jt({})}return t})();function qp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var Ns=class{};var Wv="browser";var Gv=(()=>{class t{static \u0275prov=N({token:t,providedIn:"root",factory:()=>new Up(_(We),window)})}return t})(),Up=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo($(I({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=dx(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(rr(2400,!1))}}scrollToElement(e,n){let r=e.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo($(I({},n),{left:o-a[0],top:i-a[1]}))}};function dx(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let a=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(a)return a}o=r.nextNode()}}return null}var Fs=class{_doc;constructor(e){this._doc=e}manager},qd=(()=>{class t extends Fs{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||t)(q(We))};static \u0275prov=N({token:t,factory:t.\u0275fac})}return t})(),$d=new H(""),Kp=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(a=>{a.manager=this});let o=n.filter(a=>!(a instanceof qd));this._plugins=o.slice().reverse();let i=n.find(a=>a instanceof qd);i&&this._plugins.push(i)}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(q($d),q(Ge))};static \u0275prov=N({token:t,factory:t.\u0275fac})}return t})(),$p="ng-app-id";function Zv(t){for(let e of t)e.remove()}function Kv(t,e){let n=e.createElement("style");return n.textContent=t,n}function ux(t,e,n,r){let o=t.head?.querySelectorAll(`style[${$p}="${e}"],link[${$p}="${e}"]`);if(o)for(let i of o)i.removeAttribute($p),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Gp(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Yp=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,ux(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,Kv);r?.forEach(o=>this.addUsage(o,this.external,Gp))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(Zv(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Zv(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,Kv(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Gp(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(q(We),q(wd),q(bd,8),q(_s))};static \u0275prov=N({token:t,factory:t.\u0275fac})}return t})(),Wp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Xp=/%COMP%/g;var Xv="%COMP%",hx=`_nghost-${Xv}`,px=`_ngcontent-${Xv}`,fx=!0,gx=new H("",{providedIn:"root",factory:()=>fx});function yx(t){return px.replace(Xp,t)}function mx(t){return hx.replace(Xp,t)}function Qv(t,e){return e.map(n=>n.replace(Xp,t))}var Qp=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,a,s,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=a,this.ngZone=s,this.nonce=c,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new js(n,a,s,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof Ud?o.applyToHost(n):o instanceof Vs&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let a=this.doc,s=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case cr.Emulated:i=new Ud(c,l,r,this.appId,d,a,s,u,p);break;case cr.ShadowDom:return new Zp(c,l,n,r,a,s,this.nonce,u,p);default:i=new Vs(c,l,r,d,a,s,u,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(q(Kp),q(Yp),q(wd),q(gx),q(We),q(Ge),q(bd),q(Uo,8))};static \u0275prov=N({token:t,factory:t.\u0275fac})}return t})(),js=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,o,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Wp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Yv(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Yv(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;let i=Wp[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let o=Wp[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(Rn.DashCase|Rn.Important)?e.style.setProperty(n,r,o&Rn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Rn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,o){if(typeof e=="string"&&(e=tn().getGlobalEventTarget(this.doc,e),!e))throw new F(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,o)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function Yv(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Zp=class extends js{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,o,i,a,s,c,l){super(e,i,a,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=Qv(o.id,d);for(let p of d){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let u=o.getExternalStyles?.();if(u)for(let p of u){let h=Gp(p,i);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Vs=class extends js{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,o,i,a,s,c,l){super(e,i,a,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let d=r.styles;this.styles=l?Qv(l,d):d,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Vo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ud=class extends Vs{contentAttr;hostAttr;constructor(e,n,r,o,i,a,s,c,l){let d=o+"-"+r.id;super(e,n,r,i,a,s,c,l,d),this.contentAttr=yx(d),this.hostAttr=mx(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Wd=class t extends Ts{supportsDOMEvents=!0;static makeCurrent(){Hp(new t)}onAndCancel(e,n,r,o){return e.addEventListener(n,r,o),()=>{e.removeEventListener(n,r,o)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=kx();return n==null?null:vx(n)}resetBaseElement(){Hs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qp(document.cookie,e)}},Hs=null;function kx(){return Hs=Hs||document.head.querySelector("base"),Hs?Hs.getAttribute("href"):null}function vx(t){return new URL(t,document.baseURI).pathname}var Mx=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac})}return t})(),Jv=["alt","control","meta","shift"],wx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},eM=(()=>{class t extends Fs{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o,i){let a=t.parseEventName(r),s=t.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tn().onAndCancel(n,a.domEventName,s,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=t._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),Jv.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),a+=l+".")}),a+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(n,r){let o=wx[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Jv.forEach(a=>{if(a!==o){let s=Cx[a];s(n)&&(i+=a+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{t.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(q(We))};static \u0275prov=N({token:t,factory:t.\u0275fac})}return t})();function Jp(t,e,n){let r=I({rootComponent:t,platformRef:n?.platformRef},bx(e));return jv(r)}function bx(t){return{appProviders:[...Dx,...t?.providers??[]],platformProviders:Sx}}function _x(){Wd.makeCurrent()}function xx(){return new Zt}function Ix(){return G0(document),document}var Sx=[{provide:_s,useValue:Wv},{provide:Cd,useValue:_x,multi:!0},{provide:We,useFactory:Ix}];var Dx=[{provide:as,useValue:"root"},{provide:Zt,useFactory:xx},{provide:$d,useClass:qd,multi:!0,deps:[We]},{provide:$d,useClass:eM,multi:!0,deps:[We]},Qp,Yp,Kp,{provide:Ho,useExisting:Qp},{provide:Ns,useClass:Mx},[]];var tM=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(q(We))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var K="primary",Js=Symbol("RouteTitle"),of=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ko(t){return new of(t)}function lM(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let o={};for(let i=0;i<r.length;i++){let a=r[i],s=t[i];if(a[0]===":")o[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function Lx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!jn(t[n],e[n]))return!1;return!0}function jn(t,e){let n=t?af(t):void 0,r=e?af(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!dM(t[o],e[o]))return!1;return!0}function af(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function dM(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((o,i)=>r[i]===o)}else return t===e}function uM(t){return t.length>0?t[t.length-1]:null}function hr(t){return Q1(t)?t:Br(t)?Se(Promise.resolve(t)):z(t)}var Ox={exact:pM,subset:fM},hM={exact:Px,subset:Ax,ignored:()=>!0};function nM(t,e,n){return Ox[n.paths](t.root,e.root,n.matrixParams)&&hM[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Px(t,e){return jn(t,e)}function pM(t,e,n){if(!Go(t.segments,e.segments)||!Kd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!pM(t.children[r],e.children[r],n))return!1;return!0}function Ax(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>dM(t[n],e[n]))}function fM(t,e,n){return gM(t,e,e.segments,n)}function gM(t,e,n,r){if(t.segments.length>n.length){let o=t.segments.slice(0,n.length);return!(!Go(o,n)||e.hasChildren()||!Kd(o,n,r))}else if(t.segments.length===n.length){if(!Go(t.segments,n)||!Kd(t.segments,n,r))return!1;for(let o in e.children)if(!t.children[o]||!fM(t.children[o],e.children[o],r))return!1;return!0}else{let o=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!Go(t.segments,o)||!Kd(t.segments,o,r)||!t.children[K]?!1:gM(t.children[K],e,i,r)}}function Kd(t,e,n){return e.every((r,o)=>hM[n](t[o].parameters,r.parameters))}var Hn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new he([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ko(this.queryParams),this._queryParamMap}toString(){return Nx.serialize(this)}},he=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yd(this)}},Gr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ko(this.parameters),this._parameterMap}toString(){return mM(this)}};function Tx(t,e){return Go(t,e)&&t.every((n,r)=>jn(n.parameters,e[r].parameters))}function Go(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Rx(t,e){let n=[];return Object.entries(t.children).forEach(([r,o])=>{r===K&&(n=n.concat(e(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==K&&(n=n.concat(e(o,r)))}),n}var Yo=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:()=>new Zr,providedIn:"root"})}return t})(),Zr=class{parse(e){let n=new cf(e);return new Hn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Bs(e.root,!0)}`,r=Vx(e.queryParams),o=typeof e.fragment=="string"?`#${Fx(e.fragment)}`:"";return`${n}${r}${o}`}},Nx=new Zr;function Yd(t){return t.segments.map(e=>mM(e)).join("/")}function Bs(t,e){if(!t.hasChildren())return Yd(t);if(e){let n=t.children[K]?Bs(t.children[K],!1):"",r=[];return Object.entries(t.children).forEach(([o,i])=>{o!==K&&r.push(`${o}:${Bs(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Rx(t,(r,o)=>o===K?[Bs(t.children[K],!1)]:[`${o}:${Bs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[K]!=null?`${Yd(t)}/${n[0]}`:`${Yd(t)}/(${n.join("//")})`}}function yM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gd(t){return yM(t).replace(/%3B/gi,";")}function Fx(t){return encodeURI(t)}function sf(t){return yM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xd(t){return decodeURIComponent(t)}function rM(t){return Xd(t.replace(/\+/g,"%20"))}function mM(t){return`${sf(t.path)}${jx(t.parameters)}`}function jx(t){return Object.entries(t).map(([e,n])=>`;${sf(e)}=${sf(n)}`).join("")}function Vx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Gd(n)}=${Gd(o)}`).join("&"):`${Gd(n)}=${Gd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Hx=/^[^\/()?;#]+/;function ef(t){let e=t.match(Hx);return e?e[0]:""}var Bx=/^[^\/()?;=#]+/;function zx(t){let e=t.match(Bx);return e?e[0]:""}var qx=/^[^=?&#]+/;function Ux(t){let e=t.match(qx);return e?e[0]:""}var $x=/^[^&#]+/;function Wx(t){let e=t.match($x);return e?e[0]:""}var cf=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[K]=new he(e,n)),r}parseSegment(){let e=ef(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new Gr(Xd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=zx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=ef(this.remaining);o&&(r=o,this.capture(r))}e[Xd(n)]=Xd(r)}parseQueryParam(e){let n=Ux(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=Wx(this.remaining);a&&(r=a,this.capture(r))}let o=rM(n),i=rM(r);if(e.hasOwnProperty(o)){let a=e[o];Array.isArray(a)||(a=[a],e[o]=a),a.push(i)}else e[o]=i}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ef(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new F(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=K);let a=this.parseChildren();n[i??K]=Object.keys(a).length===1&&a[K]?a[K]:new he([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function kM(t){return t.segments.length>0?new he([],{[K]:t}):t}function vM(t){let e={};for(let[r,o]of Object.entries(t.children)){let i=vM(o);if(r===K&&i.segments.length===0&&i.hasChildren())for(let[a,s]of Object.entries(i.children))e[a]=s;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let n=new he(t.segments,e);return Gx(n)}function Gx(t){if(t.numberOfChildren===1&&t.children[K]){let e=t.children[K];return new he(t.segments.concat(e.segments),e.children)}return t}function Kr(t){return t instanceof Hn}function MM(t,e,n=null,r=null){let o=wM(t);return CM(o,e,n,r)}function wM(t){let e;function n(i){let a={};for(let c of i.children){let l=n(c);a[c.outlet]=l}let s=new he(i.url,a);return i===t&&(e=s),s}let r=n(t.root),o=kM(r);return e??o}function CM(t,e,n,r){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return tf(o,o,o,n,r);let i=Zx(e);if(i.toRoot())return tf(o,o,new he([],{}),n,r);let a=Kx(i,o,t),s=a.processChildren?qs(a.segmentGroup,a.index,i.commands):_M(a.segmentGroup,a.index,i.commands);return tf(o,a.segmentGroup,s,n,r)}function Qd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function $s(t){return typeof t=="object"&&t!=null&&t.outlets}function tf(t,e,n,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let a;t===e?a=n:a=bM(t,e,n);let s=kM(vM(a));return new Hn(s,i,o)}function bM(t,e,n){let r={};return Object.entries(t.children).forEach(([o,i])=>{i===e?r[o]=n:r[o]=bM(i,e,n)}),new he(t.segments,r)}var Jd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Qd(r[0]))throw new F(4003,!1);let o=r.find($s);if(o&&o!==uM(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Zx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Jd(!0,0,t);let e=0,n=!1,r=t.reduce((o,i,a)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let s={};return Object.entries(i.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:s}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:a===0?(i.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?n=!0:s===".."?e++:s!=""&&o.push(s))}),o):[...o,i]},[]);return new Jd(n,e,r)}var oa=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Kx(t,e,n){if(t.isAbsolute)return new oa(e,!0,0);if(!n)return new oa(e,!1,NaN);if(n.parent===null)return new oa(n,!0,0);let r=Qd(t.commands[0])?0:1,o=n.segments.length-1+r;return Yx(n,o,t.numberOfDoubleDots)}function Yx(t,e,n){let r=t,o=e,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new F(4005,!1);o=r.segments.length}return new oa(r,!1,o-i)}function Xx(t){return $s(t[0])?t[0].outlets:{[K]:t}}function _M(t,e,n){if(t??=new he([],{}),t.segments.length===0&&t.hasChildren())return qs(t,e,n);let r=Qx(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let i=new he(t.segments.slice(0,r.pathIndex),{});return i.children[K]=new he(t.segments.slice(r.pathIndex),t.children),qs(i,0,o)}else return r.match&&o.length===0?new he(t.segments,{}):r.match&&!t.hasChildren()?lf(t,e,n):r.match?qs(t,0,o):lf(t,e,n)}function qs(t,e,n){if(n.length===0)return new he(t.segments,{});{let r=Xx(n),o={};if(Object.keys(r).some(i=>i!==K)&&t.children[K]&&t.numberOfChildren===1&&t.children[K].segments.length===0){let i=qs(t.children[K],e,n);return new he(t.segments,i.children)}return Object.entries(r).forEach(([i,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(o[i]=_M(t.children[i],e,a))}),Object.entries(t.children).forEach(([i,a])=>{r[i]===void 0&&(o[i]=a)}),new he(t.segments,o)}}function Qx(t,e,n){let r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return i;let a=t.segments[o],s=n[r];if($s(s))break;let c=`${s}`,l=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!iM(c,l,a))return i;r+=2}else{if(!iM(c,{},a))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function lf(t,e,n){let r=t.segments.slice(0,e),o=0;for(;o<n.length;){let i=n[o];if($s(i)){let c=Jx(i.outlets);return new he(r,c)}if(o===0&&Qd(n[0])){let c=t.segments[e];r.push(new Gr(c.path,oM(n[0]))),o++;continue}let a=$s(i)?i.outlets[K]:`${i}`,s=o<n.length-1?n[o+1]:null;a&&s&&Qd(s)?(r.push(new Gr(a,oM(s))),o+=2):(r.push(new Gr(a,{})),o++)}return new he(r,{})}function Jx(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=lf(new he([],{}),0,r))}),e}function oM(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function iM(t,e,n){return t==n.path&&jn(e,n.parameters)}var ia="imperative",Je=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(Je||{}),qt=class{id;url;constructor(e,n){this.id=e,this.url=n}},Yr=class extends qt{type=Je.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",o=null){super(e,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ut=class extends qt{urlAfterRedirects;type=Je.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},bt=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(bt||{}),sa=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(sa||{}),Vn=class extends qt{reason;code;type=Je.NavigationCancel;constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Bn=class extends qt{reason;code;type=Je.NavigationSkipped;constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o}},ca=class extends qt{error;target;type=Je.NavigationError;constructor(e,n,r,o){super(e,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ws=class extends qt{urlAfterRedirects;state;type=Je.RoutesRecognized;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eu=class extends qt{urlAfterRedirects;state;type=Je.GuardsCheckStart;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tu=class extends qt{urlAfterRedirects;state;shouldActivate;type=Je.GuardsCheckEnd;constructor(e,n,r,o,i){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},nu=class extends qt{urlAfterRedirects;state;type=Je.ResolveStart;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ru=class extends qt{urlAfterRedirects;state;type=Je.ResolveEnd;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ou=class{route;type=Je.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},iu=class{route;type=Je.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},au=class{snapshot;type=Je.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},su=class{snapshot;type=Je.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cu=class{snapshot;type=Je.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lu=class{snapshot;type=Je.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},la=class{routerEvent;position;anchor;type=Je.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Gs=class{},da=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function e7(t){return!(t instanceof Gs)&&!(t instanceof da)}function t7(t,e){return t.providers&&!t._injector&&(t._injector=ta(t.providers,e,`Route: ${t.path}`)),t._injector??e}function kn(t){return t.outlet||K}function n7(t,e){let n=t.filter(r=>kn(r)===e);return n.push(...t.filter(r=>kn(r)!==e)),n}function pa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var du=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return pa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Xo(this.rootInjector)}},Xo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new du(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(q(Ke))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uu=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=df(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=df(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=uf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return uf(e,this._root).map(n=>n.value)}};function df(t,e){if(t===e.value)return e;for(let n of e.children){let r=df(t,n);if(r)return r}return null}function uf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=uf(t,n);if(r.length)return r.unshift(e),r}return[]}var zt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ra(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Zs=class extends uu{snapshot;constructor(e,n){super(e),this.snapshot=n,vf(this,e)}toString(){return this.snapshot.toString()}};function xM(t){let e=r7(t),n=new Ze([new Gr("",{})]),r=new Ze({}),o=new Ze({}),i=new Ze({}),a=new Ze(""),s=new zn(n,r,i,a,o,K,t,e.root);return s.snapshot=e.root,new Zs(new zt(s,[]),e)}function r7(t){let e={},n={},r={},i=new Zo([],e,r,"",n,K,t,null,{});return new Ks("",new zt(i,[]))}var zn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,o,i,a,s,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(oe(l=>l[Js]))??z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>Ko(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>Ko(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hu(t,e,n="emptyOnly"){let r,{routeConfig:o}=t;return e!==null&&(n==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),o?.data),t._resolvedData)}:r={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},o&&SM(o)&&(r.resolve[Js]=o.title),r}var Zo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Js]}constructor(e,n,r,o,i,a,s,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ko(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ko(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ks=class extends uu{url;constructor(e,n){super(n),this.url=e,vf(this,n)}toString(){return IM(this._root)}};function vf(t,e){e.value._routerState=t,e.children.forEach(n=>vf(t,n))}function IM(t){let e=t.children.length>0?` { ${t.children.map(IM).join(", ")} } `:"";return`${t.value}${e}`}function nf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,jn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),jn(e.params,n.params)||t.paramsSubject.next(n.params),Lx(e.url,n.url)||t.urlSubject.next(n.url),jn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function hf(t,e){let n=jn(t.params,e.params)&&Tx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||hf(t.parent,e.parent))}function SM(t){return typeof t.title=="string"||t.title===null}var DM=new H(""),ec=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=K;activateEvents=new be;deactivateEvents=new be;attachEvents=new be;detachEvents=new be;routerOutletData=Fv();parentContexts=_(Xo);location=_(dr);changeDetector=_(fn);inputBinder=_(tc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new pf(n,s,o.injector,this.routerOutletData);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=xe({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Jt]})}return t})(),pf=class{route;childContexts;parent;outletData;constructor(e,n,r,o){this.route=e,this.childContexts=n,this.parent=r,this.outletData=o}get(e,n){return e===zn?this.route:e===Xo?this.childContexts:e===DM?this.outletData:this.parent.get(e,n)}},tc=new H(""),Mf=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=Za([r.queryParams,r.params,r.data]).pipe(Mt(([i,a,s],c)=>(s=I(I(I({},i),a),s),c===0?z(s):Promise.resolve(s)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=Vv(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:s}of a.inputs)n.activatedComponentRef.setInput(s,i[s])});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac})}return t})(),wf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=de({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&X(0,"router-outlet")},dependencies:[ec],encapsulation:2})}return t})();function Cf(t){let e=t.children&&t.children.map(Cf),n=e?$(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==K&&(n.component=wf),n}function o7(t,e,n){let r=Ys(t,e._root,n?n._root:void 0);return new Zs(r,e)}function Ys(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let o=i7(t,e,n);return new zt(r,o)}else{if(t.shouldAttach(e.value)){let i=t.retrieve(e.value);if(i!==null){let a=i.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>Ys(t,s)),a}}let r=a7(e.value),o=e.children.map(i=>Ys(t,i));return new zt(r,o)}}function i7(t,e,n){return e.children.map(r=>{for(let o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return Ys(t,r,o);return Ys(t,r)})}function a7(t){return new zn(new Ze(t.url),new Ze(t.params),new Ze(t.queryParams),new Ze(t.fragment),new Ze(t.data),t.outlet,t.component,t)}var ua=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},EM="ngNavigationCancelingError";function pu(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Kr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=LM(!1,bt.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function LM(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[EM]=!0,n.cancellationCode=e,n}function s7(t){return OM(t)&&Kr(t.url)}function OM(t){return!!t&&t[EM]}var c7=(t,e,n,r)=>oe(o=>(new ff(e,o.targetRouterState,o.currentRouterState,n,r).activate(t),o)),ff=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,o,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),nf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let o=ra(n);e.children.forEach(i=>{let a=i.value.outlet;this.deactivateRoutes(i,o[a],r),delete o[a]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(o===i)if(o.component){let a=r.getContext(o.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=ra(e);for(let a of Object.values(i))this.deactivateRouteAndItsChildren(a,o);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=ra(e);for(let a of Object.values(i))this.deactivateRouteAndItsChildren(a,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let o=ra(n);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new lu(i.value.snapshot))}),e.children.length&&this.forwardEvent(new su(e.value.snapshot))}activateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(nf(o),o===i)if(o.component){let a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,r);else if(o.component){let a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let s=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),nf(s.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=o,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},fu=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},aa=class{component;route;constructor(e,n){this.component=e,this.route=n}};function l7(t,e,n){let r=t._root,o=e?e._root:null;return zs(r,o,n,[r.value])}function d7(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function fa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!yh(t)?t:e.get(t):r}function zs(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=ra(e);return t.children.forEach(a=>{u7(a,i[a.value.outlet],n,r.concat([a.value]),o),delete i[a.value.outlet]}),Object.entries(i).forEach(([a,s])=>Us(s,n.getContext(a),o)),o}function u7(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&i.routeConfig===a.routeConfig){let c=h7(a,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new fu(r)):(i.data=a.data,i._resolvedData=a._resolvedData),i.component?zs(t,e,s?s.children:null,r,o):zs(t,e,n,r,o),c&&s&&s.outlet&&s.outlet.isActivated&&o.canDeactivateChecks.push(new aa(s.outlet.component,a))}else a&&Us(e,s,o),o.canActivateChecks.push(new fu(r)),i.component?zs(t,null,s?s.children:null,r,o):zs(t,null,n,r,o);return o}function h7(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Go(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Go(t.url,e.url)||!jn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hf(t,e)||!jn(t.queryParams,e.queryParams);case"paramsChange":default:return!hf(t,e)}}function Us(t,e,n){let r=ra(t),o=t.value;Object.entries(r).forEach(([i,a])=>{o.component?e?Us(a,e.children.getContext(i),n):Us(a,null,n):Us(a,e,n)}),o.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new aa(e.outlet.component,o)):n.canDeactivateChecks.push(new aa(null,o)):n.canDeactivateChecks.push(new aa(null,o))}function nc(t){return typeof t=="function"}function p7(t){return typeof t=="boolean"}function f7(t){return t&&nc(t.canLoad)}function g7(t){return t&&nc(t.canActivate)}function y7(t){return t&&nc(t.canActivateChild)}function m7(t){return t&&nc(t.canDeactivate)}function k7(t){return t&&nc(t.canMatch)}function PM(t){return t instanceof Xn||t?.name==="EmptyError"}var Zd=Symbol("INITIAL_VALUE");function ha(){return Mt(t=>Za(t.map(e=>e.pipe(Jn(1),nh(Zd)))).pipe(oe(e=>{for(let n of e)if(n!==!0){if(n===Zd)return Zd;if(n===!1||v7(n))return n}return!0}),Dt(e=>e!==Zd),Jn(1)))}function v7(t){return Kr(t)||t instanceof ua}function M7(t,e){return Ve(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:a}}=n;return a.length===0&&i.length===0?z($(I({},n),{guardsResult:!0})):w7(a,r,o,t).pipe(Ve(s=>s&&p7(s)?C7(r,i,t,e):z(s)),oe(s=>$(I({},n),{guardsResult:s})))})}function w7(t,e,n,r){return Se(t).pipe(Ve(o=>S7(o.component,o.route,n,e,r)),er(o=>o!==!0,!0))}function C7(t,e,n,r){return Se(e).pipe(Dr(o=>ji(_7(o.route.parent,r),b7(o.route,r),I7(t,o.path,n),x7(t,o.route,n))),er(o=>o!==!0,!0))}function b7(t,e){return t!==null&&e&&e(new cu(t)),z(!0)}function _7(t,e){return t!==null&&e&&e(new au(t)),z(!0)}function x7(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let o=r.map(i=>Ka(()=>{let a=pa(e)??n,s=fa(i,a),c=g7(s)?s.canActivate(e,t):ft(a,()=>s(e,t));return hr(c).pipe(er())}));return z(o).pipe(ha())}function I7(t,e,n){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(a=>d7(a)).filter(a=>a!==null).map(a=>Ka(()=>{let s=a.guards.map(c=>{let l=pa(a.node)??n,d=fa(c,l),u=y7(d)?d.canActivateChild(r,t):ft(l,()=>d(r,t));return hr(u).pipe(er())});return z(s).pipe(ha())}));return z(i).pipe(ha())}function S7(t,e,n,r,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return z(!0);let a=i.map(s=>{let c=pa(e)??o,l=fa(s,c),d=m7(l)?l.canDeactivate(t,e,n,r):ft(c,()=>l(t,e,n,r));return hr(d).pipe(er())});return z(a).pipe(ha())}function D7(t,e,n,r){let o=e.canLoad;if(o===void 0||o.length===0)return z(!0);let i=o.map(a=>{let s=fa(a,t),c=f7(s)?s.canLoad(e,n):ft(t,()=>s(e,n));return hr(c)});return z(i).pipe(ha(),AM(r))}function AM(t){return $1(nt(e=>{if(typeof e!="boolean")throw pu(t,e)}),oe(e=>e===!0))}function E7(t,e,n,r){let o=e.canMatch;if(!o||o.length===0)return z(!0);let i=o.map(a=>{let s=fa(a,t),c=k7(s)?s.canMatch(e,n):ft(t,()=>s(e,n));return hr(c)});return z(i).pipe(ha(),AM(r))}var Xs=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Qs=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function na(t){return Fi(new Xs(t))}function L7(t){return Fi(new F(4e3,!1))}function O7(t){return Fi(LM(!1,bt.GuardRejected))}var gf=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return z(r);if(o.numberOfChildren>1||!o.children[K])return L7(`${e.redirectTo}`);o=o.children[K]}}applyRedirectCommands(e,n,r,o,i){return P7(n,o,i).pipe(oe(a=>{if(a instanceof Hn)throw new Qs(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),e,r);if(a[0]==="/")throw new Qs(s);return s}))}applyRedirectCreateUrlTree(e,n,r,o){let i=this.createSegmentGroup(e,n.root,r,o);return new Hn(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let s=i.substring(1);r[o]=n[s]}else r[o]=i}),r}createSegmentGroup(e,n,r,o){let i=this.createSegments(e,n.segments,r,o),a={};return Object.entries(n.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(e,c,r,o)}),new he(i,a)}createSegments(e,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,n,r){let o=r[n.path.substring(1)];if(!o)throw new F(4001,!1);return o}findOrReturn(e,n){let r=0;for(let o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}};function P7(t,e,n){if(typeof t=="string")return z(t);let r=t,{queryParams:o,fragment:i,routeConfig:a,url:s,outlet:c,params:l,data:d,title:u}=e;return hr(ft(n,()=>r({params:l,data:d,queryParams:o,fragment:i,routeConfig:a,url:s,outlet:c,title:u})))}var yf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function A7(t,e,n,r,o){let i=TM(t,e,n);return i.matched?(r=t7(e,r),E7(r,e,n,o).pipe(oe(a=>a===!0?i:I({},yf)))):z(i)}function TM(t,e,n){if(e.path==="**")return T7(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},yf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(e.matcher||lM)(n,t,e);if(!o)return I({},yf);let i={};Object.entries(o.posParams??{}).forEach(([s,c])=>{i[s]=c.path});let a=o.consumed.length>0?I(I({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:a,positionalParamSegments:o.posParams??{}}}function T7(t){return{matched:!0,parameters:t.length>0?uM(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function aM(t,e,n,r){return n.length>0&&F7(t,n,r)?{segmentGroup:new he(e,N7(r,new he(n,t.children))),slicedSegments:[]}:n.length===0&&j7(t,n,r)?{segmentGroup:new he(t.segments,R7(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new he(t.segments,t.children),slicedSegments:n}}function R7(t,e,n,r){let o={};for(let i of n)if(yu(t,e,i)&&!r[kn(i)]){let a=new he([],{});o[kn(i)]=a}return I(I({},r),o)}function N7(t,e){let n={};n[K]=e;for(let r of t)if(r.path===""&&kn(r)!==K){let o=new he([],{});n[kn(r)]=o}return n}function F7(t,e,n){return n.some(r=>yu(t,e,r)&&kn(r)!==K)}function j7(t,e,n){return n.some(r=>yu(t,e,r))}function yu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function V7(t,e,n){return e.length===0&&!t.children[n]}var mf=class{};function H7(t,e,n,r,o,i,a="emptyOnly"){return new kf(t,e,n,r,o,a,i).recognize()}var B7=31,kf=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,o,i,a,s){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new gf(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=aM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:n,rootSnapshot:r})=>{let o=new zt(r,n),i=new Ks("",o),a=MM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(a),{state:i,tree:a}}))}match(e){let n=new Zo([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),K,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,K,n).pipe(oe(r=>({children:r,rootSnapshot:n})),Qn(r=>{if(r instanceof Qs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Xs?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,i):this.processSegment(e,n,r,r.segments,o,!0,i).pipe(oe(a=>a instanceof zt?[a]:[]))}processChildren(e,n,r,o){let i=[];for(let a of Object.keys(r.children))a==="primary"?i.unshift(a):i.push(a);return Se(i).pipe(Dr(a=>{let s=r.children[a],c=n7(n,a);return this.processSegmentGroup(e,c,s,a,o)}),th((a,s)=>(a.push(...s),a)),Er(null),eh(),Ve(a=>{if(a===null)return na(r);let s=RM(a);return z7(s),z(s)}))}processSegment(e,n,r,o,i,a,s){return Se(n).pipe(Dr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,o,i,a,s).pipe(Qn(l=>{if(l instanceof Xs)return z(null);throw l}))),er(c=>!!c),Qn(c=>{if(PM(c))return V7(r,o,i)?z(new mf):na(r);throw c}))}processSegmentAgainstRoute(e,n,r,o,i,a,s,c){return kn(r)!==a&&(a===K||!yu(o,i,r))?na(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,i,a,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(e,o,n,r,i,a,c):na(o)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,i,a,s){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:u,remainingSegments:p}=TM(n,o,i);if(!c)return na(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>B7&&(this.allowRedirects=!1));let h=new Zo(i,l,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,sM(o),kn(o),o.component??o._loadedComponent??null,o,cM(o)),y=hu(h,s,this.paramsInheritanceStrategy);return h.params=Object.freeze(y.params),h.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(d,o.redirectTo,u,h,e).pipe(Mt(M=>this.applyRedirects.lineralizeSegments(o,M)),Ve(M=>this.processSegment(e,r,n,M.concat(p),a,!1,s)))}matchSegmentAgainstRoute(e,n,r,o,i,a){let s=A7(n,r,o,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Mt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(Mt(({routes:l})=>{let d=r._loadedInjector??e,{parameters:u,consumedSegments:p,remainingSegments:h}=c,y=new Zo(p,u,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,sM(r),kn(r),r.component??r._loadedComponent??null,r,cM(r)),k=hu(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(k.params),y.data=Object.freeze(k.data);let{segmentGroup:M,slicedSegments:v}=aM(n,p,h,l);if(v.length===0&&M.hasChildren())return this.processChildren(d,l,M,y).pipe(oe(S=>new zt(y,S)));if(l.length===0&&v.length===0)return z(new zt(y,[]));let P=kn(r)===i;return this.processSegment(d,l,M,v,P?K:i,!0,y).pipe(oe(S=>new zt(y,S instanceof zt?[S]:[])))}))):na(n)))}getChildConfig(e,n,r){return n.children?z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?z({routes:n._loadedRoutes,injector:n._loadedInjector}):D7(e,n,r,this.urlSerializer).pipe(Ve(o=>o?this.configLoader.loadChildren(e,n).pipe(nt(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):O7(n))):z({routes:[],injector:e})}};function z7(t){t.sort((e,n)=>e.value.outlet===K?-1:n.value.outlet===K?1:e.value.outlet.localeCompare(n.value.outlet))}function q7(t){let e=t.value.routeConfig;return e&&e.path===""}function RM(t){let e=[],n=new Set;for(let r of t){if(!q7(r)){e.push(r);continue}let o=e.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):e.push(r)}for(let r of n){let o=RM(r.children);e.push(new zt(r.value,o))}return e.filter(r=>!n.has(r))}function sM(t){return t.data||{}}function cM(t){return t.resolve||{}}function U7(t,e,n,r,o,i){return Ve(a=>H7(t,e,n,r,a.extractedUrl,o,i).pipe(oe(({state:s,tree:c})=>$(I({},a),{targetSnapshot:s,urlAfterRedirects:c}))))}function $7(t,e){return Ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return z(n);let i=new Set(o.map(c=>c.route)),a=new Set;for(let c of i)if(!a.has(c))for(let l of NM(c))a.add(l);let s=0;return Se(a).pipe(Dr(c=>i.has(c)?W7(c,r,t,e):(c.data=hu(c,c.parent,t).resolve,z(void 0))),nt(()=>s++),Vi(1),Ve(c=>s===a.size?z(n):It))})}function NM(t){let e=t.children.map(n=>NM(n)).flat();return[t,...e]}function W7(t,e,n,r){let o=t.routeConfig,i=t._resolve;return o?.title!==void 0&&!SM(o)&&(i[Js]=o.title),Ka(()=>(t.data=hu(t,t.parent,n).resolve,G7(i,t,e,r).pipe(oe(a=>(t._resolvedData=a,t.data=I(I({},t.data),a),null)))))}function G7(t,e,n,r){let o=af(t);if(o.length===0)return z({});let i={};return Se(o).pipe(Ve(a=>Z7(t[a],e,n,r).pipe(er(),nt(s=>{if(s instanceof ua)throw pu(new Zr,s);i[a]=s}))),Vi(1),oe(()=>i),Qn(a=>PM(a)?It:Fi(a)))}function Z7(t,e,n,r){let o=pa(e)??r,i=fa(t,o),a=i.resolve?i.resolve(e,n):ft(o,()=>i(e,n));return hr(a)}function rf(t){return Mt(e=>{let n=t(e);return n?Se(n).pipe(oe(()=>e)):z(e)})}var bf=(()=>{class t{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===K);return r}getResolvedTitleForRoute(n){return n.data[Js]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:()=>_(FM),providedIn:"root"})}return t})(),FM=(()=>{class t extends bf{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(q(tM))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xr=new H("",{providedIn:"root",factory:()=>({})}),Qo=new H(""),mu=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(Op);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=hr(ft(n,()=>r.loadComponent())).pipe(oe(VM),Mt(HM),nt(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),Ya(()=>{this.componentLoaders.delete(r)})),i=new Ni(o,()=>new je).pipe(Ri());return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=jM(r,this.compiler,n,this.onLoadEndListener).pipe(Ya(()=>{this.childrenLoaders.delete(r)})),a=new Ni(i,()=>new je).pipe(Ri());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jM(t,e,n,r){return hr(ft(n,()=>t.loadChildren())).pipe(oe(VM),Mt(HM),Ve(o=>o instanceof Pd||Array.isArray(o)?z(o):Se(e.compileModuleAsync(o))),oe(o=>{r&&r(t);let i,a,s=!1;return Array.isArray(o)?(a=o,s=!0):(i=o.create(n).injector,a=i.get(Qo,[],{optional:!0,self:!0}).flat()),{routes:a.map(Cf),injector:i}}))}function K7(t){return t&&typeof t=="object"&&"default"in t}function VM(t){return K7(t)?t.default:t}function HM(t){return z(t)}var ku=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:()=>_(Y7),providedIn:"root"})}return t})(),Y7=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_f=new H(""),xf=new H("");function BM(t,e,n){let r=t.get(xf),o=t.get(We);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let i,a=new Promise(l=>{i=l}),s=o.startViewTransition(()=>(i(),X7(t)));s.ready.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&ft(t,()=>c({transition:s,from:e,to:n})),a}function X7(t){return new Promise(e=>{Is({read:()=>setTimeout(e)},{injector:t})})}var If=new H(""),vu=(()=>{class t{currentNavigation=ce(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new je;transitionAbortWithErrorSubject=new je;configLoader=_(mu);environmentInjector=_(Ke);destroyRef=_(Qt);urlSerializer=_(Yo);rootContexts=_(Xo);location=_(Wr);inputBindingEnabled=_(tc,{optional:!0})!==null;titleStrategy=_(bf);options=_(Xr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_(ku);createViewTransition=_(_f,{optional:!0});navigationErrorHandler=_(If,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>z(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new ou(o)),r=o=>this.events.next(new iu(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;rt(()=>{this.transitions?.next($(I({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new Ze(null),this.transitions.pipe(Dt(r=>r!==null),Mt(r=>{let o=!1;return z(r).pipe(Mt(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",bt.SupersededByNewNavigation),It;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?$(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=i.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&s!=="reload")return this.events.next(new Bn(i.id,this.urlSerializer.serialize(i.rawUrl),"",sa.IgnoredSameUrlNavigation)),i.resolve(!1),It;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return z(i).pipe(Mt(c=>(this.events.next(new Yr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?It:Promise.resolve(c))),U7(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),nt(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=c.urlAfterRedirects,d));let l=new Ws(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:l,source:d,restoredState:u,extras:p}=i,h=new Yr(c,this.urlSerializer.serialize(l),d,u);this.events.next(h);let y=xM(this.rootComponentType).snapshot;return this.currentTransition=r=$(I({},i),{targetSnapshot:y,urlAfterRedirects:l,extras:$(I({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(k=>(k.finalUrl=l,k)),z(r)}else return this.events.next(new Bn(i.id,this.urlSerializer.serialize(i.extractedUrl),"",sa.IgnoredByUrlHandlingStrategy)),i.resolve(!1),It}),nt(i=>{let a=new eu(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(a)}),oe(i=>(this.currentTransition=r=$(I({},i),{guards:l7(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),M7(this.environmentInjector,i=>this.events.next(i)),nt(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw pu(this.urlSerializer,i.guardsResult);let a=new tu(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(a)}),Dt(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",bt.GuardRejected),!1)),rf(i=>{if(i.guards.canActivateChecks.length!==0)return z(i).pipe(nt(a=>{let s=new nu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),Mt(a=>{let s=!1;return z(a).pipe($7(this.paramsInheritanceStrategy,this.environmentInjector),nt({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(a,"",bt.NoDataFromResolver)}}))}),nt(a=>{let s=new ru(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}))}),rf(i=>{let a=s=>{let c=[];if(s.routeConfig?.loadComponent){let l=pa(s)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,s.routeConfig).pipe(nt(d=>{s.component=d}),oe(()=>{})))}for(let l of s.children)c.push(...a(l));return c};return Za(a(i.targetSnapshot.root)).pipe(Er(null),Jn(1))}),rf(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:i,targetSnapshot:a}=r,s=this.createViewTransition?.(this.environmentInjector,i.root,a.root);return s?Se(s).pipe(oe(()=>r)):z(r)}),oe(i=>{let a=o7(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=$(I({},i),{targetRouterState:a}),this.currentNavigation.update(s=>(s.targetRouterState=a,s)),r}),nt(()=>{this.events.next(new Gs)}),c7(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Jn(1),Dl(new ae(i=>{let a=r.abortController.signal,s=()=>i.next();return a.addEventListener("abort",s),()=>a.removeEventListener("abort",s)}).pipe(Dt(()=>!o&&!r.targetRouterState),nt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",bt.Aborted)}))),nt({next:i=>{o=!0,this.lastSuccessfulNavigation=rt(this.currentNavigation),this.events.next(new Ut(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),Dl(this.transitionAbortWithErrorSubject.pipe(nt(i=>{throw i}))),Ya(()=>{o||this.cancelNavigationTransition(r,"",bt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Qn(i=>{if(this.destroyed)return r.resolve(!1),It;if(o=!0,OM(i))this.events.next(new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),s7(i)?this.events.next(new da(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ca(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let s=ft(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(s instanceof ua){let{message:c,cancellationCode:l}=pu(this.urlSerializer,s);this.events.next(new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new da(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(a),i}catch(s){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(s)}}return It}))}))}cancelNavigationTransition(n,r,o){let i=new Vn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=rt(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Q7(t){return t!==ia}var zM=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:()=>_(J7),providedIn:"root"})}return t})(),gu=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},J7=(()=>{class t extends gu{static \u0275fac=(()=>{let n;return function(o){return(n||(n=pn(t)))(o||t)}})();static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qM=(()=>{class t{urlSerializer=_(Yo);options=_(Xr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=_(Wr);urlHandlingStrategy=_(ku);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Hn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,a=o??i;return a instanceof Hn?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=xM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:()=>_(eI),providedIn:"root"})}return t})(),eI=(()=>{class t extends qM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Yr?this.updateStateMemento():n instanceof Bn?this.commitTransition(r):n instanceof Ws?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Gs?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Vn&&n.code!==bt.SupersededByNewNavigation&&n.code!==bt.Redirect?this.restoreHistory(r):n instanceof ca?this.restoreHistory(r,!0):n instanceof Ut&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:a}=r;if(this.location.isCurrentPathEqualTo(n)||i){let s=this.browserPageId,c=I(I({},a),this.generateNgRouterState(o,s));this.location.replaceState(n,"",c)}else{let s=I(I({},a),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=pn(t)))(o||t)}})();static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mu(t,e){t.events.pipe(Dt(n=>n instanceof Ut||n instanceof Vn||n instanceof ca||n instanceof Bn),oe(n=>n instanceof Ut||n instanceof Bn?0:(n instanceof Vn?n.code===bt.Redirect||n.code===bt.SupersededByNewNavigation:!1)?2:1),Dt(n=>n!==2),Jn(1)).subscribe(()=>{e()})}var tI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ae=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(yp);stateManager=_(qM);options=_(Xr,{optional:!0})||{};pendingTasks=_(sr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(vu);urlSerializer=_(Yo);location=_(Wr);urlHandlingStrategy=_(ku);injector=_(Ke);_events=new je;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(zM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(Qo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(tc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new qe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=rt(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Vn&&r.code!==bt.Redirect&&r.code!==bt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ut)this.navigated=!0;else if(r instanceof da){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=I({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Q7(o.source)},a);this.scheduleNavigation(s,ia,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}e7(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ia,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=I({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let s=this.parseUrl(n);this.scheduleNavigation(s,r,a,i).catch(c=>{this.disposed||this.injector.get(Ht)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return rt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Cf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:a,queryParamsHandling:s,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:a,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=I(I({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let p=o?o.snapshot:this.routerState.snapshot.root;u=wM(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),u=this.currentUrlTree.root}return CM(u,n,d,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Kr(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,ia,null,r)}navigate(n,r={skipLocationChange:!1}){return rI(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(rr(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=I({},tI):r===!1?o=I({},nI):o=r,Kr(n))return nM(this.currentUrlTree,n,o);let i=this.parseUrl(n);return nM(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,a){if(this.disposed)return Promise.resolve(!1);let s,c,l;a?(s=a.resolve,c=a.reject,l=a.promise):l=new Promise((u,p)=>{s=u,c=p});let d=this.pendingTasks.add();return Mu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:s,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rI(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new F(4008,!1)}var ga=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ce(null);get href(){return rt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new je;applicationErrorHandler=_(Ht);options=_(Xr,{optional:!0});constructor(n,r,o,i,a,s){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=a,this.locationStrategy=s,this.reactiveHref.set(_(new Nd("href"),{optional:!0}));let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=o=>o==="merge"||o==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(o=>{o instanceof Ut&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Kr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,o,i,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(n!==0||r||o||i||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,n,r):o.removeAttribute(i,n)}get urlTree(){return this.routerLinkInput===null?null:Kr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(j(Ae),j(zn),bs("tabindex"),j(Bt),j(st),j(yn))};static \u0275dir=xe({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,o){r&1&&x("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Wo("href",o.reactiveHref(),Y0)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$r],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$r],replaceUrl:[2,"replaceUrl","replaceUrl",$r],routerLink:"routerLink"},features:[Jt]})}return t})(),Df=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new be;constructor(n,r,o,i,a){this.router=n,this.element=r,this.renderer=o,this.cdr=i,this.link=a,this.routerEventsSubscription=n.events.subscribe(s=>{s instanceof Ut&&this.update()})}ngAfterContentInit(){z(this.links.changes,z(null)).pipe(Sr()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Se(n).pipe(Sr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=oI(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let i=o.urlTree;return i?n.isActive(i,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(j(Ae),j(st),j(Bt),j(fn),j(ga,8))};static \u0275dir=xe({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,i){if(r&1&&Ip(i,ga,5),r&2){let a;Sp(a=Dp())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Jt]})}return t})();function oI(t){return!!t.paths}var rc=class{};var UM=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,i){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(Dt(n=>n instanceof Ut),Dr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=ta(i.providers,n,`Route: ${i.path}`));let a=i._injector??n,s=i._loadedInjector??a;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(a,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(s,i.children??i._loadedRoutes))}return Se(o).pipe(Sr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=z(null);let i=o.pipe(Ve(a=>a===null?z(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(n,r);return Se([i,a]).pipe(Sr())}else return i})}static \u0275fac=function(r){return new(r||t)(q(Ae),q(Ke),q(rc),q(mu))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$M=new H(""),iI=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ia;restoredId=0;store={};constructor(n,r,o,i,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ut?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Bn&&n.code===sa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{if(!(n instanceof la))return;let r={behavior:"instant"};n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position,r):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>f(this,null,function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new la(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){pp()};static \u0275prov=N({token:t,factory:t.\u0275fac})}return t})();function Ef(t,...e){return is([{provide:Qo,multi:!0,useValue:t},[],{provide:zn,useFactory:WM,deps:[Ae]},{provide:Os,multi:!0,useFactory:GM},e.map(n=>n.\u0275providers)])}function WM(t){return t.routerState.root}function oc(t,e){return{\u0275kind:t,\u0275providers:e}}function GM(){let t=_(pt);return e=>{let n=t.get(ur);if(e!==n.components[0])return;let r=t.get(Ae),o=t.get(ZM);t.get(Lf)===1&&r.initialNavigation(),t.get(XM,null,{optional:!0})?.setUpPreloading(),t.get($M,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var ZM=new H("",{factory:()=>new je}),Lf=new H("",{providedIn:"root",factory:()=>1});function KM(){let t=[{provide:Z0,useValue:!0},{provide:Lf,useValue:0},Ad(()=>{let e=_(pt);return e.get(Bp,Promise.resolve()).then(()=>new Promise(r=>{let o=e.get(Ae),i=e.get(ZM);Mu(o,()=>{r(!0)}),e.get(vu).afterPreactivation=()=>(r(!0),i.closed?z(void 0):i),o.initialNavigation()}))})];return oc(2,t)}function YM(){let t=[Ad(()=>{_(Ae).setUpLocationChangeListener()}),{provide:Lf,useValue:2}];return oc(3,t)}var XM=new H("");function QM(t){return oc(0,[{provide:XM,useExisting:UM},{provide:rc,useExisting:t}])}function JM(){return oc(8,[Mf,{provide:tc,useExisting:Mf}])}function e4(t){Nn("NgRouterViewTransitions");let e=[{provide:_f,useValue:BM},{provide:xf,useValue:I({skipNextTransition:!!t?.skipInitialTransition},t)}];return oc(9,e)}var t4=[Wr,{provide:Yo,useClass:Zr},Ae,Xo,{provide:zn,useFactory:WM,deps:[Ae]},mu,[]],Of=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[t4,[],{provide:Qo,multi:!0,useValue:n},[],r?.errorHandler?{provide:If,useValue:r.errorHandler}:[],{provide:Xr,useValue:r||{}},r?.useHash?sI():cI(),aI(),r?.preloadingStrategy?QM(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?lI(r):[],r?.bindToComponentInputs?JM().\u0275providers:[],r?.enableViewTransitions?e4().\u0275providers:[],dI()]}}static forChild(n){return{ngModule:t,providers:[{provide:Qo,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=en({type:t});static \u0275inj=jt({})}return t})();function aI(){return{provide:$M,useFactory:()=>{let t=_(Gv),e=_(Ge),n=_(Xr),r=_(vu),o=_(Yo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new iI(o,r,t,e,n)}}}function sI(){return{provide:yn,useClass:zp}}function cI(){return{provide:yn,useClass:Hd}}function lI(t){return[t.initialNavigation==="disabled"?YM().\u0275providers:[],t.initialNavigation==="enabledBlocking"?KM().\u0275providers:[]]}var Sf=new H("");function dI(){return[{provide:Sf,useFactory:GM},{provide:Os,multi:!0,useExisting:Sf}]}var u4=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(j(Bt),j(st))};static \u0275dir=xe({type:t})}return t})(),Eu=(()=>{class t extends u4{static \u0275fac=(()=>{let n;return function(o){return(n||(n=pn(t)))(o||t)}})();static \u0275dir=xe({type:t,features:[Et]})}return t})(),uc=new H(""),hI={provide:uc,useExisting:Ft(()=>Tf),multi:!0},Tf=(()=>{class t extends Eu{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(o){return(n||(n=pn(t)))(o||t)}})();static \u0275dir=xe({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){r&1&&x("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Fn([hI]),Et]})}return t})(),pI={provide:uc,useExisting:Ft(()=>ot),multi:!0};function fI(){let t=tn()?tn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var gI=new H(""),ot=(()=>{class t extends u4{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!fI())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(j(Bt),j(st),j(gI,8))};static \u0275dir=xe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&x("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},standalone:!1,features:[Fn([pI]),Et]})}return t})();function yI(t){return t==null||h4(t)===0}function h4(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Lu=new H(""),p4=new H("");function mI(t){return yI(t.value)?{required:!0}:null}function kI(t){return e=>{let n=e.value?.length??h4(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function n4(t){return null}function f4(t){return t!=null}function g4(t){return Br(t)?Se(t):t}function y4(t){let e={};return t.forEach(n=>{e=n!=null?I(I({},e),n):e}),Object.keys(e).length===0?null:e}function m4(t,e){return e.map(n=>n(t))}function vI(t){return!t.validate}function k4(t){return t.map(e=>vI(e)?e:n=>e.validate(n))}function MI(t){if(!t)return null;let e=t.filter(f4);return e.length==0?null:function(n){return y4(m4(n,e))}}function Rf(t){return t!=null?MI(k4(t)):null}function wI(t){if(!t)return null;let e=t.filter(f4);return e.length==0?null:function(n){let r=m4(n,e).map(g4);return J1(r).pipe(oe(y4))}}function Nf(t){return t!=null?wI(k4(t)):null}function r4(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function CI(t){return t._rawValidators}function bI(t){return t._rawAsyncValidators}function Pf(t){return t?Array.isArray(t)?t:[t]:[]}function Cu(t,e){return Array.isArray(t)?t.includes(e):t===e}function o4(t,e){let n=Pf(e);return Pf(t).forEach(o=>{Cu(n,o)||n.push(o)}),n}function i4(t,e){return Pf(e).filter(n=>!Cu(t,n))}var bu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Rf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Nf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ka=class extends bu{name;get formDirective(){return null}get path(){return null}},dc=class extends bu{_parent=null;name=null;valueAccessor=null},_u=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},_I={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},gG=$(I({},_I),{"[class.ng-submitted]":"isSubmitted"}),gt=(()=>{class t extends _u{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(j(dc,2))};static \u0275dir=xe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Pe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Et]})}return t})(),Jr=(()=>{class t extends _u{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(j(ka,10))};static \u0275dir=xe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Pe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Et]})}return t})();var ic="VALID",wu="INVALID",ya="PENDING",ac="DISABLED",Qr=class{},xu=class extends Qr{value;source;constructor(e,n){super(),this.value=e,this.source=n}},cc=class extends Qr{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},lc=class extends Qr{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},ma=class extends Qr{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Af=class extends Qr{source;constructor(e){super(),this.source=e}},Iu=class extends Qr{source;constructor(e){super(),this.source=e}};function v4(t){return(Ou(t)?t.validators:t)||null}function xI(t){return Array.isArray(t)?Rf(t):t||null}function M4(t,e){return(Ou(e)?e.asyncValidators:t)||null}function II(t){return Array.isArray(t)?Nf(t):t||null}function Ou(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function SI(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new F(1e3,"");if(!r[n])throw new F(1001,"")}function DI(t,e,n){t._forEachChild((r,o)=>{if(n[o]===void 0)throw new F(1002,"")})}var Su=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return rt(this.statusReactive)}set status(e){rt(()=>this.statusReactive.set(e))}_status=Ur(()=>this.statusReactive());statusReactive=ce(void 0);get valid(){return this.status===ic}get invalid(){return this.status===wu}get pending(){return this.status==ya}get disabled(){return this.status===ac}get enabled(){return this.status!==ac}errors;get pristine(){return rt(this.pristineReactive)}set pristine(e){rt(()=>this.pristineReactive.set(e))}_pristine=Ur(()=>this.pristineReactive());pristineReactive=ce(!0);get dirty(){return!this.pristine}get touched(){return rt(this.touchedReactive)}set touched(e){rt(()=>this.touchedReactive.set(e))}_touched=Ur(()=>this.touchedReactive());touchedReactive=ce(!1);get untouched(){return!this.touched}_events=new je;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(o4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(o4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(i4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(i4(e,this._rawAsyncValidators))}hasValidator(e){return Cu(this._rawValidators,e)}hasAsyncValidator(e){return Cu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched($(I({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new lc(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new lc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty($(I({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new cc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new cc(!0,r))}markAsPending(e={}){this.status=ya;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ma(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending($(I({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ac,this.errors=null,this._forEachChild(o=>{o.disable($(I({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xu(this.value,r)),this._events.next(new ma(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(I({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ic,this._forEachChild(r=>{r.enable($(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($(I({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ic||this.status===ya)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xu(this.value,n)),this._events.next(new ma(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity($(I({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ac:ic}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ya,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=g4(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ma(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new be,this.statusChanges=new be}_calculateStatus(){return this._allControlsDisabled()?ac:this.errors?wu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ya)?ya:this._anyControlsHaveStatus(wu)?wu:ic}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),o&&this._events.next(new cc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new lc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ou(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=xI(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=II(this._rawAsyncValidators)}},Du=class extends Su{constructor(e,n,r){super(v4(n),M4(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){DI(this,!0,e),Object.keys(e).forEach(r=>{SI(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Iu(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ff=new H("",{providedIn:"root",factory:()=>jf}),jf="always";function EI(t,e){return[...e.path,t]}function w4(t,e,n=jf){C4(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),OI(t,e),AI(t,e),PI(t,e),LI(t,e)}function a4(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function LI(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function C4(t,e){let n=CI(t);e.validator!==null?t.setValidators(r4(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=bI(t);e.asyncValidator!==null?t.setAsyncValidators(r4(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let o=()=>t.updateValueAndValidity();a4(e._rawValidators,o),a4(e._rawAsyncValidators,o)}function OI(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&b4(t,e)})}function PI(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&b4(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function b4(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function AI(t,e){let n=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function TI(t,e){t==null,C4(t,e)}function RI(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function NI(t){return Object.getPrototypeOf(t.constructor)===Eu}function FI(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function jI(t,e){if(!e)return null;Array.isArray(e);let n,r,o;return e.forEach(i=>{i.constructor===ot?n=i:NI(i)?r=i:o=i}),o||r||n||null}var VI={provide:ka,useExisting:Ft(()=>pr)},sc=Promise.resolve(),pr=(()=>{class t extends ka{callSetDisabledState;get submitted(){return rt(this.submittedReactive)}_submitted=Ur(()=>this.submittedReactive());submittedReactive=ce(!1);_directives=new Set;form;ngSubmit=new be;options;constructor(n,r,o){super(),this.callSetDisabledState=o,this.form=new Du({},Rf(n),Nf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){sc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),w4(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){sc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){sc.then(()=>{let r=this._findContainer(n.path),o=new Du({});TI(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){sc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){sc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),FI(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Af(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(j(Lu,10),j(p4,10),j(Ff,8))};static \u0275dir=xe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&x("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Fn([VI]),Et]})}return t})();function s4(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function c4(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var HI=class extends Su{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(v4(n),M4(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ou(n)&&(n.nonNullable||n.initialValueIsDefault)&&(c4(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Iu(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){s4(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){s4(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){c4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var BI={provide:dc,useExisting:Ft(()=>ct)},l4=Promise.resolve(),ct=(()=>{class t extends dc{_changeDetectorRef;callSetDisabledState;control=new HI;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new be;constructor(n,r,o,i,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=jI(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),RI(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){w4(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){l4.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&$r(r);l4.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?EI(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(j(ka,9),j(Lu,10),j(p4,10),j(uc,10),j(fn,8),j(Ff,8))};static \u0275dir=xe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Fn([BI]),Et,Jt]})}return t})();var eo=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=xe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var zI={provide:uc,useExisting:Ft(()=>to),multi:!0};function _4(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function qI(t){return t.split(":")[0]}var to=(()=>{class t extends Eu{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=_(ur).injector;destroyRef=_(Qt);cdr=_(fn);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Is({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),o=_4(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=qI(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=pn(t)))(o||t)}})();static \u0275dir=xe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&x("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Fn([zI]),Et]})}return t})(),va=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(_4(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(j(st),j(Bt),j(to,9))};static \u0275dir=xe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),UI={provide:uc,useExisting:Ft(()=>x4),multi:!0};function d4(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function $I(t){return t.split(":")[0]}var x4=(()=>{class t extends Eu{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(i=>this._getOptionId(i));r=(i,a)=>{i._setSelected(o.indexOf(a.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let a=i;for(let s=0;s<a.length;s++){let c=a[s],l=this._getOptionValue(c.value);o.push(l)}}else{let a=r.options;for(let s=0;s<a.length;s++){let c=a[s];if(c.selected){let l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=$I(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=pn(t)))(o||t)}})();static \u0275dir=xe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&x("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Fn([UI]),Et]})}return t})(),Ma=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(d4(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(d4(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(j(st),j(Bt),j(x4,9))};static \u0275dir=xe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function WI(t){return typeof t=="number"?t:parseInt(t,10)}var I4=(()=>{class t{_validator=n4;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):n4,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=xe({type:t,features:[Jt]})}return t})();var GI={provide:Lu,useExisting:Ft(()=>fr),multi:!0};var fr=(()=>{class t extends I4{required;inputName="required";normalizeInput=$r;createValidator=n=>mI;enabled(n){return n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=pn(t)))(o||t)}})();static \u0275dir=xe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Wo("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Fn([GI]),Et]})}return t})();var ZI={provide:Lu,useExisting:Ft(()=>hc),multi:!0},hc=(()=>{class t extends I4{minlength;inputName="minlength";normalizeInput=n=>WI(n);createValidator=n=>kI(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=pn(t)))(o||t)}})();static \u0275dir=xe({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Wo("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[Fn([ZI]),Et]})}return t})();var KI=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=en({type:t});static \u0275inj=jt({})}return t})();var yt=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ff,useValue:n.callSetDisabledState??jf}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=en({type:t});static \u0275inj=jt({imports:[KI]})}return t})();var YI=["*"];var S4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]];var D4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]];var E4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],L4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]];var O4=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]];var P4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]];var A4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]];var T4=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]];var R4=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]];var N4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]];var F4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]];var j4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]];var V4=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]];var H4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]];var B4=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]];var z4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]];var q4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]];var U4=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]];var $4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]];var W4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]];var G4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]];var pc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},Vf=new H("LucideIcons",{factory:()=>new fc({})}),fc=class{constructor(e){this.icons=e}getIcon(e){return this.hasIcon(e)?this.icons[e]:null}hasIcon(e){return typeof this.icons=="object"&&e in this.icons}},XI=(()=>{class t{constructor(){this.color=pc.stroke,this.size=pc.width,this.strokeWidth=pc["stroke-width"],this.absoluteStrokeWidth=!1}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function QI(t,e=3){return parseFloat(t.toFixed(e)).toString(10)}var Fe=(()=>{class t{constructor(n,r,o,i,a){this.elem=n,this.renderer=r,this.changeDetector=o,this.iconProviders=i,this.iconConfig=a,this.absoluteStrokeWidth=!1,this.defaultSize=pc.height}get size(){return this._size??this.iconConfig.size}set size(n){n?this._size=this.parseNumber(n):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(n){n?this._strokeWidth=this.parseNumber(n):delete this._strokeWidth}ngOnChanges(n){if(n.name||n.img||n.color||n.size||n.absoluteStrokeWidth||n.strokeWidth||n.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let o=this.getIcon(this.toPascalCase(r));if(o)this.replaceElement(o);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(n){let r=$(I({},pc),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?QI(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),o=this.createElement(["svg",r,n]);o.classList.add("lucide"),typeof this.name=="string"&&o.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&o.classList.add(...this.class.split(/ /).map(a=>a.trim()).filter(a=>a.length>0));let i=this.elem.nativeElement.childNodes;for(let a of i)this.renderer.removeChild(this.elem.nativeElement,a);this.renderer.appendChild(this.elem.nativeElement,o)}toPascalCase(n){return n.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,o,i)=>o.toUpperCase()+i.toLowerCase())}parseNumber(n){if(typeof n=="string"){let r=parseInt(n,10);if(isNaN(r))throw new Error(`${n} is not numeric.`);return r}return n}getIcon(n){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(n))return r.getIcon(n);return null}createElement([n,r,o=[]]){let i=this.renderer.createElement(n,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(a=>{let s=typeof r[a]=="string"?r[a]:r[a].toString(10);this.renderer.setAttribute(i,a,s)}),o.length&&o.forEach(a=>{let s=this.createElement(a);this.renderer.appendChild(i,s)}),i}}return t.\u0275fac=function(n){return new(n||t)(j(st),j(Bt),j(fn),j(Vf),j(XI))},t.\u0275cmp=de({type:t,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[Jt],ngContentSelectors:YI,decls:1,vars:0,template:function(n,r){n&1&&(_p(),xp(0))},encapsulation:2}),t})(),Hf=class{constructor(e){this.icons=e}},JI=t=>new fc(t??{}),Te=(()=>{class t{static pick(n){return{ngModule:t,providers:[{provide:Vf,multi:!0,useValue:new fc(n)},{provide:Vf,multi:!0,useFactory:JI,deps:[[new U0,Hf]]}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=en({type:t}),t.\u0275inj=jt({imports:[[]]}),t})();Le();var Z4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);var gc=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},Pu=class extends gc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},yc=class extends gc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},mc=class extends gc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},Bf=(function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t})(Bf||{});var kc=class{constructor(e,{headers:n={},customFetch:r,region:o=Bf.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=Z4(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return A(this,arguments,void 0,function*(n,r={}){var o;let i,a;try{let{headers:s,method:c,body:l,signal:d,timeout:u}=r,p={},{region:h}=r;h||(h=this.region);let y=new URL(`${this.url}/${n}`);h&&h!=="any"&&(p["x-region"]=h,y.searchParams.set("forceFunctionRegion",h));let k;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",k=l):typeof l=="string"?(p["Content-Type"]="text/plain",k=l):typeof FormData<"u"&&l instanceof FormData?k=l:(p["Content-Type"]="application/json",k=JSON.stringify(l)):k=l;let M=d;u&&(a=new AbortController,i=setTimeout(()=>a.abort(),u),d?(M=a.signal,d.addEventListener("abort",()=>a.abort())):M=a.signal);let v=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),s),body:k,signal:M}).catch(R=>{throw new Pu(R)}),P=v.headers.get("x-relay-error");if(P&&P==="true")throw new yc(v);if(!v.ok)throw new mc(v);let S=((o=v.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),b;return S==="application/json"?b=yield v.json():S==="application/octet-stream"||S==="application/pdf"?b=yield v.blob():S==="text/event-stream"?b=v:S==="multipart/form-data"?b=yield v.formData():b=yield v.text(),{data:b,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof mc||s instanceof yc?s.context:void 0}}finally{i&&clearTimeout(i)}})}};var o2=Ow(r5(),1),{PostgrestClient:o5,PostgrestQueryBuilder:BG,PostgrestFilterBuilder:zG,PostgrestTransformBuilder:qG,PostgrestBuilder:UG,PostgrestError:dS}=o2.default||o2;var i2=class{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){let r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},a2=i2;var i5="2.86.0";var a5=`realtime-js/${i5}`,s2="1.0.0",s5="2.0.0",c2=s2;var Mc=1e4,c5=1e3,l5=100,Jo=(function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t})(Jo||{}),et=(function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t})(et||{}),nn=(function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t})(nn||{}),l2=(function(t){return t.websocket="websocket",t})(l2||{}),ei=(function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t})(ei||{});var Tu=class{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;let o=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,r;let o=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var o,i;let a=e.topic,s=(o=e.ref)!==null&&o!==void 0?o:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",l=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},u=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`metadata length ${u.length} exceeds maximum of 255`);let p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+s.length+a.length+l.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+p),y=new DataView(h),k=0;y.setUint8(k++,this.KINDS.userBroadcastPush),y.setUint8(k++,c.length),y.setUint8(k++,s.length),y.setUint8(k++,a.length),y.setUint8(k++,l.length),y.setUint8(k++,u.length),y.setUint8(k++,n),Array.from(c,v=>y.setUint8(k++,v.charCodeAt(0))),Array.from(s,v=>y.setUint8(k++,v.charCodeAt(0))),Array.from(a,v=>y.setUint8(k++,v.charCodeAt(0))),Array.from(l,v=>y.setUint8(k++,v.charCodeAt(0))),Array.from(u,v=>y.setUint8(k++,v.charCodeAt(0)));var M=new Uint8Array(h.byteLength+r.byteLength);return M.set(new Uint8Array(h),0),M.set(new Uint8Array(r),h.byteLength),M.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){let r=JSON.parse(e),[o,i,a,s,c]=r;return n({join_ref:o,ref:i,topic:a,event:s,payload:c})}return n({})}_binaryDecode(e){let n=new DataView(e),r=n.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,r){let o=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(e.slice(c,c+o));c=c+o;let d=r.decode(e.slice(c,c+i));c=c+i;let u=r.decode(e.slice(c,c+a));c=c+a;let p=e.slice(c,e.byteLength),h=s===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,y={type:this.BROADCAST_EVENT,event:d,payload:h};return a>0&&(y.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}};var Ca=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var De=(function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t})(De||{}),u2=(t,e,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=uS(a,t,e,o),i),{}):{}},uS=(t,e,n,r)=>{let o=e.find(s=>s.name===t),i=o?.type,a=n[t];return i&&!r.includes(i)?d5(i,a):d2(a)},d5=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return gS(e,n)}switch(t){case De.bool:return hS(e);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return pS(e);case De.json:case De.jsonb:return fS(e);case De.timestamp:return yS(e);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return d2(e);default:return d2(e)}},d2=t=>t,hS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},pS=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},fS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gS=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i,a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(s=>d5(e,s))}return t},yS=t=>typeof t=="string"?t.replace(" ","T"):t,Ru=t=>{let e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};var ba=class{constructor(e,n,r={},o=Mc){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var wc=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,o,i,a),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=t.syncDiff(this.state,o,i,a),s())}),this.onJoin((o,i,a)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:a})}),this.onLeave((o,i,a)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){let i=this.cloneDeep(e),a=this.transformState(n),s={},c={};return this.map(i,(l,d)=>{a[l]||(c[l]=d)}),this.map(a,(l,d)=>{let u=i[l];if(u){let p=d.map(M=>M.presence_ref),h=u.map(M=>M.presence_ref),y=d.filter(M=>h.indexOf(M.presence_ref)<0),k=u.filter(M=>p.indexOf(M.presence_ref)<0);y.length>0&&(s[l]=y),k.length>0&&(c[l]=k)}else s[l]=d}),this.syncDiff(i,{joins:s,leaves:c},r,o)}static syncDiff(e,n,r,o){let{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(s,c)=>{var l;let d=(l=e[s])!==null&&l!==void 0?l:[];if(e[s]=this.cloneDeep(c),d.length>0){let u=e[s].map(h=>h.presence_ref),p=d.filter(h=>u.indexOf(h.presence_ref)<0);e[s].unshift(...p)}r(s,d,c)}),this.map(a,(s,c)=>{let l=e[s];if(!l)return;let d=c.map(u=>u.presence_ref);l=l.filter(u=>d.indexOf(u.presence_ref)<0),e[s]=l,o(s,l,c),l.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let o=e[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Cc=(function(t){return t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system",t})(Cc||{}),gr=(function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t})(gr||{});var bc=class t{constructor(e,n={config:{}},r){var o,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ba(this,nn.join,this.params,this.timeout),this.rejoinTimer=new Ca(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new wc(this),this.broadcastEndpointURL=Ru(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){let{config:{broadcast:a,presence:s,private:c}}=this.params,l=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&o!==void 0?o:[],d=!!this.bindings[Cc.PRESENCE]&&this.bindings[Cc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,u={},p={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>e?.(gr.CHANNEL_ERROR,h)),this._onClose(()=>e?.(gr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",y=>f(this,[y],function*({postgres_changes:h}){var k;if(this.socket.setAuth(),h===void 0){e?.(gr.SUBSCRIBED);return}else{let M=this.bindings.postgres_changes,v=(k=M?.length)!==null&&k!==void 0?k:0,P=[];for(let S=0;S<v;S++){let b=M[S],{filter:{event:R,schema:ne,table:U,filter:J}}=b,Ee=h&&h[S];if(Ee&&Ee.event===R&&Ee.schema===ne&&Ee.table===U&&Ee.filter===J)P.push(Object.assign(Object.assign({},b),{id:Ee.id}));else{this.unsubscribe(),this.state=et.errored,e?.(gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(gr.SUBSCRIBED);return}})).receive("error",h=>{this.state=et.errored,e?.(gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e?.(gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return f(this,arguments,function*(e,n={}){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(){return f(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this.state===et.joined&&e===Cc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}httpSend(o,i){return f(this,arguments,function*(e,n,r={}){var a;let s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");let c={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let d=l.statusText;try{let u=yield l.json();d=u.error||u.message||d}catch{}return Promise.reject(new Error(d))})}send(r){return f(this,arguments,function*(e,n={}){var o,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{let d=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=d.body)===null||i===void 0?void 0:i.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,c,l;let d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=et.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new ba(this,nn.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}_fetchWithTimeout(e,n,r){return f(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),a=yield this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),a})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ba(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>l5){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,i;let a=e.toLocaleLowerCase(),{close:s,error:c,leave:l,join:d}=nn;if(r&&[s,c,l,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(h=>{var y,k,M;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((M=(k=h.filter)===null||k===void 0?void 0:k.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===a}).map(h=>h.callback(p,r)):(i=this.bindings[a])===null||i===void 0||i.filter(h=>{var y,k,M,v,P,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){let b=h.id,R=(y=h.filter)===null||y===void 0?void 0:y.event;return b&&((k=n.ids)===null||k===void 0?void 0:k.includes(b))&&(R==="*"||R?.toLocaleLowerCase()===((M=n.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{let b=(P=(v=h?.filter)===null||v===void 0?void 0:v.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return b==="*"||b===((S=n?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof p=="object"&&"ids"in p){let y=p.data,{schema:k,table:M,commit_timestamp:v,type:P,errors:S}=y;p=Object.assign(Object.assign({},{schema:k,table:M,commit_timestamp:v,eventType:P,new:{},old:{},errors:S}),this._getPayloadRecords(y))}h.callback(p,r)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let o=e.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&t.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nn.close,{},e)}_onError(e){this._on(nn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=u2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=u2(e.columns,e.old_record)),n}};var h2=()=>{},Nu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kS=[1e3,2e3,5e3,1e4],vS=1e4,MS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,_c=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mc,this.transport=null,this.heartbeatIntervalMs=Nu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=h2,this.ref=0,this.reconnectTimer=null,this.vsn=c2,this.logger=h2,this.conn=null,this.sendBuffer=[],this.serializer=new Tu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...i)=>o(...i):(...i)=>fetch(...i),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${l2.websocket}`,this.httpEndpoint=Ru(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=a2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return f(this,null,function*(){let n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return f(this,null,function*(){let e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Jo.connecting:return ei.Connecting;case Jo.open:return ei.Open;case Jo.closing:return ei.Closing;default:return ei.Closed}}isConnected(){return this.connectionState()===ei.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){let r=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new bc(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){let{topic:n,event:r,payload:o,ref:i}=e,a=()=>{this.encode(e,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(e=null){return f(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return f(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(c5,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Nu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:a}=n,s=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${s}`.trim(),i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(o,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Jo.open||this.conn.readyState===Jo.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(nn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{let r=new Blob([MS],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(e=null){return f(this,null,function*(){let n;e?n=e:this.accessToken?n=yield this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{let o={access_token:n,version:a5};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(nn.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return f(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ca(()=>f(this,null,function*(){setTimeout(()=>f(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Nu.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,i,a,s,c,l,d,u,p,h;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Mc,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Nu.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e?.heartbeatCallback)!==null&&s!==void 0?s:h2,this.vsn=(c=e?.vsn)!==null&&c!==void 0?c:c2,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:y=>kS[y-1]||vS,this.vsn){case s2:this.encode=(d=e?.encode)!==null&&d!==void 0?d:(y,k)=>k(JSON.stringify(y)),this.decode=(u=e?.decode)!==null&&u!==void 0?u:(y,k)=>k(JSON.parse(y));break;case s5:this.encode=(p=e?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=e?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};Le();var ro=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function we(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Fu=class extends ro{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ti=class extends ro{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};Le();var _a=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),u5=()=>Response,ju=t=>{if(Array.isArray(t))return t.map(n=>ju(n));if(typeof t=="function"||t!==Object(t))return t;let e={};return Object.entries(t).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=ju(r)}),e},h5=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},p5=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);var p2=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},wS=(t,e,n)=>A(void 0,void 0,void 0,function*(){let r=yield u5();t instanceof r&&!n?.noResolveJson?t.json().then(o=>{let i=t.status||500,a=o?.statusCode||i+"";e(new Fu(p2(o),i,a))}).catch(o=>{e(new ti(p2(o),o))}):e(new ti(p2(t),t))}),CS=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"||!r?o:(h5(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function xc(t,e,n,r,o,i){return A(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(n,CS(e,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>wS(c,s,r))})})}function oo(t,e,n,r){return A(this,void 0,void 0,function*(){return xc(t,"GET",e,n,r)})}function Ot(t,e,n,r,o){return A(this,void 0,void 0,function*(){return xc(t,"POST",e,r,o,n)})}function Ic(t,e,n,r,o){return A(this,void 0,void 0,function*(){return xc(t,"PUT",e,r,o,n)})}function f5(t,e,n,r){return A(this,void 0,void 0,function*(){return xc(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function xa(t,e,n,r,o){return A(this,void 0,void 0,function*(){return xc(t,"DELETE",e,r,o,n)})}Le();Le();var Vu=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return A(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(we(e))return{data:null,error:e};throw e}})}};var g5,f2=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[g5]="BlobDownloadBuilder",this.promise=null}asStream(){return new Vu(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return A(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(we(e))return{data:null,error:e};throw e}})}};g5=Symbol.toStringTag;var y5=f2;var bS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},m5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Hu=class{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=_a(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return A(this,void 0,void 0,function*(){try{let i,a=Object.assign(Object.assign({},m5),o),s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)}),c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),o?.headers&&(s=Object.assign(Object.assign({},s),o.headers));let l=this._removeEmptyFolders(n),d=this._getFinalPath(l),u=yield(e=="PUT"?Ic:Ot)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:s},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}})}upload(e,n,r){return A(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return A(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),a=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",n);try{let c,l=Object.assign({upsert:m5.upsert},o),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType);let u=yield Ic(this.fetch,s.toString(),c,{headers:d});return{data:{path:i,fullPath:u.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(we(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return A(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield Ot(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),a=new URL(this.url+i.url),s=a.searchParams.get("token");if(!s)throw new ro("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}update(e,n,r){return A(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return A(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(we(o))return{data:null,error:o};throw o}})}copy(e,n,r){return A(this,void 0,void 0,function*(){try{return{data:{path:(yield Ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(we(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return A(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield Ot(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(we(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return A(this,void 0,void 0,function*(){try{let o=yield Ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(we(o))return{data:null,error:o};throw o}})}download(e,n){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),a=i?`?${i}`:"",s=this._getFinalPath(e),c=()=>oo(this.fetch,`${this.url}/${o}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new y5(c,this.shouldThrowOnError)}info(e){return A(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{let r=yield oo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ju(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}exists(e){return A(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{return yield f5(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r)&&r instanceof ti){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){let r=this._getFinalPath(e),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let s=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${l}`)}}}remove(e){return A(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}list(e,n,r){return A(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},bS),n),{prefix:e||""});return{data:yield Ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(we(o))return{data:null,error:o};throw o}})}listV2(e,n){return A(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield Ot(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};Le();var Bu="2.86.0";var zu={"X-Client-Info":`storage-js/${Bu}`};var qu=class{constructor(e,n={},r,o){this.shouldThrowOnError=!1;let i=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zu),n),this.fetch=_a(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return A(this,void 0,void 0,function*(){try{let n=this.listBucketOptionsToQueryString(e);return{data:yield oo(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}getBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}createBucket(e){return A(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(we(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return A(this,void 0,void 0,function*(){try{return{data:yield Ic(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}emptyBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){let n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}};Le();var Sc=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function _S(t,e,n){let r=new URL(e,t);if(n)for(let[o,i]of Object.entries(n))i!==void 0&&r.searchParams.set(o,i);return r.toString()}function xS(t){return f(this,null,function*(){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?yield t.getHeaders():{}})}function IS(t){let e=t.fetchImpl??globalThis.fetch;return{request(c){return f(this,arguments,function*({method:r,path:o,query:i,body:a,headers:s}){let l=_S(t.baseUrl,o,i),d=yield xS(t.auth),u=yield e(l,{method:r,headers:I(I(I({},a?{"Content-Type":"application/json"}:{}),d),s),body:a?JSON.stringify(a):void 0}),p=yield u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),y=h&&p?JSON.parse(p):p;if(!u.ok){let k=h?y:void 0,M=k?.error;throw new Sc(M?.message??`Request failed with status ${u.status}`,{status:u.status,icebergType:M?.type,icebergCode:M?.code,details:k})}return{status:u.status,headers:u.headers,data:y}})}}}function Uu(t){return t.join("")}var SS=class{constructor(t,e=""){this.client=t,this.prefix=e}listNamespaces(t){return f(this,null,function*(){let e=t?{parent:Uu(t.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(t,e){return f(this,null,function*(){let n={namespace:t.namespace,properties:e?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data})}dropNamespace(t){return f(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Uu(t.namespace)}`})})}loadNamespaceMetadata(t){return f(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Uu(t.namespace)}`})).data.properties}})}namespaceExists(t){return f(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Uu(t.namespace)}`}),!0}catch(e){if(e instanceof Sc&&e.status===404)return!1;throw e}})}createNamespaceIfNotExists(t,e){return f(this,null,function*(){try{return yield this.createNamespace(t,e)}catch(n){if(n instanceof Sc&&n.status===409)return;throw n}})}};function Ia(t){return t.join("")}var DS=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}listTables(t){return f(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables`})).data.identifiers})}createTable(t,e){return f(this,null,function*(){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables`,body:e,headers:n})).data.metadata})}updateTable(t,e){return f(this,null,function*(){let n=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}})}dropTable(t,e){return f(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})})}loadTable(t){return f(this,null,function*(){let e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata})}tableExists(t){return f(this,null,function*(){let e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Sc&&n.status===404)return!1;throw n}})}createTableIfNotExists(t,e){return f(this,null,function*(){try{return yield this.createTable(t,e)}catch(n){if(n instanceof Sc&&n.status===409)return yield this.loadTable({namespace:t.namespace,name:e.name});throw n}})}},k5=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);let n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=IS({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new SS(this.client,e),this.tableOps=new DS(this.client,e,this.accessDelegation)}listNamespaces(t){return f(this,null,function*(){return this.namespaceOps.listNamespaces(t)})}createNamespace(t,e){return f(this,null,function*(){return this.namespaceOps.createNamespace(t,e)})}dropNamespace(t){return f(this,null,function*(){yield this.namespaceOps.dropNamespace(t)})}loadNamespaceMetadata(t){return f(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(t)})}listTables(t){return f(this,null,function*(){return this.tableOps.listTables(t)})}createTable(t,e){return f(this,null,function*(){return this.tableOps.createTable(t,e)})}updateTable(t,e){return f(this,null,function*(){return this.tableOps.updateTable(t,e)})}dropTable(t,e){return f(this,null,function*(){yield this.tableOps.dropTable(t,e)})}loadTable(t){return f(this,null,function*(){return this.tableOps.loadTable(t)})}namespaceExists(t){return f(this,null,function*(){return this.namespaceOps.namespaceExists(t)})}tableExists(t){return f(this,null,function*(){return this.tableOps.tableExists(t)})}createNamespaceIfNotExists(t,e){return f(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(t,e)})}createTableIfNotExists(t,e){return f(this,null,function*(){return this.tableOps.createTableIfNotExists(t,e)})}};var $u=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zu),n),this.fetch=_a(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}listBuckets(e){return A(this,void 0,void 0,function*(){try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield oo(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}from(e){if(!p5(e))throw new ro("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new k5({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>A(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}};Le();Le();var Sa={"X-Client-Info":`storage-js/${Bu}`,"Content-Type":"application/json"};var Wu=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function mt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Da=class extends Wu{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gu=class extends Wu{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}};Le();var Ea=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);var v5=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var M5=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ES=(t,e,n)=>A(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){let o=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{let s=a?.statusCode||a?.code||o+"";e(new Da(M5(a),o,s))}).catch(()=>{let a=o+"",s=i.statusText||`HTTP ${o} error`;e(new Da(s,o,a))});else{let a=o+"",s=i.statusText||`HTTP ${o} error`;e(new Da(s,o,a))}}else e(new Gu(M5(t),t))}),LS=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"||!r?o:(v5(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n))};function OS(t,e,n,r,o,i){return A(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(n,LS(e,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>ES(c,s,r))})})}function kt(t,e,n,r,o){return A(this,void 0,void 0,function*(){return OS(t,"POST",e,r,o,n)})}var Zu=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sa),n),this.fetch=Ea(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return A(this,void 0,void 0,function*(){try{return{data:(yield kt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getIndex(e,n){return A(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}listIndexes(e){return A(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return A(this,void 0,void 0,function*(){try{return{data:(yield kt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}};Le();var Ku=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sa),n),this.fetch=Ea(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return A(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield kt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getVectors(e){return A(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}listVectors(e){return A(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield kt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}queryVectors(e){return A(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteVectors(e){return A(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield kt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}};Le();var Yu=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sa),n),this.fetch=Ea(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return A(this,void 0,void 0,function*(){try{return{data:(yield kt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}listBuckets(){return A(this,arguments,void 0,function*(e={}){try{return{data:yield kt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:(yield kt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}};var Dc=class extends Yu{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new Xu(this.url,this.headers,e,this.fetch)}createBucket(e){let n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return A(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){let n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return A(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){let e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return A(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){let n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return A(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}},Xu=class extends Zu{constructor(e,n,r,o){super(e,n,o),this.vectorBucketName=r}createIndex(e){let n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return A(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return A(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return A(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return A(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Qu(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Qu=class extends Ku{constructor(e,n,r,o,i){super(e,n,i),this.vectorBucketName=r,this.indexName=o}putVectors(e){let n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return A(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return A(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return A(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return A(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return A(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var Ec=class extends qu{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new Hu(this.url,this.headers,e,this.fetch)}get vectors(){return new Dc(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $u(this.url+"/iceberg",this.headers,this.fetch)}};var w5="2.86.0";var Lc="";typeof Deno<"u"?Lc="deno":typeof document<"u"?Lc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lc="react-native":Lc="node";var PS={"X-Client-Info":`supabase-js-${Lc}/${w5}`},C5={headers:PS},b5={schema:"public"},_5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},x5={};var AS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),TS=()=>Headers,I5=(t,e,n)=>{let r=AS(n),o=TS();return(i,a)=>f(null,null,function*(){var s;let c=(s=yield e())!==null&&s!==void 0?s:t,l=new o(a?.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:l}))})};function RS(t){return t.endsWith("/")?t:t+"/"}function S5(t,e){var n,r;let{db:o,auth:i,realtime:a,global:s}=t,{db:c,auth:l,realtime:d,global:u}=e,p={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},u),s),{headers:Object.assign(Object.assign({},(n=u?.headers)!==null&&n!==void 0?n:{}),(r=s?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>f(null,null,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function D5(t){let e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(RS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}Le();Le();var Ju="2.86.0";var ni=30*1e3,e1=3,t1=e1*ni,E5="http://localhost:9999",L5="supabase.auth.token";var O5={"X-Client-Info":`gotrue-js/${Ju}`};var Oc="X-Supabase-Api-Version",g2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},P5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,A5=600*1e3;var io=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function V(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var n1=class extends io{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function T5(t){return V(t)&&t.name==="AuthApiError"}var rn=class extends io{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},qn=class extends io{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}},lt=class extends qn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function R5(t){return V(t)&&t.name==="AuthSessionMissingError"}var yr=class extends qn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ri=class extends qn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},oi=class extends qn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function N5(t){return V(t)&&t.name==="AuthImplicitGrantRedirectError"}var Pc=class extends qn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},La=class extends qn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function r1(t){return V(t)&&t.name==="AuthRetryableFetchError"}var Ac=class extends qn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var ii=class extends qn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var o1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),F5=` 	
\r=`.split(""),NS=(()=>{let t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<F5.length;e+=1)t[F5[e].charCodeAt(0)]=-2;for(let e=0;e<o1.length;e+=1)t[o1[e].charCodeAt(0)]=e;return t})();function j5(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(o1[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(o1[r]),e.queuedBits-=6}}function V5(t,e,n){let r=NS[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function y2(t){let e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=a=>{VS(a,r,n)};for(let a=0;a<t.length;a+=1)V5(t.charCodeAt(a),o,i);return e.join("")}function FS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function jS(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}FS(r,e)}}function VS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ao(t){let e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)V5(t.charCodeAt(o),n,r);return new Uint8Array(e)}function H5(t){let e=[];return jS(t,n=>e.push(n)),new Uint8Array(e)}function mr(t){let e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>j5(o,n,r)),j5(null,n,r),e.join("")}function B5(t){return Math.round(Date.now()/1e3)+t}function z5(){return Symbol("auth-callback")}var tt=()=>typeof window<"u"&&typeof document<"u",ai={tested:!1,writable:!1},i1=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ai.tested)return ai.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ai.tested=!0,ai.writable=!0}catch{ai.tested=!0,ai.writable=!1}return ai.writable};function q5(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}var a1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),U5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",si=(t,e,n)=>f(null,null,function*(){yield t.setItem(e,JSON.stringify(n))}),so=(t,e)=>f(null,null,function*(){let n=yield t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),kr=(t,e)=>f(null,null,function*(){yield t.removeItem(e)}),Tc=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};Tc.promiseConstructor=Promise;function s1(t){let e=t.split(".");if(e.length!==3)throw new ii("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!P5.test(e[r]))throw new ii("JWT not in base64url format");return{header:JSON.parse(y2(e[0])),payload:JSON.parse(y2(e[1])),signature:ao(e[2]),raw:{header:e[0],payload:e[1]}}}function $5(t){return f(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function W5(t,e){return new Promise((r,o)=>{f(null,null,function*(){for(let i=0;i<1/0;i++)try{let a=yield t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){o(a);return}}})})}function HS(t){return("0"+t.toString(16)).substr(-2)}function BS(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,HS).join("")}function zS(t){return f(this,null,function*(){let n=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function qS(t){return f(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=yield zS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function ci(t,e,n=!1){return f(this,null,function*(){let r=BS(),o=r;n&&(o+="/PASSWORD_RECOVERY"),yield si(t,`${e}-code-verifier`,o);let i=yield qS(r);return[i,r===i?"plain":"s256"]})}var US=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function G5(t){let e=t.headers.get(Oc);if(!e||!e.match(US))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Z5(t){if(!t)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function K5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var $S=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function li(t){if(!$S.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function c1(){let t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Y5(t,e){return new Proxy(t,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,o)}})}function m2(t){return JSON.parse(JSON.stringify(t))}var di=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),WS=[502,503,504];function X5(t){return f(this,null,function*(){var e;if(!U5(t))throw new La(di(t),0);if(WS.includes(t.status))throw new La(di(t),t.status);let n;try{n=yield t.json()}catch(i){throw new rn(di(i),i)}let r,o=G5(t);if(o&&o.getTime()>=g2["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ac(di(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new lt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Ac(di(n),t.status,n.weak_password.reasons);throw new n1(di(n),t.status||500,r)})}var GS=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function B(t,e,n,r){return f(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[Oc]||(i[Oc]=g2["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let a=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=yield ZS(t,e,n+s,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function ZS(t,e,n,r,o,i){return f(this,null,function*(){let a=GS(e,r,o,i),s;try{s=yield t(n,Object.assign({},a))}catch(c){throw console.error(c),new La(di(c),0)}if(s.ok||(yield X5(s)),r?.noResolveJson)return s;try{return yield s.json()}catch(c){yield X5(c)}})}function on(t){var e;let n=null;KS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=B5(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function k2(t){let e=on(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Un(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Q5(t){return{data:t,error:null}}function J5(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=t,a=Yn(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},a);return{data:{properties:s,user:c},error:null}}function v2(t){return t}function KS(t){return t.access_token&&t.refresh_token&&t.expires_in}var l1=["global","local","others"];var Oa=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=a1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return f(this,arguments,function*(e,n=l1[0]){if(l1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${l1.join(", ")}`);try{return yield B(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(V(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return f(this,arguments,function*(e,n={}){try{return yield B(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Un})}catch(o){if(V(o))return{data:{user:null},error:o};throw o}})}generateLink(e){return f(this,null,function*(){try{let{options:n}=e,r=Yn(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:J5,redirectTo:n?.redirectTo})}catch(n){if(V(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(e){return f(this,null,function*(){try{return yield B(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Un})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}})}listUsers(e){return f(this,null,function*(){var n,r,o,i,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=yield B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:v2});if(d.error)throw d.error;let u=yield d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{let k=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(y.split(";")[1].split("=")[1]);l[`${M}Page`]=k}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(V(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return f(this,null,function*(){li(e);try{return yield B(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Un})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}})}updateUserById(e,n){return f(this,null,function*(){li(e);try{return yield B(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Un})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,n=!1){return f(this,null,function*(){li(e);try{return yield B(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Un})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return f(this,null,function*(){li(e.userId);try{let{data:n,error:r}=yield B(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(V(n))return{data:null,error:n};throw n}})}_deleteFactor(e){return f(this,null,function*(){li(e.userId),li(e.id);try{return{data:yield B(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}})}_listOAuthClients(e){return f(this,null,function*(){var n,r,o,i,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=yield B(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:v2});if(d.error)throw d.error;let u=yield d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{let k=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(y.split(";")[1].split("=")[1]);l[`${M}Page`]=k}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(V(l))return{data:{clients:[]},error:l};throw l}})}_createOAuthClient(e){return f(this,null,function*(){try{return yield B(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}_getOAuthClient(e){return f(this,null,function*(){try{return yield B(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}_updateOAuthClient(e,n){return f(this,null,function*(){try{return yield B(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(e){return f(this,null,function*(){try{return yield B(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}})}_regenerateOAuthClientSecret(e){return f(this,null,function*(){try{return yield B(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}};function M2(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}var ui={debug:!!(globalThis&&i1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Rc=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},d1=class extends Rc{};function w2(t,e,n){return f(this,null,function*(){ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ui.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>f(null,null,function*(){if(o){ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return yield n()}finally{ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new d1(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ui.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}function e3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function C2(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function t3(t){return parseInt(t,16)}function n3(t){let e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function r3(t){var e;let{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:a,notBefore:s,requestId:c,resources:l,scheme:d,uri:u,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}let h=C2(t.address),y=d?`${d}://${r}`:r,k=t.statement?`${t.statement}
`:"",M=`${y} wants you to sign in with your Ethereum account:
${h}

${k}`,v=`URI: ${u}
Version: ${p}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(o&&(v+=`
Expiration Time: ${o.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),c&&(v+=`
Request ID: ${c}`),l){let P=`
Resources:`;for(let S of l){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);P+=`
- ${S}`}v+=P}return`${M}
${v}`}Le();var Re=class extends Error{constructor({message:e,code:n,cause:r,name:o}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}},hi=class extends Re{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}};function o3({error:t,options:e}){var n,r,o;let{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Re({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Re({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Re({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Re({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Re({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Re({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Re({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Re({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){let a=window.location.hostname;if(b2(a)){if(i.rp.id!==a)return new Re({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Re({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Re({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function i3({error:t,options:e}){let{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Re({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Re({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){let r=window.location.hostname;if(b2(r)){if(n.rpId!==r)return new Re({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Re({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var _2=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},YS=new _2;function s3(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);let{challenge:e,user:n,excludeCredentials:r}=t,o=Yn(t,["challenge","user","excludeCredentials"]),i=ao(e).buffer,a=Object.assign(Object.assign({},n),{id:ao(n.id).buffer}),s=Object.assign(Object.assign({},o),{challenge:i,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];s.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:ao(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function c3(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);let{challenge:e,allowCredentials:n}=t,r=Yn(t,["challenge","allowCredentials"]),o=ao(e).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){let s=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},s),{id:ao(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function l3(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t;return{id:t.id,rawId:t.id,response:{attestationObject:mr(new Uint8Array(t.response.attestationObject)),clientDataJSON:mr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function d3(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:mr(new Uint8Array(o.authenticatorData)),clientDataJSON:mr(new Uint8Array(o.clientDataJSON)),signature:mr(new Uint8Array(o.signature)),userHandle:o.userHandle?mr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function b2(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function a3(){var t,e;return!!(tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}function XS(t){return f(this,null,function*(){try{let e=yield navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hi("Browser returned unexpected credential type",e)}:{data:null,error:new hi("Empty credential response",e)}}catch(e){return{data:null,error:o3({error:e,options:t})}}})}function QS(t){return f(this,null,function*(){try{let e=yield navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hi("Browser returned unexpected credential type",e)}:{data:null,error:new hi("Empty credential response",e)}}catch(e){return{data:null,error:i3({error:e,options:t})}}})}var JS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},e9={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function u1(...t){let e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of t)if(o)for(let i in o){let a=o[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(e(a)){let s=r[i];e(s)?r[i]=u1(s,a):r[i]=u1(a)}else r[i]=a}return r}function t9(t,e){return u1(JS,t,e||{})}function n9(t,e){return u1(e9,t,e||{})}var h1=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return f(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(a,s){return f(this,arguments,function*({factorId:e,webauthn:n,friendlyName:r,signal:o},i){try{let{data:c,error:l}=yield this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:l};let d=o??YS.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:u}=c.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(c.webauthn.type){case"create":{let u=t9(c.webauthn.credential_options.publicKey,i?.create),{data:p,error:h}=yield XS({publicKey:u,signal:d});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{let u=n9(c.webauthn.credential_options.publicKey,i?.request),{data:p,error:h}=yield QS(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:u,signal:d}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(c){return V(c)?{data:null,error:c}:{data:null,error:new rn("Unexpected error in challenge",c)}}})}_verify(o){return f(this,arguments,function*({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})})}_authenticate(a,s){return f(this,arguments,function*({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new io("rpId is required for WebAuthn authentication")};try{if(!a3())return{data:null,error:new rn("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!c)return{data:null,error:l};let{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(c){return V(c)?{data:null,error:c}:{data:null,error:new rn("Unexpected error in authenticate",c)}}})}_register(a,s){return f(this,arguments,function*({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new io("rpId is required for WebAuthn registration")};try{if(!a3())return{data:null,error:new rn("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this._enroll({friendlyName:e});if(!c)return yield this.client.mfa.listFactors().then(p=>{var h;return(h=p.data)===null||h===void 0?void 0:h.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};let{data:d,error:u}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:u}}catch(c){return V(c)?{data:null,error:c}:{data:null,error:new rn("Unexpected error in register",c)}}})}};e3();var r9={url:E5,storageKey:L5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:O5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function u3(t,e,n){return f(this,null,function*(){return yield n()})}var Pa={},o9=(()=>{class t{get jwks(){var n,r;return(r=(n=Pa[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Pa[this.storageKey]=Object.assign(Object.assign({},Pa[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Pa[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Pa[this.storageKey]=Object.assign(Object.assign({},Pa[this.storageKey]),{cachedAt:n})}constructor(n){var r,o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let a=Object.assign(Object.assign({},r9),n);if(this.storageKey=a.storageKey,this.instanceID=(r=t.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,t.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&tt()){let s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Oa({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=a1(a.fetch),this.lock=a.lock||u3,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:tt()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=w2:this.lock=u3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new h1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:i1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=M2(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=M2(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>f(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ju}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}initialize(){return f(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=f(this,null,function*(){return yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return f(this,null,function*(){var n;try{let r={},o="none";if(tt()&&(r=q5(window.location.href),this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce")),tt()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:a}=yield this._getSessionFromURL(r,o);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),N5(a)){let l=(n=a.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return yield this._removeSession(),{error:a}}let{session:s,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),yield this._saveSession(s),setTimeout(()=>f(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return V(r)?this._returnResult({error:r}):this._returnResult({error:new rn("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return f(this,null,function*(){var r,o,i;try{let a=yield B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:on}),{data:s,error:c}=a;if(c||!s)return this._returnResult({data:{user:null,session:null},error:c});let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(a){if(V(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}signUp(n){return f(this,null,function*(){var r,o,i;try{let a;if("email"in n){let{email:u,password:p,options:h}=n,y=null,k=null;this.flowType==="pkce"&&([y,k]=yield ci(this.storage,this.storageKey)),a=yield B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:y,code_challenge_method:k},xform:on})}else if("phone"in n){let{phone:u,password:p,options:h}=n;a=yield B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:p,data:(o=h?.data)!==null&&o!==void 0?o:{},channel:(i=h?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:on})}else throw new ri("You must provide either an email or phone number and a password");let{data:s,error:c}=a;if(c||!s)return this._returnResult({data:{user:null,session:null},error:c});let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(a){if(V(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}signInWithPassword(n){return f(this,null,function*(){try{let r;if("email"in n){let{email:a,password:s,options:c}=n;r=yield B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:k2})}else if("phone"in n){let{phone:a,password:s,options:c}=n;r=yield B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:k2})}else throw new ri("You must provide either an email or phone number and a password");let{data:o,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!o||!o.session||!o.user){let a=new yr;return this._returnResult({data:{user:null,session:null},error:a})}return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(n){return f(this,null,function*(){var r,o,i,a;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=n.options)===null||a===void 0?void 0:a.skipBrowserRedirect})})}exchangeCodeForSession(n){return f(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>f(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return f(this,null,function*(){let{chain:r}=n;switch(r){case"ethereum":return yield this.signInWithEthereum(n);case"solana":return yield this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(n){return f(this,null,function*(){var r,o,i,a,s,c,l,d,u,p,h;let y,k;if("message"in n)y=n.message,k=n.signature;else{let{chain:M,wallet:v,statement:P,options:S}=n,b;if(tt())if(typeof v=="object")b=v;else{let O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")b=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}let R=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href),ne=yield b.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ne||ne.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let U=C2(ne[0]),J=(o=S?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!J){let O=yield b.request({method:"eth_chainId"});J=t3(O)}let Ee={domain:R.host,address:U,statement:P,uri:R.href,version:"1",chainId:J,nonce:(i=S?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=S?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(c=S?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=S?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(d=S?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=S?.signInWithEthereum)===null||u===void 0?void 0:u.resources};y=r3(Ee),k=yield b.request({method:"personal_sign",params:[n3(y),U]})}try{let{data:M,error:v}=yield B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:k},!((p=n.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=n.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:on});if(v)throw v;if(!M||!M.session||!M.user){let P=new yr;return this._returnResult({data:{user:null,session:null},error:P})}return M.session&&(yield this._saveSession(M.session),yield this._notifyAllSubscribers("SIGNED_IN",M.session)),this._returnResult({data:Object.assign({},M),error:v})}catch(M){if(V(M))return this._returnResult({data:{user:null,session:null},error:M});throw M}})}signInWithSolana(n){return f(this,null,function*(){var r,o,i,a,s,c,l,d,u,p,h,y;let k,M;if("message"in n)k=n.message,M=n.signature;else{let{chain:v,wallet:P,statement:S,options:b}=n,R;if(tt())if(typeof P=="object")R=P;else{let U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))R=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=P}let ne=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){let U=yield R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b?.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),S?{statement:S}:null)),J;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")J=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)J=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)k=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),M=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${ne.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(i=(o=b?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((c=b?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((p=(u=b?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||p===void 0)&&p.length?["Resources",...b.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);let U=yield R.signMessage(new TextEncoder().encode(k),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");M=U}}try{let{data:v,error:P}=yield B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:mr(M)},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=n.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:on});if(P)throw P;if(!v||!v.session||!v.user){let S=new yr;return this._returnResult({data:{user:null,session:null},error:S})}return v.session&&(yield this._saveSession(v.session),yield this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:P})}catch(v){if(V(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}})}_exchangeCodeForSession(n){return f(this,null,function*(){let r=yield so(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:a,error:s}=yield B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:on});if(yield kr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){let c=new yr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(V(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}})}signInWithIdToken(n){return f(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:a,nonce:s}=n,c=yield B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:on}),{data:l,error:d}=c;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l||!l.session||!l.user){let u=new yr;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:d})}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(n){return f(this,null,function*(){var r,o,i,a,s;try{if("email"in n){let{email:c,options:l}=n,d=null,u=null;this.flowType==="pkce"&&([d,u]=yield ci(this.storage,this.storageKey));let{error:p}=yield B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in n){let{phone:c,options:l}=n,{data:d,error:u}=yield B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(s=l?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:u})}throw new ri("You must provide either an email or phone number.")}catch(c){if(V(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}verifyOtp(n){return f(this,null,function*(){var r,o;try{let i,a;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,a=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:s,error:c}=yield B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:on});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");let l=s.session,d=s.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(i){if(V(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}signInWithSSO(n){return f(this,null,function*(){var r,o,i,a,s;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=yield ci(this.storage,this.storageKey));let d=yield B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:Q5});return!((a=d.data)===null||a===void 0)&&a.url&&tt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(c){if(V(c))return this._returnResult({data:null,error:c});throw c}})}reauthenticate(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return f(this,null,function*(){try{return yield this._useSession(n=>f(this,null,function*(){let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new lt;let{error:i}=yield B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})}))}catch(n){if(V(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}resend(n){return f(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:a}=n,{error:s}=yield B(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in n){let{phone:o,type:i,options:a}=n,{data:s,error:c}=yield B(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:c})}throw new ri("You must provide either an email or phone number and a type")}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return this._useSession(r=>f(this,null,function*(){return r}))}))})}_acquireLock(n,r){return f(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=f(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(f(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,n,()=>f(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(f(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return f(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return f(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield so(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<t1:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let s=yield so(this.userStorage,this.storageKey+"-user");s?.user?n.user=s.user:n.user=c1()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let s={value:this.suppressGetSessionWarning};n.user=Y5(n.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:i,error:a}=yield this._callRefreshToken(n.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(n){return f(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return f(this,null,function*(){try{return n?yield B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Un}):yield this._useSession(r=>f(this,null,function*(){var o,i,a;let{data:s,error:c}=r;if(c)throw c;return!(!((o=s.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lt}:yield B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Un})}))}catch(r){if(V(r))return R5(r)&&(yield this._removeSession(),yield kr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(o){return f(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(o){return f(this,arguments,function*(n,r={}){try{return yield this._useSession(i=>f(this,null,function*(){let{data:a,error:s}=i;if(s)throw s;if(!a.session)throw new lt;let c=a.session,l=null,d=null;this.flowType==="pkce"&&n.email!=null&&([l,d]=yield ci(this.storage,this.storageKey));let{data:u,error:p}=yield B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:d}),jwt:c.access_token,xform:Un});if(p)throw p;return c.user=u.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})}))}catch(i){if(V(i))return this._returnResult({data:{user:null},error:i});throw i}})}setSession(n){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return f(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new lt;let r=Date.now()/1e3,o=r,i=!0,a=null,{payload:s}=s1(n.access_token);if(s.exp&&(o=s.exp,i=o<=r),i){let{data:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};a=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;a={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(V(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(n){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;if(!n){let{data:s,error:c}=r;if(c)throw c;n=(o=s.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new lt;let{data:i,error:a}=yield this._callRefreshToken(n.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(n,r){return f(this,null,function*(){try{if(!tt())throw new oi("No browser detected.");if(n.error||n.error_description||n.error_code)throw new oi(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Pc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Pc("No code detected.");let{data:S,error:b}=yield this._exchangeCodeForSession(n.code);if(b)throw b;let R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:S.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:c,expires_at:l,token_type:d}=n;if(!a||!c||!s||!d)throw new oi("No session defined in URL");let u=Math.round(Date.now()/1e3),p=parseInt(c),h=u+p;l&&(h=parseInt(l));let y=h-u;y*1e3<=ni&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);let k=h-p;u-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,h,u):u-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,h,u);let{data:M,error:v}=yield this._getUser(a);if(v)throw v;let P={provider_token:o,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:h,refresh_token:s,token_type:d,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:P,redirectType:n.type},error:null})}catch(o){if(V(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return f(this,null,function*(){let r=yield so(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return f(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return f(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return this._returnResult({error:a});let s=(o=i.session)===null||o===void 0?void 0:o.access_token;if(s){let{error:c}=yield this.admin.signOut(s,n);if(c&&!(T5(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return n!=="others"&&(yield this._removeSession(),yield kr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(n){let r=z5(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),f(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(n){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var o,i;try{let{data:{session:a},error:s}=r;if(s)throw s;yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",a),this._debug("INITIAL_SESSION","callback id",n,"session",a)}catch(a){yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",a),console.error(a)}}))})}resetPasswordForEmail(o){return f(this,arguments,function*(n,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=yield ci(this.storage,this.storageKey,!0));try{return yield B(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(V(s))return this._returnResult({data:null,error:s});throw s}})}getUserIdentities(){return f(this,null,function*(){var n;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(n){return f(this,null,function*(){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)})}linkIdentityOAuth(n){return f(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(a=>f(this,null,function*(){var s,c,l,d,u;let{data:p,error:h}=a;if(h)throw h;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield B(this.fetch,"GET",y,{headers:this.headers,jwt:(u=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})}));if(i)throw i;return tt()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:n.provider,url:o?.url},error:null})}catch(o){if(V(o))return this._returnResult({data:{provider:n.provider,url:null},error:o});throw o}})}linkIdentityIdToken(n){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var o;try{let{error:i,data:{session:a}}=r;if(i)throw i;let{options:s,provider:c,token:l,access_token:d,nonce:u}=n,p=yield B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=a?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:l,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:on}),{data:h,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new yr}):(h.session&&(yield this._saveSession(h.session),yield this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:y}))}catch(i){if(V(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}))})}unlinkIdentity(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o,i;let{data:a,error:s}=r;if(s)throw s;return yield B(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(n){return f(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield W5(i=>f(this,null,function*(){return i>0&&(yield $5(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:on})}),(i,a)=>{let s=200*Math.pow(2,i);return a&&r1(a)&&Date.now()+s-o<ni})}catch(o){if(this._debug(r,"error",o),V(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return f(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),tt()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}})}_recoverAndRefresh(){return f(this,null,function*(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=yield so(this.storage,this.storageKey);if(i&&this.userStorage){let s=yield so(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},yield si(this.userStorage,this.storageKey+"-user",s)),i.user=(n=s?.user)!==null&&n!==void 0?n:c1()}else if(i&&!i.user&&!i.user){let s=yield so(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,yield kr(this.storage,this.storageKey+"-user"),yield si(this.storage,this.storageKey,i)):i.user=c1()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&(yield this._removeSession());return}let a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<t1;if(this._debug(o,`session has${a?"":" not"} expired with margin of ${t1}s`),a){if(this.autoRefreshToken&&i.refresh_token){let{error:s}=yield this._callRefreshToken(i.refresh_token);s&&(console.error(s),r1(s)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:s,error:c}=yield this._getUser(i.access_token);!c&&s?.user?(i.user=s.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(o,"error getting user data, skipping SIGNED_IN notification",s)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}})}_callRefreshToken(n){return f(this,null,function*(){var r,o;if(!n)throw new lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Tc;let{data:a,error:s}=yield this._refreshAccessToken(n);if(s)throw s;if(!a.session)throw new lt;yield this._saveSession(a.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);let c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),V(a)){let s={data:null,error:a};return r1(a)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(n,r,o=!0){return f(this,null,function*(){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let a=[],s=Array.from(this.stateChangeEmitters.values()).map(c=>f(this,null,function*(){try{yield c.callback(n,r)}catch(l){a.push(l)}}));if(yield Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}})}_saveSession(n){return f(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&(yield si(this.userStorage,this.storageKey+"-user",{user:r.user}));let i=Object.assign({},r);delete i.user;let a=m2(i);yield si(this.storage,this.storageKey,a)}else{let i=m2(r);yield si(this.storage,this.storageKey,i)}})}_removeSession(){return f(this,null,function*(){this._debug("#_removeSession()"),yield kr(this.storage,this.storageKey),yield kr(this.storage,this.storageKey+"-code-verifier"),yield kr(this.storage,this.storageKey+"-user"),this.userStorage&&(yield kr(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&tt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return f(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),ni);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>f(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return f(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return f(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>f(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/ni);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ni}ms, refresh threshold is ${e1} ticks`),i<=e1&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Rc)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return f(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!tt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>f(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return f(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,o){return f(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[a,s]=yield ci(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(c.toString())}if(o?.queryParams){let a=new URLSearchParams(o.queryParams);i.push(a.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`})}_unenroll(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):yield B(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o,i;let{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:l,error:d}=yield B(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return d?this._returnResult({data:null,error:d}):(n.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))}))}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}_verify(n){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});let s=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?l3(n.webauthn.credential_response):d3(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:l}=yield B(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:s,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return l?this._returnResult({data:null,error:l}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))}))}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(n){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});let s=yield B(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(s.error)return s;let{data:c}=s;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:s3(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:c3(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(n){return f(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:n.factorId});return o?this._returnResult({data:null,error:o}):yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return f(this,null,function*(){var n;let{data:{user:r},error:o}=yield this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let a of(n=r?.factors)!==null&&n!==void 0?n:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}})}_getAuthenticatorAssuranceLevel(){return f(this,null,function*(){var n,r;let{data:{session:o},error:i}=yield this.getSession();if(i)return this._returnResult({data:null,error:i});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=s1(o.access_token),s=null;a.aal&&(s=a.aal);let c=s;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:d},error:null}})}_getAuthorizationDetails(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?yield B(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new lt})}))}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(n,r){return f(this,null,function*(){try{return yield this._useSession(o=>f(this,null,function*(){let{data:{session:i},error:a}=o;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new lt});let s=yield B(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&tt()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s}))}catch(o){if(V(o))return this._returnResult({data:null,error:o});throw o}})}_denyAuthorization(n,r){return f(this,null,function*(){try{return yield this._useSession(o=>f(this,null,function*(){let{data:{session:i},error:a}=o;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new lt});let s=yield B(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&tt()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s}))}catch(o){if(V(o))return this._returnResult({data:null,error:o});throw o}})}_listOAuthGrants(){return f(this,null,function*(){try{return yield this._useSession(n=>f(this,null,function*(){let{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?yield B(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new lt})}))}catch(n){if(V(n))return this._returnResult({data:null,error:n});throw n}})}_revokeOAuthGrant(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?(yield B(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new lt})}))}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(o){return f(this,arguments,function*(n,r={keys:[]}){let i=r.keys.find(l=>l.kid===n);if(i)return i;let a=Date.now();if(i=this.jwks.keys.find(l=>l.kid===n),i&&this.jwks_cached_at+A5>a)return i;let{data:s,error:c}=yield B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,i=s.keys.find(l=>l.kid===n),!i)?null:i})}getClaims(o){return f(this,arguments,function*(n,r={}){try{let i=n;if(!i){let{data:k,error:M}=yield this.getSession();if(M||!k.session)return this._returnResult({data:null,error:M});i=k.session.access_token}let{header:a,payload:s,signature:c,raw:{header:l,payload:d}}=s1(i);r?.allowExpired||Z5(s.exp);let u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){let{error:k}=yield this.getUser(i);if(k)throw k;return{data:{claims:s,header:a,signature:c},error:null}}let p=K5(a.alg),h=yield crypto.subtle.importKey("jwk",u,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,h,c,H5(`${l}.${d}`))))throw new ii("Invalid JWT signature");return{data:{claims:s,header:a,signature:c},error:null}}catch(i){if(V(i))return this._returnResult({data:null,error:i});throw i}})}}return t.nextInstanceID={},t})(),x2=o9;var i9=x2,I2=i9;var p1=class extends I2{constructor(e){super(e)}};var f1=class{constructor(e,n,r){var o,i,a;this.supabaseUrl=e,this.supabaseKey=n;let s=D5(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);let c=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:b5,realtime:x5,auth:Object.assign(Object.assign({},_5),{storageKey:c}),global:C5},d=S5(r??{},l);this.storageKey=(o=d.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(u,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=I5(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new o5(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Ec(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new kc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return f(this,null,function*(){var e,n;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:a,flowType:s,lock:c,debug:l,throwOnError:d},u,p){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p1({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,flowType:s,lock:c,debug:l,throwOnError:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new _c(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var h3=(t,e,n)=>new f1(t,e,n);function a9(){if(typeof window<"u"||typeof process>"u")return!1;let t=process.version;if(t==null)return!1;let e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}a9()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var pi={production:!0,enableAuth:!0,supabaseUrl:"https://zrkzkteruybaujoekdan.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpya3prdGVydXliYXVqb2VrZGFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxODAzNTUsImV4cCI6MjA3Nzc1NjM1NX0._UT310p01cnP0oH0OsEdaE06XuzhlzEC1UWJruld_N8"};var Pt=(()=>{let e=class e{constructor(){this.supabase=h3(pi.supabaseUrl,pi.supabaseKey,{auth:{lock:(r,o,i)=>this.safeLock(r,i)}})}safeLock(r,o,i=5,a=50){return f(this,null,function*(){for(let s=0;s<=i;s++){try{let c=yield navigator.locks.request(r,{ifAvailable:!0},o);if(c!==void 0)return c}catch{}yield new Promise(c=>setTimeout(c,a))}return navigator.locks.request(r,o)})}getClient(){return this.supabase}signInWithEmail(r){return f(this,null,function*(){return yield this.supabase.auth.signInWithPassword({email:r.email,password:r.password})})}signUpWithEmail(r){return f(this,null,function*(){let o=document.querySelector("base")?.href||window.location.origin;return yield this.supabase.auth.signUp({email:r.email,password:r.password,options:{emailRedirectTo:o,data:{displayName:r.name}}})})}getUser(){return f(this,null,function*(){return yield this.supabase.auth.getUser()})}signOut(){return f(this,null,function*(){yield this.supabase.auth.signOut(),sessionStorage.removeItem("releaseflowUser")})}resetPasswordForEmail(r){return f(this,null,function*(){try{let o=document.querySelector("base")?.href||window.location.origin,{error:i}=yield this.supabase.auth.resetPasswordForEmail(r,{redirectTo:o+"update-password"});if(i)throw i}catch(o){throw new Error(o.message||"Erreur lors de l\u2019envoi du mail de r\xE9initialisation.")}})}exchangeCodeForSession(r){return f(this,null,function*(){if(!r.includes("access_token"))throw new Error("Token manquant");let o=yield this.supabase.auth.exchangeCodeForSession(r);if(o.error)throw new Error(o.error.message);return o})}updatePassword(r){return f(this,null,function*(){let o=yield this.supabase.auth.updateUser({password:r});if(o.error)throw new Error(o.error.message);return o})}getSession(){return f(this,null,function*(){return this.supabase.auth.getSession()})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var co=(()=>{let e=class e{constructor(r){this.supabase=r,this.eventsSubject=new Ze([]),this.events$=this.eventsSubject.asObservable(),this.loadEvents()}loadEvents(){return f(this,null,function*(){let{data:r,error:o}=yield this.supabase.getClient().from("events").select("*").order("event_date",{ascending:!0});if(o){console.error("Error loading events:",o);return}this.eventsSubject.next(r||[])})}createEvent(r){return f(this,null,function*(){let{data:o,error:i}=yield this.supabase.getClient().from("events").insert([r]).select().single();return i?(console.error("Error creating event:",i),null):(yield this.loadEvents(),o)})}updateEvent(r,o){return f(this,null,function*(){let{error:i}=yield this.supabase.getClient().from("events").update($(I({},o),{updated_at:new Date().toISOString()})).eq("id",r);return i?(console.error("Error updating event:",i),!1):(yield this.loadEvents(),!0)})}deleteEvent(r){return f(this,null,function*(){let{error:o}=yield this.supabase.getClient().from("events").delete().eq("id",r);return o?(console.error("Error deleting event:",o),!1):(yield this.loadEvents(),!0)})}getEventsByDateRange(r,o){return this.eventsSubject.value.filter(a=>{let s=new Date(a.event_date);return s>=r&&s<=o})}getEventsByDate(r){return this.eventsSubject.value.filter(o=>o.event_date===r)}};e.\u0275fac=function(o){return new(o||e)(q(Pt))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function s9(t,e){if(t&1){let n=le();g(0,"button",18),x("click",function(){E(n);let o=D();return L(o.openAddEventModal())}),X(1,"lucide-icon",19),w(2," Ajouter "),m()}}function c9(t,e){t&1&&(g(0,"span",31),w(1,"Pass\xE9"),m())}function l9(t,e){if(t&1){let n=le();g(0,"div",30)(1,"button",32),x("click",function(){E(n);let o=D().$implicit,i=D();return L(i.openEditEventModal(o))}),X(2,"lucide-icon",33),m(),g(3,"button",34),x("click",function(){E(n);let o=D().$implicit,i=D();return L(i.deleteEvent(o.id))}),X(4,"lucide-icon",35),m()()}}function d9(t,e){if(t&1&&(g(0,"div",20)(1,"div",21)(2,"div",22),X(3,"lucide-icon",23),m(),g(4,"div",24)(5,"div",25)(6,"span",26),w(7),m(),ie(8,c9,2,0,"span",27),m(),g(9,"div",28),w(10),m(),g(11,"div",29),w(12),m()()(),zr(13,l9,5,0,"div",30),m()),t&2){let n=e.$implicit,r=D();Pe("past-event",r.isPastEvent(n.event_date)),C(2),Pe("badge-livraison",n.event_type==="livraison")("badge-mep",n.event_type==="mep"),C(),T("name",n.event_type==="livraison"?"package":"rocket"),C(4),Q(n.title),C(),T("ngIf",r.isPastEvent(n.event_date)),C(2),ue(" ",r.formatDate(n.event_date)," "),C(2),ue(" ",n.description," "),C(),qr(r.readonly?-1:13)}}function u9(t,e){if(t&1){let n=le();g(0,"button",51),x("click",function(){E(n);let o=D(2);return L(o.confirmDelete())}),w(1,"Supprimer"),m()}}function h9(t,e){if(t&1){let n=le();g(0,"div",36),x("click",function(){E(n);let o=D();return L(o.closeModal())}),g(1,"div",37),x("click",function(o){return E(n),L(o.stopPropagation())}),g(2,"div",38)(3,"h3"),w(4),m(),g(5,"button",39),x("click",function(){E(n);let o=D();return L(o.closeModal())}),w(6,"\xD7"),m()(),g(7,"div",40)(8,"div",41)(9,"label"),w(10,"Type"),m(),g(11,"select",42),me("ngModelChange",function(o){E(n);let i=D();return ve(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),L(o)}),x("ngModelChange",function(){E(n);let o=D();return L(o.updateModalTitle())}),g(12,"option",43),w(13,"Livraison (LV)"),m(),g(14,"option",44),w(15,"Mise en Production (MEP)"),m()()(),g(16,"div",41)(17,"label"),w(18,"Version"),m(),g(19,"input",45),me("ngModelChange",function(o){E(n);let i=D();return ve(i.modalEvent.version,o)||(i.modalEvent.version=o),L(o)}),x("ngModelChange",function(){E(n);let o=D();return L(o.updateModalTitle())}),m()(),g(20,"div",41)(21,"label"),w(22,"Date"),m(),g(23,"input",46),me("ngModelChange",function(o){E(n);let i=D();return ve(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),L(o)}),m()(),g(24,"div",41)(25,"label"),w(26,"Description"),m(),g(27,"textarea",47),me("ngModelChange",function(o){E(n);let i=D();return ve(i.modalEvent.description,o)||(i.modalEvent.description=o),L(o)}),m()()(),g(28,"div",48),ie(29,u9,2,0,"button",49),g(30,"button",50),x("click",function(){E(n);let o=D();return L(o.closeModal())}),w(31,"Annuler"),m(),g(32,"button",18),x("click",function(){E(n);let o=D();return L(o.saveEvent())}),w(33),m()()()()}if(t&2){let n=D();C(4),Q(n.isEditMode?"Modifier":"Nouvel \xE9v\xE9nement"),C(7),ye("ngModel",n.modalEvent.event_type),C(8),ye("ngModel",n.modalEvent.version),C(4),ye("ngModel",n.modalEvent.event_date),C(4),ye("ngModel",n.modalEvent.description),C(2),T("ngIf",n.isEditMode),C(4),Q(n.isEditMode?"Sauvegarder":"Cr\xE9er")}}var y1=(()=>{let e=class e{constructor(r){this.eventService=r,this.events=[],this.filteredEvents=[],this.searchText="",this.showPastEvents=!1,this.showModal=!1,this.isEditMode=!1,this.readonly=!1,this.modalEvent={},this.modalEventId=null}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.filterEvents()})}filterEvents(){let r=this.events;if(!this.showPastEvents){let o=new Date;o.setHours(0,0,0,0),r=r.filter(i=>new Date(i.event_date)>=o)}if(this.searchText){let o=this.searchText.toLowerCase();r=r.filter(i=>i.title.toLowerCase().includes(o)||i.version.toLowerCase().includes(o)||i.description.toLowerCase().includes(o))}this.filteredEvents=r.sort((o,i)=>new Date(o.event_date).getTime()-new Date(i.event_date).getTime())}isPastEvent(r){let o=new Date(r),i=new Date;return i.setHours(0,0,0,0),o<i}openAddEventModal(){this.isEditMode=!1,this.modalEventId=null,this.modalEvent={event_type:"livraison",version:"",event_date:new Date().toISOString().split("T")[0],description:"",title:""},this.showModal=!0}openEditEventModal(r){this.isEditMode=!0,this.modalEventId=r.id,this.modalEvent=I({},r),this.showModal=!0}closeModal(){this.showModal=!1,this.modalEvent={},this.modalEventId=null}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return f(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode&&this.modalEventId?yield this.eventService.updateEvent(this.modalEventId,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}confirmDelete(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&this.deleteEvent(this.modalEventId)}deleteEvent(r){return f(this,null,function*(){yield this.eventService.deleteEvent(r),this.closeModal()})}formatDate(r){return new Date(r).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}};e.\u0275fac=function(o){return new(o||e)(j(co))},e.\u0275cmp=de({type:e,selectors:[["app-event-list"]],inputs:{readonly:"readonly"},decls:22,vars:6,consts:[[1,"event-list-container"],[1,"header"],["name","calendar","size","22"],[1,"btn-primary"],[1,"filters-section"],[1,"search-box"],["name","search","size","18",1,"search-icon"],["type","text","placeholder","Rechercher...","lucide-icon","",3,"ngModelChange","ngModel"],[1,"toggle-row"],[1,"toggle-label"],["name","lucide-history","size","18"],[1,"toggle-material"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"slider"],[1,"events-info"],[1,"badge","coming"],["class","event-card",3,"past-event",4,"ngFor","ngForOf"],["class","modal",3,"click",4,"ngIf"],[1,"btn-primary",3,"click"],["name","plus","size","16"],[1,"event-card"],[1,"left"],[1,"type-badge"],["size","22",3,"name"],[1,"info"],[1,"row-1"],[1,"title"],["class","badge past",4,"ngIf"],[1,"row-2","date"],[1,"row-3","desc"],[1,"actions-cell"],[1,"badge","past"],["title","Modifier",1,"icon-btn","edit-btn",3,"click"],["name","pen-line","size","20"],["title","Supprimer",1,"icon-btn","delete-btn",3,"click"],["name","trash-2","size","20"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","3",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"div",1)(2,"h2"),X(3,"lucide-icon",2),w(4," \xC9v\xE9nements"),m(),zr(5,s9,3,0,"button",3),m(),g(6,"div",4)(7,"div",5),X(8,"lucide-icon",6),g(9,"input",7),me("ngModelChange",function(s){return ve(i.searchText,s)||(i.searchText=s),s}),x("ngModelChange",function(){return i.filterEvents()}),m()(),g(10,"label",8)(11,"span",9),X(12,"lucide-icon",10),w(13," \xC9v\xE9nements pass\xE9s"),m(),g(14,"div",11)(15,"input",12),me("ngModelChange",function(s){return ve(i.showPastEvents,s)||(i.showPastEvents=s),s}),x("change",function(){return i.filterEvents()}),m(),X(16,"span",13),m()()(),g(17,"div",14)(18,"span",15),w(19),m()(),ie(20,d9,14,12,"div",16)(21,h9,34,7,"div",17),m()),o&2&&(C(5),qr(i.readonly?-1:5),C(4),ye("ngModel",i.searchText),C(6),ye("ngModel",i.showPastEvents),C(4),ue("",i.filteredEvents.length," \xE9v\xE9nements"),C(),T("ngForOf",i.filteredEvents),C(),T("ngIf",i.showModal))},dependencies:[Ie,Lt,Qe,yt,va,Ma,ot,Tf,to,gt,ct,Te,Fe],styles:['.badge.coming[_ngcontent-%COMP%]{background:#e8f0ff;color:#5083e6}.toggle-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;cursor:pointer}.toggle-row[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:14px;color:#333;-webkit-user-select:none;user-select:none}.toggle-material[_ngcontent-%COMP%]{position:relative;width:46px;height:24px;display:inline-block}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-material[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000208;border-radius:24px;transition:.25s}.toggle-material[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{content:"";position:absolute;width:18px;height:18px;left:3px;bottom:3px;background:#fff;border-radius:50%;transition:.25s;box-shadow:0 2px 4px #00000040}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background:#3d6df2}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.event-list-container[_ngcontent-%COMP%]{padding:1.5rem;height:100%;display:flex;flex-direction:column;background:#fff;border-right:1px solid #e2e8f0;overflow:hidden}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;gap:.5rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a1a1a;margin:0}.btn-primary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#2563eb;color:#fff;padding:.5rem .75rem;border:none;border-radius:4px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.filters-section[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-direction:column;gap:.75rem}.search-box[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{position:absolute;left:.5rem;color:#6b7280;pointer-events:none}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.4rem .4rem .4rem 2rem;border:1px solid #dee2e6;border-radius:4px;font-size:.8rem}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}.filter-toggle[_ngcontent-%COMP%]{display:flex;align-items:center}.filter-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-size:.8rem;color:#495057;cursor:pointer}.filter-toggle[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{cursor:pointer}.events-info[_ngcontent-%COMP%]{padding:.25rem 0;font-size:.75rem;color:#6b7280;margin-bottom:.5rem}.info-text[_ngcontent-%COMP%]{font-weight:500}.events-table[_ngcontent-%COMP%]{flex:1;overflow-y:auto;border:1px solid #e9ecef;border-radius:4px;margin-bottom:.5rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.75rem}thead[_ngcontent-%COMP%]{background:#f8f9fa;position:sticky;top:0;z-index:10}th[_ngcontent-%COMP%]{text-align:left;padding:.5rem;font-weight:600;color:#495057;border-bottom:1px solid #dee2e6}td[_ngcontent-%COMP%]{padding:.5rem;border-bottom:1px solid #e9ecef;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}tr.past-event[_ngcontent-%COMP%]{opacity:.6}.type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.25rem;padding:.2rem .4rem;border-radius:3px;font-size:.65rem;font-weight:600}.badge-livraison[_ngcontent-%COMP%]{background:#dcfce7;color:#15803d}.badge-mep[_ngcontent-%COMP%]{background:#f3e8ff;color:#7e22ce}.title-cell[_ngcontent-%COMP%], .version-cell[_ngcontent-%COMP%]{font-weight:500}.description-cell[_ngcontent-%COMP%]{color:#6b7280}.actions-cell[_ngcontent-%COMP%]{display:flex;gap:.25rem;justify-content:center}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;padding:.25rem;cursor:pointer;transition:all .2s;border-radius:3px;display:flex;align-items:center;justify-content:center;color:#495057}.icon-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9}.edit-btn[_ngcontent-%COMP%]:hover{color:#f59e0b}.delete-btn[_ngcontent-%COMP%]{color:#ef4444}.delete-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#ef4444}.empty-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:150px;color:#6b7280;font-size:.8rem}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:450px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.75rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:28px;height:28px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.25rem}.form-group[_ngcontent-%COMP%]{margin-bottom:.875rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.8rem;font-weight:500;color:#495057;margin-bottom:.375rem}input[type=text][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.4rem;border:1px solid #dee2e6;border-radius:4px;font-size:.8rem;font-family:inherit;box-sizing:border-box}input[type=text][_ngcontent-%COMP%]:focus, input[type=date][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.25rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.4rem .8rem;border:none;border-radius:4px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}.event-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:14px 18px;border:1px solid #eee;border-radius:10px;margin-bottom:8px;background:#fff;transition:transform .12s ease,box-shadow .12s ease,background-color .12s ease;font-size:18px}.event-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 14px #00000014;background-color:#fafafa;cursor:pointer}.event-card.past-event[_ngcontent-%COMP%]{opacity:.7}.left[_ngcontent-%COMP%]{display:flex;gap:14px;align-items:flex-start}.icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;background:#e9f7ef;display:flex;justify-content:center;align-items:center}.info[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.title[_ngcontent-%COMP%]{font-weight:600}.badge[_ngcontent-%COMP%]{padding:2px 8px;border-radius:8px;font-size:12px}.badge.past[_ngcontent-%COMP%]{background:#efefef;color:#666}.date[_ngcontent-%COMP%]{font-size:15px;color:#666;margin-top:2px}.desc[_ngcontent-%COMP%]{margin-top:6px;font-size:15px;color:#444}body.dark-mode[_nghost-%COMP%]   .event-list-container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-list-container[_ngcontent-%COMP%]{background:#1e293b;border-right-color:#334155}body.dark-mode[_nghost-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .toggle-row[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .toggle-row[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .event-card[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-card[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}body.dark-mode[_nghost-%COMP%]   .event-card[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .event-card[_ngcontent-%COMP%]:hover{background-color:#334155}body.dark-mode[_nghost-%COMP%]   .title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .date[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .desc[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .desc[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .badge.past[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .badge.past[_ngcontent-%COMP%]{background:#334155;color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   label[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   input[type=text][_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[type=text][_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, body.dark-mode   [_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1)}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top-color:#334155}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#475569}']});let t=e;return t})();function p9(t,e){if(t&1){let n=le();g(0,"div",12),x("click",function(){let o=E(n).$implicit,i=D(2);return L(i.emitOpenEvent(o))}),g(1,"div",13)(2,"div",14),X(3,"lucide-icon",15),m(),g(4,"div",16)(5,"div",17),w(6),m(),g(7,"div",18),w(8),m()()(),g(9,"div",19)(10,"button",20),x("click",function(o){let i=E(n).$implicit,a=D(2);return o.stopPropagation(),L(a.emitOpenEvent(i))}),X(11,"lucide-icon",21),m()()()}if(t&2){let n=e.$implicit;C(2),Pe("badge-livraison",n.event_type==="livraison")("badge-mep",n.event_type==="mep"),C(),T("name",n.event_type==="livraison"?"package":"rocket"),C(3),Q(n.title),C(2),Q(n.description)}}function f9(t,e){if(t&1&&(g(0,"div"),ie(1,p9,12,7,"div",11),m()),t&2){let n=D();C(),T("ngForOf",n.events)}}function g9(t,e){t&1&&(g(0,"div",22),w(1,"Aucun \xE9v\xE9nement pour ce jour."),m())}var m1=(()=>{let e=class e{constructor(){this.events=[],this.dateStr=null,this.readonly=!1,this.close=new be,this.openEvent=new be,this.add=new be}get formattedDate(){return this.dateStr?new Date(this.dateStr).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):""}onClose(){this.close.emit()}emitOpenEvent(r){this.openEvent.emit(r)}onAdd(){setTimeout(()=>this.add.emit(this.dateStr),0)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=de({type:e,selectors:[["app-day-events-modal"]],inputs:{events:"events",dateStr:"dateStr",readonly:"readonly"},outputs:{close:"close",openEvent:"openEvent",add:"add"},decls:17,vars:3,consts:[["noEvents",""],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[4,"ngIf","ngIfElse"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],["name","plus","size","14"],["class","day-event-row",3,"click",4,"ngFor","ngForOf"],[1,"day-event-row",3,"click"],[1,"left"],[1,"type-badge"],["size","18",3,"name"],[1,"info"],[1,"title"],[1,"desc"],[1,"actions"],["title","Modifier",1,"icon-btn",3,"click"],["name","pen-line","size","16"],[1,"empty-state"]],template:function(o,i){if(o&1){let a=le();g(0,"div",1),x("click",function(){return E(a),L(i.onClose())}),g(1,"div",2),x("click",function(c){return E(a),L(c.stopPropagation())}),g(2,"div",3)(3,"h3"),w(4),m(),g(5,"button",4),x("click",function(){return E(a),L(i.onClose())}),w(6,"\xD7"),m()(),g(7,"div",5),ie(8,f9,2,1,"div",6)(9,g9,2,0,"ng-template",null,0,Lp),m(),g(11,"div",7)(12,"button",8),x("click",function(){return E(a),L(i.onClose())}),w(13,"Fermer"),m(),g(14,"button",9),x("click",function(){return E(a),L(i.onAdd())}),X(15,"lucide-icon",10),w(16," Ajouter "),m()()()()}if(o&2){let a=Ep(10);C(4),Q(i.formattedDate),C(4),T("ngIf",i.events&&i.events.length)("ngIfElse",a)}},dependencies:[Ie,Lt,Qe,Te,Fe],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:520px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:1rem;max-height:60vh;overflow:auto}.day-event-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;padding:.75rem;border-bottom:1px solid #f1f5f9;cursor:pointer;align-items:flex-start}.left[_ngcontent-%COMP%]{display:flex;gap:12px}.type-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:8px}.badge-livraison[_ngcontent-%COMP%]{background:#dcfce7;color:#15803d}.badge-mep[_ngcontent-%COMP%]{background:#f3e8ff;color:#7e22ce}.info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600}.info[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280}.info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{margin-top:6px;color:#495057;font-size:.9rem}.actions[_ngcontent-%COMP%]{display:flex;gap:8px}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:6px;border-radius:6px}.empty-state[_ngcontent-%COMP%]{padding:1rem;color:#6b7280}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem;border-top:1px solid #e9ecef}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none;padding:.5rem .75rem;border-radius:6px}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057;border:none;padding:.5rem .75rem;border-radius:6px}body.dark-mode[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .day-event-row[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .day-event-row[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .day-event-row[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .day-event-row[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top-color:#334155}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#475569}body.dark-mode[_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, body.dark-mode   [_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1)}"]});let t=e;return t})();function y9(t,e){if(t&1){let n=le();g(0,"div",6),x("click",function(){E(n);let o=D();return L(o.toggleSidebar())}),m()}}var k1=(()=>{let e=class e{constructor(){this.isOpen=!1,this.toggleEvent=new be,this.isMobile=window.innerWidth<1024,window.addEventListener("resize",()=>{this.isMobile=window.innerWidth<1024})}toggleSidebar(){this.toggleEvent.emit()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=de({type:e,selectors:[["app-sidebar-panel"]],inputs:{isOpen:"isOpen"},outputs:{toggleEvent:"toggleEvent"},decls:6,vars:5,consts:[[1,"sidebar-wrapper"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"sidebar-content"],[3,"readonly"],["data-tour","sidebar-toggle-tour",1,"sidebar-toggle",3,"click"],["size","20",3,"name"],[1,"sidebar-overlay",3,"click"]],template:function(o,i){o&1&&(g(0,"div",0),ie(1,y9,1,0,"div",1),g(2,"div",2),X(3,"app-event-list",3),m(),g(4,"button",4),x("click",function(){return i.toggleSidebar()}),X(5,"lucide-icon",5),m()()),o&2&&(Pe("open",i.isOpen),C(),T("ngIf",i.isOpen&&i.isMobile),C(2),T("readonly",!0),C(2),T("name",i.isOpen?"panel-left-close":"panel-left-open"))},dependencies:[Ie,Qe,y1,Te,Fe],styles:[".sidebar-wrapper[_ngcontent-%COMP%]{position:relative;height:100%;display:flex}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:99}.sidebar-content[_ngcontent-%COMP%]{width:350px;height:100%;background:#fff;border-right:1px solid #e2e8f0;overflow-y:auto;z-index:100;transition:transform .3s ease;transform:translate(0)}.sidebar-wrapper[_ngcontent-%COMP%]:not(.open)   .sidebar-content[_ngcontent-%COMP%]{position:absolute;transform:translate(-100%)}.sidebar-toggle[_ngcontent-%COMP%]{position:fixed;top:1.25rem;left:1rem;width:44px;height:44px;background:#2563eb;color:#fff;border:none;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:101;box-shadow:0 4px 12px #2563eb4d;transition:all .3s}.sidebar-toggle[_ngcontent-%COMP%]:hover{background:#1d4ed8;box-shadow:0 6px 16px #2563eb66}@media (max-width: 1024px){.sidebar-wrapper[_ngcontent-%COMP%]{position:fixed;top:80px;left:0;width:100%;height:calc(100vh - 80px);z-index:50;pointer-events:none}.sidebar-content[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%], .sidebar-toggle[_ngcontent-%COMP%]{pointer-events:auto}.sidebar-content[_ngcontent-%COMP%]{position:absolute}}@media (max-width: 768px){.sidebar-content[_ngcontent-%COMP%]{width:280px}}"]});let t=e;return t})();function m9(t,e){if(t&1&&(g(0,"div",10),w(1),m()),t&2){let n=e.$implicit;C(),Q(n)}}function k9(t,e){if(t&1){let n=le();g(0,"div",16),x("click",function(o){let i=E(n).$implicit,a=D().$implicit,s=D();return o.stopPropagation(),L(s.openEventModal(i,a.date))}),X(1,"lucide-icon",17),w(2),m()}if(t&2){let n=e.$implicit;Pe("event-livraison",n.event_type==="livraison")("event-mep",n.event_type==="mep"),C(),T("name",n.event_type==="livraison"?"package":"rocket"),C(),ue(" ",n.title.substring(0,10)," ")}}function v9(t,e){if(t&1){let n=le();g(0,"div",11),x("click",function(){let o=E(n).$implicit,i=D();return L(i.onDayClick(o))}),g(1,"div",12),w(2),m(),g(3,"div",13),ie(4,k9,3,6,"div",14),g(5,"button",15),x("click",function(o){let i=E(n).$implicit,a=D();return o.stopPropagation(),L(a.openAddEventModal(i.date))}),w(6,"+"),m()()()}if(t&2){let n=e.$implicit;Pe("other-month",!n.isCurrentMonth)("today",n.isToday),C(2),Q(n.dayNumber),C(2),T("ngForOf",n.events)}}function M9(t,e){if(t&1){let n=le();g(0,"app-day-events-modal",18),x("close",function(){E(n);let o=D();return L(o.showDayEventsModal=!1)})("openEvent",function(o){E(n);let i=D();return L(i.openEventModal(o,i.selectedDayDateStr))})("add",function(o){E(n);let i=D();return L(i.onDayModalAdd(o))}),m()}if(t&2){let n=D();T("events",n.selectedDayEvents)("dateStr",n.selectedDayDateStr)}}function w9(t,e){if(t&1){let n=le();g(0,"button",35),x("click",function(){E(n);let o=D(2);return L(o.deleteEvent())}),w(1,"Supprimer"),m()}}function C9(t,e){if(t&1){let n=le();g(0,"div",19),x("click",function(){E(n);let o=D();return L(o.closeModal())}),g(1,"div",20),x("click",function(o){return E(n),L(o.stopPropagation())}),g(2,"div",21)(3,"h3"),w(4),m(),g(5,"button",22),x("click",function(){E(n);let o=D();return L(o.closeModal())}),w(6,"\xD7"),m()(),g(7,"div",23)(8,"div",24)(9,"label"),w(10,"Type"),m(),g(11,"select",25),me("ngModelChange",function(o){E(n);let i=D();return ve(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),L(o)}),x("ngModelChange",function(){E(n);let o=D();return L(o.updateModalTitle())}),g(12,"option",26),w(13,"Livraison (LV)"),m(),g(14,"option",27),w(15,"Mise en Production (MEP)"),m()()(),g(16,"div",24)(17,"label"),w(18,"Version"),m(),g(19,"input",28),me("ngModelChange",function(o){E(n);let i=D();return ve(i.modalEvent.version,o)||(i.modalEvent.version=o),L(o)}),x("ngModelChange",function(){E(n);let o=D();return L(o.updateModalTitle())}),m()(),g(20,"div",24)(21,"label"),w(22,"Date"),m(),g(23,"input",29),me("ngModelChange",function(o){E(n);let i=D();return ve(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),L(o)}),m()(),g(24,"div",24)(25,"label"),w(26,"Description"),m(),g(27,"textarea",30),me("ngModelChange",function(o){E(n);let i=D();return ve(i.modalEvent.description,o)||(i.modalEvent.description=o),L(o)}),m()()(),g(28,"div",31),ie(29,w9,2,0,"button",32),g(30,"button",33),x("click",function(){E(n);let o=D();return L(o.closeModal())}),w(31,"Annuler"),m(),g(32,"button",34),x("click",function(){E(n);let o=D();return L(o.saveEvent())}),w(33),m()()()()}if(t&2){let n=D();C(4),Q(n.isEditMode?"Modifier l'\xE9v\xE9nement":"Nouvel \xE9v\xE9nement"),C(7),ye("ngModel",n.modalEvent.event_type),C(8),ye("ngModel",n.modalEvent.version),C(4),ye("ngModel",n.modalEvent.event_date),C(4),ye("ngModel",n.modalEvent.description),C(2),T("ngIf",n.isEditMode),C(4),Q(n.isEditMode?"Sauvegarder":"Cr\xE9er")}}var f3=(()=>{let e=class e{constructor(r){this.eventService=r,this.currentDate=new Date,this.calendarDays=[],this.weekDays=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],this.events=[],this.sidebarOpen=!1,this.showModal=!1,this.isEditMode=!1,this.modalEvent={},this.showDayEventsModal=!1,this.selectedDayEvents=[],this.selectedDayDateStr=null}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.generateCalendar()})}generateCalendar(){let r=this.currentDate.getFullYear(),o=this.currentDate.getMonth(),i=new Date(r,o,1),a=new Date(r,o+1,0),s=i.getDay();s=s===0?6:s-1;let c=new Date(r,o,0).getDate();this.calendarDays=[];for(let d=s-1;d>=0;d--){let u=new Date(r,o-1,c-d);this.calendarDays.push({dayNumber:c-d,date:this.formatDateToString(u),isCurrentMonth:!1,isToday:!1,events:[]})}for(let d=1;d<=a.getDate();d++){let u=new Date(r,o,d),p=this.formatDateToString(u),h=this.eventService.getEventsByDate(p);this.calendarDays.push({dayNumber:d,date:p,isCurrentMonth:!0,isToday:this.isToday(u),events:h})}let l=42-this.calendarDays.length;for(let d=1;d<=l;d++){let u=new Date(r,o+1,d);this.calendarDays.push({dayNumber:d,date:this.formatDateToString(u),isCurrentMonth:!1,isToday:!1,events:[]})}}formatDateToString(r){let o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0");return`${o}-${i}-${a}`}isToday(r){let o=new Date;return r.getDate()===o.getDate()&&r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()}getMonthYear(){return this.currentDate.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}previousMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1),this.generateCalendar()}nextMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1),this.generateCalendar()}openAddEventModal(r){this.isEditMode=!1,this.modalEvent={event_type:"livraison",version:"",event_date:r??"",description:"",title:""},this.showModal=!0}openEventModal(r,o){this.showDayEventsModal=!1,this.isEditMode=!0,this.modalEvent=I({},r),this.showModal=!0}onDayClick(r){r&&r.events&&r.events.length>0?(this.selectedDayEvents=r.events,this.selectedDayDateStr=r.date,this.showDayEventsModal=!0):r&&r.date&&this.openAddEventModal(r.date)}onDayModalAdd(r){this.showDayEventsModal=!1,setTimeout(()=>this.openAddEventModal(r),0)}closeModal(){this.showModal=!1,this.modalEvent={}}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return f(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode?yield this.eventService.updateEvent(this.modalEvent.id,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}deleteEvent(){return f(this,null,function*(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&(yield this.eventService.deleteEvent(this.modalEvent.id),this.closeModal())})}};e.\u0275fac=function(o){return new(o||e)(j(co))},e.\u0275cmp=de({type:e,selectors:[["app-calendar-view"]],decls:15,vars:6,consts:[[1,"calendar-wrapper"],[3,"toggleEvent","isOpen"],[1,"calendar-container"],[1,"calendar-header"],[1,"nav-btn",3,"click"],[1,"calendar-grid"],["class","day-header",4,"ngFor","ngForOf"],["class","calendar-day",3,"other-month","today","click",4,"ngFor","ngForOf"],[3,"events","dateStr","close","openEvent","add",4,"ngIf"],["class","modal",3,"click",4,"ngIf"],[1,"day-header"],[1,"calendar-day",3,"click"],[1,"day-number"],[1,"day-events"],["class","event-item",3,"event-livraison","event-mep","click",4,"ngFor","ngForOf"],[1,"add-event-btn",3,"click"],[1,"event-item",3,"click"],["size","12",3,"name"],[3,"close","openEvent","add","events","dateStr"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","4",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"app-sidebar-panel",1),x("toggleEvent",function(){return i.sidebarOpen=!i.sidebarOpen}),m(),g(2,"div",2)(3,"div",3)(4,"button",4),x("click",function(){return i.previousMonth()}),w(5,"\u2039"),m(),g(6,"h2"),w(7),m(),g(8,"button",4),x("click",function(){return i.nextMonth()}),w(9,"\u203A"),m()(),g(10,"div",5),ie(11,m9,2,1,"div",6)(12,v9,7,6,"div",7),m(),ie(13,M9,1,2,"app-day-events-modal",8)(14,C9,34,7,"div",9),m()()),o&2&&(C(),T("isOpen",i.sidebarOpen),C(6),Q(i.getMonthYear()),C(4),T("ngForOf",i.weekDays),C(),T("ngForOf",i.calendarDays),C(),T("ngIf",i.showDayEventsModal),C(),T("ngIf",i.showModal))},dependencies:[Ie,Lt,Qe,yt,va,Ma,ot,to,gt,ct,Te,Fe,k1,m1],styles:[".calendar-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 80px)}.calendar-container[_ngcontent-%COMP%]{flex:1;padding:2rem;overflow-y:auto}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#1a1a1a;margin:0}.nav-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:6px;width:40px;height:40px;font-size:1.5rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#2563eb}.calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;background:#dee2e6;border:1px solid #dee2e6;border-radius:8px;overflow:hidden}.day-header[_ngcontent-%COMP%]{background:#2563eb;padding:1rem;text-align:center;font-weight:600;font-size:.875rem;color:#fff}.calendar-day[_ngcontent-%COMP%]{background:#fff;min-height:120px;padding:.5rem;position:relative;transition:background-color .2s}.calendar-day[_ngcontent-%COMP%]:hover{background:#f8f9fa}.calendar-day.other-month[_ngcontent-%COMP%]{background:#f8f9fa;opacity:.5}.calendar-day.today[_ngcontent-%COMP%]{background:#eff6ff}.day-number[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:#1a1a1a;margin-bottom:.5rem}.day-events[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.event-item[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:500;cursor:pointer;transition:all .2s;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.event-item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.event-item.event-mep[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.add-event-btn[_ngcontent-%COMP%]{background:transparent;border:1px dashed #dee2e6;border-radius:4px;padding:.25rem;font-size:1rem;color:#6b7280;cursor:pointer;margin-top:.25rem;transition:all .2s}.add-event-btn[_ngcontent-%COMP%]:hover{border-color:#2563eb;color:#2563eb;background:#eff6ff}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:32px;height:32px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#495057;margin-bottom:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;font-family:inherit;box-sizing:border-box}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.5rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}body.dark-mode[_nghost-%COMP%]   .calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover{background:#334155;border-color:#60a5fa;color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .calendar-grid[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{background:#334155;border-color:#334155}body.dark-mode[_nghost-%COMP%]   .day-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .day-header[_ngcontent-%COMP%]{background:#1e40af;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%]{background:#1e293b}body.dark-mode[_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .calendar-day.other-month[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-day.other-month[_ngcontent-%COMP%]{background:#0f172a;opacity:.7}body.dark-mode[_nghost-%COMP%]   .calendar-day.today[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-day.today[_ngcontent-%COMP%]{background:#1e3a8a}body.dark-mode[_nghost-%COMP%]   .day-number[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .day-number[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .event-item[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-item[_ngcontent-%COMP%]{background:#1e3a8a;color:#93c5fd}body.dark-mode[_nghost-%COMP%]   .event-item.event-mep[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-item.event-mep[_ngcontent-%COMP%]{background:#14532d;color:#86efac}body.dark-mode[_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%]{border-color:#475569;color:#64748b}body.dark-mode[_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%]:hover{border-color:#60a5fa;color:#60a5fa;background:#1e3a8a}body.dark-mode[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   label[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, body.dark-mode   [_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1)}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top-color:#334155}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#475569}"]});let t=e;return t})();function b9(t,e){if(t&1&&(g(0,"div",18)(1,"h3",19),w(2),m()()),t&2){let n=e.$implicit;C(2),Q(n.title)}}function _9(t,e){if(t&1){let n=le();g(0,"div",30),x("click",function(o){let i=E(n).$implicit,a=D(3);return o.stopPropagation(),L(a.openEventModal(i))}),X(1,"lucide-icon",31),w(2),m()}if(t&2){let n=e.$implicit;Pe("event-livraison",n.event_type==="livraison")("event-mep",n.event_type==="mep"),C(),T("name",n.event_type==="livraison"?"package":"rocket"),C(),ue(" ",n.title.substring(0,14)," ")}}function x9(t,e){if(t&1){let n=le();g(0,"div",27),x("click",function(){let o=E(n).$implicit,i=D(2);return L(i.onRowClick(o))}),g(1,"div",23),w(2),m(),g(3,"div",24),w(4),m(),g(5,"div",25)(6,"div",28),ie(7,_9,3,6,"div",29),m()()()}if(t&2){let n=e.$implicit;Pe("has-events",n.events.length>0)("today",n.isToday)("weekend",n.isWeekend)("holiday",n.isHoliday),C(2),Q(n.dayNumber),C(2),Q(n.dayName),C(3),T("ngForOf",n.events)}}function I9(t,e){if(t&1&&(g(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",23),w(4,"D"),m(),g(5,"div",24),w(6,"J"),m(),g(7,"div",25),w(8,"\xC9v\xE9nements"),m()(),ie(9,x9,8,11,"div",26),m()()),t&2){let n=e.$implicit;C(9),T("ngForOf",n.days)}}function S9(t,e){if(t&1){let n=le();g(0,"app-day-events-modal",32),x("close",function(){E(n);let o=D();return L(o.showDayEventsModal=!1)})("openEvent",function(o){E(n);let i=D();return L(i.openEventModal(o))})("add",function(o){E(n);let i=D();return L(i.onDayModalAdd(o))}),m()}if(t&2){let n=D();T("events",n.selectedDayEvents)("dateStr",n.selectedDayDateStr)}}function D9(t,e){if(t&1){let n=le();g(0,"div",33),x("click",function(){E(n);let o=D();return L(o.closeEmptyDayModal())}),g(1,"div",34),x("click",function(o){return E(n),L(o.stopPropagation())}),g(2,"div",35)(3,"h3"),w(4),m(),g(5,"button",36),x("click",function(){E(n);let o=D();return L(o.closeEmptyDayModal())}),w(6,"\xD7"),m()(),g(7,"div",37)(8,"p",38),w(9,"Aucune livraison pr\xE9vue ce jour"),m()(),g(10,"div",39)(11,"button",40),x("click",function(){E(n);let o=D();return L(o.closeEmptyDayModal())}),w(12,"Fermer"),m(),g(13,"button",41),x("click",function(){E(n);let o=D();return L(o.createEventFromEmptyDay())}),w(14,"+ Ajouter"),m()()()()}if(t&2){let n=D();C(4),Q(n.emptyDayDate)}}function E9(t,e){if(t&1){let n=le();g(0,"button",51),x("click",function(){E(n);let o=D(2);return L(o.deleteEvent())}),w(1,"Supprimer"),m()}}function L9(t,e){if(t&1){let n=le();g(0,"div",33),x("click",function(){E(n);let o=D();return L(o.closeModal())}),g(1,"div",42),x("click",function(o){return E(n),L(o.stopPropagation())}),g(2,"div",35)(3,"h3"),w(4),m(),g(5,"button",36),x("click",function(){E(n);let o=D();return L(o.closeModal())}),w(6,"\xD7"),m()(),g(7,"div",37)(8,"div",43)(9,"label"),w(10,"Type"),m(),g(11,"select",44),me("ngModelChange",function(o){E(n);let i=D();return ve(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),L(o)}),x("ngModelChange",function(){E(n);let o=D();return L(o.updateModalTitle())}),g(12,"option",45),w(13,"Livraison (LV)"),m(),g(14,"option",46),w(15,"Mise en Production (MEP)"),m()()(),g(16,"div",43)(17,"label"),w(18,"Version"),m(),g(19,"input",47),me("ngModelChange",function(o){E(n);let i=D();return ve(i.modalEvent.version,o)||(i.modalEvent.version=o),L(o)}),x("ngModelChange",function(){E(n);let o=D();return L(o.updateModalTitle())}),m()(),g(20,"div",43)(21,"label"),w(22,"Date"),m(),g(23,"input",48),me("ngModelChange",function(o){E(n);let i=D();return ve(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),L(o)}),m()(),g(24,"div",43)(25,"label"),w(26,"Description"),m(),g(27,"textarea",49),me("ngModelChange",function(o){E(n);let i=D();return ve(i.modalEvent.description,o)||(i.modalEvent.description=o),L(o)}),m()()(),g(28,"div",39),ie(29,E9,2,0,"button",50),g(30,"button",40),x("click",function(){E(n);let o=D();return L(o.closeModal())}),w(31,"Annuler"),m(),g(32,"button",41),x("click",function(){E(n);let o=D();return L(o.saveEvent())}),w(33),m()()()()}if(t&2){let n=D();C(4),Q(n.isEditMode?"Modifier l'\xE9v\xE9nement":"Nouvel \xE9v\xE9nement"),C(7),ye("ngModel",n.modalEvent.event_type),C(8),ye("ngModel",n.modalEvent.version),C(4),ye("ngModel",n.modalEvent.event_date),C(4),ye("ngModel",n.modalEvent.description),C(2),T("ngIf",n.isEditMode),C(4),Q(n.isEditMode?"Sauvegarder":"Cr\xE9er")}}var g3=(()=>{let e=class e{constructor(r){this.eventService=r,this.startDate=new Date,this.monthsData=[],this.events=[],this.sidebarOpen=!1,this.showModal=!1,this.isEditMode=!1,this.modalEvent={},this.dayNames=["D","L","M","M","J","V","S"],this.showDayEventsModal=!1,this.selectedDayEvents=[],this.selectedDayDateStr=null,this.showEmptyDayModal=!1,this.emptyDayDate="",this.emptyDayDateStr="",this.monthsCount=4,this.startDate.setDate(1)}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.generateCompactView()})}changeMonthsCount(r){let o=this.monthsCount+r;o>=1&&o<=12&&(this.monthsCount=o,this.generateCompactView())}onStartDateChange(r){if(r){let[o,i]=r.split("-").map(Number);this.startDate=new Date(o,i-1,1),this.generateCompactView()}}get startDateStr(){let r=this.startDate.getFullYear(),o=String(this.startDate.getMonth()+1).padStart(2,"0");return`${r}-${o}`}generateCompactView(){this.monthsData=[];for(let r=0;r<this.monthsCount;r++){let o=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+r,1),i=o.toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),a=new Date(o.getFullYear(),o.getMonth()+1,0).getDate(),s=[];for(let c=1;c<=a;c++){let l=new Date(o.getFullYear(),o.getMonth(),c),d=this.formatDateToString(l),u=this.eventService.getEventsByDate(d);s.push({dayNumber:String(c).padStart(2,"0"),dayName:this.getDayName(l),dateStr:d,isToday:this.isToday(l),isWeekend:this.isWeekend(l),isHoliday:this.isFrenchHoliday(l),events:u})}this.monthsData.push({title:i,days:s})}}formatDateToString(r){let o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0");return`${o}-${i}-${a}`}getDayName(r){let o=r.getDay();return this.dayNames[o]}isToday(r){let o=new Date;return r.getDate()===o.getDate()&&r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()}isWeekend(r){let o=r.getDay();return o===0||o===6}isFrenchHoliday(r){let o=r.getFullYear(),i=r.getMonth()+1,a=r.getDate();if([{m:1,d:1},{m:5,d:1},{m:5,d:8},{m:7,d:14},{m:8,d:15},{m:11,d:1},{m:11,d:11},{m:12,d:25}].some(p=>p.m===i&&p.d===a))return!0;let l=this.getEasterDate(o).getTime(),d=r.getTime(),u=1440*60*1e3;return d===l+u||d===l+39*u||d===l+50*u}getEasterDate(r){let o=r%19,i=Math.floor(r/100),a=r%100,s=Math.floor(i/4),c=i%4,l=Math.floor((i+8)/25),d=Math.floor((i-l+1)/3),u=(19*o+i-s-d+15)%30,p=Math.floor(a/4),h=a%4,y=(32+2*c+2*p-u-h)%7,k=Math.floor((o+11*u+22*y)/451),M=Math.floor((u+y-7*k+114)/31),v=(u+y-7*k+114)%31+1;return new Date(r,M-1,v)}getPeriodTitle(){let r=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+this.monthsCount,0);return`${this.startDate.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})} - ${r.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}`}previousPeriod(){this.startDate=new Date(this.startDate.getFullYear(),this.startDate.getMonth()-this.monthsCount,1),this.generateCompactView()}nextPeriod(){this.startDate=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+this.monthsCount,1),this.generateCompactView()}openAddEventModal(r){this.isEditMode=!1,this.modalEvent={event_type:"livraison",version:"",event_date:r,description:"",title:""},this.showModal=!0}openEventModal(r){this.showDayEventsModal=!1,this.isEditMode=!0,this.modalEvent=I({},r),this.showModal=!0}onRowClick(r){r&&r.events&&r.events.length>0?(this.selectedDayEvents=r.events,this.selectedDayDateStr=r.dateStr,this.showDayEventsModal=!0):r&&r.dateStr&&(this.emptyDayDateStr=r.dateStr,this.emptyDayDate=this.formatDateForDisplay(r.dateStr),this.showEmptyDayModal=!0)}formatDateForDisplay(r){return new Date(r).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}closeEmptyDayModal(){this.showEmptyDayModal=!1,this.emptyDayDate="",this.emptyDayDateStr=""}createEventFromEmptyDay(){this.showEmptyDayModal=!1,this.openAddEventModal(this.emptyDayDateStr)}onDayModalAdd(r){this.showDayEventsModal=!1,setTimeout(()=>this.openAddEventModal(r??""),0)}closeModal(){this.showModal=!1,this.modalEvent={}}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return f(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode?yield this.eventService.updateEvent(this.modalEvent.id,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}deleteEvent(){return f(this,null,function*(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&(yield this.eventService.deleteEvent(this.modalEvent.id),this.closeModal())})}};e.\u0275fac=function(o){return new(o||e)(j(co))},e.\u0275cmp=de({type:e,selectors:[["app-compact-view"]],decls:33,vars:11,consts:[[1,"compact-wrapper"],[3,"toggleEvent","isOpen"],[1,"compact-container"],[1,"compact-header"],[1,"header-controls"],[1,"nav-btn",3,"click"],[1,"view-options"],[1,"option-group"],["type","month",3,"ngModelChange","ngModel"],[1,"count-controls"],[1,"count-btn",3,"click","disabled"],[1,"count-display"],[1,"months-titles"],["class","month-title-wrapper",4,"ngFor","ngForOf"],[1,"months-content"],["class","month-column-content",4,"ngFor","ngForOf"],[3,"events","dateStr","close","openEvent","add",4,"ngIf"],["class","modal",3,"click",4,"ngIf"],[1,"month-title-wrapper"],[1,"month-title"],[1,"month-column-content"],[1,"compact-table"],[1,"table-header"],[1,"col-date"],[1,"col-day"],[1,"col-events"],["class","table-row",3,"has-events","today","weekend","holiday","click",4,"ngFor","ngForOf"],[1,"table-row",3,"click"],[1,"events-list"],["class","compact-event",3,"event-livraison","event-mep","click",4,"ngFor","ngForOf"],[1,"compact-event",3,"click"],["size","11",3,"name"],[3,"close","openEvent","add","events","dateStr"],[1,"modal",3,"click"],[1,"modal-content","empty-day-modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"empty-message"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"modal-content",3,"click"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","4",3,"ngModelChange","ngModel"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"app-sidebar-panel",1),x("toggleEvent",function(){return i.sidebarOpen=!i.sidebarOpen}),m(),g(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),x("click",function(){return i.previousPeriod()}),w(6,"\u2039"),m(),g(7,"h2"),w(8),m(),g(9,"button",5),x("click",function(){return i.nextPeriod()}),w(10,"\u203A"),m()(),g(11,"div",6)(12,"div",7)(13,"label"),w(14,"D\xE9but:"),m(),g(15,"input",8),x("ngModelChange",function(s){return i.onStartDateChange(s)}),m()(),g(16,"div",7)(17,"label"),w(18,"Mois:"),m(),g(19,"div",9)(20,"button",10),x("click",function(){return i.changeMonthsCount(-1)}),w(21,"-"),m(),g(22,"span",11),w(23),m(),g(24,"button",10),x("click",function(){return i.changeMonthsCount(1)}),w(25,"+"),m()()()()(),g(26,"div",12),ie(27,b9,3,1,"div",13),m(),g(28,"div",14),ie(29,I9,10,1,"div",15),m()(),ie(30,S9,1,2,"app-day-events-modal",16)(31,D9,15,1,"div",17)(32,L9,34,7,"div",17),m()),o&2&&(C(),T("isOpen",i.sidebarOpen),C(7),Q(i.getPeriodTitle()),C(7),T("ngModel",i.startDateStr),C(5),T("disabled",i.monthsCount<=1),C(3),Q(i.monthsCount),C(),T("disabled",i.monthsCount>=12),C(3),T("ngForOf",i.monthsData),C(2),T("ngForOf",i.monthsData),C(),T("ngIf",i.showDayEventsModal),C(),T("ngIf",i.showEmptyDayModal),C(),T("ngIf",i.showModal))},dependencies:[Ie,Lt,Qe,yt,va,Ma,ot,to,gt,ct,Te,Fe,k1,m1],styles:[".compact-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 80px)}.compact-container[_ngcontent-%COMP%]{flex:1;padding:1rem;padding-top:0;display:flex;flex-direction:column;height:100%;overflow-y:auto}.compact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-wrap:wrap;gap:1rem}.header-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.view-options[_ngcontent-%COMP%]{display:flex;gap:1.5rem;align-items:center;background:#fff;padding:.5rem 1rem;border-radius:8px;box-shadow:0 1px 3px #0000001a}.option-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.option-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#64748b}.option-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.25rem .5rem;border:1px solid #e2e8f0;border-radius:4px;font-size:.875rem;color:#1e293b;width:auto}.count-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#f1f5f9;padding:.125rem;border-radius:4px;border:1px solid #e2e8f0}.count-btn[_ngcontent-%COMP%]{width:24px;height:24px;padding:0;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid #cbd5e1;border-radius:3px;cursor:pointer;font-size:1rem;line-height:1;color:#475569}.count-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f8fafc;color:#2563eb;border-color:#2563eb}.count-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background:#f1f5f9}.count-display[_ngcontent-%COMP%]{min-width:20px;text-align:center;font-weight:600;font-size:.875rem;color:#1e293b}.compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#1a1a1a;margin:0}.nav-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:6px;width:40px;height:40px;font-size:1.5rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#2563eb}.months-titles[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;position:sticky;top:0;z-index:30;background:#f3f4f6;padding-bottom:0}.month-title-wrapper[_ngcontent-%COMP%]{background:#fff;border-radius:8px 8px 0 0;overflow:hidden;box-shadow:0 1px 3px #0000001a}.month-title[_ngcontent-%COMP%]{background:#2563eb;margin:0;padding:.75rem;font-size:1.125rem;font-weight:600;color:#fff;text-align:center;border-bottom:2px solid #dee2e6}.months-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;align-items:start;padding-bottom:1rem}.month-column-content[_ngcontent-%COMP%]{background:#fff;border-radius:0 0 8px 8px;overflow:hidden;box-shadow:0 1px 3px #0000001a;height:fit-content}.compact-table[_ngcontent-%COMP%]{font-size:.8rem}.table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:30px 30px 1fr;background:#f8f9fa;font-weight:600;color:#495057;border-bottom:1px solid #dee2e6;position:sticky;top:0;z-index:10}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:.5rem .25rem;border-right:1px solid #e9ecef}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-right:none}.table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:30px 30px 1fr;border-bottom:1px solid #e9ecef;transition:background-color .2s;min-height:28px}.table-row[_ngcontent-%COMP%]:hover{background:#f8f9fa}.table-row.today[_ngcontent-%COMP%]{background:#fef9c3}.table-row.weekend[_ngcontent-%COMP%], .table-row.holiday[_ngcontent-%COMP%]{background:#f0f0f0}.table-row.weekend[_ngcontent-%COMP%]:hover, .table-row.holiday[_ngcontent-%COMP%]:hover{background:#e9ecef}.col-date[_ngcontent-%COMP%], .col-day[_ngcontent-%COMP%]{padding:.25rem;border-right:1px solid #e9ecef;display:flex;align-items:center;justify-content:center;font-weight:500;font-size:.85rem}.col-events[_ngcontent-%COMP%]{padding:.25rem .5rem;display:flex;align-items:center}.events-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem;width:100%}.compact-event[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;padding:.125rem .375rem;border-radius:3px;font-size:.7rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.compact-event[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.compact-event.event-mep[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.add-compact-btn[_ngcontent-%COMP%]{background:transparent;border:1px dashed #dee2e6;border-radius:3px;padding:.125rem .375rem;font-size:.7rem;color:#6b7280;cursor:pointer;transition:all .2s}.add-compact-btn[_ngcontent-%COMP%]:hover{border-color:#2563eb;color:#2563eb;background:#eff6ff}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:32px;height:32px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#495057;margin-bottom:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;font-family:inherit;box-sizing:border-box}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.5rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}.empty-day-modal[_ngcontent-%COMP%]{max-width:400px}.empty-day-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:2rem 1.5rem}.empty-message[_ngcontent-%COMP%]{color:#64748b;font-size:.95rem;margin:0;text-align:center}body.dark-mode[_nghost-%COMP%]   .compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .months-titles[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .months-titles[_ngcontent-%COMP%]{background:#0f172a}body.dark-mode[_nghost-%COMP%]   .month-title-wrapper[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .month-title-wrapper[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 1px 3px #0000004d}body.dark-mode[_nghost-%COMP%]   .month-column-content[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .month-column-content[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 1px 3px #0000004d}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover{background:#334155;border-color:#60a5fa;color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .view-options[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .view-options[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 1px 3px #0000004d}body.dark-mode[_nghost-%COMP%]   .option-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .option-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .option-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .option-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .option-group[_ngcontent-%COMP%]   input[type=month][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, body.dark-mode   [_nghost-%COMP%]   .option-group[_ngcontent-%COMP%]   input[type=month][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1)}body.dark-mode[_nghost-%COMP%]   .count-controls[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .count-controls[_ngcontent-%COMP%]{background:#334155;border-color:#475569}body.dark-mode[_nghost-%COMP%]   .count-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .count-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#475569;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .count-btn[_ngcontent-%COMP%]:hover:not(:disabled), body.dark-mode   [_nghost-%COMP%]   .count-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#475569;color:#60a5fa;border-color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .count-btn[_ngcontent-%COMP%]:disabled, body.dark-mode   [_nghost-%COMP%]   .count-btn[_ngcontent-%COMP%]:disabled{background:#334155;color:#64748b}body.dark-mode[_nghost-%COMP%]   .count-display[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .count-display[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .month-column[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .month-column[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 1px 3px #0000004d}body.dark-mode[_nghost-%COMP%]   .month-title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .month-title[_ngcontent-%COMP%]{background:#1e40af;border-bottom-color:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .table-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-header[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1;border-bottom-color:#475569}body.dark-mode[_nghost-%COMP%]   .table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-right-color:#475569}body.dark-mode[_nghost-%COMP%]   .table-row[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]{border-bottom-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .table-row.today[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row.today[_ngcontent-%COMP%]{background:#1e3a8a}body.dark-mode[_nghost-%COMP%]   .table-row.weekend[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row.weekend[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .table-row.holiday[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row.holiday[_ngcontent-%COMP%]{background:#27272a}body.dark-mode[_nghost-%COMP%]   .table-row.weekend[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .table-row.weekend[_ngcontent-%COMP%]:hover, body.dark-mode[_nghost-%COMP%]   .table-row.holiday[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .table-row.holiday[_ngcontent-%COMP%]:hover{background:#3f3f46}body.dark-mode[_nghost-%COMP%]   .col-date[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .col-date[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .col-day[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .col-day[_ngcontent-%COMP%]{border-right-color:#334155}body.dark-mode[_nghost-%COMP%]   .compact-event[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .compact-event[_ngcontent-%COMP%]{background:#1e3a8a;color:#93c5fd}body.dark-mode[_nghost-%COMP%]   .compact-event.event-mep[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .compact-event.event-mep[_ngcontent-%COMP%]{background:#14532d;color:#86efac}body.dark-mode[_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%]{border-color:#475569;color:#64748b}body.dark-mode[_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%]:hover{border-color:#60a5fa;color:#60a5fa;background:#1e3a8a}body.dark-mode[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   label[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, body.dark-mode   [_nghost-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1)}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   select[_ngcontent-%COMP%]:focus, body.dark-mode[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top-color:#334155}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#475569}body.dark-mode[_nghost-%COMP%]   .empty-message[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .empty-message[_ngcontent-%COMP%]{color:#cbd5e1}@media (max-width: 1200px){.months-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let t=e;return t})();function O9(t,e){if(t&1&&(g(0,"div",16)(1,"div",17)(2,"span",18),X(3,"lucide-icon",19),m(),g(4,"span",20),w(5),m(),g(6,"span",21),w(7),m()(),g(8,"div",22)(9,"p"),w(10),m()()()),t&2){let n=e.$implicit;Pe("is-livraison",n.event_type==="livraison")("is-mep",n.event_type==="mep"),C(3),T("name",n.event_type==="livraison"?"package":"rocket"),C(2),Q(n.title),C(2),Q(n.version),C(3),Q(n.description)}}function P9(t,e){if(t&1&&(g(0,"div",10)(1,"div",11)(2,"div",12),w(3),m(),g(4,"div",13),ie(5,O9,11,8,"div",14),m()(),X(6,"div",15),m()),t&2){let n=e.$implicit,r=e.index,o=D();Pe("left",!o.isHorizontal&&r%2===0)("right",!o.isHorizontal&&r%2!==0),C(3),Q(o.formatDate(n.date)),C(2),T("ngForOf",n.events)}}function A9(t,e){t&1&&(g(0,"div",23)(1,"p"),w(2,"Aucun \xE9v\xE9nement \xE0 afficher"),m()())}var y3=(()=>{let e=class e{constructor(r){this.eventService=r,this.events=[],this.groupedEvents=[],this.isHorizontal=!1}toggleMode(){this.isHorizontal=!this.isHorizontal}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=[...r].sort((o,i)=>new Date(o.event_date).getTime()-new Date(i.event_date).getTime()),this.groupEvents()})}groupEvents(){this.groupedEvents=[];for(let r of this.events){let o=new Date(r.event_date).toDateString(),i=this.groupedEvents[this.groupedEvents.length-1];i&&new Date(i.date).toDateString()===o?i.events.push(r):this.groupedEvents.push({date:r.event_date,events:[r]})}}formatDate(r){return new Date(r).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}};e.\u0275fac=function(o){return new(o||e)(j(co))},e.\u0275cmp=de({type:e,selectors:[["app-timeline-view"]],decls:14,vars:7,consts:[[1,"timeline-container"],[1,"header"],["name","git-commit","size","22"],[1,"toggle-btn",3,"click","title"],["size","20",3,"name"],[1,"timeline-wrapper"],[1,"timeline"],[1,"timeline-line"],["class","timeline-item",3,"left","right",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"timeline-item"],[1,"content"],[1,"date-badge"],[1,"events-group"],["class","card",3,"is-livraison","is-mep",4,"ngFor","ngForOf"],[1,"dot"],[1,"card"],[1,"card-header"],[1,"type-icon"],["size","18",3,"name"],[1,"title"],[1,"version"],[1,"card-body"],[1,"empty-state"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"div",1)(2,"h2"),X(3,"lucide-icon",2),w(4," Timeline"),m(),g(5,"button",3),x("click",function(){return i.toggleMode()}),X(6,"lucide-icon",4),g(7,"span"),w(8),m()()(),g(9,"div",5)(10,"div",6),X(11,"div",7),ie(12,P9,7,6,"div",8)(13,A9,3,0,"div",9),m()()()),o&2&&(C(5),T("title",i.isHorizontal?"Passer en vue verticale":"Passer en vue horizontale"),C(),T("name",i.isHorizontal?"align-justify":"columns"),C(2),Q(i.isHorizontal?"Vue Verticale":"Vue Horizontale"),C(),Pe("horizontal",i.isHorizontal),C(3),T("ngForOf",i.groupedEvents),C(),T("ngIf",i.events.length===0))},dependencies:[Ie,Lt,Qe,Te,Fe],styles:['.timeline-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden;background:#f8fafc}.timeline-container[_ngcontent-%COMP%]:has(.timeline-wrapper.horizontal){overflow-y:auto}.header[_ngcontent-%COMP%]{padding:2rem;margin-bottom:0;display:flex;justify-content:space-between;align-items:center;flex-shrink:0}.toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#fff;border:1px solid #e2e8f0;border-radius:8px;cursor:pointer;font-weight:500;color:#64748b;transition:all .2s;box-shadow:0 1px 2px #0000000d}.toggle-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#334155}.timeline-wrapper[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;padding:2rem;position:relative}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar{height:12px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:6px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#cbd5e1;border-radius:6px;border:3px solid #f1f5f9}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#94a3b8}.timeline-wrapper.horizontal[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;align-items:center;padding:2rem;height:auto;min-height:100%}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;align-items:center;height:auto;min-height:600px;min-width:100%;width:max-content;max-width:none;padding:4rem;margin:0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-line[_ngcontent-%COMP%]{width:auto;left:0;right:0;height:4px;top:40px;transform:none;background:#e2e8f0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:320px;flex-shrink:0;margin:0 1.5rem;height:auto;min-height:200px;position:relative;display:flex;left:auto;right:auto;padding:10px 0 0;text-align:left;overflow:visible;flex-direction:column;justify-content:flex-start;align-self:stretch}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;max-height:none;overflow-y:visible;padding-right:0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#cbd5e1;border-radius:4px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{left:auto;right:auto;text-align:left;padding-left:0;padding-right:0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:after{display:none}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{position:absolute;inset:-32px auto auto 50%;transform:translate(-50%);margin:0;flex-shrink:0;z-index:20}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%]{transform:translate(-50%) scale(1.2)}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:50%;transform:translate(-50%);width:2px;background:#e2e8f0;z-index:1;top:-12px;height:22px;bottom:auto}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:row}h2[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;font-size:1.8rem;color:#1e293b;margin:0;background:#fff;padding:.5rem 1.5rem;border-radius:50px;box-shadow:0 4px 6px -1px #0000001a}.timeline[_ngcontent-%COMP%]{position:relative;max-width:1000px;margin:0 auto;padding:2rem 0}.timeline-line[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);width:4px;height:100%;background:linear-gradient(to bottom,#e2e8f0,#cbd5e1,#e2e8f0);border-radius:2px}.timeline-item[_ngcontent-%COMP%]{position:relative;margin-bottom:3rem;width:50%}.timeline-item.left[_ngcontent-%COMP%]{left:0;padding-right:3rem;text-align:right}.timeline-item.right[_ngcontent-%COMP%]{left:50%;padding-left:3rem;text-align:left}.timeline-item[_ngcontent-%COMP%]:after{content:"";position:absolute;top:30px;height:2px;width:3rem;background:#e2e8f0;z-index:1}.timeline-item.left[_ngcontent-%COMP%]:after{right:0}.timeline-item.right[_ngcontent-%COMP%]:after{left:0}.dot[_ngcontent-%COMP%]{position:absolute;top:20px;width:20px;height:20px;background:#fff;border:4px solid #3b82f6;border-radius:50%;z-index:10;box-shadow:0 0 0 4px #3b82f633;transition:all .3s ease}.timeline-item.left[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{right:-10px}.timeline-item.right[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{left:-10px}.timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%]{transform:scale(1.2);background:#3b82f6;box-shadow:0 0 0 6px #3b82f64d}.content[_ngcontent-%COMP%]{position:relative;transition:transform .3s ease}.timeline-item[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]{transform:translateY(-5px)}.date-badge[_ngcontent-%COMP%]{display:inline-block;background:#475569;color:#fff;padding:.25rem .75rem;border-radius:20px;font-size:.85rem;font-weight:600;margin-bottom:.5rem;box-shadow:0 2px 4px #0000001a}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border-left:5px solid transparent;position:relative;overflow:hidden}.card[_ngcontent-%COMP%] + .card[_ngcontent-%COMP%]{margin-top:1rem}.card.is-livraison[_ngcontent-%COMP%]{border-left-color:#10b981}.card.is-mep[_ngcontent-%COMP%]{border-left-color:#8b5cf6}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem;border-bottom:1px solid #f1f5f9;padding-bottom:.75rem}.timeline-item.left[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:row-reverse}.type-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:8px}.is-livraison[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.is-mep[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{background:#ede9fe;color:#7c3aed}.title[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:#1e293b}.version[_ngcontent-%COMP%]{background:#f1f5f9;padding:.1rem .5rem;border-radius:4px;font-size:.8rem;font-family:monospace;color:#64748b}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b;line-height:1.5;font-size:.95rem}.empty-state[_ngcontent-%COMP%]{text-align:center;color:#94a3b8;padding:2rem}@media (max-width: 768px){.timeline-line[_ngcontent-%COMP%]{left:30px}.timeline-item[_ngcontent-%COMP%]{width:100%;padding-left:70px;padding-right:0;text-align:left}.timeline-item.left[_ngcontent-%COMP%], .timeline-item.right[_ngcontent-%COMP%]{left:0;text-align:left;padding-right:0;padding-left:70px}.timeline-item.left[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%], .timeline-item.right[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{left:20px;right:auto}.timeline-item.left[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:row}.timeline-item[_ngcontent-%COMP%]:after{width:40px;left:30px;right:auto}}body.dark-mode[_nghost-%COMP%]   .timeline-container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-container[_ngcontent-%COMP%]{background:#0f172a}body.dark-mode[_nghost-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .timeline-line[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-line[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#334155,#475569,#334155)}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-line[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-line[_ngcontent-%COMP%]{background:linear-gradient(to right,#334155,#475569,#334155)}body.dark-mode[_nghost-%COMP%]   .date-badge[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .date-badge[_ngcontent-%COMP%]{background:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .card[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 4px 6px -1px #0000004d,0 2px 4px -1px #0000001a}body.dark-mode[_nghost-%COMP%]   .title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .version[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .version[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:after, body.dark-mode   [_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:after{background:#334155}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before{background:#334155}body.dark-mode[_nghost-%COMP%]   .dot[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .dot[_ngcontent-%COMP%]{background:#1e293b;border-color:#60a5fa;box-shadow:0 0 0 4px #60a5fa33}body.dark-mode[_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%]{background:#60a5fa;box-shadow:0 0 0 6px #60a5fa4d}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e293b}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#475569;border-color:#1e293b}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#64748b}']});let t=e;return t})();var m3=(()=>{let e=class e{constructor(){this.email=ce(""),this.password=ce(""),this.showPassword=ce(!1),this.loading=!1,this.supabaseService=_(Pt),this.router=_(Ae)}togglePasswordVisibility(){this.showPassword.update(r=>!r)}signInWithEmail(){return f(this,null,function*(){this.loading=!0;try{let{error:r}=yield this.supabaseService.signInWithEmail({email:this.email(),password:this.password()});r?alert("Error signing in: "+r.message):this.router.navigate(["/compact"])}finally{this.loading=!1}})}navigateToSignup(){this.router.navigate(["/signup"])}navigateToForgot(){this.router.navigate(["/forgot-password"])}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=de({type:e,selectors:[["app-login"]],decls:19,vars:6,consts:[[1,"container"],[3,"ngSubmit"],["type","email","name","email","placeholder","Email","required","","autocomplete","email",3,"ngModelChange","ngModel"],[1,"password-container"],["name","password","placeholder","Password","required","","autocomplete","current-password",3,"ngModelChange","type","ngModel"],["type","button",1,"toggle-password",3,"click"],["size","20",3,"name"],["type","submit",3,"disabled"],[3,"click"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"h2"),w(2,"Login"),m(),g(3,"form",1),x("ngSubmit",function(){return i.signInWithEmail()}),g(4,"input",2),me("ngModelChange",function(s){return ve(i.email,s)||(i.email=s),s}),m(),g(5,"div",3)(6,"input",4),me("ngModelChange",function(s){return ve(i.password,s)||(i.password=s),s}),m(),g(7,"button",5),x("click",function(){return i.togglePasswordVisibility()}),X(8,"lucide-icon",6),m()(),g(9,"button",7),w(10),m()(),g(11,"p"),w(12,"Don't have an account? "),g(13,"a",8),x("click",function(){return i.navigateToSignup()}),w(14,"Sign Up"),m()(),g(15,"p"),w(16,"Forgot your password ? "),g(17,"a",8),x("click",function(){return i.navigateToForgot()}),w(18,"Send me a link"),m()()()),o&2&&(C(4),ye("ngModel",i.email),C(2),T("type",i.showPassword()?"text":"password"),ye("ngModel",i.password),C(2),T("name",i.showPassword()?"eye-off":"eye"),C(),T("disabled",i.loading),C(),ue(" ",i.loading?"Loading...":"Sign In"," "))},dependencies:[yt,eo,ot,gt,Jr,fr,ct,pr,Te,Fe],styles:[".container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:2rem;background:#fff;border-radius:8px;box-shadow:0 4px 6px -1px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#1e293b;margin-bottom:2rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}input[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #e2e8f0;border-radius:6px;font-size:1rem;width:100%;box-sizing:border-box}button[type=submit][_ngcontent-%COMP%]{padding:.75rem;background:#2563eb;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background .2s}button[type=submit][_ngcontent-%COMP%]:hover{background:#1d4ed8}button[type=submit][_ngcontent-%COMP%]:disabled{background:#94a3b8;cursor:not-allowed}p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#64748b}a[_ngcontent-%COMP%]{color:#2563eb;text-decoration:none;cursor:pointer;font-weight:500}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.password-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:10px;background:none;border:none;cursor:pointer;padding:0;display:flex;align-items:center;color:#64748b}.toggle-password[_ngcontent-%COMP%]:hover{color:#1e293b}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 4px 6px -1px #00000080}body.dark-mode[_nghost-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#3b82f6}body.dark-mode[_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]{color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   a[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#60a5fa}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px #334155 inset!important;-webkit-text-fill-color:#f8fafc!important;caret-color:#f8fafc}"]});let t=e;return t})();function T9(t,e){if(t&1&&(g(0,"div",12),w(1),m()),t&2){let n=D();C(),ue(" ",n.error()," ")}}function R9(t,e){if(t&1&&(g(0,"div",13),w(1),m()),t&2){let n=D();C(),ue(" ",n.message()," ")}}var k3=(()=>{let e=class e{constructor(){this.name="",this.email="",this.password=ce(""),this.confirmPassword=ce(""),this.showPassword=ce(!1),this.showConfirmPassword=ce(!1),this.loading=!1,this.error=ce(null),this.message=ce(null),this.supabaseService=_(Pt),this.router=_(Ae)}togglePasswordVisibility(){this.showPassword.update(r=>!r)}toggleConfirmPasswordVisibility(){this.showConfirmPassword.update(r=>!r)}signUp(){return f(this,null,function*(){if(this.error.set(null),this.message.set(null),this.password().length<6){this.error.set("Le mot de passe doit contenir au moins 6 caract\xE8res.");return}if(this.password()!==this.confirmPassword()){this.error.set("Les mots de passe ne correspondent pas.");return}let{error:r}=yield this.supabaseService.signUpWithEmail({name:this.name,email:this.email,password:this.password()});r?alert("Error signing up: "+r.message):(alert("Check your email to confirm your account!"),this.router.navigate(["/login"]))})}navigateToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=de({type:e,selectors:[["app-signup"]],decls:22,vars:10,consts:[[1,"container"],["type","text","name","name","placeholder","Full Name","required","","autocomplete","name",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","Email","required","","autocomplete","email",3,"ngModelChange","ngModel"],[1,"password-container"],["name","password","minlength","6","placeholder","Mot de passe (Minimum 6 caract\xE8res)","required","","autocomplete","new-password",3,"ngModelChange","type","ngModel"],["type","button",1,"toggle-password",3,"click"],["size","20",3,"name"],["id","confirmPassword","name","confirmPassword","placeholder","Confirmez votre mot de passe","minlength","6","required","","autocomplete","new-password",3,"ngModelChange","type","ngModel"],["type","button",3,"click"],["class","message error",4,"ngIf"],["class","message success",4,"ngIf"],[3,"click"],[1,"message","error"],[1,"message","success"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"h2"),w(2,"Sign Up"),m(),g(3,"form")(4,"input",1),me("ngModelChange",function(s){return ve(i.name,s)||(i.name=s),s}),m(),g(5,"input",2),me("ngModelChange",function(s){return ve(i.email,s)||(i.email=s),s}),m(),g(6,"div",3)(7,"input",4),x("ngModelChange",function(s){return i.password.set(s)}),m(),g(8,"button",5),x("click",function(){return i.togglePasswordVisibility()}),X(9,"lucide-icon",6),m()(),g(10,"div",3)(11,"input",7),x("ngModelChange",function(s){return i.confirmPassword.set(s)}),m(),g(12,"button",5),x("click",function(){return i.toggleConfirmPasswordVisibility()}),X(13,"lucide-icon",6),m()(),g(14,"button",8),x("click",function(){return i.signUp()}),w(15,"Sign Up"),m()(),ie(16,T9,2,1,"div",9)(17,R9,2,1,"div",10),g(18,"p"),w(19,"Already have an account? "),g(20,"a",11),x("click",function(){return i.navigateToLogin()}),w(21,"Log In"),m()()()),o&2&&(C(4),ye("ngModel",i.name),C(),ye("ngModel",i.email),C(2),T("type",i.showPassword()?"text":"password")("ngModel",i.password()),C(2),T("name",i.showPassword()?"eye-off":"eye"),C(2),T("type",i.showConfirmPassword()?"text":"password")("ngModel",i.confirmPassword()),C(2),T("name",i.showConfirmPassword()?"eye-off":"eye"),C(3),T("ngIf",i.error()),C(),T("ngIf",i.message()))},dependencies:[yt,eo,ot,gt,Jr,fr,hc,ct,pr,Ie,Qe,Te,Fe],styles:[".container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:2rem;background:#fff;border-radius:8px;box-shadow:0 4px 6px -1px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#1e293b;margin-bottom:2rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}input[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #e2e8f0;border-radius:6px;font-size:1rem;width:100%;box-sizing:border-box}button[_ngcontent-%COMP%]{padding:.75rem;background:#2563eb;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background .2s}button[_ngcontent-%COMP%]:hover{background:#1d4ed8}.message[_ngcontent-%COMP%]{padding:1rem;border-radius:6px;margin-top:1rem;text-align:center}.error[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.success[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#64748b}a[_ngcontent-%COMP%]{color:#2563eb;text-decoration:none;cursor:pointer;font-weight:500}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.password-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:10px;background:none;border:none;cursor:pointer;padding:0;display:flex;align-items:center;color:#64748b}.toggle-password[_ngcontent-%COMP%]:hover{background:none;color:#1e293b}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 4px 6px -1px #00000080}body.dark-mode[_nghost-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#3b82f6}body.dark-mode[_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]{color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   a[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .error[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .error[_ngcontent-%COMP%]{background:#7f1d1d;color:#fecaca}body.dark-mode[_nghost-%COMP%]   .success[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .success[_ngcontent-%COMP%]{background:#14532d;color:#bbf7d0}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px #334155 inset!important;-webkit-text-fill-color:#f8fafc!important;caret-color:#f8fafc}"]});let t=e;return t})();var v3=(t,e)=>f(null,null,function*(){if(!pi.enableAuth)return!0;let n=_(Pt),r=_(Ae),{data:o}=yield n.getUser();return o.user?!0:(r.navigate(["/login"],{queryParams:{returnUrl:e.url}}),!1)});var v1=(()=>{let e=class e{getDarkMode(){return this.darkMode}getThemePreference(){return this.themePreference}constructor(){this.themePreference=ce("system"),this.systemDarkMode=ce(!1),this.darkMode=Ur(()=>{let i=this.themePreference();return i==="system"?this.systemDarkMode():i==="dark"});let r=window.matchMedia("(prefers-color-scheme: dark)");console.log("mediaQuery ="+r),this.systemDarkMode.set(r.matches),r.addEventListener("change",i=>{this.systemDarkMode.set(i.matches)});let o=localStorage.getItem("theme");o&&["light","dark","system"].includes(o)&&this.themePreference.set(o),Ap(()=>{this.darkMode()?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),localStorage.setItem("theme",this.themePreference())})}setTheme(r){this.themePreference.set(r)}toggleTheme(){let r=this.themePreference();r==="system"?this.themePreference.set(this.systemDarkMode()?"light":"dark"):this.themePreference.set(r==="dark"?"light":"dark")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function M3(t,e){return typeof t=="function"?t(e):t}function S2(t){return t.split("-")[0]}function w3(t){return t.split("-")[1]}var N9=new Set(["top","bottom"]);function C3(t){return N9.has(S2(t))?"y":"x"}var j9=new Set(["left","top"]);function V9(t,e){return f(this,null,function*(){let{placement:n,platform:r,elements:o}=t,i=yield r.isRTL==null?void 0:r.isRTL(o.floating),a=S2(n),s=w3(n),c=C3(n)==="y",l=j9.has(a)?-1:1,d=i&&c?-1:1,u=M3(e,t),{mainAxis:p,crossAxis:h,alignmentAxis:y}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return s&&typeof y=="number"&&(h=s==="end"?y*-1:y),c?{x:h*d,y:p*l}:{x:p*l,y:h*d}})}var b3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,fn(n){return f(this,null,function*(){var r,o;let{x:i,y:a,placement:s,middlewareData:c}=n,l=yield V9(n,t);return s===((r=c.offset)==null?void 0:r.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:$(I({},l),{placement:s})}})}}};var D2=b3;function H9(t){return t instanceof Element}function ja(t){return t instanceof HTMLElement}function lo(t){return typeof t=="function"}function Fc(t){return typeof t=="string"}function vt(t){return t===void 0}var jc=class{on(e,n,r,o=!1){var i;return vt(this.bindings)&&(this.bindings={}),vt(this.bindings[e])&&(this.bindings[e]=[]),(i=this.bindings[e])==null||i.push({handler:n,ctx:r,once:o}),this}once(e,n,r){return this.on(e,n,r,!0)}off(e,n){if(vt(this.bindings)||vt(this.bindings[e]))return this;if(vt(n))delete this.bindings[e];else{var r;(r=this.bindings[e])==null||r.forEach((o,i)=>{if(o.handler===n){var a;(a=this.bindings[e])==null||a.splice(i,1)}})}return this}trigger(e,...n){if(!vt(this.bindings)&&this.bindings[e]){var r;(r=this.bindings[e])==null||r.forEach((o,i)=>{let{ctx:a,handler:s,once:c}=o,l=a||this;if(s.apply(l,n),c){var d;(d=this.bindings[e])==null||d.splice(i,1)}})}return this}};function At(){return At=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},At.apply(null,arguments)}function K2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var ho={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};ho.defaultMerge;function B9(t,e){return e}function z9(t,e){return t.filter(n=>n!==void 0)}function _3(t){return typeof t!="object"||t===null?0:Array.isArray(t)?2:$9(t)?1:t instanceof Set?3:t instanceof Map?4:5}function q9(t){let e=new Set;for(let n of t)for(let r of[...Object.keys(n),...Object.getOwnPropertySymbols(n)])e.add(r);return e}function U9(t,e){return typeof t=="object"&&Object.prototype.propertyIsEnumerable.call(t,e)}function G3(t){return{*[Symbol.iterator](){for(let e of t)for(let n of e)yield n}}}var x3=new Set(["[object Object]","[object Module]"]);function $9(t){if(!x3.has(Object.prototype.toString.call(t)))return!1;let{constructor:e}=t;if(e===void 0)return!0;let n=e.prototype;return!(n===null||typeof n!="object"||!x3.has(Object.prototype.toString.call(n))||!n.hasOwnProperty("isPrototypeOf"))}function W9(t,e,n){let r={};for(let o of q9(t)){let i=[];for(let c of t)U9(c,o)&&i.push(c[o]);if(i.length===0)continue;let a=e.metaDataUpdater(n,{key:o,parents:t}),s=Z3(i,e,a);s!==ho.skip&&(o==="__proto__"?Object.defineProperty(r,o,{value:s,configurable:!0,enumerable:!0,writable:!0}):r[o]=s)}return r}function G9(t){return t.flat()}function Z9(t){return new Set(G3(t))}function K9(t){return new Map(G3(t))}function Y9(t){return t.at(-1)}var M1={mergeRecords:W9,mergeArrays:G9,mergeSets:Z9,mergeMaps:K9,mergeOthers:Y9};function Y2(...t){return X9({})(...t)}function X9(t,e){let n=Q9(t,r);function r(...o){return Z3(o,n,e)}return r}function Q9(t,e){var n,r,o;return{defaultMergeFunctions:M1,mergeFunctions:At({},M1,Object.fromEntries(Object.entries(t).filter(([i,a])=>Object.hasOwn(M1,i)).map(([i,a])=>a===!1?[i,M1.mergeOthers]:[i,a]))),metaDataUpdater:(n=t.metaDataUpdater)!=null?n:B9,deepmerge:e,useImplicitDefaultMerging:(r=t.enableImplicitDefaultMerging)!=null?r:!1,filterValues:t.filterValues===!1?void 0:(o=t.filterValues)!=null?o:z9,actions:ho}}function Z3(t,e,n){var r;let o=(r=e.filterValues==null?void 0:e.filterValues(t,n))!=null?r:t;if(o.length===0)return;if(o.length===1)return E2(o,e,n);let i=_3(o[0]);if(i!==0&&i!==5){for(let a=1;a<o.length;a++)if(_3(o[a])!==i)return E2(o,e,n)}switch(i){case 1:return J9(o,e,n);case 2:return eD(o,e,n);case 3:return tD(o,e,n);case 4:return nD(o,e,n);default:return E2(o,e,n)}}function J9(t,e,n){let r=e.mergeFunctions.mergeRecords(t,e,n);return r===ho.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeRecords!==e.defaultMergeFunctions.mergeRecords?e.defaultMergeFunctions.mergeRecords(t,e,n):r}function eD(t,e,n){let r=e.mergeFunctions.mergeArrays(t,e,n);return r===ho.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeArrays!==e.defaultMergeFunctions.mergeArrays?e.defaultMergeFunctions.mergeArrays(t):r}function tD(t,e,n){let r=e.mergeFunctions.mergeSets(t,e,n);return r===ho.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeSets!==e.defaultMergeFunctions.mergeSets?e.defaultMergeFunctions.mergeSets(t):r}function nD(t,e,n){let r=e.mergeFunctions.mergeMaps(t,e,n);return r===ho.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeMaps!==e.defaultMergeFunctions.mergeMaps?e.defaultMergeFunctions.mergeMaps(t):r}function E2(t,e,n){let r=e.mergeFunctions.mergeOthers(t,e,n);return r===ho.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeOthers!==e.defaultMergeFunctions.mergeOthers?e.defaultMergeFunctions.mergeOthers(t):r}function X2(t){let e=Object.getOwnPropertyNames(t.constructor.prototype);for(let n=0;n<e.length;n++){let r=e[n],o=t[r];r!=="constructor"&&typeof o=="function"&&(t[r]=o.bind(t))}return t}function rD(t,e){return n=>{if(t.isOpen()){let r=t.el&&n.currentTarget===t.el;(!vt(e)&&n.currentTarget.matches(e)||r)&&t.tour.next()}}}function oD(t){let{event:e,selector:n}=t.options.advanceOn||{};if(e){let r=rD(t,n),o=null;if(!vt(n)&&(o=document.querySelector(n),!o))return console.error(`No element was found for the selector supplied to advanceOn: ${n}`);o?(o.addEventListener(e,r),t.on("destroy",()=>o.removeEventListener(e,r))):(document.body.addEventListener(e,r,!0),t.on("destroy",()=>document.body.removeEventListener(e,r,!0)))}else return console.error("advanceOn was defined, but no event name was passed.")}var P2=class{constructor(e){}},A2=class{constructor(e,n){}};function K3(t){return!Fc(t)||t===""?"":t.charAt(t.length-1)!=="-"?`${t}-`:t}function iD(t){let e=t.options.attachTo||{},n=Object.assign({},e);if(lo(n.element)&&(n.element=n.element.call(t)),Fc(n.element)){try{n.element=document.querySelector(n.element)}catch{}n.element||console.error(`The element for this Shepherd step was not found ${e.element}`)}return n}function aD(t){return t.options.extraHighlights?t.options.extraHighlights.flatMap(e=>Array.from(document.querySelectorAll(e))):[]}function Y3(t){return t==null?!0:!t.element||!t.on}function X3(){let t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let n=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(e=="x"?n:n&3|8).toString(16)})}var sD=["top","right","bottom","left"],I3=["start","end"],S3=sD.reduce((t,e)=>t.concat(e,e+"-"+I3[0],e+"-"+I3[1]),[]),Va=Math.min,gi=Math.max,b1=Math.round,w1=Math.floor,Wn=t=>({x:t,y:t}),cD={left:"right",right:"left",bottom:"top",top:"bottom"},lD={start:"end",end:"start"};function T2(t,e,n){return gi(t,Va(e,n))}function vi(t,e){return typeof t=="function"?t(e):t}function Mr(t){return t.split("-")[0]}function vr(t){return t.split("-")[1]}function Q2(t){return t==="x"?"y":"x"}function J2(t){return t==="y"?"height":"width"}function yi(t){return["top","bottom"].includes(Mr(t))?"y":"x"}function eg(t){return Q2(yi(t))}function Q3(t,e,n){n===void 0&&(n=!1);let r=vr(t),o=eg(t),i=J2(o),a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=x1(a)),[a,x1(a)]}function dD(t){let e=x1(t);return[_1(t),e,_1(e)]}function _1(t){return t.replace(/start|end/g,e=>lD[e])}function uD(t,e,n){let r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:r:e?r:o;case"left":case"right":return e?i:a;default:return[]}}function hD(t,e,n,r){let o=vr(t),i=uD(Mr(t),n==="start",r);return o&&(i=i.map(a=>a+"-"+o),e&&(i=i.concat(i.map(_1)))),i}function x1(t){return t.replace(/left|right|bottom|top/g,e=>cD[e])}function pD(t){return At({top:0,right:0,bottom:0,left:0},t)}function J3(t){return typeof t!="number"?pD(t):{top:t,right:t,bottom:t,left:t}}function I1(t){let{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}var fD=["crossAxis","alignment","allowedPlacements","autoAlignment"],gD=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],yD=["mainAxis","crossAxis","limiter"];function D3(t,e,n){let{reference:r,floating:o}=t,i=yi(e),a=eg(e),s=J2(a),c=Mr(e),l=i==="y",d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,p=r[s]/2-o[s]/2,h;switch(c){case"top":h={x:d,y:r.y-o.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-o.width,y:u};break;default:h={x:r.x,y:r.y}}switch(vr(e)){case"start":h[a]-=p*(n&&l?-1:1);break;case"end":h[a]+=p*(n&&l?-1:1);break}return h}var mD=(t,e,n)=>f(null,null,function*(){let{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),c=yield a.isRTL==null?void 0:a.isRTL(e),l=yield a.getElementRects({reference:t,floating:e,strategy:o}),{x:d,y:u}=D3(l,r,c),p=r,h={},y=0;for(let k=0;k<s.length;k++){let{name:M,fn:v}=s[k],{x:P,y:S,data:b,reset:R}=yield v({x:d,y:u,initialPlacement:r,placement:p,strategy:o,middlewareData:h,rects:l,platform:a,elements:{reference:t,floating:e}});d=P??d,u=S??u,h=At({},h,{[M]:At({},h[M],b)}),R&&y<=50&&(y++,typeof R=="object"&&(R.placement&&(p=R.placement),R.rects&&(l=R.rects===!0?yield a.getElementRects({reference:t,floating:e,strategy:o}):R.rects),{x:d,y:u}=D3(l,p,c)),k=-1)}return{x:d,y:u,placement:p,strategy:o,middlewareData:h}});function tg(t,e){return f(this,null,function*(){var n;e===void 0&&(e={});let{x:r,y:o,platform:i,rects:a,elements:s,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:p=!1,padding:h=0}=vi(e,t),y=J3(h),M=s[p?u==="floating"?"reference":"floating":u],v=I1(yield i.getClippingRect({element:(n=yield i.isElement==null?void 0:i.isElement(M))==null||n?M:M.contextElement||(yield i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:l,rootBoundary:d,strategy:c})),P=u==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,S=yield i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating),b=(yield i.isElement==null?void 0:i.isElement(S))?(yield i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},R=I1(i.convertOffsetParentRelativeRectToViewportRelativeRect?yield i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:P,offsetParent:S,strategy:c}):P);return{top:(v.top-R.top+y.top)/b.y,bottom:(R.bottom-v.bottom+y.bottom)/b.y,left:(v.left-R.left+y.left)/b.x,right:(R.right-v.right+y.right)/b.x}})}var kD=t=>({name:"arrow",options:t,fn(n){return f(this,null,function*(){let{x:r,y:o,placement:i,rects:a,platform:s,elements:c,middlewareData:l}=n,{element:d,padding:u=0}=vi(t,n)||{};if(d==null)return{};let p=J3(u),h={x:r,y:o},y=eg(i),k=J2(y),M=yield s.getDimensions(d),v=y==="y",P=v?"top":"left",S=v?"bottom":"right",b=v?"clientHeight":"clientWidth",R=a.reference[k]+a.reference[y]-h[y]-a.floating[k],ne=h[y]-a.reference[y],U=yield s.getOffsetParent==null?void 0:s.getOffsetParent(d),J=U?U[b]:0;(!J||!(yield s.isElement==null?void 0:s.isElement(U)))&&(J=c.floating[b]||a.floating[k]);let Ee=R/2-ne/2,O=J/2-M[k]/2-1,Ce=Va(p[P],O),ze=Va(p[S],O),fe=Ce,xt=J-M[k]-ze,dt=J/2-M[k]/2+Ee,sn=T2(fe,dt,xt),br=!l.arrow&&vr(i)!=null&&dt!==sn&&a.reference[k]/2-(dt<fe?Ce:ze)-M[k]/2<0,Gt=br?dt<fe?dt-fe:dt-xt:0;return{[y]:h[y]+Gt,data:At({[y]:sn,centerOffset:dt-sn-Gt},br&&{alignmentOffset:Gt}),reset:br}})}});function vD(t,e,n){return(t?[...n.filter(o=>vr(o)===t),...n.filter(o=>vr(o)!==t)]:n.filter(o=>Mr(o)===o)).filter(o=>t?vr(o)===t||(e?_1(o)!==o:!1):!0)}var MD=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,fn(r){return f(this,null,function*(){var o,i,a;let{rects:s,middlewareData:c,placement:l,platform:d,elements:u}=r,p=vi(e,r),{crossAxis:h=!1,alignment:y,allowedPlacements:k=S3,autoAlignment:M=!0}=p,v=K2(p,fD),P=y!==void 0||k===S3?vD(y||null,M,k):k,S=yield tg(r,v),b=((o=c.autoPlacement)==null?void 0:o.index)||0,R=P[b];if(R==null)return{};let ne=Q3(R,s,yield d.isRTL==null?void 0:d.isRTL(u.floating));if(l!==R)return{reset:{placement:P[0]}};let U=[S[Mr(R)],S[ne[0]],S[ne[1]]],J=[...((i=c.autoPlacement)==null?void 0:i.overflows)||[],{placement:R,overflows:U}],Ee=P[b+1];if(Ee)return{data:{index:b+1,overflows:J},reset:{placement:Ee}};let O=J.map(fe=>{let xt=vr(fe.placement);return[fe.placement,xt&&h?fe.overflows.slice(0,2).reduce((dt,sn)=>dt+sn,0):fe.overflows[0],fe.overflows]}).sort((fe,xt)=>fe[1]-xt[1]),ze=((a=O.filter(fe=>fe[2].slice(0,vr(fe[0])?2:3).every(xt=>xt<=0))[0])==null?void 0:a[0])||O[0][0];return ze!==l?{data:{index:b+1,overflows:J},reset:{placement:ze}}:{}})}}},wD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(r){return f(this,null,function*(){var o,i;let{placement:a,middlewareData:s,rects:c,initialPlacement:l,platform:d,elements:u}=r,p=vi(e,r),{mainAxis:h=!0,crossAxis:y=!0,fallbackPlacements:k,fallbackStrategy:M="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:P=!0}=p,S=K2(p,gD);if((o=s.arrow)!=null&&o.alignmentOffset)return{};let b=Mr(a),R=yi(l),ne=Mr(l)===l,U=yield d.isRTL==null?void 0:d.isRTL(u.floating),J=k||(ne||!P?[x1(l)]:dD(l)),Ee=v!=="none";!k&&Ee&&J.push(...hD(l,P,v,U));let O=[l,...J],Ce=yield tg(r,S),ze=[],fe=((i=s.flip)==null?void 0:i.overflows)||[];if(h&&ze.push(Ce[b]),y){let Gt=Q3(a,c,U);ze.push(Ce[Gt[0]],Ce[Gt[1]])}if(fe=[...fe,{placement:a,overflows:ze}],!ze.every(Gt=>Gt<=0)){var xt,dt;let Gt=(((xt=s.flip)==null?void 0:xt.index)||0)+1,Ci=O[Gt];if(Ci){var sn;let _r=y==="alignment"?R!==yi(Ci):!1,xn=((sn=fe[0])==null?void 0:sn.overflows[0])>0;if(!_r||xn)return{data:{index:Gt,overflows:fe},reset:{placement:Ci}}}let _n=(dt=fe.filter(_r=>_r.overflows[0]<=0).sort((_r,xn)=>_r.overflows[1]-xn.overflows[1])[0])==null?void 0:dt.placement;if(!_n)switch(M){case"bestFit":{var br;let _r=(br=fe.filter(xn=>{if(Ee){let xr=yi(xn.placement);return xr===R||xr==="y"}return!0}).map(xn=>[xn.placement,xn.overflows.filter(xr=>xr>0).reduce((xr,ww)=>xr+ww,0)]).sort((xn,xr)=>xn[1]-xr[1])[0])==null?void 0:br[0];_r&&(_n=_r);break}case"initialPlacement":_n=l;break}if(a!==_n)return{reset:{placement:_n}}}return{}})}}},CD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(r){return f(this,null,function*(){let{x:o,y:i,placement:a}=r,s=vi(e,r),{mainAxis:c=!0,crossAxis:l=!1,limiter:d={fn:S=>{let{x:b,y:R}=S;return{x:b,y:R}}}}=s,u=K2(s,yD),p={x:o,y:i},h=yield tg(r,u),y=yi(Mr(a)),k=Q2(y),M=p[k],v=p[y];if(c){let S=k==="y"?"top":"left",b=k==="y"?"bottom":"right",R=M+h[S],ne=M-h[b];M=T2(R,M,ne)}if(l){let S=y==="y"?"top":"left",b=y==="y"?"bottom":"right",R=v+h[S],ne=v-h[b];v=T2(R,v,ne)}let P=d.fn(At({},r,{[k]:M,[y]:v}));return At({},P,{data:{x:P.x-o,y:P.y-i,enabled:{[k]:c,[y]:l}}})})}}},bD=function(e){return e===void 0&&(e={}),{options:e,fn(n){let{x:r,y:o,placement:i,rects:a,middlewareData:s}=n,{offset:c=0,mainAxis:l=!0,crossAxis:d=!0}=vi(e,n),u={x:r,y:o},p=yi(i),h=Q2(p),y=u[h],k=u[p],M=vi(c,n),v=typeof M=="number"?{mainAxis:M,crossAxis:0}:At({mainAxis:0,crossAxis:0},M);if(l){let b=h==="y"?"height":"width",R=a.reference[h]-a.floating[b]+v.mainAxis,ne=a.reference[h]+a.reference[b]-v.mainAxis;y<R?y=R:y>ne&&(y=ne)}if(d){var P,S;let b=h==="y"?"width":"height",R=["top","left"].includes(Mr(i)),ne=a.reference[p]-a.floating[b]+(R&&((P=s.offset)==null?void 0:P[p])||0)+(R?0:v.crossAxis),U=a.reference[p]+a.reference[b]+(R?0:((S=s.offset)==null?void 0:S[p])||0)-(R?v.crossAxis:0);k<ne?k=ne:k>U&&(k=U)}return{[h]:y,[p]:k}}}};function D1(){return typeof window<"u"}function qa(t){return ew(t)?(t.nodeName||"").toLowerCase():"#document"}function $t(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Kn(t){var e;return(e=(ew(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ew(t){return D1()?t instanceof Node||t instanceof $t(t).Node:!1}function Mn(t){return D1()?t instanceof Element||t instanceof $t(t).Element:!1}function Gn(t){return D1()?t instanceof HTMLElement||t instanceof $t(t).HTMLElement:!1}function E3(t){return!D1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $t(t).ShadowRoot}function zc(t){let{overflow:e,overflowX:n,overflowY:r,display:o}=wn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(o)}function _D(t){return["table","td","th"].includes(qa(t))}function E1(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ng(t){let e=rg(),n=Mn(t)?wn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function xD(t){let e=uo(t);for(;Gn(e)&&!Ha(e);){if(ng(e))return e;if(E1(e))return null;e=uo(e)}return null}function rg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ha(t){return["html","body","#document"].includes(qa(t))}function wn(t){return $t(t).getComputedStyle(t)}function L1(t){return Mn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function uo(t){if(qa(t)==="html")return t;let e=t.assignedSlot||t.parentNode||E3(t)&&t.host||Kn(t);return E3(e)?e.host:e}function tw(t){let e=uo(t);return Ha(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gn(e)&&zc(e)?e:tw(e)}function Vc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);let o=tw(t),i=o===((r=t.ownerDocument)==null?void 0:r.body),a=$t(o);if(i){let s=R2(a);return e.concat(a,a.visualViewport||[],zc(o)?o:[],s&&n?Vc(s):[])}return e.concat(o,Vc(o,[],n))}function R2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function nw(t){let e=wn(t),n=parseFloat(e.width)||0,r=parseFloat(e.height)||0,o=Gn(t),i=o?t.offsetWidth:n,a=o?t.offsetHeight:r,s=b1(n)!==i||b1(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function og(t){return Mn(t)?t:t.contextElement}function Na(t){let e=og(t);if(!Gn(e))return Wn(1);let n=e.getBoundingClientRect(),{width:r,height:o,$:i}=nw(e),a=(i?b1(n.width):n.width)/r,s=(i?b1(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}var ID=Wn(0);function rw(t){let e=$t(t);return!rg()||!e.visualViewport?ID:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function SD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==$t(t)?!1:e}function Mi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);let o=t.getBoundingClientRect(),i=og(t),a=Wn(1);e&&(r?Mn(r)&&(a=Na(r)):a=Na(t));let s=SD(i,n,r)?rw(i):Wn(0),c=(o.left+s.x)/a.x,l=(o.top+s.y)/a.y,d=o.width/a.x,u=o.height/a.y;if(i){let p=$t(i),h=r&&Mn(r)?$t(r):r,y=p,k=R2(y);for(;k&&r&&h!==y;){let M=Na(k),v=k.getBoundingClientRect(),P=wn(k),S=v.left+(k.clientLeft+parseFloat(P.paddingLeft))*M.x,b=v.top+(k.clientTop+parseFloat(P.paddingTop))*M.y;c*=M.x,l*=M.y,d*=M.x,u*=M.y,c+=S,l+=b,y=$t(k),k=R2(y)}}return I1({width:d,height:u,x:c,y:l})}function ig(t,e){let n=L1(t).scrollLeft;return e?e.left+n:Mi(Kn(t)).left+n}function ow(t,e,n){n===void 0&&(n=!1);let r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-(n?0:ig(t,r)),i=r.top+e.scrollTop;return{x:o,y:i}}function DD(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t,i=o==="fixed",a=Kn(r),s=e?E1(e.floating):!1;if(r===a||s&&i)return n;let c={scrollLeft:0,scrollTop:0},l=Wn(1),d=Wn(0),u=Gn(r);if((u||!u&&!i)&&((qa(r)!=="body"||zc(a))&&(c=L1(r)),Gn(r))){let h=Mi(r);l=Na(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}let p=a&&!u&&!i?ow(a,c,!0):Wn(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+d.x+p.x,y:n.y*l.y-c.scrollTop*l.y+d.y+p.y}}function ED(t){return Array.from(t.getClientRects())}function LD(t){let e=Kn(t),n=L1(t),r=t.ownerDocument.body,o=gi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=gi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight),a=-n.scrollLeft+ig(t),s=-n.scrollTop;return wn(r).direction==="rtl"&&(a+=gi(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}function OD(t,e){let n=$t(t),r=Kn(t),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,c=0;if(o){i=o.width,a=o.height;let l=rg();(!l||l&&e==="fixed")&&(s=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:s,y:c}}function PD(t,e){let n=Mi(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,i=Gn(t)?Na(t):Wn(1),a=t.clientWidth*i.x,s=t.clientHeight*i.y,c=o*i.x,l=r*i.y;return{width:a,height:s,x:c,y:l}}function L3(t,e,n){let r;if(e==="viewport")r=OD(t,n);else if(e==="document")r=LD(Kn(t));else if(Mn(e))r=PD(e,n);else{let o=rw(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return I1(r)}function iw(t,e){let n=uo(t);return n===e||!Mn(n)||Ha(n)?!1:wn(n).position==="fixed"||iw(n,e)}function AD(t,e){let n=e.get(t);if(n)return n;let r=Vc(t,[],!1).filter(s=>Mn(s)&&qa(s)!=="body"),o=null,i=wn(t).position==="fixed",a=i?uo(t):t;for(;Mn(a)&&!Ha(a);){let s=wn(a),c=ng(a);!c&&s.position==="fixed"&&(o=null),(i?!c&&!o:!c&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||zc(a)&&!c&&iw(t,a))?r=r.filter(d=>d!==a):o=s,a=uo(a)}return e.set(t,r),r}function TD(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t,a=[...n==="clippingAncestors"?E1(e)?[]:AD(e,this._c):[].concat(n),r],s=a[0],c=a.reduce((l,d)=>{let u=L3(e,d,o);return l.top=gi(u.top,l.top),l.right=Va(u.right,l.right),l.bottom=Va(u.bottom,l.bottom),l.left=gi(u.left,l.left),l},L3(e,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function RD(t){let{width:e,height:n}=nw(t);return{width:e,height:n}}function ND(t,e,n){let r=Gn(e),o=Kn(e),i=n==="fixed",a=Mi(t,!0,i,e),s={scrollLeft:0,scrollTop:0},c=Wn(0);function l(){c.x=ig(o)}if(r||!r&&!i)if((qa(e)!=="body"||zc(o))&&(s=L1(e)),r){let h=Mi(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else o&&l();i&&!r&&o&&l();let d=o&&!r&&!i?ow(o,s):Wn(0),u=a.left+s.scrollLeft-c.x-d.x,p=a.top+s.scrollTop-c.y-d.y;return{x:u,y:p,width:a.width,height:a.height}}function L2(t){return wn(t).position==="static"}function O3(t,e){if(!Gn(t)||wn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Kn(t)===n&&(n=n.ownerDocument.body),n}function aw(t,e){let n=$t(t);if(E1(t))return n;if(!Gn(t)){let o=uo(t);for(;o&&!Ha(o);){if(Mn(o)&&!L2(o))return o;o=uo(o)}return n}let r=O3(t,e);for(;r&&_D(r)&&L2(r);)r=O3(r,e);return r&&Ha(r)&&L2(r)&&!ng(r)?n:r||xD(t)||n}var FD=function(e){return f(this,null,function*(){let n=this.getOffsetParent||aw,r=this.getDimensions,o=yield r(e.floating);return{reference:ND(e.reference,yield n(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}})};function jD(t){return wn(t).direction==="rtl"}var VD={convertOffsetParentRelativeRectToViewportRelativeRect:DD,getDocumentElement:Kn,getClippingRect:TD,getOffsetParent:aw,getElementRects:FD,getClientRects:ED,getDimensions:RD,getScale:Na,isElement:Mn,isRTL:jD};function sw(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function HD(t,e){let n=null,r,o=Kn(t);function i(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),i();let l=t.getBoundingClientRect(),{left:d,top:u,width:p,height:h}=l;if(s||e(),!p||!h)return;let y=w1(u),k=w1(o.clientWidth-(d+p)),M=w1(o.clientHeight-(u+h)),v=w1(d),S={rootMargin:-y+"px "+-k+"px "+-M+"px "+-v+"px",threshold:gi(0,Va(1,c))||1},b=!0;function R(ne){let U=ne[0].intersectionRatio;if(U!==c){if(!b)return a();U?a(!1,U):r=setTimeout(()=>{a(!1,1e-7)},1e3)}U===1&&!sw(l,t.getBoundingClientRect())&&a(),b=!1}try{n=new IntersectionObserver(R,At({},S,{root:o.ownerDocument}))}catch{n=new IntersectionObserver(R,S)}n.observe(t)}return a(!0),i}function BD(t,e,n,r){r===void 0&&(r={});let{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=og(t),d=o||i?[...l?Vc(l):[],...Vc(e)]:[];d.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});let u=l&&s?HD(l,n):null,p=-1,h=null;a&&(h=new ResizeObserver(v=>{let[P]=v;P&&P.target===l&&h&&(h.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=h)==null||S.observe(e)})),n()}),l&&!c&&h.observe(l),h.observe(e));let y,k=c?Mi(t):null;c&&M();function M(){let v=Mi(t);k&&!sw(k,v)&&n(),k=v,y=requestAnimationFrame(M)}return n(),()=>{var v;d.forEach(P=>{o&&P.removeEventListener("scroll",n),i&&P.removeEventListener("resize",n)}),u?.(),(v=h)==null||v.disconnect(),h=null,c&&cancelAnimationFrame(y)}}var zD=MD,qD=CD,UD=wD,$D=kD,WD=bD,GD=(t,e,n)=>{let r=new Map,o=At({platform:VD},n),i=At({},o.platform,{_c:r});return mD(t,e,At({},o,{platform:i}))};function ZD(t){t.cleanup&&t.cleanup();let e=t._getResolvedAttachToOptions(),n=e.element,r=eE(e,t),o=Y3(e);return o&&(n=document.body,t.shepherdElementComponent.getElement().classList.add("shepherd-centered")),t.cleanup=BD(n,t.el,()=>{if(!t.el){t.cleanup==null||t.cleanup();return}XD(n,t,r,o)}),t.target=e.element,r}function KD(t,e){return{floatingUIOptions:Y2(t.floatingUIOptions||{},e.floatingUIOptions||{})}}function YD(t){t.cleanup&&t.cleanup(),t.cleanup=null}function XD(t,e,n,r){return GD(t,e.el,n).then(QD(e,r)).then(o=>new Promise(i=>{setTimeout(()=>i(o),300)})).then(o=>{o!=null&&o.el&&(o.el.tabIndex=0,o.el.focus({preventScroll:!0}))})}function QD(t,e){return({x:n,y:r,placement:o,middlewareData:i})=>(t.el&&(e?Object.assign(t.el.style,{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}):Object.assign(t.el.style,{position:"absolute",left:`${n}px`,top:`${r}px`}),t.el.dataset.popperPlacement=o,JD(t.el,i)),t)}function JD(t,e){let n=t.querySelector(".shepherd-arrow");if(ja(n)&&e.arrow){let{x:r,y:o}=e.arrow;Object.assign(n.style,{left:r!=null?`${r}px`:"",top:o!=null?`${o}px`:""})}}function eE(t,e){var n,r,o;let i={strategy:"absolute"};i.middleware=[];let a=tE(e),s=Y3(t),c=(n=t.on)==null?void 0:n.includes("auto"),l=(t==null||(r=t.on)==null?void 0:r.includes("-start"))||(t==null||(o=t.on)==null?void 0:o.includes("-end"));if(!s){if(c){var d;i.middleware.push(zD({crossAxis:!0,alignment:l?t==null||(d=t.on)==null?void 0:d.split("-").pop():null}))}else i.middleware.push(UD());if(i.middleware.push(qD({limiter:WD(),crossAxis:!0})),a){let u=typeof e.options.arrow=="object"?e.options.arrow:{padding:4};i.middleware.push($D({element:a,padding:l?u.padding:0}))}c||(i.placement=t.on)}return Y2(i,e.options.floatingUIOptions||{})}function tE(t){return t.options.arrow&&t.el?t.el.querySelector(".shepherd-arrow"):!1}function Wt(){}function nE(t,e){for(let n in e)t[n]=e[n];return t}function cw(t){return t()}function P3(){return Object.create(null)}function qc(t){t.forEach(cw)}function ag(t){return typeof t=="function"}function wr(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function rE(t){return Object.keys(t).length===0}function Ba(t,e){t.appendChild(e)}function bn(t,e,n){t.insertBefore(e,n||null)}function an(t){t.parentNode&&t.parentNode.removeChild(t)}function oE(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Zn(t){return document.createElement(t)}function A3(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function lw(t){return document.createTextNode(t)}function S1(){return lw(" ")}function iE(){return lw("")}function O1(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function _e(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}var aE=["width","height"];function T3(t,e){let n=Object.getOwnPropertyDescriptors(t.__proto__);for(let r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set&&aE.indexOf(r)===-1?t[r]=e[r]:_e(t,r,e[r])}function sE(t){return Array.from(t.childNodes)}function Aa(t,e,n){t.classList.toggle(e,!!n)}var Hc;function Nc(t){Hc=t}function sg(){if(!Hc)throw new Error("Function called outside component initialization");return Hc}function cE(t){sg().$$.on_mount.push(t)}function cg(t){sg().$$.after_update.push(t)}function lE(t){sg().$$.on_destroy.push(t)}var Ra=[],za=[],Fa=[],R3=[],dE=Promise.resolve(),N2=!1;function uE(){N2||(N2=!0,dE.then(dw))}function F2(t){Fa.push(t)}var O2=new Set,Ta=0;function dw(){if(Ta!==0)return;let t=Hc;do{try{for(;Ta<Ra.length;){let e=Ra[Ta];Ta++,Nc(e),hE(e.$$)}}catch(e){throw Ra.length=0,Ta=0,e}for(Nc(null),Ra.length=0,Ta=0;za.length;)za.pop()();for(let e=0;e<Fa.length;e+=1){let n=Fa[e];O2.has(n)||(O2.add(n),n())}Fa.length=0}while(Ra.length);for(;R3.length;)R3.pop()();N2=!1,O2.clear(),Nc(t)}function hE(t){if(t.fragment!==null){t.update(),qc(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F2)}}function pE(t){let e=[],n=[];Fa.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Fa=e}var C1=new Set,fi;function mi(){fi={r:0,c:[],p:fi}}function ki(){fi.r||qc(fi.c),fi=fi.p}function ke(t,e){t&&t.i&&(C1.delete(t),t.i(e))}function Be(t,e,n,r){if(t&&t.o){if(C1.has(t))return;C1.add(t),fi.c.push(()=>{C1.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function N3(t){return t?.length!==void 0?t:Array.from(t)}function fE(t,e){let n={},r={},o={$$scope:1},i=t.length;for(;i--;){let a=t[i],s=e[i];if(s){for(let c in a)c in s||(r[c]=1);for(let c in s)o[c]||(n[c]=s[c],o[c]=1);t[i]=s}else for(let c in a)o[c]=1}for(let a in r)a in n||(n[a]=void 0);return n}function wi(t){t&&t.c()}function po(t,e,n){let{fragment:r,after_update:o}=t.$$;r&&r.m(e,n),F2(()=>{let i=t.$$.on_mount.map(cw).filter(ag);t.$$.on_destroy?t.$$.on_destroy.push(...i):qc(i),t.$$.on_mount=[]}),o.forEach(F2)}function fo(t,e){let n=t.$$;n.fragment!==null&&(pE(n.after_update),qc(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function gE(t,e){t.$$.dirty[0]===-1&&(Ra.push(t),uE(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Cr(t,e,n,r,o,i,a=null,s=[-1]){let c=Hc;Nc(t);let l=t.$$={fragment:null,ctx:[],props:i,update:Wt,not_equal:o,bound:P3(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:P3(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};a&&a(l.root);let d=!1;if(l.ctx=n?n(t,e.props||{},(u,p,...h)=>{let y=h.length?h[0]:p;return l.ctx&&o(l.ctx[u],l.ctx[u]=y)&&(!l.skip_bound&&l.bound[u]&&l.bound[u](y),d&&gE(t,u)),p}):[],l.update(),d=!0,qc(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){let u=sE(e.target);l.fragment&&l.fragment.l(u),u.forEach(an)}else l.fragment&&l.fragment.c();e.intro&&ke(t.$$.fragment),po(t,e.target,e.anchor),dw()}Nc(c)}var Cn=class{constructor(){this.$$=void 0,this.$$set=void 0}$destroy(){fo(this,1),this.$destroy=Wt}$on(e,n){if(!ag(n))return Wt;let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{let o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!rE(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}},yE="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(yE);function mE(t){let e,n,r,o,i;return{c(){e=Zn("button"),_e(e,"aria-label",n=t[3]?t[3]:null),_e(e,"class",r=`${t[1]||""} shepherd-button ${t[4]?"shepherd-button-secondary":""}`),e.disabled=t[2],_e(e,"tabindex","0"),_e(e,"type","button")},m(a,s){bn(a,e,s),e.innerHTML=t[5],o||(i=O1(e,"click",function(){ag(t[0])&&t[0].apply(this,arguments)}),o=!0)},p(a,[s]){t=a,s&32&&(e.innerHTML=t[5]),s&8&&n!==(n=t[3]?t[3]:null)&&_e(e,"aria-label",n),s&18&&r!==(r=`${t[1]||""} shepherd-button ${t[4]?"shepherd-button-secondary":""}`)&&_e(e,"class",r),s&4&&(e.disabled=t[2])},i:Wt,o:Wt,d(a){a&&an(e),o=!1,i()}}}function kE(t,e,n){let{config:r,step:o}=e,i,a,s,c,l,d;function u(p){return lo(p)?p=p.call(o):p}return t.$$set=p=>{"config"in p&&n(6,r=p.config),"step"in p&&n(7,o=p.step)},t.$$.update=()=>{t.$$.dirty&192&&(n(0,i=r.action?r.action.bind(o.tour):null),n(1,a=r.classes),n(2,s=r.disabled?u(r.disabled):!1),n(3,c=r.label?u(r.label):null),n(4,l=r.secondary),n(5,d=r.text?u(r.text):null))},[i,a,s,c,l,d,r,o]}var j2=class extends Cn{constructor(e){super(),Cr(this,e,kE,mE,wr,{config:6,step:7})}};function F3(t,e,n){let r=t.slice();return r[2]=e[n],r}function j3(t){let e,n,r=N3(t[1]),o=[];for(let a=0;a<r.length;a+=1)o[a]=V3(F3(t,r,a));let i=a=>Be(o[a],1,1,()=>{o[a]=null});return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=iE()},m(a,s){for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(a,s);bn(a,e,s),n=!0},p(a,s){if(s&3){r=N3(a[1]);let c;for(c=0;c<r.length;c+=1){let l=F3(a,r,c);o[c]?(o[c].p(l,s),ke(o[c],1)):(o[c]=V3(l),o[c].c(),ke(o[c],1),o[c].m(e.parentNode,e))}for(mi(),c=r.length;c<o.length;c+=1)i(c);ki()}},i(a){if(!n){for(let s=0;s<r.length;s+=1)ke(o[s]);n=!0}},o(a){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)Be(o[s]);n=!1},d(a){a&&an(e),oE(o,a)}}}function V3(t){let e,n;return e=new j2({props:{config:t[2],step:t[0]}}),{c(){wi(e.$$.fragment)},m(r,o){po(e,r,o),n=!0},p(r,o){let i={};o&2&&(i.config=r[2]),o&1&&(i.step=r[0]),e.$set(i)},i(r){n||(ke(e.$$.fragment,r),n=!0)},o(r){Be(e.$$.fragment,r),n=!1},d(r){fo(e,r)}}}function vE(t){let e,n,r=t[1]&&j3(t);return{c(){e=Zn("footer"),r&&r.c(),_e(e,"class","shepherd-footer")},m(o,i){bn(o,e,i),r&&r.m(e,null),n=!0},p(o,[i]){o[1]?r?(r.p(o,i),i&2&&ke(r,1)):(r=j3(o),r.c(),ke(r,1),r.m(e,null)):r&&(mi(),Be(r,1,1,()=>{r=null}),ki())},i(o){n||(ke(r),n=!0)},o(o){Be(r),n=!1},d(o){o&&an(e),r&&r.d()}}}function ME(t,e,n){let r,{step:o}=e;return t.$$set=i=>{"step"in i&&n(0,o=i.step)},t.$$.update=()=>{t.$$.dirty&1&&n(1,r=o.options.buttons)},[o,r]}var V2=class extends Cn{constructor(e){super(),Cr(this,e,ME,vE,wr,{step:0})}};function wE(t){let e,n,r,o,i;return{c(){e=Zn("button"),n=Zn("span"),n.textContent="\xD7",_e(n,"aria-hidden","true"),_e(e,"aria-label",r=t[0].label?t[0].label:"Close Tour"),_e(e,"class","shepherd-cancel-icon"),_e(e,"type","button")},m(a,s){bn(a,e,s),Ba(e,n),o||(i=O1(e,"click",t[1]),o=!0)},p(a,[s]){s&1&&r!==(r=a[0].label?a[0].label:"Close Tour")&&_e(e,"aria-label",r)},i:Wt,o:Wt,d(a){a&&an(e),o=!1,i()}}}function CE(t,e,n){let{cancelIcon:r,step:o}=e,i=a=>{a.preventDefault(),o.cancel()};return t.$$set=a=>{"cancelIcon"in a&&n(0,r=a.cancelIcon),"step"in a&&n(2,o=a.step)},[r,i,o]}var H2=class extends Cn{constructor(e){super(),Cr(this,e,CE,wE,wr,{cancelIcon:0,step:2})}};function bE(t){let e;return{c(){e=Zn("h3"),_e(e,"id",t[1]),_e(e,"class","shepherd-title")},m(n,r){bn(n,e,r),t[3](e)},p(n,[r]){r&2&&_e(e,"id",n[1])},i:Wt,o:Wt,d(n){n&&an(e),t[3](null)}}}function _E(t,e,n){let{labelId:r,element:o,title:i}=e;cg(()=>{lo(i)&&n(2,i=i()),n(0,o.innerHTML=i,o)});function a(s){za[s?"unshift":"push"](()=>{o=s,n(0,o)})}return t.$$set=s=>{"labelId"in s&&n(1,r=s.labelId),"element"in s&&n(0,o=s.element),"title"in s&&n(2,i=s.title)},[o,r,i,a]}var B2=class extends Cn{constructor(e){super(),Cr(this,e,_E,bE,wr,{labelId:1,element:0,title:2})}};function H3(t){let e,n;return e=new B2({props:{labelId:t[0],title:t[2]}}),{c(){wi(e.$$.fragment)},m(r,o){po(e,r,o),n=!0},p(r,o){let i={};o&1&&(i.labelId=r[0]),o&4&&(i.title=r[2]),e.$set(i)},i(r){n||(ke(e.$$.fragment,r),n=!0)},o(r){Be(e.$$.fragment,r),n=!1},d(r){fo(e,r)}}}function B3(t){let e,n;return e=new H2({props:{cancelIcon:t[3],step:t[1]}}),{c(){wi(e.$$.fragment)},m(r,o){po(e,r,o),n=!0},p(r,o){let i={};o&8&&(i.cancelIcon=r[3]),o&2&&(i.step=r[1]),e.$set(i)},i(r){n||(ke(e.$$.fragment,r),n=!0)},o(r){Be(e.$$.fragment,r),n=!1},d(r){fo(e,r)}}}function xE(t){let e,n,r,o=t[2]&&H3(t),i=t[3]&&t[3].enabled&&B3(t);return{c(){e=Zn("header"),o&&o.c(),n=S1(),i&&i.c(),_e(e,"class","shepherd-header")},m(a,s){bn(a,e,s),o&&o.m(e,null),Ba(e,n),i&&i.m(e,null),r=!0},p(a,[s]){a[2]?o?(o.p(a,s),s&4&&ke(o,1)):(o=H3(a),o.c(),ke(o,1),o.m(e,n)):o&&(mi(),Be(o,1,1,()=>{o=null}),ki()),a[3]&&a[3].enabled?i?(i.p(a,s),s&8&&ke(i,1)):(i=B3(a),i.c(),ke(i,1),i.m(e,null)):i&&(mi(),Be(i,1,1,()=>{i=null}),ki())},i(a){r||(ke(o),ke(i),r=!0)},o(a){Be(o),Be(i),r=!1},d(a){a&&an(e),o&&o.d(),i&&i.d()}}}function IE(t,e,n){let{labelId:r,step:o}=e,i,a;return t.$$set=s=>{"labelId"in s&&n(0,r=s.labelId),"step"in s&&n(1,o=s.step)},t.$$.update=()=>{t.$$.dirty&2&&(n(2,i=o.options.title),n(3,a=o.options.cancelIcon))},[r,o,i,a]}var z2=class extends Cn{constructor(e){super(),Cr(this,e,IE,xE,wr,{labelId:0,step:1})}};function SE(t){let e;return{c(){e=Zn("div"),_e(e,"class","shepherd-text"),_e(e,"id",t[1])},m(n,r){bn(n,e,r),t[3](e)},p(n,[r]){r&2&&_e(e,"id",n[1])},i:Wt,o:Wt,d(n){n&&an(e),t[3](null)}}}function DE(t,e,n){let{descriptionId:r,element:o,step:i}=e;cg(()=>{let{text:s}=i.options;lo(s)&&(s=s.call(i)),ja(s)?o.appendChild(s):n(0,o.innerHTML=s,o)});function a(s){za[s?"unshift":"push"](()=>{o=s,n(0,o)})}return t.$$set=s=>{"descriptionId"in s&&n(1,r=s.descriptionId),"element"in s&&n(0,o=s.element),"step"in s&&n(2,i=s.step)},[o,r,i,a]}var q2=class extends Cn{constructor(e){super(),Cr(this,e,DE,SE,wr,{descriptionId:1,element:0,step:2})}};function z3(t){let e,n;return e=new z2({props:{labelId:t[1],step:t[2]}}),{c(){wi(e.$$.fragment)},m(r,o){po(e,r,o),n=!0},p(r,o){let i={};o&2&&(i.labelId=r[1]),o&4&&(i.step=r[2]),e.$set(i)},i(r){n||(ke(e.$$.fragment,r),n=!0)},o(r){Be(e.$$.fragment,r),n=!1},d(r){fo(e,r)}}}function q3(t){let e,n;return e=new q2({props:{descriptionId:t[0],step:t[2]}}),{c(){wi(e.$$.fragment)},m(r,o){po(e,r,o),n=!0},p(r,o){let i={};o&1&&(i.descriptionId=r[0]),o&4&&(i.step=r[2]),e.$set(i)},i(r){n||(ke(e.$$.fragment,r),n=!0)},o(r){Be(e.$$.fragment,r),n=!1},d(r){fo(e,r)}}}function U3(t){let e,n;return e=new V2({props:{step:t[2]}}),{c(){wi(e.$$.fragment)},m(r,o){po(e,r,o),n=!0},p(r,o){let i={};o&4&&(i.step=r[2]),e.$set(i)},i(r){n||(ke(e.$$.fragment,r),n=!0)},o(r){Be(e.$$.fragment,r),n=!1},d(r){fo(e,r)}}}function EE(t){let e,n=!vt(t[2].options.title)||t[2].options.cancelIcon&&t[2].options.cancelIcon.enabled,r,o=!vt(t[2].options.text),i,a=Array.isArray(t[2].options.buttons)&&t[2].options.buttons.length,s,c=n&&z3(t),l=o&&q3(t),d=a&&U3(t);return{c(){e=Zn("div"),c&&c.c(),r=S1(),l&&l.c(),i=S1(),d&&d.c(),_e(e,"class","shepherd-content")},m(u,p){bn(u,e,p),c&&c.m(e,null),Ba(e,r),l&&l.m(e,null),Ba(e,i),d&&d.m(e,null),s=!0},p(u,[p]){p&4&&(n=!vt(u[2].options.title)||u[2].options.cancelIcon&&u[2].options.cancelIcon.enabled),n?c?(c.p(u,p),p&4&&ke(c,1)):(c=z3(u),c.c(),ke(c,1),c.m(e,r)):c&&(mi(),Be(c,1,1,()=>{c=null}),ki()),p&4&&(o=!vt(u[2].options.text)),o?l?(l.p(u,p),p&4&&ke(l,1)):(l=q3(u),l.c(),ke(l,1),l.m(e,i)):l&&(mi(),Be(l,1,1,()=>{l=null}),ki()),p&4&&(a=Array.isArray(u[2].options.buttons)&&u[2].options.buttons.length),a?d?(d.p(u,p),p&4&&ke(d,1)):(d=U3(u),d.c(),ke(d,1),d.m(e,null)):d&&(mi(),Be(d,1,1,()=>{d=null}),ki())},i(u){s||(ke(c),ke(l),ke(d),s=!0)},o(u){Be(c),Be(l),Be(d),s=!1},d(u){u&&an(e),c&&c.d(),l&&l.d(),d&&d.d()}}}function LE(t,e,n){let{descriptionId:r,labelId:o,step:i}=e;return t.$$set=a=>{"descriptionId"in a&&n(0,r=a.descriptionId),"labelId"in a&&n(1,o=a.labelId),"step"in a&&n(2,i=a.step)},[r,o,i]}var U2=class extends Cn{constructor(e){super(),Cr(this,e,LE,EE,wr,{descriptionId:0,labelId:1,step:2})}};function $3(t){let e;return{c(){e=Zn("div"),_e(e,"class","shepherd-arrow"),_e(e,"data-popper-arrow","")},m(n,r){bn(n,e,r)},d(n){n&&an(e)}}}function OE(t){let e,n,r,o,i,a,s,c,l=t[4].options.arrow&&t[4].options.attachTo&&t[4].options.attachTo.element&&t[4].options.attachTo.on&&$3();r=new U2({props:{descriptionId:t[2],labelId:t[3],step:t[4]}});let d=[{"aria-describedby":o=vt(t[4].options.text)?null:t[2]},{"aria-labelledby":i=t[4].options.title?t[3]:null},t[1],{open:"true"}],u={};for(let p=0;p<d.length;p+=1)u=nE(u,d[p]);return{c(){e=Zn("dialog"),l&&l.c(),n=S1(),wi(r.$$.fragment),T3(e,u),Aa(e,"shepherd-has-cancel-icon",t[5]),Aa(e,"shepherd-has-title",t[6]),Aa(e,"shepherd-element",!0)},m(p,h){bn(p,e,h),l&&l.m(e,null),Ba(e,n),po(r,e,null),t[18](e),a=!0,s||(c=O1(e,"keydown",t[7]),s=!0)},p(p,[h]){p[4].options.arrow&&p[4].options.attachTo&&p[4].options.attachTo.element&&p[4].options.attachTo.on?l||(l=$3(),l.c(),l.m(e,n)):l&&(l.d(1),l=null);let y={};h&4&&(y.descriptionId=p[2]),h&8&&(y.labelId=p[3]),h&16&&(y.step=p[4]),r.$set(y),T3(e,u=fE(d,[(!a||h&20&&o!==(o=vt(p[4].options.text)?null:p[2]))&&{"aria-describedby":o},(!a||h&24&&i!==(i=p[4].options.title?p[3]:null))&&{"aria-labelledby":i},h&2&&p[1],{open:"true"}])),Aa(e,"shepherd-has-cancel-icon",p[5]),Aa(e,"shepherd-has-title",p[6]),Aa(e,"shepherd-element",!0)},i(p){a||(ke(r.$$.fragment,p),a=!0)},o(p){Be(r.$$.fragment,p),a=!1},d(p){p&&an(e),l&&l.d(),fo(r),t[18](null),s=!1,c()}}}var PE=9,AE=27,TE=37,RE=39;function W3(t){return t.split(" ").filter(e=>!!e.length)}function NE(t,e,n){let{attachToElement:r,attachTofocusableDialogElements:o,classPrefix:i,element:a,descriptionId:s,focusableAttachToElements:c,firstFocusableAttachToElement:l,lastFocusableAttachToElement:d,firstFocusableDialogElement:u,focusableDialogElements:p,lastFocusableDialogElement:h,labelId:y,step:k,dataStepId:M}=e,v,P,S,b=()=>a;cE(()=>{n(1,M={[`data-${i}shepherd-step-id`]:k.id}),n(13,p=[...a.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')]),n(12,u=p[0]),n(14,h=p[p.length-1]);let O=k._getResolvedAttachToOptions();O!=null&&O.element&&(n(8,r=O.element),n(8,r.tabIndex=0,r),n(9,c=[r,...r.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')]),n(10,l=c[0]),n(11,d=c[c.length-1]),r.addEventListener("keydown",J))}),lE(()=>{var O;(O=r)==null||O.removeEventListener("keydown",J)}),cg(()=>{S!==k.options.classes&&R()});function R(){ne(S),S=k.options.classes,U(S)}function ne(O){if(Fc(O)){let Ce=W3(O);Ce.length&&a.classList.remove(...Ce)}}function U(O){if(Fc(O)){let Ce=W3(O);Ce.length&&a.classList.add(...Ce)}}let J=O=>{let{tour:Ce}=k;switch(O.keyCode){case PE:if((!c||c.length===0)&&p.length===0){O.preventDefault();break}if(O.shiftKey)if(document.activeElement===u||document.activeElement.classList.contains("shepherd-element")){var ze;O.preventDefault(),((ze=d)!=null?ze:h).focus()}else document.activeElement===l&&(O.preventDefault(),h.focus());else if(document.activeElement===h){var fe;O.preventDefault(),((fe=l)!=null?fe:u).focus()}else document.activeElement===d&&(O.preventDefault(),u.focus());break;case AE:Ce.options.exitOnEsc&&(O.preventDefault(),O.stopPropagation(),k.cancel());break;case TE:Ce.options.keyboardNavigation&&(O.preventDefault(),O.stopPropagation(),Ce.back());break;case RE:Ce.options.keyboardNavigation&&(O.preventDefault(),O.stopPropagation(),Ce.next());break}};function Ee(O){za[O?"unshift":"push"](()=>{a=O,n(0,a)})}return t.$$set=O=>{"attachToElement"in O&&n(8,r=O.attachToElement),"attachTofocusableDialogElements"in O&&n(15,o=O.attachTofocusableDialogElements),"classPrefix"in O&&n(16,i=O.classPrefix),"element"in O&&n(0,a=O.element),"descriptionId"in O&&n(2,s=O.descriptionId),"focusableAttachToElements"in O&&n(9,c=O.focusableAttachToElements),"firstFocusableAttachToElement"in O&&n(10,l=O.firstFocusableAttachToElement),"lastFocusableAttachToElement"in O&&n(11,d=O.lastFocusableAttachToElement),"firstFocusableDialogElement"in O&&n(12,u=O.firstFocusableDialogElement),"focusableDialogElements"in O&&n(13,p=O.focusableDialogElements),"lastFocusableDialogElement"in O&&n(14,h=O.lastFocusableDialogElement),"labelId"in O&&n(3,y=O.labelId),"step"in O&&n(4,k=O.step),"dataStepId"in O&&n(1,M=O.dataStepId)},t.$$.update=()=>{t.$$.dirty&16&&(n(5,v=k.options&&k.options.cancelIcon&&k.options.cancelIcon.enabled),n(6,P=k.options&&k.options.title))},[a,M,s,y,k,v,P,J,r,c,l,d,u,p,h,o,i,b,Ee]}var $2=class extends Cn{constructor(e){super(),Cr(this,e,NE,OE,wr,{attachToElement:8,attachTofocusableDialogElements:15,classPrefix:16,element:0,descriptionId:2,focusableAttachToElements:9,firstFocusableAttachToElement:10,lastFocusableAttachToElement:11,firstFocusableDialogElement:12,focusableDialogElements:13,lastFocusableDialogElement:14,labelId:3,step:4,dataStepId:1,getElement:17})}get getElement(){return this.$$.ctx[17]}},Bc=class extends jc{constructor(e,n={}){return super(),this._resolvedAttachTo=void 0,this._resolvedExtraHighlightElements=void 0,this.classPrefix=void 0,this.el=void 0,this.target=void 0,this.tour=void 0,this.tour=e,this.classPrefix=this.tour.options?K3(this.tour.options.classPrefix):"",this.styles=e.styles,this._resolvedAttachTo=null,X2(this),this._setOptions(n),this}cancel(){this.tour.cancel(),this.trigger("cancel")}complete(){this.tour.complete(),this.trigger("complete")}destroy(){YD(this),ja(this.el)&&(this.el.remove(),this.el=null),this._updateStepTargetOnHide(),this.trigger("destroy")}getTour(){return this.tour}hide(){var e;(e=this.tour.modal)==null||e.hide(),this.trigger("before-hide"),this.el&&(this.el.hidden=!0),this._updateStepTargetOnHide(),this.trigger("hide")}_resolveExtraHiglightElements(){return this._resolvedExtraHighlightElements=aD(this),this._resolvedExtraHighlightElements}_resolveAttachToOptions(){return this._resolvedAttachTo=iD(this),this._resolvedAttachTo}_getResolvedAttachToOptions(){return this._resolvedAttachTo===null?this._resolveAttachToOptions():this._resolvedAttachTo}isOpen(){return!!(this.el&&!this.el.hidden)}show(){return lo(this.options.beforeShowPromise)?Promise.resolve(this.options.beforeShowPromise()).then(()=>this._show()):Promise.resolve(this._show())}updateStepOptions(e){Object.assign(this.options,e),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}getElement(){return this.el}getTarget(){return this.target}_createTooltipContent(){let e=`${this.id}-description`,n=`${this.id}-label`;return this.shepherdElementComponent=new $2({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:e,labelId:n,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()}_scrollTo(e){let{element:n}=this._getResolvedAttachToOptions();lo(this.options.scrollToHandler)?this.options.scrollToHandler(n):H9(n)&&typeof n.scrollIntoView=="function"&&n.scrollIntoView(e)}_getClassOptions(e){let n=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,r=e.classes?e.classes:"",o=n&&n.classes?n.classes:"",i=[...r.split(" "),...o.split(" ")],a=new Set(i);return Array.from(a).join(" ").trim()}_setOptions(e={}){let n=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;n=Y2({},n||{}),this.options=Object.assign({arrow:!0},n,e,KD(n,e));let{when:r}=this.options;this.options.classes=this._getClassOptions(e),this.destroy(),this.id=this.options.id||`step-${X3()}`,r&&Object.keys(r).forEach(o=>{this.on(o,r[o],this)})}_setupElements(){vt(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&oD(this),ZD(this)}_show(){var e;this.trigger("before-show"),this._resolveAttachToOptions(),this._resolveExtraHiglightElements(),this._setupElements(),this.tour.modal||this.tour.setupModal(),(e=this.tour.modal)==null||e.setupForStep(this),this._styleTargetElementForStep(this),this.el&&(this.el.hidden=!1),this.options.scrollTo&&setTimeout(()=>{this._scrollTo(this.options.scrollTo)}),this.el&&(this.el.hidden=!1);let n=this.shepherdElementComponent.getElement(),r=this.target||document.body,o=this._resolvedExtraHighlightElements;r.classList.add(`${this.classPrefix}shepherd-enabled`),r.classList.add(`${this.classPrefix}shepherd-target`),n.classList.add("shepherd-enabled"),o?.forEach(i=>{i.classList.add(`${this.classPrefix}shepherd-enabled`),i.classList.add(`${this.classPrefix}shepherd-target`)}),this.trigger("show")}_styleTargetElementForStep(e){let n=e.target,r=e._resolvedExtraHighlightElements;if(!n)return;let o=e.options.highlightClass;o&&(n.classList.add(o),r?.forEach(i=>i.classList.add(o))),n.classList.remove("shepherd-target-click-disabled"),r?.forEach(i=>i.classList.remove("shepherd-target-click-disabled")),e.options.canClickTarget===!1&&(n.classList.add("shepherd-target-click-disabled"),r?.forEach(i=>i.classList.add("shepherd-target-click-disabled")))}_updateStepTargetOnHide(){let e=this.target||document.body,n=this._resolvedExtraHighlightElements,r=this.options.highlightClass;r&&(e.classList.remove(r),n?.forEach(o=>o.classList.remove(r))),e.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`),n?.forEach(o=>{o.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`)})}};function FE(t){if(t){let{steps:e}=t;e.forEach(n=>{n.options&&n.options.canClickTarget===!1&&n.options.attachTo&&(ja(n.target)&&n.target.classList.remove("shepherd-target-click-disabled"),n._resolvedExtraHighlightElements&&n._resolvedExtraHighlightElements.forEach(r=>{ja(r)&&r.classList.remove("shepherd-target-click-disabled")}))})}}function jE(t){let e="",{innerWidth:n,innerHeight:r}=window;return t.forEach(o=>{let{width:i,height:a,x:s=0,y:c=0,r:l=0}=o,{topLeft:d=0,topRight:u=0,bottomRight:p=0,bottomLeft:h=0}=typeof l=="number"?{topLeft:l,topRight:l,bottomRight:l,bottomLeft:l}:l;e+=`M${s+d},${c}      a${d},${d},0,0,0-${d},${d}      V${a+c-h}      a${h},${h},0,0,0,${h},${h}      H${i+s-p}      a${p},${p},0,0,0,${p}-${p}      V${c+u}      a${u},${u},0,0,0-${u}-${u}      Z`}),`M${n},${r}          H0          V0          H${n}          V${r}          Z          ${e}`.replace(/\s/g,"")}function VE(t){let e,n,r,o,i;return{c(){e=A3("svg"),n=A3("path"),_e(n,"d",t[2]),_e(e,"class",r=`${t[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)},m(a,s){bn(a,e,s),Ba(e,n),t[11](e),o||(i=O1(e,"touchmove",t[3]),o=!0)},p(a,[s]){s&4&&_e(n,"d",a[2]),s&2&&r!==(r=`${a[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)&&_e(e,"class",r)},i:Wt,o:Wt,d(a){a&&an(e),t[11](null),o=!1,i()}}}function uw(t){if(!t)return null;let n=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY;return n!=="hidden"&&n!=="visible"&&t.scrollHeight>=t.clientHeight?t:uw(t.parentElement)}function HE(t){let e={top:0,left:0};if(!t)return e;let n=t.ownerDocument.defaultView;for(;n!==window.top;){var r;let a=(r=n)==null?void 0:r.frameElement;if(a){var o,i;let s=a.getBoundingClientRect();e.top+=s.top+((o=s.scrollTop)!=null?o:0),e.left+=s.left+((i=s.scrollLeft)!=null?i:0)}n=n.parent}return e}function BE(t,e){let n=t.getBoundingClientRect(),r=n.y||n.top,o=n.bottom||r+n.height;if(e){let a=e.getBoundingClientRect(),s=a.y||a.top,c=a.bottom||s+a.height;r=Math.max(r,s),o=Math.min(o,c)}let i=Math.max(o-r,0);return{y:r,height:i}}function zE(t,e,n){let{element:r,openingProperties:o}=e,i=!1,a,s;l();let c=()=>r;function l(){n(4,o=[{width:0,height:0,x:0,y:0,r:0}])}function d(){n(1,i=!1),v()}function u(b=0,R=0,ne=0,U=0,J,Ee,O){if(Ee){let Ce=[Ee,...O||[]];n(4,o=[]);for(let ze of Ce){if(!ze||Ce.indexOf(ze)!==Ce.lastIndexOf(ze))continue;let{y:fe,height:xt}=BE(ze,J),{x:dt,width:sn,left:br}=ze.getBoundingClientRect();Ce.some(Ci=>{if(Ci===ze)return!1;let _n=Ci.getBoundingClientRect();return dt>=_n.left&&dt+sn<=_n.right&&fe>=_n.top&&fe+xt<=_n.bottom})||o.push({width:sn+b*2,height:xt+b*2,x:(dt||br)+ne-b,y:fe+U-b,r:R})}}else l()}function p(b){v(),b.tour.options.useModalOverlay?(P(b),h()):d()}function h(){n(1,i=!0)}let y=b=>{b.preventDefault()},k=b=>{b.stopPropagation()};function M(){window.addEventListener("touchmove",y,{passive:!1})}function v(){a&&(cancelAnimationFrame(a),a=void 0),window.removeEventListener("touchmove",y,{passive:!1})}function P(b){let{modalOverlayOpeningPadding:R,modalOverlayOpeningRadius:ne,modalOverlayOpeningXOffset:U=0,modalOverlayOpeningYOffset:J=0}=b.options,Ee=HE(b.target),O=uw(b.target),Ce=()=>{a=void 0,u(R,ne,U+Ee.left,J+Ee.top,O,b.target,b._resolvedExtraHighlightElements),a=requestAnimationFrame(Ce)};Ce(),M()}function S(b){za[b?"unshift":"push"](()=>{r=b,n(0,r)})}return t.$$set=b=>{"element"in b&&n(0,r=b.element),"openingProperties"in b&&n(4,o=b.openingProperties)},t.$$.update=()=>{t.$$.dirty&16&&n(2,s=jE(o))},[r,i,s,k,o,c,l,d,u,p,h,S]}var W2=class extends Cn{constructor(e){super(),Cr(this,e,zE,VE,wr,{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10})}get getElement(){return this.$$.ctx[5]}get closeModalOpening(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}get positionModal(){return this.$$.ctx[8]}get setupForStep(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}},G2=class extends jc{constructor(){super(),this.activeTour=void 0,X2(this)}},Z2=class extends jc{constructor(e={}){super(),this.trackedEvents=["active","cancel","complete","show"],this.classPrefix=void 0,this.currentStep=void 0,this.focusedElBeforeOpen=void 0,this.id=void 0,this.modal=void 0,this.options=void 0,this.steps=void 0,X2(this);let n={exitOnEsc:!0,keyboardNavigation:!0};return this.options=Object.assign({},n,e),this.classPrefix=K3(this.options.classPrefix),this.steps=[],this.addSteps(this.options.steps),["active","cancel","complete","inactive","show","start"].map(o=>{(i=>{this.on(i,a=>{a=a||{},a.tour=this,$n.trigger(i,a)})})(o)}),this._setTourID(e.id),this}addStep(e,n){let r=e;return r instanceof Bc?r.tour=this:r=new Bc(this,r),vt(n)?this.steps.push(r):this.steps.splice(n,0,r),r}addSteps(e){return Array.isArray(e)&&e.forEach(n=>{this.addStep(n)}),this}back(){let e=this.steps.indexOf(this.currentStep);this.show(e-1,!1)}cancel(){return f(this,null,function*(){if(this.options.confirmCancel){let e=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?",n;lo(this.options.confirmCancel)?n=yield this.options.confirmCancel():n=window.confirm(e),n&&this._done("cancel")}else this._done("cancel")})}complete(){this._done("complete")}getById(e){return this.steps.find(n=>n.id===e)}getCurrentStep(){return this.currentStep}hide(){let e=this.getCurrentStep();if(e)return e.hide()}isActive(){return $n.activeTour===this}next(){let e=this.steps.indexOf(this.currentStep);e===this.steps.length-1?this.complete():this.show(e+1,!0)}removeStep(e){let n=this.getCurrentStep();this.steps.some((r,o)=>{if(r.id===e)return r.isOpen()&&r.hide(),r.destroy(),this.steps.splice(o,1),!0}),n&&n.id===e&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}show(e=0,n=!0){let r=Fc(e)?this.getById(e):this.steps[e];r&&(this._updateStateBeforeShow(),lo(r.options.showOn)&&!r.options.showOn()?this._skipStep(r,n):(this.currentStep=r,this.trigger("show",{step:r,previous:this.currentStep}),r.show()))}start(){return f(this,null,function*(){this.trigger("start"),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this.setupModal(),this._setupActiveTour(),this.next()})}_done(e){let n=this.steps.indexOf(this.currentStep);if(Array.isArray(this.steps)&&this.steps.forEach(r=>r.destroy()),FE(this),this.trigger(e,{index:n}),$n.activeTour=null,this.trigger("inactive",{tour:this}),this.modal&&this.modal.hide(),(e==="cancel"||e==="complete")&&this.modal){let r=document.querySelector(".shepherd-modal-overlay-container");r&&(r.remove(),this.modal=null)}ja(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()}_setupActiveTour(){this.trigger("active",{tour:this}),$n.activeTour=this}setupModal(){this.modal=new W2({target:this.options.modalContainer||document.body,props:{styles:this.styles}})}_skipStep(e,n){let r=this.steps.indexOf(e);if(r===this.steps.length-1)this.complete();else{let o=n?r+1:r-1;this.show(o,n)}}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}_setTourID(e){let n=this.options.tourName||"tour",r=e||X3();this.id=`${n}--${r}`}},$n=new G2,hw=typeof window>"u";$n.Step=hw?P2:Bc;$n.Tour=hw?A2:Z2;function qE(t){return t.offsetWidth===0&&t.offsetHeight===0}function UE(t){let{classes:e,disabled:n,label:r,secondary:o,type:i,text:a}=t,s=["back","cancel","next"];if(!i)return t;if(s.indexOf(i)===-1)throw new Error("'type' property must be one of 'back', 'cancel', or 'next'");return{action:this[i].bind(this),classes:e,disabled:n,label:r,secondary:o,text:a}}var pw=(()=>{let e=class e{constructor(){this.confirmCancel=!1,this.defaultStepOptions={},this.exitOnEsc=!0,this.isActive=!1,this.keyboardNavigation=!0,this.messageForUser=null,this.modal=!1,this.requiredElements=[],this.tourName=void 0,this.tourObject=null}back(){this.tourObject?.back()}cancel(){this.tourObject?.cancel()}complete(){this.tourObject?.complete()}hide(){this.tourObject?.hide()}next(){this.tourObject?.next()}show(r){this.tourObject?.show(r)}start(){this.isActive=!0,this.tourObject?.start()}onTourFinish(r){this.isActive=!1}addSteps(r){this._initialize();let o=this.tourObject;if(!(!o||!r||!Array.isArray(r)||r.length===0)){if(!this.requiredElementsPresent()){o.addStep({buttons:[{text:"Exit",action:o.cancel}],id:"error",title:this.errorTitle,text:[this.messageForUser]});return}r.forEach(i=>{i.buttons&&(i.buttons=i.buttons.map(UE.bind(this),this)),o.addStep(i)})}}requiredElementsPresent(){let r=!0;return this.requiredElements.forEach(o=>{let i=document.querySelector(o.selector);r&&(!i||qE(i))&&(r=!1,this.errorTitle=o.title,this.messageForUser=o.message)}),r}_initialize(){let r=new $n.Tour({confirmCancel:this.confirmCancel,confirmCancelMessage:this.confirmCancelMessage,defaultStepOptions:this.defaultStepOptions,keyboardNavigation:this.keyboardNavigation,tourName:this.tourName,useModalOverlay:this.modal,exitOnEsc:this.exitOnEsc});r.on("complete",this.onTourFinish.bind(this,"complete")),r.on("cancel",this.onTourFinish.bind(this,"cancel")),this.tourObject=r}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fw=(()=>{let e=class e{constructor(r){this.tour=r}startTutorial(){this.tour.start()}init(){this.tour.modal=!0,this.tour.defaultStepOptions={classes:"btn-theme",scrollTo:{behavior:"smooth",block:"center"},cancelIcon:{enabled:!0},arrow:!0},this.tour.addSteps([{id:"profile-step-1",title:"Actions",text:'Ici tu peux modifier ton profil <div class="shepherd-progress">\xC9tape 1 sur 2</div>',attachTo:{element:'[data-tour="profile"]',on:"left"},floatingUIOptions:{middleware:[D2({mainAxis:10,crossAxis:0})]},buttons:[{text:"Suivant",action:()=>this.tour.next()}]},{id:"profile-step-2",title:"Dark Mode",text:'Cliquez ici pour activer le th\xE8me Sombre ou rebasculer au th\xE8me Clair <div class="shepherd-progress">\xC9tape 2 sur 2</div>',attachTo:{element:'[data-tour="darkmode-1"]',on:"bottom"},floatingUIOptions:{middleware:[D2({mainAxis:-10,crossAxis:0})]},buttons:[{text:"Pr\xE9c\xE9dent",action:()=>this.tour.back()},{text:"Terminer",action:()=>this.tour.complete()}]}])}stopTutorial(){this.tour&&this.tour.cancel()}};e.\u0275fac=function(o){return new(o||e)(q(pw))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var GE=(t,e)=>e.value;function ZE(t,e){if(t&1&&(g(0,"div",2)(1,"p"),w(2),m(),g(3,"p"),w(4),m(),g(5,"p"),w(6),m()()),t&2){let n=D();C(2),ue("User ID: ",n.user.id),C(2),ue("Email: ",n.user.email),C(2),ue("Display Name: ",n.user.user_metadata.displayName)}}function KE(t,e){if(t&1){let n=le();g(0,"button",9),x("click",function(){let o=E(n).$implicit,i=D();return L(i.setTheme(o.value))}),X(1,"lucide-icon",10),g(2,"span"),w(3),m()()}if(t&2){let n=e.$implicit,r=D();Pe("active",r.getCurrentTheme()===n.value),T("title",n.label),C(),T("name",n.icon),C(2),Q(n.label)}}var gw=(()=>{let e=class e{constructor(r){this.tuto=r,this.user=null,this.loading=!1,this.showInfo=!1,this.supabaseService=_(Pt),this.router=_(Ae),this.themeService=_(v1),this.themeOptions=[{value:"light",label:"Clair",icon:"sun"},{value:"dark",label:"Sombre",icon:"moon"},{value:"system",label:"Navigateur",icon:"monitor"}]}ngOnInit(){this.tuto.init()}replayTutorial(){this.tuto.startTutorial()}toggleUserInfo(){return f(this,null,function*(){this.user?this.showInfo=!this.showInfo:(yield this.fetchUser(),this.showInfo=!0)})}fetchUser(){return f(this,null,function*(){this.loading=!0;try{let{data:r}=yield this.supabaseService.getUser();this.user=r.user,this.user||this.router.navigate(["/login"])}finally{this.loading=!1}})}signOut(){return f(this,null,function*(){yield this.supabaseService.signOut(),this.router.navigate(["/login"])})}updatePassword(){return f(this,null,function*(){this.router.navigate(["/update-password"])})}toggleTheme(){this.themeService.toggleTheme()}setTheme(r){this.themeService.setTheme(r)}getCurrentTheme(){return this.themeService.getThemePreference()()}};e.\u0275fac=function(o){return new(o||e)(j(fw))},e.\u0275cmp=de({type:e,selectors:[["app-profile"]],decls:20,vars:3,consts:[[1,"container"],[1,"btn","btn-primary",3,"click","disabled"],[1,"user-info"],["data-tour","darkmode-1",1,"theme-selector"],[1,"theme-buttons"],[1,"theme-btn",3,"active","title"],[1,"btn","btn-secondary",3,"click"],[1,"btn",3,"click"],[1,"help-button",3,"click"],[1,"theme-btn",3,"click","title"],["size","20",3,"name"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"h2"),w(2,"User Profile"),m(),g(3,"p"),w(4,"Congratulations! Welcome to secure auth with Angular + Supabase is running. \u{1F389}"),m(),g(5,"button",1),x("click",function(){return i.toggleUserInfo()}),w(6),m(),zr(7,ZE,7,3,"div",2),g(8,"div",3)(9,"label"),w(10,"Th\xE8me:"),m(),g(11,"div",4),Cp(12,KE,4,5,"button",5,GE),m()(),g(14,"button",6),x("click",function(){return i.updatePassword()}),w(15,"Modifier le mot de passe"),m(),g(16,"button",7),x("click",function(){return i.signOut()}),w(17,"Sign Out"),m(),g(18,"button",8),x("click",function(){return i.replayTutorial()}),w(19,"?"),m()()),o&2&&(C(5),T("disabled",i.loading),C(),ue(" ",i.loading?"Chargement...":i.showInfo?"Masquer les informations":"Afficher les informations personnelles"," "),C(),qr(i.showInfo&&i.user?7:-1),C(5),bp(i.themeOptions))},dependencies:[Te,Fe,Ie],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;text-align:left}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1.5rem;font-weight:500;text-align:left}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:#555;line-height:1.5;text-align:left}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{font-size:1.1rem;margin-bottom:2rem;color:#27ae60}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type){font-weight:500;color:#2c3e50;word-break:break-all}.container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;width:100%;padding:.85rem;margin-top:1rem;background-color:#e74c3c;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease}.container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#c0392b}.container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;margin-top:2rem}.container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.container[_ngcontent-%COMP%]   .btn-theme[_ngcontent-%COMP%]{background-color:#3498db;margin-top:2rem}.container[_ngcontent-%COMP%]   .btn-theme[_ngcontent-%COMP%]:hover{background-color:#2980b9}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 6px 18px #0000004d}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type, body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{color:#4ade80}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type), body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type){color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#475569;color:#f8fafc}.user-info[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}body.dark-mode[_nghost-%COMP%]   .user-info[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .user-info[_ngcontent-%COMP%]{background:#334155;border-color:#475569}.theme-selector[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}.theme-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;font-weight:600;color:#2c3e50;font-size:.95rem}.theme-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-start}.theme-btn[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:1rem .75rem;background:#fff;color:#2c3e50;border:2px solid #e9ecef;border-radius:6px;font-size:.85rem;font-weight:500;cursor:pointer;transition:all .3s ease}.theme-btn[_ngcontent-%COMP%]:hover{border-color:#3498db;background:#f0f7ff}.theme-btn.active[_ngcontent-%COMP%]{background:#3498db;color:#fff;border-color:#3498db;box-shadow:0 2px 8px #3498db4d}.theme-btn[_ngcontent-%COMP%]   lucide-icon[_ngcontent-%COMP%]{display:block}.theme-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}body.dark-mode[_nghost-%COMP%]   .theme-selector[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .theme-selector[_ngcontent-%COMP%]{background:#334155;border-color:#475569}body.dark-mode[_nghost-%COMP%]   .theme-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .theme-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .theme-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .theme-btn[_ngcontent-%COMP%]{background:#1e293b;color:#cbd5e1;border-color:#475569}body.dark-mode[_nghost-%COMP%]   .theme-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .theme-btn[_ngcontent-%COMP%]:hover{border-color:#64b5f6;background:#0f172a}body.dark-mode[_nghost-%COMP%]   .theme-btn.active[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .theme-btn.active[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border-color:#3b82f6;box-shadow:0 2px 8px #3b82f64d}"]});let t=e;return t})();function YE(t,e){if(t&1&&(g(0,"div",8),w(1),m()),t&2){let n=D();C(),ue(" ",n.message," ")}}var yw=(()=>{let e=class e{constructor(r){this.supabaseService=r,this.email="",this.message="",this.loading=!1,this.router=_(Ae)}onSubmit(){return f(this,null,function*(){this.loading=!0;try{yield this.supabaseService.resetPasswordForEmail(this.email),this.message="Un lien de r\xE9initialisation a \xE9t\xE9 envoy\xE9 \xE0 votre adresse email."}catch(r){this.message=`Erreur : ${r.message}`}finally{this.loading=!1}})}navigateToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(o){return new(o||e)(j(Pt))},e.\u0275cmp=de({type:e,selectors:[["app-forgot-password"]],decls:14,vars:2,consts:[[1,"forgot-password-container"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","placeholder","Votre email",3,"ngModelChange","ngModel"],["type","submit"],["class","message",4,"ngIf"],[3,"click"],[1,"message"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"h2"),w(2,"Mot de passe oubli\xE9"),m(),g(3,"form",1),x("ngSubmit",function(){return i.onSubmit()}),g(4,"div",2)(5,"label",3),w(6,"Email"),m(),g(7,"input",4),me("ngModelChange",function(s){return ve(i.email,s)||(i.email=s),s}),m()(),g(8,"button",5),w(9,"Envoyer le lien de r\xE9initialisation"),m()(),ie(10,YE,2,1,"div",6),g(11,"p")(12,"a",7),x("click",function(){return i.navigateToLogin()}),w(13,"Retour au Log In"),m()()()),o&2&&(C(7),ye("ngModel",i.email),C(3),T("ngIf",i.message))},dependencies:[yt,eo,ot,gt,Jr,fr,ct,pr,Ie,Qe],styles:[".forgot-password-container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.forgot-password-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.forgot-password-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2c3e50;font-weight:500}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.forgot-password-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.forgot-password-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#2980b9}.forgot-password-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;text-align:center;border-radius:6px;background-color:#e8f4fc;color:#2c3e50;border:1px solid #b8d8f0}p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}body.dark-mode[_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 6px 18px #0000004d}body.dark-mode[_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#38bdf8;box-shadow:0 0 0 2px #38bdf833}body.dark-mode[_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{background-color:#0f172a;color:#e2e8f0;border-color:#334155}body.dark-mode[_nghost-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   a[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#38bdf8}body.dark-mode[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#7dd3fc}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px #334155 inset!important;-webkit-text-fill-color:#f8fafc!important;transition:background-color 5000s ease-in-out 0s}"]});let t=e;return t})();function XE(t,e){if(t&1){let n=le();g(0,"form",8),x("ngSubmit",function(){E(n);let o=D();return L(o.onSubmit())}),g(1,"div",9)(2,"label",10),w(3,"Nouveau mot de passe"),m(),g(4,"div",11)(5,"input",12),x("ngModelChange",function(o){E(n);let i=D();return L(i.newPassword.set(o))}),m(),g(6,"button",13),x("click",function(){E(n);let o=D();return L(o.toggleNewPasswordVisibility())}),X(7,"lucide-icon",14),m()()(),g(8,"div",9)(9,"label",15),w(10,"Confirmer le mot de passe"),m(),g(11,"div",11)(12,"input",16),x("ngModelChange",function(o){E(n);let i=D();return L(i.confirmPassword.set(o))}),m(),g(13,"button",13),x("click",function(){E(n);let o=D();return L(o.toggleConfirmPasswordVisibility())}),X(14,"lucide-icon",14),m()()(),g(15,"button",17),w(16),m()()}if(t&2){let n=D();C(5),T("type",n.showNewPassword()?"text":"password")("ngModel",n.newPassword())("disabled",n.loading),C(2),T("name",n.showNewPassword()?"eye-off":"eye"),C(5),T("type",n.showConfirmPassword()?"text":"password")("ngModel",n.confirmPassword())("disabled",n.loading),C(2),T("name",n.showConfirmPassword()?"eye-off":"eye"),C(),T("disabled",n.loading),C(),ue(" ",n.loading?"Mise \xE0 jour...":"Mettre \xE0 jour le mot de passe"," ")}}function QE(t,e){if(t&1&&(g(0,"div",18),w(1),m()),t&2){let n=D();C(),ue(" ",n.error()," ")}}function JE(t,e){if(t&1&&(g(0,"div",19),w(1),m()),t&2){let n=D();C(),ue(" ",n.message()," ")}}var mw=(()=>{let e=class e{constructor(){this.newPassword=ce(""),this.confirmPassword=ce(""),this.showNewPassword=ce(!1),this.showConfirmPassword=ce(!1),this.message=ce(null),this.error=ce(null),this.loading=!1,this.success=!1,this.supabaseService=_(Pt),this.router=_(Ae)}ngOnInit(){return f(this,null,function*(){let{data:r}=yield this.supabaseService.getSession();r.session||this.error.set("Session invalide. Veuillez demander un nouveau lien de r\xE9initialisation.")})}toggleNewPasswordVisibility(){this.showNewPassword.update(r=>!r)}toggleConfirmPasswordVisibility(){this.showConfirmPassword.update(r=>!r)}onSubmit(){return f(this,null,function*(){if(this.error.set(null),this.message.set(null),this.newPassword().length<6){this.error.set("Le mot de passe doit contenir au moins 6 caract\xE8res.");return}if(this.newPassword()!==this.confirmPassword()){this.error.set("Les mots de passe ne correspondent pas.");return}this.loading=!0;try{let{error:r}=yield this.supabaseService.updatePassword(this.newPassword());r?this.error.set("Erreur : "+r.message):(this.message.set("Mot de passe mis \xE0 jour avec succ\xE8s !"),this.success=!0)}catch(r){this.error.set("Une erreur est survenue : "+r.message)}finally{this.loading=!1}})}goToProfile(){this.router.navigate(["/profile"])}goToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=de({type:e,selectors:[["app-update-password"]],decls:13,vars:3,consts:[[1,"update-password-container"],[1,"update-password-card"],[1,"subtitle"],[3,"ngSubmit",4,"ngIf"],["class","message error",4,"ngIf"],["class","message success",4,"ngIf"],[1,"profile-button",3,"click"],[1,"login-button",3,"click"],[3,"ngSubmit"],[1,"form-group"],["for","newPassword"],[1,"password-container"],["id","newPassword","name","newPassword","required","","minlength","6","placeholder","Minimum 6 caract\xE8res","autocomplete","new-password",3,"ngModelChange","type","ngModel","disabled"],["type","button",1,"toggle-password",3,"click"],["size","20",3,"name"],["for","confirmPassword"],["id","confirmPassword","name","confirmPassword","required","","minlength","6","placeholder","Confirmez votre mot de passe","autocomplete","new-password",3,"ngModelChange","type","ngModel","disabled"],["type","submit",3,"disabled"],[1,"message","error"],[1,"message","success"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"div",1)(2,"h2"),w(3,"Mettre \xE0 jour votre mot de passe"),m(),g(4,"p",2),w(5,"Veuillez entrer votre nouveau mot de passe"),m(),ie(6,XE,17,10,"form",3)(7,QE,2,1,"div",4)(8,JE,2,1,"div",5),g(9,"button",6),x("click",function(){return i.goToProfile()}),w(10,"Retour au profil"),m(),g(11,"button",7),x("click",function(){return i.goToLogin()}),w(12,"Retour \xE0 la connexion"),m()()()),o&2&&(C(6),T("ngIf",!i.success&&(!i.error()||i.newPassword())),C(),T("ngIf",i.error()),C(),T("ngIf",i.message()))},dependencies:[yt,eo,ot,gt,Jr,fr,hc,ct,pr,Ie,Qe,Te,Fe],styles:[".update-password-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f3f4f6;padding:1rem}.update-password-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 4px 6px -1px #0000001a;width:100%;max-width:400px}h2[_ngcontent-%COMP%]{text-align:center;color:#1e293b;margin-bottom:.5rem}.subtitle[_ngcontent-%COMP%]{text-align:center;color:#64748b;margin-bottom:2rem;font-size:.875rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#475569;font-weight:500}input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #e2e8f0;border-radius:6px;font-size:1rem;box-sizing:border-box}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;ring:2px solid #2563eb}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#2563eb;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background .2s;margin-top:1rem}button[type=submit][_ngcontent-%COMP%]:hover{background:#1d4ed8}button[type=submit][_ngcontent-%COMP%]:disabled{background:#94a3b8;cursor:not-allowed}.message[_ngcontent-%COMP%]{padding:1rem;border-radius:6px;margin-top:1rem;text-align:center}.error[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.success[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.profile-button[_ngcontent-%COMP%], .login-button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#fff;color:#64748b;border:1px solid #e2e8f0;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;margin-top:.5rem}.profile-button[_ngcontent-%COMP%]:hover, .login-button[_ngcontent-%COMP%]:hover{background:#f8fafc;color:#1e293b;border-color:#cbd5e1}.password-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:10px;background:none;border:none;cursor:pointer;padding:0;display:flex;align-items:center;color:#64748b}.toggle-password[_ngcontent-%COMP%]:hover{background:none;color:#1e293b}body.dark-mode[_nghost-%COMP%]   .update-password-container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .update-password-container[_ngcontent-%COMP%]{background-color:#0f172a}body.dark-mode[_nghost-%COMP%]   .update-password-card[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .update-password-card[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 4px 6px -1px #00000080}body.dark-mode[_nghost-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .subtitle[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   label[_ngcontent-%COMP%]{color:#e2e8f0}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#3b82f6}body.dark-mode[_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]{color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .error[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .error[_ngcontent-%COMP%]{background:#7f1d1d;color:#fecaca}body.dark-mode[_nghost-%COMP%]   .success[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .success[_ngcontent-%COMP%]{background:#14532d;color:#bbf7d0}body.dark-mode[_nghost-%COMP%]   .profile-button[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .profile-button[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .login-button[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .login-button[_ngcontent-%COMP%]{background:#334155;color:#e2e8f0;border-color:#475569}body.dark-mode[_nghost-%COMP%]   .profile-button[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .profile-button[_ngcontent-%COMP%]:hover, body.dark-mode[_nghost-%COMP%]   .login-button[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .login-button[_ngcontent-%COMP%]:hover{background:#475569;color:#f8fafc;border-color:#64748b}body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, body.dark-mode[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active, body.dark-mode   [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px #334155 inset!important;-webkit-text-fill-color:#f8fafc!important;caret-color:#f8fafc}"]});let t=e;return t})();var kw=(()=>{let e=class e{constructor(){this.tour=null}startTutorial(){this.tour=new $n.Tour({useModalOverlay:!0,defaultStepOptions:{classes:"shepherd-theme-dark",scrollTo:{behavior:"smooth",block:"center"},cancelIcon:{enabled:!0}}}),this.tour.addStep({id:"step-1",title:"\u2795 Cr\xE9er un ticket",text:'Cliquez ici pour cr\xE9er un nouveau ticket dans votre tableau.<div class="shepherd-progress">\xC9tape 1 sur 4</div>',attachTo:{element:".create-ticket-btn",on:"bottom"},buttons:[{text:"Suivant",action:this.tour.next,classes:"shepherd-button-primary"}]}),this.tour.addStep({id:"step-2",title:"\u{1F50D} Recherche rapide",text:'Utilisez la recherche pour filtrer vos tickets rapidement.<div class="shepherd-progress">\xC9tape 2 sur 4</div>',attachTo:{element:".search-input",on:"bottom"},buttons:[{text:"Pr\xE9c\xE9dent",action:this.tour.back,classes:"shepherd-button-secondary"},{text:"Suivant",action:this.tour.next,classes:"shepherd-button-primary"}]}),this.tour.addStep({id:"step-3",title:"\u{1F4CB} Tableau Kanban",text:'Glissez-d\xE9posez vos tickets entre les colonnes pour changer leur statut.<div class="shepherd-progress">\xC9tape 3 sur 4</div>',attachTo:{element:".kanban-board",on:"top"},buttons:[{text:"Pr\xE9c\xE9dent",action:this.tour.back,classes:"shepherd-button-secondary"},{text:"Suivant",action:this.tour.next,classes:"shepherd-button-primary"}]}),this.tour.addStep({id:"step-4",title:"\u{1F3AB} \xC9dition rapide",text:'Cliquez sur un ticket pour \xE9diter ses d\xE9tails directement.<div class="shepherd-progress">\xC9tape 4 sur 4</div>',attachTo:{element:".ticket-card",on:"right"},buttons:[{text:"Pr\xE9c\xE9dent",action:this.tour.back,classes:"shepherd-button-secondary"},{text:"Terminer",action:this.tour.complete,classes:"shepherd-button-primary"}]}),this.tour.on("complete",()=>{console.log("\u2705 Tutorial termin\xE9"),localStorage.setItem("kanban-tutorial-completed","true")}),this.tour.on("cancel",()=>{console.log("\u274C Tutorial annul\xE9")}),this.tour.start()}stopTutorial(){this.tour&&this.tour.cancel()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tL(t,e){if(t&1){let n=le();g(0,"div",13),x("click",function(){let o=E(n).$implicit,i=D();return L(i.editTicket(o))}),g(1,"h4"),w(2),m(),g(3,"p"),w(4),m(),g(5,"div",14)(6,"span",15),w(7),m()()()}if(t&2){let n=e.$implicit;C(2),Q(n.title),C(2),Q(n.description),C(3),ue("\u{1F464} ",n.assignee)}}function nL(t,e){if(t&1){let n=le();g(0,"div",13),x("click",function(){let o=E(n).$implicit,i=D();return L(i.editTicket(o))}),g(1,"h4"),w(2),m(),g(3,"p"),w(4),m(),g(5,"div",14)(6,"span",15),w(7),m()()()}if(t&2){let n=e.$implicit;C(2),Q(n.title),C(2),Q(n.description),C(3),ue("\u{1F464} ",n.assignee)}}function rL(t,e){if(t&1){let n=le();g(0,"div",16),x("click",function(){let o=E(n).$implicit,i=D();return L(i.editTicket(o))}),g(1,"h4"),w(2),m(),g(3,"p"),w(4),m(),g(5,"div",14)(6,"span",15),w(7),m()()()}if(t&2){let n=e.$implicit;C(2),Q(n.title),C(2),Q(n.description),C(3),ue("\u{1F464} ",n.assignee)}}var vw=(()=>{let e=class e{constructor(r){this.tutorialService=r,this.tutorialCompleted=!1,this.searchQuery="",this.tickets=[{id:1,title:"Responsive sur Releaseflow",description:"Adapter l'interface mobile",status:"backlog",assignee:"Beno\xEEt Briens"},{id:2,title:"Fix bug d'authentification",description:"Corriger le probl\xE8me de session",status:"in-progress",assignee:"Marie Dupont"},{id:3,title:"Ajouter tests unitaires",description:"Couverture \xE0 80%",status:"done",assignee:"Jean Martin"}]}ngAfterViewInit(){this.tutorialCompleted=localStorage.getItem("kanban-tutorial-completed")==="true",this.tutorialCompleted||setTimeout(()=>{this.startTutorial()},1e3)}startTutorial(){this.tutorialService.startTutorial()}resetTutorial(){localStorage.removeItem("kanban-tutorial-completed"),this.tutorialCompleted=!1,this.startTutorial()}getTicketsByStatus(r){return this.tickets.filter(o=>o.status===r)}createTicket(){let r={id:Date.now(),title:"Nouveau ticket",description:"Description",status:"backlog",assignee:"Non assign\xE9"};this.tickets.push(r),console.log("Ticket cr\xE9\xE9:",r)}onSearch(){console.log("Recherche:",this.searchQuery)}editTicket(r){console.log("\xC9dition du ticket:",r)}};e.\u0275fac=function(o){return new(o||e)(j(kw))},e.\u0275cmp=de({type:e,selectors:[["app-kanban-board"]],decls:35,vars:7,consts:[[1,"kanban-container"],[1,"toolbar"],[1,"search-bar"],["type","text","placeholder","\u{1F50D} Rechercher dans un ticket...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"create-ticket-btn",3,"click"],[1,"kanban-board"],[1,"kanban-column"],[1,"column-header"],[1,"count"],[1,"tickets-list"],["class","ticket-card",3,"click",4,"ngFor","ngForOf"],["class","ticket-card done",3,"click",4,"ngFor","ngForOf"],["title","Relancer le tutorial",1,"help-button",3,"click"],[1,"ticket-card",3,"click"],[1,"ticket-footer"],[1,"assignee"],[1,"ticket-card","done",3,"click"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"div",1)(2,"h1"),w(3,"\u{1F4CA} Tableau SIDE"),m(),g(4,"div",2)(5,"input",3),me("ngModelChange",function(s){return ve(i.searchQuery,s)||(i.searchQuery=s),s}),x("input",function(){return i.onSearch()}),m()(),g(6,"button",4),x("click",function(){return i.createTicket()}),w(7,"\u2795 Nouveau ticket"),m()(),g(8,"div",5)(9,"div",6)(10,"div",7)(11,"h3"),w(12,"\u{1F4DD} BACKLOG"),m(),g(13,"span",8),w(14),m()(),g(15,"div",9),ie(16,tL,8,3,"div",10),m()(),g(17,"div",6)(18,"div",7)(19,"h3"),w(20,"\u26A1 EN COURS"),m(),g(21,"span",8),w(22),m()(),g(23,"div",9),ie(24,nL,8,3,"div",10),m()(),g(25,"div",6)(26,"div",7)(27,"h3"),w(28,"\u2705 TERMIN\xC9"),m(),g(29,"span",8),w(30),m()(),g(31,"div",9),ie(32,rL,8,3,"div",11),m()()(),g(33,"button",12),x("click",function(){return i.resetTutorial()}),w(34," ? "),m()()),o&2&&(C(5),ye("ngModel",i.searchQuery),C(9),Q(i.getTicketsByStatus("backlog").length),C(2),T("ngForOf",i.getTicketsByStatus("backlog")),C(6),Q(i.getTicketsByStatus("in-progress").length),C(2),T("ngForOf",i.getTicketsByStatus("in-progress")),C(6),Q(i.getTicketsByStatus("done").length),C(2),T("ngForOf",i.getTicketsByStatus("done")))},dependencies:[yt,ot,gt,ct,Ie,Lt],styles:[".kanban-container[_ngcontent-%COMP%]{padding:24px;background-color:#f5f6f8;min-height:100vh}.toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-bottom:30px;background:#fff;padding:20px;border-radius:8px;box-shadow:0 1px 3px #0000001a}.toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;color:#172b4d}.search-bar[_ngcontent-%COMP%]{flex:1;max-width:400px}.search-input[_ngcontent-%COMP%]{width:100%;padding:10px 16px;border:2px solid #dfe1e6;border-radius:6px;font-size:14px;transition:all .2s}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0052cc;box-shadow:0 0 0 3px #0052cc1a}.create-ticket-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#0052cc;color:#fff;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.create-ticket-btn[_ngcontent-%COMP%]:hover{background-color:#0747a6;transform:translateY(-1px);box-shadow:0 4px 8px #0052cc4d}.kanban-board[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:flex-start}.kanban-column[_ngcontent-%COMP%]{flex:1;background-color:#f4f5f7;padding:16px;border-radius:8px;min-height:500px}.column-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:12px;border-bottom:2px solid #dfe1e6}.column-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#172b4d;font-weight:600}.column-header[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background-color:#dfe1e6;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:600;color:#5e6c84}.tickets-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.ticket-card[_ngcontent-%COMP%]{background:#fff;padding:16px;border-radius:6px;box-shadow:0 1px 3px #0000001f;cursor:pointer;transition:all .2s}.ticket-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.ticket-card.done[_ngcontent-%COMP%]{opacity:.7}.ticket-card.done[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-decoration:line-through}.ticket-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;color:#172b4d;font-weight:600}.ticket-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px;font-size:13px;color:#5e6c84;line-height:1.4}.ticket-card[_ngcontent-%COMP%]   .ticket-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:12px}.ticket-card[_ngcontent-%COMP%]   .ticket-footer[_ngcontent-%COMP%]   .assignee[_ngcontent-%COMP%]{color:#5e6c84}.help-button[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;width:60px;height:60px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;cursor:pointer;font-size:24px;box-shadow:0 4px 12px #0000004d;z-index:1000;transition:all .3s}.help-button[_ngcontent-%COMP%]:hover{transform:scale(1.1) rotate(10deg);box-shadow:0 6px 20px #0006}.help-button[_ngcontent-%COMP%]:active{transform:scale(.95)}"]});let t=e;return t})();var Mw=[{path:"login",component:m3},{path:"signup",component:k3},{path:"forgot-password",component:yw},{path:"",canActivate:[v3],children:[{path:"",redirectTo:"/compact",pathMatch:"full"},{path:"list",component:y1},{path:"calendar",component:f3},{path:"compact",component:g3},{path:"timeline",component:y3},{path:"profile",component:gw},{path:"update-password",component:mw},{path:"kanban",component:vw}]},{path:"**",redirectTo:"login"}];function oL(t,e){t&1&&(g(0,"a",11),w(1,"Kanban"),m())}var iL=(()=>{let e=class e{constructor(){this.environment=pi,this.themeService=_(v1)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=de({type:e,selectors:[["app-root"]],decls:20,vars:1,consts:[[1,"app-container"],[1,"navbar"],[1,"nav-content"],[1,"app-title"],[1,"nav-links"],["routerLink","/calendar","routerLinkActive","active"],["routerLink","/compact","routerLinkActive","active"],["routerLink","/list","routerLinkActive","active"],["routerLink","/timeline","routerLinkActive","active"],["data-tour","profile","routerLink","/profile","routerLinkActive","active"],["name","user",1,"icon"],["routerLink","/kanban","routerLinkActive","active"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"nav",1)(2,"div",2)(3,"h1",3),w(4,"Calendrier Livraisons & MEP"),m(),g(5,"div",4)(6,"a",5),w(7,"Calendrier"),m(),g(8,"a",6),w(9,"Vue Compacte"),m(),g(10,"a",7),w(11,"Liste"),m(),g(12,"a",8),w(13,"Timeline"),m(),g(14,"a",9),X(15,"lucide-icon",10),w(16," Profil "),m(),zr(17,oL,2,0,"a",11),m()()(),g(18,"main"),X(19,"router-outlet"),m()()),o&2&&(C(17),qr(i.environment.production===!1?17:-1))},dependencies:[Ie,Of,ec,ga,Df,Te,Fe],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background:#f1f5f9}.app-container[_ngcontent-%COMP%]{min-height:100vh}.navbar[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e2e8f0;position:sticky;top:0;z-index:100;box-shadow:0 1px 3px #0000000d}.nav-content[_ngcontent-%COMP%]{max-width:1600px;margin:0 auto;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center}.app-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1e293b}.nav-links[_ngcontent-%COMP%]{display:flex;gap:.5rem}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:6px;text-decoration:none;color:#64748b;font-weight:500;transition:all .2s}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff}main[_ngcontent-%COMP%]{min-height:calc(100vh - 80px)}.icon[_ngcontent-%COMP%]{width:18px;height:18px;margin-right:6px;vertical-align:middle;fill:currentColor}body.dark-mode[_nghost-%COMP%], body.dark-mode   [_nghost-%COMP%]{background:#0f172a}body.dark-mode[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{background:#1e293b;border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .app-title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .app-title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff}"]});let t=e;return t})();Jp(iL,{providers:[Ef(Mw),Fl(Te.pick({User:W4,Search:z4,X:G4,Package:N4,Plus:H4,Trash2:$4,PenLine:V4,Rocket:B4,Menu:A4,PanelLeftClose:F4,PanelLeftOpen:j4,LucideHistory:P4,Calendar:S4,GitCommit:O4,Columns:D4,AlignJustify:U4,Sun:q4,Moon:R4,Monitor:T4,Eye:E4,EyeOff:L4}))]});export{iL as App};
