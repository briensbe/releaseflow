import{a as E,b as G,c as eE,d as yr,e as tE,f as nE,g as _r,h as p,j as Sg,k as Mg,n as rE,o as Tg}from"./chunk-5WDXYQDS.js";var Er={};tE(Er,{__addDisposableResource:()=>fm,__assign:()=>Fa,__asyncDelegator:()=>im,__asyncGenerator:()=>Va,__asyncValues:()=>Ua,__await:()=>Gt,__awaiter:()=>I,__classPrivateFieldGet:()=>lm,__classPrivateFieldIn:()=>dm,__classPrivateFieldSet:()=>um,__createBinding:()=>ja,__decorate:()=>qg,__disposeResources:()=>hm,__esDecorate:()=>Zg,__exportStar:()=>tm,__extends:()=>Gg,__generator:()=>em,__importDefault:()=>cm,__importStar:()=>am,__makeTemplateObject:()=>sm,__metadata:()=>Xg,__param:()=>Kg,__propKey:()=>Qg,__read:()=>od,__rest:()=>pn,__rewriteRelativeImportExtension:()=>pm,__runInitializers:()=>Yg,__setFunctionName:()=>Jg,__spread:()=>nm,__spreadArray:()=>om,__spreadArrays:()=>rm,__values:()=>La,default:()=>yE});function Gg(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nd(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function pn(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e}function qg(n,t,e,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(o<3?s(i):o>3?s(t,e,i):s(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i}function Kg(n,t){return function(e,r){t(e,r,n)}}function Zg(n,t,e,r,o,i){function s(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&n?r.static?n:n.prototype:null,u=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d,h=!1,f=e.length-1;f>=0;f--){var v={};for(var b in r)v[b]=b==="access"?{}:r[b];for(var b in r.access)v.access[b]=r.access[b];v.addInitializer=function(D){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(D||null))};var w=(0,e[f])(a==="accessor"?{get:u.get,set:u.set}:u[c],v);if(a==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(d=s(w.get))&&(u.get=d),(d=s(w.set))&&(u.set=d),(d=s(w.init))&&o.unshift(d)}else(d=s(w))&&(a==="field"?o.unshift(d):u[c]=d)}l&&Object.defineProperty(l,r.name,u),h=!0}function Yg(n,t,e){for(var r=arguments.length>2,o=0;o<t.length;o++)e=r?t[o].call(n,e):t[o].call(n);return r?e:void 0}function Qg(n){return typeof n=="symbol"?n:"".concat(n)}function Jg(n,t,e){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:e?"".concat(e," ",t):t})}function Xg(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function I(n,t,e,r){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,t||[])).next())})}function em(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(e=0)),e;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,o=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){e.label=l[1];break}if(l[0]===6&&e.label<i[1]){e.label=i[1],i=l;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(l);break}i[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(u){l=[6,u],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function tm(n,t){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&ja(t,n,e)}function La(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function od(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}function nm(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(od(arguments[t]));return n}function rm(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var r=Array(n),o=0,t=0;t<e;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function om(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))}function Gt(n){return this instanceof Gt?(this.v=n,this):new Gt(n)}function Va(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(v){return Promise.resolve(v).then(f,d)}}function a(f,v){r[f]&&(o[f]=function(b){return new Promise(function(w,D){i.push([f,b,w,D])>1||c(f,b)})},v&&(o[f]=v(o[f])))}function c(f,v){try{l(r[f](v))}catch(b){h(i[0][3],b)}}function l(f){f.value instanceof Gt?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,v){f(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}function im(n){var t,e;return t={},r("next"),r("throw",function(o){throw o}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(o,i){t[o]=n[o]?function(s){return(e=!e)?{value:Gt(n[o](s)),done:!1}:i?i(s):s}:i}}function Ua(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof La=="function"?La(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=n[i]&&function(s){return new Promise(function(a,c){s=n[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}function sm(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function am(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e=rd(n),r=0;r<e.length;r++)e[r]!=="default"&&ja(t,n,e[r]);return mE(t,n),t}function cm(n){return n&&n.__esModule?n:{default:n}}function lm(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)}function um(n,t,e,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!o:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,e):o?o.value=e:t.set(n,e),e}function dm(n,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?t===n:n.has(t)}function fm(n,t,e){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,o;if(e){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],e&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),n.stack.push({value:t,dispose:r,async:e})}else e&&n.stack.push({async:!0});return t}function hm(n){function t(i){n.error=n.hasError?new vE(i,n.error,"An error was suppressed during disposal."):i,n.hasError=!0}var e,r=0;function o(){for(;e=n.stack.pop();)try{if(!e.async&&r===1)return r=0,n.stack.push(e),Promise.resolve().then(o);if(e.dispose){var i=e.dispose.call(e.value);if(e.async)return r|=2,Promise.resolve(i).then(o,function(s){return t(s),o()})}else r|=1}catch(s){t(s)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return o()}function pm(n,t){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,o,i,s){return r?t?".jsx":".js":o&&(!i||!s)?e:o+i+"."+s.toLowerCase()+"js"}):n}var nd,Fa,ja,mE,rd,vE,yE,ue=eE(()=>{"use strict";nd=function(n,t){return nd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},nd(n,t)};Fa=function(){return Fa=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Fa.apply(this,arguments)};ja=Object.create?function(n,t,e,r){r===void 0&&(r=e);var o=Object.getOwnPropertyDescriptor(t,e);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(n,r,o)}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]};mE=Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t},rd=function(n){return rd=Object.getOwnPropertyNames||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[e.length]=r);return e},rd(n)};vE=typeof SuppressedError=="function"?SuppressedError:function(n,t,e){var r=new Error(e);return r.name="SuppressedError",r.error=n,r.suppressed=t,r};yE={__extends:Gg,__assign:Fa,__rest:pn,__decorate:qg,__param:Kg,__esDecorate:Zg,__runInitializers:Yg,__propKey:Qg,__setFunctionName:Jg,__metadata:Xg,__awaiter:I,__generator:em,__createBinding:ja,__exportStar:tm,__values:La,__read:od,__spread:nm,__spreadArrays:rm,__spreadArray:om,__await:Gt,__asyncGenerator:Va,__asyncDelegator:im,__asyncValues:Ua,__makeTemplateObject:sm,__importStar:am,__importDefault:cm,__classPrivateFieldGet:lm,__classPrivateFieldSet:um,__classPrivateFieldIn:dm,__addDisposableResource:fm,__disposeResources:hm,__rewriteRelativeImportExtension:pm}});var $p=yr(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});var Up=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Bp.default=Up});var Wp=yr(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});var M0=(ue(),_r(Er)),mA=M0.__importDefault((Tg(),_r(rE))),vA=M0.__importDefault($p()),Hp=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=mA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>p(this,null,function*(){var s,a,c,l;let u=null,d=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){let ne=yield i.text();ne===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=ne:d=JSON.parse(ne))}let w=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),D=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&D&&D.length>1&&(h=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let w=yield i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,v="OK")}catch{i.status===404&&w===""?(f=204,v="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,v="OK"),u&&this.shouldThrowOnError)throw new vA.default(u)}return{error:u,data:d,count:h,status:f,statusText:v}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}};zp.default=Hp});var Kp=yr(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});var yA=(ue(),_r(Er)),_A=yA.__importDefault(Wp()),Gp=class extends _A.default{select(t){let e=!1,r=(t??"*").split("").map(o=>/\s/.test(o)&&!e?"":(o==='"'&&(e=!e),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[t?"analyze":null,e?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};qp.default=Gp});var ou=yr(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});var wA=(ue(),_r(Er)),bA=wA.__importDefault(Kp()),EA=new RegExp("[,()]"),Zp=class extends bA.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(o=>typeof o=="string"&&EA.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};Yp.default=Zp});var Xp=yr(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});var CA=(ue(),_r(Er)),na=CA.__importDefault(ou()),Qp=class{constructor(t,{headers:e={},schema:r,fetch:o}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=o}select(t,e){let{head:r=!1,count:o}=e??{},i=r?"HEAD":"GET",s=!1,a=(t??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",a),o&&this.headers.append("Prefer",`count=${o}`),new na.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var o;let i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let s=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new na.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let c=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new na.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var r;let o="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new na.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new na.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}};Jp.default=Qp});var x0=yr(tg=>{"use strict";Object.defineProperty(tg,"__esModule",{value:!0});var T0=(ue(),_r(Er)),DA=T0.__importDefault(Xp()),IA=T0.__importDefault(ou()),eg=class n{constructor(t,{headers:e={},schema:r,fetch:o}={}){this.url=t,this.headers=new Headers(e),this.schemaName=r,this.fetch=o}from(t){let e=new URL(`${this.url}/${t}`);return new DA.default(e,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),l;r||o?(a=r?"HEAD":"GET",Object.entries(e).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",l=e);let u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new IA.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};tg.default=eg});var F0=yr(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.PostgrestError=tt.PostgrestBuilder=tt.PostgrestTransformBuilder=tt.PostgrestFilterBuilder=tt.PostgrestQueryBuilder=tt.PostgrestClient=void 0;var gi=(ue(),_r(Er)),A0=gi.__importDefault(x0());tt.PostgrestClient=A0.default;var O0=gi.__importDefault(Xp());tt.PostgrestQueryBuilder=O0.default;var N0=gi.__importDefault(ou());tt.PostgrestFilterBuilder=N0.default;var R0=gi.__importDefault(Kp());tt.PostgrestTransformBuilder=R0.default;var k0=gi.__importDefault(Wp());tt.PostgrestBuilder=k0.default;var P0=gi.__importDefault($p());tt.PostgrestError=P0.default;tt.default={PostgrestClient:A0.default,PostgrestQueryBuilder:O0.default,PostgrestFilterBuilder:N0.default,PostgrestTransformBuilder:R0.default,PostgrestBuilder:k0.default,PostgrestError:P0.default}});var Vu;function _a(){return Vu}function Wt(n){let t=Vu;return Vu=n,t}var xg=Symbol("NotFound");function ho(n){return n===xg||n?.name==="\u0275NotFound"}var He=null,wa=!1,Uu=1,oE=null,ze=Symbol("SIGNAL");function H(n){let t=He;return He=n,t}function Da(){return He}var po={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function go(n){if(wa)throw new Error("");if(He===null)return;He.consumerOnSignalRead(n);let t=He.producersTail;if(t!==void 0&&t.producer===n)return;let e,r=He.recomputing;if(r&&(e=t!==void 0?t.nextProducer:He.producers,e!==void 0&&e.producer===n)){He.producersTail=e,e.lastReadVersion=n.version;return}let o=n.consumersTail;if(o!==void 0&&o.consumer===He&&(!r||sE(o,He)))return;let i=vo(He),s={producer:n,consumer:He,nextProducer:e,prevConsumer:o,lastReadVersion:n.version,nextConsumer:void 0};He.producersTail=s,t!==void 0?t.nextProducer=s:He.producers=s,i&&Rg(n,s)}function Ag(){Uu++}function Ia(n){if(!(vo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Uu)){if(!n.producerMustRecompute(n)&&!Ai(n)){Ca(n);return}n.producerRecomputeValue(n),Ca(n)}}function Bu(n){if(n.consumers===void 0)return;let t=wa;wa=!0;try{for(let e=n.consumers;e!==void 0;e=e.nextConsumer){let r=e.consumer;r.dirty||iE(r)}}finally{wa=t}}function $u(){return He?.consumerAllowSignalWrites!==!1}function iE(n){n.dirty=!0,Bu(n),n.consumerMarkedDirty?.(n)}function Ca(n){n.dirty=!1,n.lastCleanEpoch=Uu}function mo(n){return n&&Og(n),H(n)}function Og(n){n.producersTail=void 0,n.recomputing=!0}function xi(n,t){H(t),n&&Ng(n)}function Ng(n){n.recomputing=!1;let t=n.producersTail,e=t!==void 0?t.nextProducer:n.producers;if(e!==void 0){if(vo(n))do e=Hu(e);while(e!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function Ai(n){for(let t=n.producers;t!==void 0;t=t.nextProducer){let e=t.producer,r=t.lastReadVersion;if(r!==e.version||(Ia(e),r!==e.version))return!0}return!1}function Oi(n){if(vo(n)){let t=n.producers;for(;t!==void 0;)t=Hu(t)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Rg(n,t){let e=n.consumersTail,r=vo(n);if(e!==void 0?(t.nextConsumer=e.nextConsumer,e.nextConsumer=t):(t.nextConsumer=void 0,n.consumers=t),t.prevConsumer=e,n.consumersTail=t,!r)for(let o=n.producers;o!==void 0;o=o.nextProducer)Rg(o.producer,o)}function Hu(n){let t=n.producer,e=n.nextProducer,r=n.nextConsumer,o=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!vo(t)){let i=t.producers;for(;i!==void 0;)i=Hu(i)}return e}function vo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Sa(n){oE?.(n)}function sE(n,t){let e=t.producersTail;if(e!==void 0){let r=t.producers;do{if(r===n)return!0;if(r===e)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ma(n,t){return Object.is(n,t)}function Ta(n,t){let e=Object.create(aE);e.computation=n,t!==void 0&&(e.equal=t);let r=()=>{if(Ia(e),go(e),e.value===Ti)throw e.error;return e.value};return r[ze]=e,Sa(e),r}var ba=Symbol("UNSET"),Ea=Symbol("COMPUTING"),Ti=Symbol("ERRORED"),aE=G(E({},po),{value:ba,dirty:!0,error:null,equal:Ma,kind:"computed",producerMustRecompute(n){return n.value===ba||n.value===Ea},producerRecomputeValue(n){if(n.value===Ea)throw new Error("");let t=n.value;n.value=Ea;let e=mo(n),r,o=!1;try{r=n.computation(),H(null),o=t!==ba&&t!==Ti&&r!==Ti&&n.equal(t,r)}catch(i){r=Ti,n.error=i}finally{xi(n,e)}if(o){n.value=t;return}n.value=r,n.version++}});function cE(){throw new Error}var kg=cE;function Pg(n){kg(n)}function zu(n){kg=n}var lE=null;function Wu(n,t){let e=Object.create(xa);e.value=n,t!==void 0&&(e.equal=t);let r=()=>Fg(e);return r[ze]=e,Sa(e),[r,s=>yo(e,s),s=>Gu(e,s)]}function Fg(n){return go(n),n.value}function yo(n,t){$u()||Pg(n),n.equal(n.value,t)||(n.value=t,uE(n))}function Gu(n,t){$u()||Pg(n),yo(n,t(n.value))}var xa=G(E({},po),{equal:Ma,value:void 0,kind:"signal"});function uE(n){n.version++,Ag(),Bu(n),lE?.(n)}function z(n){return typeof n=="function"}function _o(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Aa=_o(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Ni(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Ce=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let i of e)i.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(z(r))try{r()}catch(i){t=i instanceof Aa?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Lg(i)}catch(s){t=t??[],s instanceof Aa?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Aa(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Lg(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ni(e,t)}remove(t){let{_finalizers:e}=this;e&&Ni(e,t),t instanceof n&&t._removeParent(this)}};Ce.EMPTY=(()=>{let n=new Ce;return n.closed=!0,n})();var qu=Ce.EMPTY;function Oa(n){return n instanceof Ce||n&&"closed"in n&&z(n.remove)&&z(n.add)&&z(n.unsubscribe)}function Lg(n){z(n)?n():n.unsubscribe()}var Rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wo={setTimeout(n,t,...e){let{delegate:r}=wo;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=wo;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Na(n){wo.setTimeout(()=>{let{onUnhandledError:t}=Rt;if(t)t(n);else throw n})}function Ri(){}var jg=Ku("C",void 0,void 0);function Vg(n){return Ku("E",void 0,n)}function Ug(n){return Ku("N",n,void 0)}function Ku(n,t,e){return{kind:n,value:t,error:e}}var wr=null;function bo(n){if(Rt.useDeprecatedSynchronousErrorHandling){let t=!wr;if(t&&(wr={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=wr;if(wr=null,e)throw r}}else n()}function Bg(n){Rt.useDeprecatedSynchronousErrorHandling&&wr&&(wr.errorThrown=!0,wr.error=n)}var br=class extends Ce{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Oa(t)&&t.add(this)):this.destination=hE}static create(t,e,r){return new Eo(t,e,r)}next(t){this.isStopped?Yu(Ug(t),this):this._next(t)}error(t){this.isStopped?Yu(Vg(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Yu(jg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dE=Function.prototype.bind;function Zu(n,t){return dE.call(n,t)}var Qu=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Ra(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Ra(r)}else Ra(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Ra(e)}}},Eo=class extends br{constructor(t,e,r){super();let o;if(z(t)||!t)o={next:t??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&Rt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Zu(t.next,i),error:t.error&&Zu(t.error,i),complete:t.complete&&Zu(t.complete,i)}):o=t}this.destination=new Qu(o)}};function Ra(n){Rt.useDeprecatedSynchronousErrorHandling?Bg(n):Na(n)}function fE(n){throw n}function Yu(n,t){let{onStoppedNotification:e}=Rt;e&&wo.setTimeout(()=>e(n,t))}var hE={closed:!0,next:Ri,error:fE,complete:Ri};var Co=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ht(n){return n}function Ju(...n){return Xu(n)}function Xu(n){return n.length===0?ht:n.length===1?n[0]:function(e){return n.reduce((r,o)=>o(r),e)}}var Q=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,o){let i=gE(e)?e:new Eo(e,r,o);return bo(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=$g(r),new r((o,i)=>{let s=new Eo({next:a=>{try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[Co](){return this}pipe(...e){return Xu(e)(this)}toPromise(e){return e=$g(e),new e((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=t=>new n(t),n})();function $g(n){var t;return(t=n??Rt.Promise)!==null&&t!==void 0?t:Promise}function pE(n){return n&&z(n.next)&&z(n.error)&&z(n.complete)}function gE(n){return n&&n instanceof br||pE(n)&&Oa(n)}function ed(n){return z(n?.lift)}function J(n){return t=>{if(ed(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function K(n,t,e,r,o){return new td(n,t,e,r,o)}var td=class extends br{constructor(t,e,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Do(){return J((n,t)=>{let e=null;n._refCount++;let r=K(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let o=n._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var Io=class extends Q{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ed(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ce;let e=this.getSubject();t.add(this.source.subscribe(K(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ce.EMPTY)}return t}refCount(){return Do()(this)}};var Hg=_o(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=(()=>{class n extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new ka(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Hg}next(e){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:o,observers:i}=this;return r||o?qu:(this.currentObservers=null,i.push(e),new Ce(()=>{this.currentObservers=null,Ni(i,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){let e=new Q;return e.source=this,e}}return n.create=(t,e)=>new ka(t,e),n})(),ka=class extends ye{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:qu}};var xe=class extends ye{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var rt=new Q(n=>n.complete());function zg(n){return n&&z(n.schedule)}function Wg(n){return n[n.length-1]}function Pa(n){return z(Wg(n))?n.pop():void 0}function Vn(n){return zg(Wg(n))?n.pop():void 0}ue();var Ba=n=>n&&typeof n.length=="number"&&typeof n!="function";function $a(n){return z(n?.then)}function Ha(n){return z(n[Co])}function za(n){return Symbol.asyncIterator&&z(n?.[Symbol.asyncIterator])}function Wa(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _E(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ga=_E();function qa(n){return z(n?.[Ga])}ue();function Ka(n){return Va(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:o}=yield Gt(e.read());if(o)return yield Gt(void 0);yield yield Gt(r)}}finally{e.releaseLock()}})}function Za(n){return z(n?.getReader)}function De(n){if(n instanceof Q)return n;if(n!=null){if(Ha(n))return wE(n);if(Ba(n))return bE(n);if($a(n))return EE(n);if(za(n))return gm(n);if(qa(n))return CE(n);if(Za(n))return DE(n)}throw Wa(n)}function wE(n){return new Q(t=>{let e=n[Co]();if(z(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bE(n){return new Q(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function EE(n){return new Q(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Na)})}function CE(n){return new Q(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function gm(n){return new Q(t=>{IE(n,t).catch(e=>t.error(e))})}function DE(n){return gm(Ka(n))}function IE(n,t){var e,r,o,i;return I(this,void 0,void 0,function*(){try{for(e=Ua(n);r=yield e.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}t.complete()})}function ot(n,t,e,r=0,o=!1){let i=t.schedule(function(){e(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function Ya(n,t=0){return J((e,r)=>{e.subscribe(K(r,o=>ot(r,n,()=>r.next(o),t),()=>ot(r,n,()=>r.complete(),t),o=>ot(r,n,()=>r.error(o),t)))})}function Qa(n,t=0){return J((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function mm(n,t){return De(n).pipe(Qa(t),Ya(t))}function vm(n,t){return De(n).pipe(Qa(t),Ya(t))}function ym(n,t){return new Q(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function _m(n,t){return new Q(e=>{let r;return ot(e,t,()=>{r=n[Ga](),ot(e,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){e.error(s);return}i?e.complete():e.next(o)},0,!0)}),()=>z(r?.return)&&r.return()})}function Ja(n,t){if(!n)throw new Error("Iterable cannot be null");return new Q(e=>{ot(e,t,()=>{let r=n[Symbol.asyncIterator]();ot(e,t,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function wm(n,t){return Ja(Ka(n),t)}function bm(n,t){if(n!=null){if(Ha(n))return mm(n,t);if(Ba(n))return ym(n,t);if($a(n))return vm(n,t);if(za(n))return Ja(n,t);if(qa(n))return _m(n,t);if(Za(n))return wm(n,t)}throw Wa(n)}function de(n,t){return t?bm(n,t):De(n)}function P(...n){let t=Vn(n);return de(n,t)}function So(n,t){let e=z(n)?n:()=>n,r=o=>o.error(e());return new Q(t?o=>t.schedule(r,0,o):r)}function id(n){return!!n&&(n instanceof Q||z(n.lift)&&z(n.subscribe))}var gn=_o(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(n,t){return J((e,r)=>{let o=0;e.subscribe(K(r,i=>{r.next(n.call(t,i,o++))}))})}var{isArray:SE}=Array;function ME(n,t){return SE(t)?n(...t):n(t)}function Xa(n){return Z(t=>ME(n,t))}var{isArray:TE}=Array,{getPrototypeOf:xE,prototype:AE,keys:OE}=Object;function ec(n){if(n.length===1){let t=n[0];if(TE(t))return{args:t,keys:null};if(NE(t)){let e=OE(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function NE(n){return n&&typeof n=="object"&&xE(n)===AE}function tc(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}function ki(...n){let t=Vn(n),e=Pa(n),{args:r,keys:o}=ec(n);if(r.length===0)return de([],t);let i=new Q(RE(r,t,o?s=>tc(o,s):ht));return e?i.pipe(Xa(e)):i}function RE(n,t,e=ht){return r=>{Em(t,()=>{let{length:o}=n,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Em(t,()=>{let l=de(n[c],t),u=!1;l.subscribe(K(r,d=>{i[c]=d,u||(u=!0,a--),a||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Em(n,t,e){n?ot(e,n,t):t()}function Cm(n,t,e,r,o,i,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&t.complete()},f=b=>l<r?v(b):c.push(b),v=b=>{i&&t.next(b),l++;let w=!1;De(e(b,u++)).subscribe(K(t,D=>{o?.(D),i?f(D):t.next(D)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<r;){let D=c.shift();s?ot(t,s,()=>v(D)):v(D)}h()}catch(D){t.error(D)}}))};return n.subscribe(K(t,f,()=>{d=!0,h()})),()=>{a?.()}}function _e(n,t,e=1/0){return z(t)?_e((r,o)=>Z((i,s)=>t(r,i,o,s))(De(n(r,o))),e):(typeof t=="number"&&(e=t),J((r,o)=>Cm(r,o,n,e)))}function Un(n=1/0){return _e(ht,n)}function Dm(){return Un(1)}function Mo(...n){return Dm()(de(n,Vn(n)))}function Pi(n){return new Q(t=>{De(n()).subscribe(t)})}function sd(...n){let t=Pa(n),{args:e,keys:r}=ec(n),o=new Q(i=>{let{length:s}=e;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;De(e[u]).subscribe(K(i,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||i.next(r?tc(r,a):a),i.complete())}))}});return t?o.pipe(Xa(t)):o}function it(n,t){return J((e,r)=>{let o=0;e.subscribe(K(r,i=>n.call(t,i,o++)&&r.next(i)))})}function mn(n){return J((t,e)=>{let r=null,o=!1,i;r=t.subscribe(K(e,void 0,void 0,s=>{i=De(n(s,mn(n)(t))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function Im(n,t,e,r,o){return(i,s)=>{let a=e,c=t,l=0;i.subscribe(K(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function Bn(n,t){return z(t)?_e(n,t,1):_e(n,1)}function $n(n){return J((t,e)=>{let r=!1;t.subscribe(K(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function vn(n){return n<=0?()=>rt:J((t,e)=>{let r=0;t.subscribe(K(e,o=>{++r<=n&&(e.next(o),n<=r&&e.complete())}))})}function nc(n=kE){return J((t,e)=>{let r=!1;t.subscribe(K(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function kE(){return new gn}function Fi(n){return J((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function yn(n,t){let e=arguments.length>=2;return r=>r.pipe(n?it((o,i)=>n(o,i,r)):ht,vn(1),e?$n(t):nc(()=>new gn))}function To(n){return n<=0?()=>rt:J((t,e)=>{let r=[];t.subscribe(K(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(let o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function ad(n,t){let e=arguments.length>=2;return r=>r.pipe(n?it((o,i)=>n(o,i,r)):ht,To(1),e?$n(t):nc(()=>new gn))}function cd(n,t){return J(Im(n,t,arguments.length>=2,!0))}function ld(...n){let t=Vn(n);return J((e,r)=>{(t?Mo(n,e,t):Mo(n,e)).subscribe(r)})}function Qe(n,t){return J((e,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();e.subscribe(K(r,c=>{o?.unsubscribe();let l=0,u=i++;De(n(c,u)).subscribe(o=K(r,d=>r.next(t?t(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function rc(n){return J((t,e)=>{De(n).subscribe(K(e,()=>e.complete(),Ri)),!e.closed&&t.subscribe(e)})}function Pe(n,t,e){let r=z(n)||t||e?{next:n,error:t,complete:e}:n;return r?J((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(K(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ht}function Sm(n){let t=H(null);try{return n()}finally{H(t)}}var ac="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",M=class extends Error{code;constructor(t,e){super(Wn(t,e)),this.code=t}};function PE(n){return`NG0${Math.abs(n)}`}function Wn(n,t){return`${PE(n)}${t?": "+t:""}`}var Ui=globalThis;function oe(n){for(let t in n)if(n[t]===oe)return t;throw Error("")}function xm(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function wn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(wn).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function bd(n,t){return n?t?`${n} ${t}`:n:t||""}var FE=oe({__forward_ref__:oe});function Ct(n){return n.__forward_ref__=Ct,n.toString=function(){return wn(this())},n}function Ue(n){return Ed(n)?n():n}function Ed(n){return typeof n=="function"&&n.hasOwnProperty(FE)&&n.__forward_ref__===Ct}function T(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Pt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Bi(n){return LE(n,cc)}function Cd(n){return Bi(n)!==null}function LE(n,t){return n.hasOwnProperty(t)&&n[t]||null}function jE(n){let t=n?.[cc]??null;return t||null}function dd(n){return n&&n.hasOwnProperty(ic)?n[ic]:null}var cc=oe({\u0275prov:oe}),ic=oe({\u0275inj:oe}),A=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=T({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Dd(n){return n&&!!n.\u0275providers}var Id=oe({\u0275cmp:oe}),Sd=oe({\u0275dir:oe}),Md=oe({\u0275pipe:oe}),Td=oe({\u0275mod:oe}),ji=oe({\u0275fac:oe}),Tr=oe({__NG_ELEMENT_ID__:oe}),Mm=oe({__NG_ENV_ID__:oe});function $i(n){return typeof n=="string"?n:n==null?"":String(n)}function Am(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():$i(n)}var Om=oe({ngErrorCode:oe}),VE=oe({ngErrorMessage:oe}),UE=oe({ngTokenPath:oe});function xd(n,t){return Nm("",-200,t)}function lc(n,t){throw new M(-201,!1)}function Nm(n,t,e){let r=new M(t,n);return r[Om]=t,r[VE]=n,e&&(r[UE]=e),r}function BE(n){return n[Om]}var fd;function Rm(){return fd}function pt(n){let t=fd;return fd=n,t}function Ad(n,t,e){let r=Bi(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&8)return null;if(t!==void 0)return t;lc(n,"Injector")}var $E={},Cr=$E,HE="__NG_DI_FLAG__",hd=class{injector;constructor(t){this.injector=t}retrieve(t,e){let r=Dr(e)||0;try{return this.injector.get(t,r&8?null:Cr,r)}catch(o){if(ho(o))return o;throw o}}};function zE(n,t=0){let e=_a();if(e===void 0)throw new M(-203,!1);if(e===null)return Ad(n,void 0,t);{let r=WE(t),o=e.retrieve(n,r);if(ho(o)){if(r.optional)return null;throw o}return o}}function F(n,t=0){return(Rm()||zE)(Ue(n),t)}function y(n,t){return F(n,Dr(t))}function Dr(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function WE(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function pd(n){let t=[];for(let e=0;e<n.length;e++){let r=Ue(n[e]);if(Array.isArray(r)){if(r.length===0)throw new M(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=GE(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(F(o,i))}else t.push(F(r))}return t}function GE(n){return n[HE]}function Ir(n,t){let e=n.hasOwnProperty(ji);return e?n[ji]:null}function km(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=t[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}function Pm(n){return n.flat(Number.POSITIVE_INFINITY)}function uc(n,t){n.forEach(e=>Array.isArray(e)?uc(e,t):t(e))}function Od(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Hi(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Fm(n,t,e,r){let o=n.length;if(o==t)n.push(e,r);else if(o===1)n.push(r,n[0]),n[0]=e;else{for(o--,n.push(n[o-1],n[o]);o>t;){let i=o-2;n[o]=n[i],o--}n[t]=e,n[t+1]=r}}function Lm(n,t,e){let r=Ao(n,t);return r>=0?n[r|1]=e:(r=~r,Fm(n,r,t,e)),r}function dc(n,t){let e=Ao(n,t);if(e>=0)return n[e|1]}function Ao(n,t){return qE(n,t,1)}function qE(n,t,e){let r=0,o=n.length>>e;for(;o!==r;){let i=r+(o-r>>1),s=n[i<<e];if(t===s)return i<<e;s>t?o=i:r=i+1}return~(o<<e)}var Gn={},gt=[],qn=new A(""),Nd=new A("",-1),Rd=new A(""),Vi=class{get(t,e=Cr){if(e===Cr){let o=Nm("",-201);throw o.name="\u0275NotFound",o}return e}};function kd(n){return n[Td]||null}function bn(n){return n[Id]||null}function Pd(n){return n[Sd]||null}function jm(n){return n[Md]||null}function zi(n){return{\u0275providers:n}}function Vm(...n){return{\u0275providers:Fd(!0,n),\u0275fromNgModule:!0}}function Fd(n,...t){let e=[],r=new Set,o,i=s=>{e.push(s)};return uc(t,s=>{let a=s;sc(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Um(o,i),e}function Um(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:o}=n[e];Ld(o,i=>{t(i,r)})}}function sc(n,t,e,r){if(n=Ue(n),!n)return!1;let o=null,i=dd(n),s=!i&&bn(n);if(!i&&!s){let c=n.ngModule;if(i=dd(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=n}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)sc(l,t,e,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{uc(i.imports,u=>{sc(u,t,e,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Um(l,t)}if(!a){let l=Ir(o)||(()=>new o);t({provide:o,useFactory:l,deps:gt},o),t({provide:Rd,useValue:o,multi:!0},o),t({provide:qn,useValue:()=>F(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=n;Ld(c,u=>{t(u,l)})}}else return!1;return o!==n&&n.providers!==void 0}function Ld(n,t){for(let e of n)Dd(e)&&(e=e.\u0275providers),Array.isArray(e)?Ld(e,t):t(e)}var KE=oe({provide:String,useValue:oe});function Bm(n){return n!==null&&typeof n=="object"&&KE in n}function ZE(n){return!!(n&&n.useExisting)}function YE(n){return!!(n&&n.useFactory)}function Sr(n){return typeof n=="function"}function $m(n){return!!n.useClass}var Wi=new A(""),oc={},Tm={},ud;function Gi(){return ud===void 0&&(ud=new Vi),ud}var Ae=class{},Mr=class extends Ae{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,md(t,s=>this.processProvider(s)),this.records.set(Nd,xo(void 0,this)),o.has("environment")&&this.records.set(Ae,xo(void 0,this));let i=this.records.get(Wi);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Rd,gt,{self:!0}))}retrieve(t,e){let r=Dr(e)||0;try{return this.get(t,Cr,r)}catch(o){if(ho(o))return o;throw o}}destroy(){Li(this),this._destroyed=!0;let t=H(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),H(t)}}onDestroy(t){return Li(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Li(this);let e=Wt(this),r=pt(void 0),o;try{return t()}finally{Wt(e),pt(r)}}get(t,e=Cr,r){if(Li(this),t.hasOwnProperty(Mm))return t[Mm](this);let o=Dr(r),i,s=Wt(this),a=pt(void 0);try{if(!(o&4)){let l=this.records.get(t);if(l===void 0){let u=tC(t)&&Bi(t);u&&this.injectableDefInScope(u)?l=xo(gd(t),oc):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,o)}let c=o&2?Gi():this.parent;return e=o&8&&e===Cr?null:e,c.get(t,e)}catch(c){let l=BE(c);throw l===-200||l===-201?new M(l,null):c}finally{pt(a),Wt(s)}}resolveInjectorInitializers(){let t=H(null),e=Wt(this),r=pt(void 0),o;try{let i=this.get(qn,gt,{self:!0});for(let s of i)s()}finally{Wt(e),pt(r),H(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(wn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Ue(t);let e=Sr(t)?t:Ue(t&&t.provide),r=JE(t);if(!Sr(t)&&t.multi===!0){let o=this.records.get(e);o||(o=xo(void 0,oc,!0),o.factory=()=>pd(o.multi),this.records.set(e,o)),e=t,o.multi.push(t)}this.records.set(e,r)}hydrate(t,e,r){let o=H(null);try{if(e.value===Tm)throw xd(wn(t));return e.value===oc&&(e.value=Tm,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&eC(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{H(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=Ue(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function gd(n){let t=Bi(n),e=t!==null?t.factory:Ir(n);if(e!==null)return e;if(n instanceof A)throw new M(204,!1);if(n instanceof Function)return QE(n);throw new M(204,!1)}function QE(n){if(n.length>0)throw new M(204,!1);let e=jE(n);return e!==null?()=>e.factory(n):()=>new n}function JE(n){if(Bm(n))return xo(void 0,n.useValue);{let t=jd(n);return xo(t,oc)}}function jd(n,t,e){let r;if(Sr(n)){let o=Ue(n);return Ir(o)||gd(o)}else if(Bm(n))r=()=>Ue(n.useValue);else if(YE(n))r=()=>n.useFactory(...pd(n.deps||[]));else if(ZE(n))r=(o,i)=>F(Ue(n.useExisting),i!==void 0&&i&8?8:void 0);else{let o=Ue(n&&(n.useClass||n.provide));if(XE(n))r=()=>new o(...pd(n.deps));else return Ir(o)||gd(o)}return r}function Li(n){if(n.destroyed)throw new M(205,!1)}function xo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function XE(n){return!!n.deps}function eC(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function tC(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function md(n,t){for(let e of n)Array.isArray(e)?md(e,t):e&&Dd(e)?md(e.\u0275providers,t):t(e)}function We(n,t){let e;n instanceof Mr?(Li(n),e=n):e=new hd(n);let r,o=Wt(e),i=pt(void 0);try{return t()}finally{Wt(o),pt(i)}}function Hm(){return Rm()!==void 0||_a()!=null}var Ft=0,L=1,B=2,Fe=3,Dt=4,It=5,qi=6,Oo=7,Be=8,Kn=9,qt=10,pe=11,No=12,Vd=13,xr=14,St=15,Zn=16,Ar=17,Kt=18,Ki=19,Ud=20,_n=21,fc=22,Zi=23,mt=24,Or=25,Yi=26,Le=27,zm=1;var Yn=7,Qi=8,Nr=9,Ge=10;function Zt(n){return Array.isArray(n)&&typeof n[zm]=="object"}function Lt(n){return Array.isArray(n)&&n[zm]===!0}function Bd(n){return(n.flags&4)!==0}function Qn(n){return n.componentOffset>-1}function Ro(n){return(n.flags&1)===1}function Yt(n){return!!n.template}function ko(n){return(n[B]&512)!==0}function Rr(n){return(n[B]&256)===256}var Wm="svg",Gm="math";function Mt(n){for(;Array.isArray(n);)n=n[Ft];return n}function $d(n,t){return Mt(t[n])}function jt(n,t){return Mt(t[n.index])}function Ji(n,t){return n.data[t]}function Tt(n,t){let e=t[n];return Zt(e)?e:e[Ft]}function qm(n){return(n[B]&4)===4}function hc(n){return(n[B]&128)===128}function Km(n){return Lt(n[Fe])}function Qt(n,t){return t==null?null:n[t]}function Hd(n){n[Ar]=0}function zd(n){n[B]&1024||(n[B]|=1024,hc(n)&&Po(n))}function Zm(n,t){for(;n>0;)t=t[xr],n--;return t}function Xi(n){return!!(n[B]&9216||n[mt]?.dirty)}function pc(n){n[qt].changeDetectionScheduler?.notify(8),n[B]&64&&(n[B]|=1024),Xi(n)&&Po(n)}function Po(n){n[qt].changeDetectionScheduler?.notify(0);let t=Hn(n);for(;t!==null&&!(t[B]&8192||(t[B]|=8192,!hc(t)));)t=Hn(t)}function Wd(n,t){if(Rr(n))throw new M(911,!1);n[_n]===null&&(n[_n]=[]),n[_n].push(t)}function Ym(n,t){if(n[_n]===null)return;let e=n[_n].indexOf(t);e!==-1&&n[_n].splice(e,1)}function Hn(n){let t=n[Fe];return Lt(t)?t[Fe]:t}function Gd(n){return n[Oo]??=[]}function qd(n){return n.cleanup??=[]}function Qm(n,t,e,r){let o=Gd(t);o.push(e),n.firstCreatePass&&qd(n).push(r,o.length-1)}var q={lFrame:uv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var vd=!1;function Jm(){return q.lFrame.elementDepthCount}function Xm(){q.lFrame.elementDepthCount++}function Kd(){q.lFrame.elementDepthCount--}function gc(){return q.bindingsEnabled}function ev(){return q.skipHydrationRootTNode!==null}function Zd(n){return q.skipHydrationRootTNode===n}function Yd(){q.skipHydrationRootTNode=null}function Y(){return q.lFrame.lView}function Oe(){return q.lFrame.tView}function j(n){return q.lFrame.contextLView=n,n[Be]}function V(n){return q.lFrame.contextLView=null,n}function Ie(){let n=Qd();for(;n!==null&&n.type===64;)n=n.parent;return n}function Qd(){return q.lFrame.currentTNode}function tv(){let n=q.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Fo(n,t){let e=q.lFrame;e.currentTNode=n,e.isParent=t}function Jd(){return q.lFrame.isParent}function nv(){q.lFrame.isParent=!1}function Xd(){return vd}function ef(n){let t=vd;return vd=n,t}function rv(n){return q.lFrame.bindingIndex=n}function Lo(){return q.lFrame.bindingIndex++}function ov(n){let t=q.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function iv(){return q.lFrame.inI18n}function sv(n,t){let e=q.lFrame;e.bindingIndex=e.bindingRootIndex=n,mc(t)}function av(){return q.lFrame.currentDirectiveIndex}function mc(n){q.lFrame.currentDirectiveIndex=n}function cv(n){let t=q.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function tf(){return q.lFrame.currentQueryIndex}function vc(n){q.lFrame.currentQueryIndex=n}function nC(n){let t=n[L];return t.type===2?t.declTNode:t.type===1?n[It]:null}function nf(n,t,e){if(e&4){let o=t,i=n;for(;o=o.parent,o===null&&!(e&1);)if(o=nC(i),o===null||(i=i[xr],o.type&10))break;if(o===null)return!1;t=o,n=i}let r=q.lFrame=lv();return r.currentTNode=t,r.lView=n,!0}function yc(n){let t=lv(),e=n[L];q.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function lv(){let n=q.lFrame,t=n===null?null:n.child;return t===null?uv(n):t}function uv(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function dv(){let n=q.lFrame;return q.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var rf=dv;function _c(){let n=dv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function fv(n){return(q.lFrame.contextLView=Zm(n,q.lFrame.contextLView))[Be]}function kr(){return q.lFrame.selectedIndex}function Jn(n){q.lFrame.selectedIndex=n}function wc(){let n=q.lFrame;return Ji(n.tView,n.selectedIndex)}function hv(){return q.lFrame.currentNamespace}var pv=!0;function bc(){return pv}function es(n){pv=n}function yd(n,t=null,e=null,r){let o=of(n,t,e,r);return o.resolveInjectorInitializers(),o}function of(n,t=null,e=null,r,o=new Set){let i=[e||gt,Vm(n)];return r=r||(typeof n=="object"?void 0:wn(n)),new Mr(i,t||Gi(),r||null,o)}var st=class n{static THROW_IF_NOT_FOUND=Cr;static NULL=new Vi;static create(t,e){if(Array.isArray(t))return yd({name:""},e,t,"");{let r=t.name??"";return yd({name:r},t.parent,t.providers,r)}}static \u0275prov=T({token:n,providedIn:"any",factory:()=>F(Nd)});static __NG_ELEMENT_ID__=-1},Se=new A(""),En=(()=>{class n{static __NG_ELEMENT_ID__=rC;static __NG_ENV_ID__=e=>e}return n})(),_d=class extends En{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Rr(this._lView)}onDestroy(t){let e=this._lView;return Wd(e,t),()=>Ym(e,t)}};function rC(){return new _d(Y())}var kt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},vt=new A("",{providedIn:"root",factory:()=>{let n=y(Ae),t;return e=>{n.destroyed&&!t?setTimeout(()=>{throw e}):(t??=n.get(kt),t.handleError(e))}}}),gv={provide:qn,useValue:()=>void y(kt),multi:!0};function sf(n){return typeof n=="function"&&n[ze]!==void 0}function at(n,t){let[e,r,o]=Wu(n,t?.equal),i=e,s=i[ze];return i.set=r,i.update=o,i.asReadonly=mv.bind(i),i}function mv(){let n=this[ze];if(n.readonlyFn===void 0){let t=()=>this();t[ze]=n,n.readonlyFn=t}return n.readonlyFn}function af(n){return sf(n)&&typeof n.set=="function"}var Ec=(()=>{class n{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=oC}return n})();function oC(){return new Ec(Y(),Ie())}var zn=class{},Cc=new A("",{providedIn:"root",factory:()=>!1});var cf=new A(""),lf=new A(""),Cn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new xe(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Q(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=T({token:n,providedIn:"root",factory:()=>new n})}return n})();function ts(...n){}var uf=(()=>{class n{static \u0275prov=T({token:n,providedIn:"root",factory:()=>new wd})}return n})(),wd=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let e=t.zone,r=this.queues.get(e);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[e,r]of this.queues)e===null?t||=this.flushQueue(r):t||=e.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,e=!0,r.run());return e}};function cs(n){return{toString:n}.toString()}function pC(n){return typeof n=="function"}var Oc=class{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function Kv(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}var en=(()=>{let n=()=>Zv;return n.ngInherit=!0,n})();function Zv(n){return n.type.prototype.ngOnChanges&&(n.setInput=mC),gC}function gC(){let n=Qv(this),t=n?.current;if(t){let e=n.previous;if(e===Gn)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function mC(n,t,e,r,o){let i=this.declaredInputs[r],s=Qv(n)||vC(n,{previous:Gn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new Oc(l&&l.currentValue,e,c===Gn),Kv(n,t,o,e)}var Yv="__ngSimpleChanges__";function Qv(n){return n[Yv]||null}function vC(n,t){return n[Yv]=t}var vv=[];var ie=function(n,t=null,e){for(let r=0;r<vv.length;r++){let o=vv[r];o(n,t,e)}};function yC(n,t,e){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=Zv(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}o&&(e.preOrderHooks??=[]).push(0-n,o),i&&((e.preOrderHooks??=[]).push(n,i),(e.preOrderCheckHooks??=[]).push(n,i))}function Jv(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let i=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),c&&(n.viewHooks??=[]).push(-e,c),l&&((n.viewHooks??=[]).push(e,l),(n.viewCheckHooks??=[]).push(e,l)),u!=null&&(n.destroyHooks??=[]).push(e,u)}}function Sc(n,t,e){Xv(n,t,3,e)}function Mc(n,t,e,r){(n[B]&3)===e&&Xv(n,t,e,r)}function df(n,t){let e=n[B];(e&3)===t&&(e&=16383,e+=1,n[B]=e)}function Xv(n,t,e,r){let o=r!==void 0?n[Ar]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(n[Ar]+=65536),(a<i||i==-1)&&(_C(n,e,t,c),n[Ar]=(n[Ar]&4294901760)+c+2),c++}function yv(n,t){ie(4,n,t);let e=H(null);try{t.call(n)}finally{H(e),ie(5,n,t)}}function _C(n,t,e,r){let o=e[r]<0,i=e[r+1],s=o?-e[r]:e[r],a=n[s];o?n[B]>>14<n[Ar]>>16&&(n[B]&3)===t&&(n[B]+=16384,yv(a,i)):yv(a,i)}var Vo=-1,Fr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=e,this.injectImpl=r}};function wC(n){return(n.flags&8)!==0}function bC(n){return(n.flags&16)!==0}function EC(n,t,e){let r=0;for(;r<e.length;){let o=e[r];if(typeof o=="number"){if(o!==0)break;r++;let i=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,i)}else{let i=o,s=e[++r];CC(i)?n.setProperty(t,i,s):n.setAttribute(t,i,s),r++}}return r}function ey(n){return n===3||n===4||n===6}function CC(n){return n.charCodeAt(0)===64}function Uo(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?e=o:e===0||(e===-1||e===2?_v(n,e,o,null,t[++r]):_v(n,e,o,null,null))}}return n}function _v(n,t,e,r,o){let i=0,s=n.length;if(t===-1)s=-1;else for(;i<n.length;){let a=n[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<n.length;){let a=n[i];if(typeof a=="number")break;if(a===e){o!==null&&(n[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(n.splice(s,0,t),i=s+1),n.splice(i++,0,e),o!==null&&n.splice(i++,0,o)}function ty(n){return n!==Vo}function Nc(n){return n&32767}function DC(n){return n>>16}function Rc(n,t){let e=DC(n),r=t;for(;e>0;)r=r[xr],e--;return r}var wf=!0;function wv(n){let t=wf;return wf=n,t}var IC=256,ny=IC-1,ry=5,SC=0,Jt={};function MC(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Tr)&&(r=e[Tr]),r==null&&(r=e[Tr]=SC++);let o=r&ny,i=1<<o;t.data[n+(o>>ry)]|=i}function kc(n,t){let e=oy(n,t);if(e!==-1)return e;let r=t[L];r.firstCreatePass&&(n.injectorIndex=t.length,ff(r.data,n),ff(t,null),ff(r.blueprint,null));let o=Wf(n,t),i=n.injectorIndex;if(ty(o)){let s=Nc(o),a=Rc(o,t),c=a[L].data;for(let l=0;l<8;l++)t[i+l]=a[s+l]|c[s+l]}return t[i+8]=o,i}function ff(n,t){n.push(0,0,0,0,0,0,0,0,t)}function oy(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function Wf(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,o=t;for(;o!==null;){if(r=ly(o),r===null)return Vo;if(e++,o=o[xr],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Vo}function bf(n,t,e){MC(n,t,e)}function TC(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,o=0;for(;o<r;){let i=e[o];if(ey(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof e[o]=="string";)o++;else{if(i===t)return e[o+1];o=o+2}}}return null}function iy(n,t,e){if(e&8||n!==void 0)return n;lc(t,"NodeInjector")}function sy(n,t,e,r){if(e&8&&r===void 0&&(r=null),(e&3)===0){let o=n[Kn],i=pt(void 0);try{return o?o.get(t,r,e&8):Ad(t,r,e&8)}finally{pt(i)}}return iy(r,t,e)}function ay(n,t,e,r=0,o){if(n!==null){if(t[B]&2048&&!(r&2)){let s=NC(n,t,e,r,Jt);if(s!==Jt)return s}let i=cy(n,t,e,r,Jt);if(i!==Jt)return i}return sy(t,e,r,o)}function cy(n,t,e,r,o){let i=AC(e);if(typeof i=="function"){if(!nf(t,n,r))return r&1?iy(o,e,r):sy(t,e,r,o);try{let s;if(s=i(r),s==null&&!(r&8))lc(e);else return s}finally{rf()}}else if(typeof i=="number"){let s=null,a=oy(n,t),c=Vo,l=r&1?t[St][It]:null;for((a===-1||r&4)&&(c=a===-1?Wf(n,t):t[a+8],c===Vo||!Ev(r,!1)?a=-1:(s=t[L],a=Nc(c),t=Rc(c,t)));a!==-1;){let u=t[L];if(bv(i,a,u.data)){let d=xC(a,t,e,s,r,l);if(d!==Jt)return d}c=t[a+8],c!==Vo&&Ev(r,t[L].data[a+8]===l)&&bv(i,a,t)?(s=u,a=Nc(c),t=Rc(c,t)):a=-1}}return o}function xC(n,t,e,r,o,i){let s=t[L],a=s.data[n+8],c=r==null?Qn(a)&&wf:r!=s&&(a.type&3)!==0,l=o&1&&i===a,u=Tc(a,s,e,c,l);return u!==null?os(t,s,u,a,o):Jt}function Tc(n,t,e,r,o){let i=n.providerIndexes,s=t.data,a=i&1048575,c=n.directiveStart,l=n.directiveEnd,u=i>>20,d=r?a:a+u,h=o?a+u:l;for(let f=d;f<h;f++){let v=s[f];if(f<c&&e===v||f>=c&&v.type===e)return f}if(o){let f=s[c];if(f&&Yt(f)&&f.type===e)return c}return null}function os(n,t,e,r,o){let i=n[e],s=t.data;if(i instanceof Fr){let a=i;if(a.resolving){let f=Am(s[e]);throw xd(f)}let c=wv(a.canSeeViewProviders);a.resolving=!0;let l=s[e].type||s[e],u,d=a.injectImpl?pt(a.injectImpl):null,h=nf(n,r,0);try{i=n[e]=a.factory(void 0,o,s,n,r),t.firstCreatePass&&e>=r.directiveStart&&yC(e,s[e],t)}finally{d!==null&&pt(d),wv(c),a.resolving=!1,rf()}}return i}function AC(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Tr)?n[Tr]:void 0;return typeof t=="number"?t>=0?t&ny:OC:t}function bv(n,t,e){let r=1<<n;return!!(e[t+(n>>ry)]&r)}function Ev(n,t){return!(n&2)&&!(n&1&&t)}var Pr=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return ay(this._tNode,this._lView,t,Dr(r),e)}};function OC(){return new Pr(Ie(),Y())}function tn(n){return cs(()=>{let t=n.prototype.constructor,e=t[ji]||Ef(t),r=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){let i=o[ji]||Ef(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Ef(n){return Ed(n)?()=>{let t=Ef(Ue(n));return t&&t()}:Ir(n)}function NC(n,t,e,r,o){let i=n,s=t;for(;i!==null&&s!==null&&s[B]&2048&&!ko(s);){let a=cy(i,s,e,r|2,Jt);if(a!==Jt)return a;let c=i.parent;if(!c){let l=s[Ud];if(l){let u=l.get(e,Jt,r);if(u!==Jt)return u}c=ly(s),s=s[xr]}i=c}return o}function ly(n){let t=n[L],e=t.type;return e===2?t.declTNode:e===1?n[It]:null}function ls(n){return TC(Ie(),n)}function RC(){return zo(Ie(),Y())}function zo(n,t){return new Je(jt(n,t))}var Je=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=RC}return n})();function kC(n){return n instanceof Je?n.nativeElement:n}function PC(){return this._results[Symbol.iterator]()}var Pc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ye}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let r=Pm(t);(this._changesDetected=!km(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=PC};function uy(n){return(n.flags&128)===128}var Gf=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Gf||{}),dy=new Map,FC=0;function LC(){return FC++}function jC(n){dy.set(n[Ki],n)}function Cf(n){dy.delete(n[Ki])}var Cv="__ngContext__";function Bo(n,t){Zt(t)?(n[Cv]=t[Ki],jC(t)):n[Cv]=t}function fy(n){return py(n[No])}function hy(n){return py(n[Dt])}function py(n){for(;n!==null&&!Lt(n);)n=n[Dt];return n}var Df;function qf(n){Df=n}function gy(){if(Df!==void 0)return Df;if(typeof document<"u")return document;throw new M(210,!1)}var Zc=new A("",{providedIn:"root",factory:()=>VC}),VC="ng",Yc=new A(""),Wo=new A("",{providedIn:"platform",factory:()=>"unknown"});var Qc=new A("",{providedIn:"root",factory:()=>gy().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var UC="h",BC="b";var my=!1,vy=new A("",{providedIn:"root",factory:()=>my});var Kf=new A("");var $C=(n,t,e,r)=>{};function HC(n,t,e,r){$C(n,t,e,r)}function Zf(n){return(n.flags&32)===32}var zC=()=>null;function yy(n,t,e=!1){return zC(n,t,e)}function _y(n,t){let e=n.contentQueries;if(e!==null){let r=H(null);try{for(let o=0;o<e.length;o+=2){let i=e[o],s=e[o+1];if(s!==-1){let a=n.data[s];vc(i),a.contentQueries(2,t[s],s)}}}finally{H(r)}}}function If(n,t,e){vc(0);let r=H(null);try{t(n,e)}finally{H(r)}}function Yf(n,t,e){if(Bd(t)){let r=H(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=n.data[s];if(a.contentQueries){let c=e[s];a.contentQueries(1,c,s)}}}finally{H(r)}}}var Dn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Dn||{});var Dc;function WC(){if(Dc===void 0&&(Dc=null,Ui.trustedTypes))try{Dc=Ui.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Dc}function Dv(n){return WC()?.createScriptURL(n)||n}var Fc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ac})`}};function us(n){return n instanceof Fc?n.changingThisBreaksApplicationSecurity:n}function Qf(n,t){let e=wy(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${ac})`)}return e===t}function wy(n){return n instanceof Fc&&n.getTypeName()||null}var GC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function by(n){return n=String(n),n.match(GC)?n:"unsafe:"+n}var Jc=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Jc||{});function Ey(n){let t=Dy();return t?t.sanitize(Jc.URL,n)||"":Qf(n,"URL")?us(n):by($i(n))}function Cy(n){let t=Dy();if(t)return Dv(t.sanitize(Jc.RESOURCE_URL,n)||"");if(Qf(n,"ResourceURL"))return Dv(us(n));throw new M(904,!1)}function qC(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?Cy:Ey}function Jf(n,t,e){return qC(t,e)(n)}function Dy(){let n=Y();return n&&n[qt].sanitizer}var KC=/^>|^->|<!--|-->|--!>|<!-$/g,ZC=/(<|>)/g,YC="\u200B$1\u200B";function QC(n){return n.replace(KC,t=>t.replace(ZC,YC))}function Iy(n){return n instanceof Function?n():n}function JC(n,t,e){let r=n.length;for(;;){let o=n.indexOf(t,e);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}e=o+1}}var Sy="ng-template";function XC(n,t,e,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&JC(t[o+1].toLowerCase(),e,0)!==-1)return!0}else if(Xf(n))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===e)return!0}return!1}function Xf(n){return n.type===4&&n.value!==Sy}function eD(n,t,e){let r=n.type===4&&!e?Sy:n.value;return t===r}function tD(n,t,e){let r=4,o=n.attrs,i=o!==null?oD(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Vt(r)&&!Vt(c))return!1;if(s&&Vt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!eD(n,c,e)||c===""&&t.length===1){if(Vt(r))return!1;s=!0}}else if(r&8){if(o===null||!XC(n,o,c,e)){if(Vt(r))return!1;s=!0}}else{let l=t[++a],u=nD(c,o,Xf(n),e);if(u===-1){if(Vt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(Vt(r))return!1;s=!0}}}}return Vt(r)||s}function Vt(n){return(n&1)===0}function nD(n,t,e,r){if(t===null)return-1;let o=0;if(r||!e){let i=!1;for(;o<t.length;){let s=t[o];if(s===n)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return iD(t,n)}function rD(n,t,e=!1){for(let r=0;r<t.length;r++)if(tD(n,t[r],e))return!0;return!1}function oD(n){for(let t=0;t<n.length;t++){let e=n[t];if(ey(e))return t}return n.length}function iD(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function Iv(n,t){return n?":not("+t.trim()+")":t}function sD(n){let t=n[0],e=1,r=2,o="",i=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(r&2){let a=n[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Vt(s)&&(t+=Iv(i,o),o=""),r=s,i=i||!Vt(r);e++}return o!==""&&(t+=Iv(i,o)),t}function aD(n){return n.map(sD).join(",")}function cD(n){let t=[],e=[],r=1,o=2;for(;r<n.length;){let i=n[r];if(typeof i=="string")o===2?i!==""&&t.push(i,n[++r]):o===8&&e.push(i);else{if(!Vt(o))break;o=i}r++}return e.length&&t.push(1,...e),t}var In={};function lD(n,t){return n.createText(t)}function uD(n,t,e){n.setValue(t,e)}function dD(n,t){return n.createComment(QC(t))}function My(n,t,e){return n.createElement(t,e)}function Lc(n,t,e,r,o){n.insertBefore(t,e,r,o)}function Ty(n,t,e){n.appendChild(t,e)}function Sv(n,t,e,r,o){r!==null?Lc(n,t,e,r,o):Ty(n,t,e)}function fD(n,t,e,r){n.removeChild(null,t,e,r)}function hD(n,t,e){n.setAttribute(t,"style",e)}function pD(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function xy(n,t,e){let{mergedAttrs:r,classes:o,styles:i}=e;r!==null&&EC(n,t,r),o!==null&&pD(n,t,o),i!==null&&hD(n,t,i)}function eh(n,t,e,r,o,i,s,a,c,l,u){let d=Le+r,h=d+o,f=gD(d,h),v=typeof l=="function"?l():l;return f[L]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:u}}function gD(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:In);return e}function mD(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=eh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function th(n,t,e,r,o,i,s,a,c,l,u){let d=t.blueprint.slice();return d[Ft]=o,d[B]=r|4|128|8|64|1024,(l!==null||n&&n[B]&2048)&&(d[B]|=2048),Hd(d),d[Fe]=d[xr]=n,d[Be]=e,d[qt]=s||n&&n[qt],d[pe]=a||n&&n[pe],d[Kn]=c||n&&n[Kn]||null,d[It]=i,d[Ki]=LC(),d[qi]=u,d[Ud]=l,d[St]=t.type==2?n[St]:d,d}function vD(n,t,e){let r=jt(t,n),o=mD(e),i=n[qt].rendererFactory,s=nh(n,th(n,o,null,Ay(e),r,t,null,i.createRenderer(r,e),null,null,null));return n[t.index]=s}function Ay(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function Oy(n,t,e,r){if(e===0)return-1;let o=t.length;for(let i=0;i<e;i++)t.push(r),n.blueprint.push(r),n.data.push(null);return o}function nh(n,t){return n[No]?n[Vd][Dt]=t:n[No]=t,n[Vd]=t,t}function C(n=1){Ny(Oe(),Y(),kr()+n,!1)}function Ny(n,t,e,r){if(!r)if((t[B]&3)===3){let i=n.preOrderCheckHooks;i!==null&&Sc(t,i,e)}else{let i=n.preOrderHooks;i!==null&&Mc(t,i,0,e)}Jn(e)}var Xc=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Xc||{});function Sf(n,t,e,r){let o=H(null);try{let[i,s,a]=n.inputs[e],c=null;(s&Xc.SignalBased)!==0&&(c=t[i][ze]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),n.setInput!==null?n.setInput(t,c,r,e,i):Kv(t,c,i,r)}finally{H(o)}}var Xt=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Xt||{}),yD;function rh(n,t){return yD(n,t)}var $o=new Set,el=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(el||{}),Br=new A(""),Mv=new Set;function Sn(n){Mv.has(n)||(Mv.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Ry=!1,Mf=class extends ye{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Hm()&&(this.destroyRef=y(En,{optional:!0})??void 0,this.pendingTasks=y(Cn,{optional:!0})??void 0)}emit(t){let e=H(null);try{super.next(t)}finally{H(e)}}subscribe(t,e,r){let o=t,i=e||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof Ce&&t.add(a),a}wrapInTimeout(t){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},we=Mf;function ky(n){let t,e;function r(){n=ts;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Tv(n){return queueMicrotask(()=>n()),()=>{n=ts}}var oh="isAngularZone",jc=oh+"_ID",_D=0,Me=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new we(!1);onMicrotaskEmpty=new we(!1);onStable=new we(!1);onError=new we(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Ry}=t;if(typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,ED(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(oh)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new M(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,wD,ts,ts);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},wD={};function ih(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function bD(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){ky(()=>{n.callbackScheduled=!1,Tf(n),n.isCheckStableRunning=!0,ih(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),Tf(n)}function ED(n){let t=()=>{bD(n)},e=_D++;n._inner=n._inner.fork({name:"angular",properties:{[oh]:!0,[jc]:e,[jc+e]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(CD(c))return r.invokeTask(i,s,a,c);try{return xv(n),r.invokeTask(i,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),Av(n)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return xv(n),r.invoke(i,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!DD(c)&&t(),Av(n)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Tf(n),ih(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Tf(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function xv(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Av(n){n._nesting--,ih(n)}var Vc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new we;onMicrotaskEmpty=new we;onStable=new we;onError=new we;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,o){return t.apply(e,r)}};function CD(n){return Py(n,"__ignore_ng_zone__")}function DD(n){return Py(n,"__scheduler_tick__")}function Py(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var sh=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=T({token:n,providedIn:"root",factory:()=>new n})}return n})(),Fy=[0,1,2,3],Ly=(()=>{class n{ngZone=y(Me);scheduler=y(zn);errorHandler=y(kt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){y(Br,{optional:!0})}execute(){let e=this.sequences.size>0;e&&ie(16),this.executing=!0;for(let r of Fy)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&ie(17)}register(e){let{view:r}=e;r!==void 0?((r[Or]??=[]).push(e),Po(r),r[B]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(el.AFTER_NEXT_RENDER,e):e()}static \u0275prov=T({token:n,providedIn:"root",factory:()=>new n})}return n})(),Uc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,o,i,s=null){this.impl=t,this.hooks=e,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Or];t&&(this.view[Or]=t.filter(e=>e!==this))}};function ds(n,t){let e=t?.injector??y(st);return Sn("NgAfterNextRender"),SD(n,e,t,!0)}function ID(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function SD(n,t,e,r){let o=t.get(sh);o.impl??=t.get(Ly);let i=t.get(Br,null,{optional:!0}),s=e?.manualCleanup!==!0?t.get(En):null,a=t.get(Ec,null,{optional:!0}),c=new Uc(o.impl,ID(n),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var MD=new A("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function jy(n,t){let e=n.get(MD);if(Array.isArray(t))for(let r of t)e.queue.add(r);else e.queue.add(t);e.scheduler&&e.scheduler(n)}function TD(n,t){for(let[e,r]of t)jy(n,r.animateFns)}function Ov(n,t,e,r){let o=n?.[Yi]?.enter;t!==null&&o&&o.has(e.index)&&TD(r,o)}function jo(n,t,e,r,o,i,s,a){if(o!=null){let c,l=!1;Lt(o)?c=o:Zt(o)&&(l=!0,o=o[Ft]);let u=Mt(o);n===0&&r!==null?(Ov(a,r,i,e),s==null?Ty(t,r,u):Lc(t,r,u,s||null,!0)):n===1&&r!==null?(Ov(a,r,i,e),Lc(t,r,u,s||null,!0)):n===2?Nv(a,i,e,d=>{fD(t,u,l,d)}):n===3&&Nv(a,i,e,()=>{t.destroyNode(u)}),c!=null&&BD(t,n,e,c,i,r,s)}}function xD(n,t){Vy(n,t),t[Ft]=null,t[It]=null}function AD(n,t,e,r,o,i){r[Ft]=o,r[It]=t,tl(n,r,e,1,o,i)}function Vy(n,t){t[qt].changeDetectionScheduler?.notify(9),tl(n,t,t[pe],2,null,null)}function OD(n){let t=n[No];if(!t)return hf(n[L],n);for(;t;){let e=null;if(Zt(t))e=t[No];else{let r=t[Ge];r&&(e=r)}if(!e){for(;t&&!t[Dt]&&t!==n;)Zt(t)&&hf(t[L],t),t=t[Fe];t===null&&(t=n),Zt(t)&&hf(t[L],t),e=t&&t[Dt]}t=e}}function ah(n,t){let e=n[Nr],r=e.indexOf(t);e.splice(r,1)}function ch(n,t){if(Rr(t))return;let e=t[pe];e.destroyNode&&tl(n,t,e,3,null,null),OD(t)}function hf(n,t){if(Rr(t))return;let e=H(null);try{t[B]&=-129,t[B]|=256,t[mt]&&Oi(t[mt]),kD(n,t),RD(n,t),t[L].type===1&&t[pe].destroy();let r=t[Zn];if(r!==null&&Lt(t[Fe])){r!==t[Fe]&&ah(r,t);let o=t[Kt];o!==null&&o.detachView(n)}Cf(t)}finally{H(e)}}function Nv(n,t,e,r){let o=n?.[Yi];if(o==null||o.leave==null||!o.leave.has(t.index))return r(!1);if(o.skipLeaveAnimations)return o.skipLeaveAnimations=!1,r(!1);n&&$o.add(n),jy(e,()=>{if(o.leave&&o.leave.has(t.index)){let s=o.leave.get(t.index),a=[];if(s)for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}o.running=Promise.allSettled(a),ND(n,r)}else n&&$o.delete(n),r(!1)})}function ND(n,t){let e=n[Yi]?.running;if(e){e.then(()=>{n[Yi].running=void 0,$o.delete(n),t(!0)});return}t(!1)}function RD(n,t){let e=n.cleanup,r=t[Oo];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(t[Oo]=null);let o=t[_n];if(o!==null){t[_n]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[Zi];if(i!==null){t[Zi]=null;for(let s of i)s.destroy()}}function kD(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let o=t[e[r]];if(!(o instanceof Fr)){let i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];ie(4,a,c);try{c.call(a)}finally{ie(5,a,c)}}else{ie(4,o,i);try{i.call(o)}finally{ie(5,o,i)}}}}}function PD(n,t,e){return FD(n,t.parent,e)}function FD(n,t,e){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return e[Ft];if(Qn(r)){let{encapsulation:o}=n.data[r.directiveStart+r.componentOffset];if(o===Dn.None||o===Dn.Emulated)return null}return jt(r,e)}function LD(n,t,e){return VD(n,t,e)}function jD(n,t,e){return n.type&40?jt(n,e):null}var VD=jD,Rv;function lh(n,t,e,r){let o=PD(n,r,t),i=t[pe],s=r.parent||t[It],a=LD(s,r,t);if(o!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)Sv(i,o,e[c],a,!1);else Sv(i,o,e,a,!1);Rv!==void 0&&Rv(i,r,t,e,o)}function ns(n,t){if(t!==null){let e=t.type;if(e&3)return jt(t,n);if(e&4)return xf(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return ns(n,r);{let o=n[t.index];return Lt(o)?xf(-1,o):Mt(o)}}else{if(e&128)return ns(n,t.next);if(e&32)return rh(t,n)()||Mt(n[t.index]);{let r=Uy(n,t);if(r!==null){if(Array.isArray(r))return r[0];let o=Hn(n[St]);return ns(o,r)}else return ns(n,t.next)}}}return null}function Uy(n,t){if(t!==null){let r=n[St][It],o=t.projection;return r.projection[o]}return null}function xf(n,t){let e=Ge+n+1;if(e<t.length){let r=t[e],o=r[L].firstChild;if(o!==null)return ns(r,o)}return t[Yn]}function uh(n,t,e,r,o,i,s){for(;e!=null;){let a=r[Kn];if(e.type===128){e=e.next;continue}let c=r[e.index],l=e.type;if(s&&t===0&&(c&&Bo(Mt(c),r),e.flags|=2),!Zf(e))if(l&8)uh(n,t,e.child,r,o,i,!1),jo(t,n,a,o,c,e,i,r);else if(l&32){let u=rh(e,r),d;for(;d=u();)jo(t,n,a,o,d,e,i,r);jo(t,n,a,o,c,e,i,r)}else l&16?UD(n,t,r,e,o,i):jo(t,n,a,o,c,e,i,r);e=s?e.projectionNext:e.next}}function tl(n,t,e,r,o,i){uh(e,r,n.firstChild,t,o,i,!1)}function UD(n,t,e,r,o,i){let s=e[St],c=s[It].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];jo(t,n,e[Kn],o,u,r,i,e)}else{let l=c,u=s[Fe];uy(r)&&(l.flags|=128),uh(n,t,l,u,o,i,!0)}}function BD(n,t,e,r,o,i,s){let a=r[Yn],c=Mt(r);a!==c&&jo(t,n,e,i,a,o,s);for(let l=Ge;l<r.length;l++){let u=r[l];tl(u[L],u,n,t,i,a)}}function $D(n,t,e,r,o){if(t)o?n.addClass(e,r):n.removeClass(e,r);else{let i=r.indexOf("-")===-1?void 0:Xt.DashCase;o==null?n.removeStyle(e,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Xt.Important),n.setStyle(e,r,o,i))}}function By(n,t,e,r,o){let i=kr(),s=r&2;try{Jn(-1),s&&t.length>Le&&Ny(n,t,Le,!1),ie(s?2:0,o,e),e(r,o)}finally{Jn(i),ie(s?3:1,o,e)}}function nl(n,t,e){ZD(n,t,e),(e.flags&64)===64&&YD(n,t,e)}function fs(n,t,e=jt){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?e(t,n):n[s];n[o++]=a}}}function HD(n,t,e,r){let i=r.get(vy,my)||e===Dn.ShadowDom,s=n.selectRootElement(t,i);return zD(s),s}function zD(n){WD(n)}var WD=()=>null;function GD(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function $y(n,t,e,r,o,i){let s=t[L];if(ph(n,s,t,e,r)){Qn(n)&&KD(t,n.index);return}n.type&3&&(e=GD(e)),qD(n,t,e,r,o,i)}function qD(n,t,e,r,o,i){if(n.type&3){let s=jt(n,t);r=i!=null?i(r,n.value||"",e):r,o.setProperty(s,e,r)}else n.type&12}function KD(n,t){let e=Tt(t,n);e[B]&16||(e[B]|=64)}function ZD(n,t,e){let r=e.directiveStart,o=e.directiveEnd;Qn(e)&&vD(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||kc(e,t);let i=e.initialInputs;for(let s=r;s<o;s++){let a=n.data[s],c=os(t,n,s,e);if(Bo(c,t),i!==null&&eI(t,s-r,c,a,e,i),Yt(a)){let l=Tt(e.index,t);l[Be]=os(t,n,s,e)}}}function YD(n,t,e){let r=e.directiveStart,o=e.directiveEnd,i=e.index,s=av();try{Jn(i);for(let a=r;a<o;a++){let c=n.data[a],l=t[a];mc(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&QD(c,l)}}finally{Jn(-1),mc(s)}}function QD(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function dh(n,t){let e=n.directiveRegistry,r=null;if(e)for(let o=0;o<e.length;o++){let i=e[o];rD(t,i.selectors,!1)&&(r??=[],Yt(i)?r.unshift(i):r.push(i))}return r}function JD(n,t,e,r,o,i){let s=jt(n,t);XD(t[pe],s,i,n.value,e,r,o)}function XD(n,t,e,r,o,i,s){if(i==null)n.removeAttribute(t,o,e);else{let a=s==null?$i(i):s(i,r||"",o);n.setAttribute(t,o,a,e)}}function eI(n,t,e,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Sf(r,e,c,l)}}function fh(n,t,e,r,o){let i=Le+e,s=t[L],a=o(s,t,n,r,e);t[i]=a,Fo(n,!0);let c=n.type===2;return c?(xy(t[pe],a,n),(Jm()===0||Ro(n))&&Bo(a,t),Xm()):Bo(a,t),bc()&&(!c||!Zf(n))&&lh(s,t,a,n),n}function hh(n){let t=n;return Jd()?nv():(t=t.parent,Fo(t,!1)),t}function tI(n,t){let e=n[Kn];if(!e)return;let r;try{r=e.get(vt,null)}catch{r=null}r?.(t)}function ph(n,t,e,r,o){let i=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Sf(d,e[l],u,o),a=!0}if(i)for(let c of i){let l=e[c],u=t.data[c];Sf(u,l,r,o),a=!0}return a}function nI(n,t){let e=Tt(t,n),r=e[L];rI(r,e);let o=e[Ft];o!==null&&e[qi]===null&&(e[qi]=yy(o,e[Kn])),ie(18),gh(r,e,e[Be]),ie(19,e[Be])}function rI(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function gh(n,t,e){yc(t);try{let r=n.viewQuery;r!==null&&If(1,r,e);let o=n.template;o!==null&&By(n,t,o,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[Kt]?.finishViewCreation(n),n.staticContentQueries&&_y(n,t),n.staticViewQueries&&If(2,n.viewQuery,e);let i=n.components;i!==null&&oI(t,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[B]&=-5,_c()}}function oI(n,t){for(let e=0;e<t.length;e++)nI(n,t[e])}function Hy(n,t,e,r){let o=H(null);try{let i=t.tView,a=n[B]&4096?4096:16,c=th(n,i,e,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[t.index];c[Zn]=l;let u=n[Kt];return u!==null&&(c[Kt]=u.createEmbeddedView(i)),gh(i,c,e),c}finally{H(o)}}function Af(n,t){return!t||t.firstChild===null||uy(n)}function is(n,t,e,r,o=!1){for(;e!==null;){if(e.type===128){e=o?e.projectionNext:e.next;continue}let i=t[e.index];i!==null&&r.push(Mt(i)),Lt(i)&&zy(i,r);let s=e.type;if(s&8)is(n,t,e.child,r);else if(s&32){let a=rh(e,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Uy(t,e);if(Array.isArray(a))r.push(...a);else{let c=Hn(t[St]);is(c[L],c,a,r,!0)}}e=o?e.projectionNext:e.next}return r}function zy(n,t){for(let e=Ge;e<n.length;e++){let r=n[e],o=r[L].firstChild;o!==null&&is(r[L],r,o,t)}n[Yn]!==n[Ft]&&t.push(n[Yn])}function Wy(n){if(n[Or]!==null){for(let t of n[Or])t.impl.addSequence(t);n[Or].length=0}}var Gy=[];function iI(n){return n[mt]??sI(n)}function sI(n){let t=Gy.pop()??Object.create(cI);return t.lView=n,t}function aI(n){n.lView[mt]!==n&&(n.lView=null,Gy.push(n))}var cI=G(E({},po),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Po(n.lView)},consumerOnSignalRead(){this.lView[mt]=this}});function lI(n){let t=n[mt]??Object.create(uI);return t.lView=n,t}var uI=G(E({},po),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Hn(n.lView);for(;t&&!qy(t[L]);)t=Hn(t);t&&zd(t)},consumerOnSignalRead(){this.lView[mt]=this}});function qy(n){return n.type!==2}function Ky(n){if(n[Zi]===null)return;let t=!0;for(;t;){let e=!1;for(let r of n[Zi])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(n[B]&8192)}}var dI=100;function Zy(n,t=0){let r=n[qt].rendererFactory,o=!1;o||r.begin?.();try{fI(n,t)}finally{o||r.end?.()}}function fI(n,t){let e=Xd();try{ef(!0),Of(n,t);let r=0;for(;Xi(n);){if(r===dI)throw new M(103,!1);r++,Of(n,1)}}finally{ef(e)}}function hI(n,t,e,r){if(Rr(t))return;let o=t[B],i=!1,s=!1;yc(t);let a=!0,c=null,l=null;i||(qy(n)?(l=iI(t),c=mo(l)):Da()===null?(a=!1,l=lI(t),c=mo(l)):t[mt]&&(Oi(t[mt]),t[mt]=null));try{Hd(t),rv(n.bindingStartIndex),e!==null&&By(n,t,e,2,r);let u=(o&3)===3;if(!i)if(u){let f=n.preOrderCheckHooks;f!==null&&Sc(t,f,null)}else{let f=n.preOrderHooks;f!==null&&Mc(t,f,0,null),df(t,0)}if(s||pI(t),Ky(t),Yy(t,0),n.contentQueries!==null&&_y(n,t),!i)if(u){let f=n.contentCheckHooks;f!==null&&Sc(t,f)}else{let f=n.contentHooks;f!==null&&Mc(t,f,1),df(t,1)}mI(n,t);let d=n.components;d!==null&&Jy(t,d,0);let h=n.viewQuery;if(h!==null&&If(2,h,r),!i)if(u){let f=n.viewCheckHooks;f!==null&&Sc(t,f)}else{let f=n.viewHooks;f!==null&&Mc(t,f,2),df(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[fc]){for(let f of t[fc])f();t[fc]=null}i||(Wy(t),t[B]&=-73)}catch(u){throw i||Po(t),u}finally{l!==null&&(xi(l,c),a&&aI(l)),_c()}}function Yy(n,t){for(let e=fy(n);e!==null;e=hy(e))for(let r=Ge;r<e.length;r++){let o=e[r];Qy(o,t)}}function pI(n){for(let t=fy(n);t!==null;t=hy(t)){if(!(t[B]&2))continue;let e=t[Nr];for(let r=0;r<e.length;r++){let o=e[r];zd(o)}}}function gI(n,t,e){ie(18);let r=Tt(t,n);Qy(r,e),ie(19,r[Be])}function Qy(n,t){hc(n)&&Of(n,t)}function Of(n,t){let r=n[L],o=n[B],i=n[mt],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&Ai(i)),s||=!1,i&&(i.dirty=!1),n[B]&=-9217,s)hI(r,n,r.template,n[Be]);else if(o&8192){let a=H(null);try{Ky(n),Yy(n,1);let c=r.components;c!==null&&Jy(n,c,1),Wy(n)}finally{H(a)}}}function Jy(n,t,e){for(let r=0;r<t.length;r++)gI(n,t[r],e)}function mI(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let o=e[r];if(o<0)Jn(~o);else{let i=o,s=e[++r],a=e[++r];sv(s,i);let c=t[i];ie(24,c),a(2,c),ie(25,c)}}}finally{Jn(-1)}}function mh(n,t){let e=Xd()?64:1088;for(n[qt].changeDetectionScheduler?.notify(t);n;){n[B]|=e;let r=Hn(n);if(ko(n)&&!r)return n;n=r}return null}function Xy(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function vI(n,t){let e=Ge+t;if(e<n.length)return n[e]}function e_(n,t,e,r=!0){let o=t[L];if(_I(o,t,n,e),r){let s=xf(e,n),a=t[pe],c=a.parentNode(n[Yn]);c!==null&&AD(o,n[It],a,t,c,s)}let i=t[qi];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function yI(n,t){let e=Bc(n,t);return e!==void 0&&ch(e[L],e),e}function Bc(n,t){if(n.length<=Ge)return;let e=Ge+t,r=n[e];if(r){let o=r[Zn];o!==null&&o!==n&&ah(o,r),t>0&&(n[e-1][Dt]=r[Dt]);let i=Hi(n,Ge+t);xD(r[L],r);let s=i[Kt];s!==null&&s.detachView(i[L]),r[Fe]=null,r[Dt]=null,r[B]&=-129}return r}function _I(n,t,e,r){let o=Ge+r,i=e.length;r>0&&(e[o-1][Dt]=t),r<i-Ge?(t[Dt]=e[o],Od(e,Ge+r,t)):(e.push(t),t[Dt]=null),t[Fe]=e;let s=t[Zn];s!==null&&e!==s&&t_(s,t);let a=t[Kt];a!==null&&a.insertView(n),pc(t),t[B]|=128}function t_(n,t){let e=n[Nr],r=t[Fe];if(Zt(r))n[B]|=2;else{let o=r[Fe][St];t[St]!==o&&(n[B]|=2)}e===null?n[Nr]=[t]:e.push(t)}var Xn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,e=t[L];return is(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[Be]}set context(t){this._lView[Be]=t}get destroyed(){return Rr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Fe];if(Lt(t)){let e=t[Qi],r=e?e.indexOf(this):-1;r>-1&&(Bc(t,r),Hi(e,r))}this._attachedToViewContainer=!1}ch(this._lView[L],this._lView)}onDestroy(t){Wd(this._lView,t)}markForCheck(){mh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[B]&=-129}reattach(){pc(this._lView),this._lView[B]|=128}detectChanges(){this._lView[B]|=1024,Zy(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=ko(this._lView),e=this._lView[Zn];e!==null&&!t&&ah(e,this._lView),Vy(this._lView[L],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=t;let e=ko(this._lView),r=this._lView[Zn];r!==null&&!e&&t_(r,this._lView),pc(this._lView)}};var er=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=wI;constructor(e,r,o){this._declarationLView=e,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,o){let i=Hy(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:r,dehydratedView:o});return new Xn(i)}}return n})();function wI(){return vh(Ie(),Y())}function vh(n,t){return n.type&4?new er(t,n,zo(n,t)):null}function hs(n,t,e,r,o){let i=n.data[t];if(i===null)i=bI(n,t,e,r,o),iv()&&(i.flags|=32);else if(i.type&64){i.type=e,i.value=r,i.attrs=o;let s=tv();i.injectorIndex=s===null?-1:s.injectorIndex}return Fo(i,!0),i}function bI(n,t,e,r,o){let i=Qd(),s=Jd(),a=s?i:i&&i.parent,c=n.data[t]=CI(n,a,e,t,r,o);return EI(n,c,i,s),c}function EI(n,t,e,r){n.firstChild===null&&(n.firstChild=t),e!==null&&(r?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function CI(n,t,e,r,o,i){let s=t?t.injectorIndex:-1,a=0;return ev()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var mj=new RegExp(`^(\\d+)*(${BC}|${UC})*(.*)`);var DI=()=>null,II=()=>null;function kv(n,t){return DI(n,t)}function SI(n,t,e){return II(n,t,e)}var n_=class{},rl=class{},Nf=class{resolveComponentFactory(t){throw new M(917,!1)}},ps=class{static NULL=new Nf},Lr=class{},Ut=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>MI()}return n})();function MI(){let n=Y(),t=Ie(),e=Tt(t.index,n);return(Zt(e)?e:n)[pe]}var r_=(()=>{class n{static \u0275prov=T({token:n,providedIn:"root",factory:()=>null})}return n})();var xc={},Rf=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){let o=this.injector.get(t,xc,r);return o!==xc||e===xc?o:this.parentInjector.get(t,e,r)}};function $c(n,t,e){let r=e?n.styles:null,o=e?n.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=bd(o,a);else if(i==2){let c=a,l=t[++s];r=bd(r,c+": "+l+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=o:n.classesWithoutHost=o}function R(n,t=0){let e=Y();if(e===null)return F(n,t);let r=Ie();return ay(r,e,Ue(n),t)}function yh(){let n="invalid";throw new Error(n)}function o_(n,t,e,r,o){let i=r===null?null:{"":-1},s=o(n,e);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}AI(n,t,e,a,i,c,l)}i!==null&&r!==null&&TI(e,r,i)}function TI(n,t,e){let r=n.localNames=[];for(let o=0;o<t.length;o+=2){let i=e[t[o+1]];if(i==null)throw new M(-301,!1);r.push(t[o],i)}}function xI(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function AI(n,t,e,r,o,i,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let f=r[h];!c&&Yt(f)&&(c=!0,xI(n,e,h)),bf(kc(e,t),n,f.type)}FI(e,n.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=Oy(n,t,a,null);a>0&&(e.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(e.mergedAttrs=Uo(e.mergedAttrs,f.hostAttrs),NI(n,e,t,d,f),PI(d,f,o),s!==null&&s.has(f)){let[b,w]=s.get(f);e.directiveToIndex.set(f.type,[d,b+e.directiveStart,w+e.directiveStart])}else(i===null||!i.has(f))&&e.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(e.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(e.flags|=64);let v=f.type.prototype;!l&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),l=!0),!u&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}OI(n,e,i)}function OI(n,t,e){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=n.data[r];if(e===null||!e.has(o))Pv(0,t,o,r),Pv(1,t,o,r),Lv(t,r,!1);else{let i=e.get(o);Fv(0,t,i,r),Fv(1,t,i,r),Lv(t,r,!0)}}}function Pv(n,t,e,r){let o=n===0?e.inputs:e.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;n===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),i_(t,i)}}function Fv(n,t,e,r){let o=n===0?e.inputs:e.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;n===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),i_(t,s)}}function i_(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function Lv(n,t,e){let{attrs:r,inputs:o,hostDirectiveInputs:i}=n;if(r===null||!e&&o===null||e&&i===null||Xf(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!e&&o.hasOwnProperty(c)){let l=o[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(e&&i.hasOwnProperty(c)){let l=i[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function NI(n,t,e,r,o){n.data[r]=o;let i=o.factory||(o.factory=Ir(o.type,!0)),s=new Fr(i,Yt(o),R,null);n.blueprint[r]=s,e[r]=s,RI(n,t,r,Oy(n,e,o.hostVars,In),o)}function RI(n,t,e,r,o){let i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;kI(s)!=a&&s.push(a),s.push(e,r,i)}}function kI(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function PI(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;Yt(t)&&(e[""]=n)}}function FI(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function _h(n,t,e,r,o,i,s,a){let c=t[L],l=c.consts,u=Qt(l,s),d=hs(c,n,e,r,u);return i&&o_(c,t,d,Qt(l,a),o),d.mergedAttrs=Uo(d.mergedAttrs,d.attrs),d.attrs!==null&&$c(d,d.attrs,!1),d.mergedAttrs!==null&&$c(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function wh(n,t){Jv(n,t),Bd(t)&&n.queries.elementEnd(t)}function LI(n,t,e,r,o,i){let s=t.consts,a=Qt(s,o),c=hs(t,n,e,r,a);if(c.mergedAttrs=Uo(c.mergedAttrs,c.attrs),i!=null){let l=Qt(s,i);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&$c(c,c.attrs,!1),c.mergedAttrs!==null&&$c(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function bh(n){return a_(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function s_(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function a_(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Go(n,t,e){if(e===In)return!1;let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function Ac(n,t,e){return function r(o){let i=Qn(n)?Tt(n.index,t):t;mh(i,5);let s=t[Be],a=jv(t,s,e,o),c=r.__ngNextListenerFn__;for(;c;)a=jv(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function jv(n,t,e,r){let o=H(null);try{return ie(6,t,e),e(r)!==!1}catch(i){return tI(n,i),!1}finally{ie(7,t,e),H(o)}}function c_(n,t,e,r,o,i,s,a){let c=Ro(n),l=!1,u=null;if(!r&&c&&(u=VI(t,e,i,n.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=jt(n,e),h=r?r(d):d;HC(e,h,i,a);let f=o.listen(h,i,a);if(!jI(i)){let v=r?b=>r(Mt(b[n.index])):n.index;l_(v,t,e,i,a,f,!1)}}return l}function jI(n){return n.startsWith("animation")||n.startsWith("transition")}function VI(n,t,e,r){let o=n.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===e&&o[i+1]===r){let a=t[Oo],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function l_(n,t,e,r,o,i,s){let a=t.firstCreatePass?qd(t):null,c=Gd(e),l=c.length;c.push(o,i),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function Vv(n,t,e,r,o,i){let s=t[e],a=t[L],l=a.data[e].outputs[r],d=s[l].subscribe(i);l_(n.index,a,t,o,i,d,!0)}var kf=Symbol("BINDING");var Hc=class extends ps{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=bn(t);return new jr(e,this.ngModule)}};function UI(n){return Object.keys(n).map(t=>{let[e,r,o]=n[t],i={propName:e,templateName:t,isSignal:(r&Xc.SignalBased)!==0};return o&&(i.transform=o),i})}function BI(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function $I(n,t,e){let r=t instanceof Ae?t:t?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Rf(e,r):e}function HI(n){let t=n.get(Lr,null);if(t===null)throw new M(407,!1);let e=n.get(r_,null),r=n.get(zn,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:r,ngReflect:!1}}function zI(n,t){let e=u_(n);return My(t,e,e==="svg"?Wm:e==="math"?Gm:null)}function u_(n){return(n.selectors[0][0]||"div").toLowerCase()}var jr=class extends rl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=UI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=BI(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=aD(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,r,o,i,s){ie(22);let a=H(null);try{let c=this.componentDef,l=WI(r,c,s,i),u=$I(c,o||this.ngModule,t),d=HI(u),h=d.rendererFactory.createRenderer(null,c),f=r?HD(h,r,c.encapsulation,u):zI(c,h),v=s?.some(Uv)||i?.some(D=>typeof D!="function"&&D.bindings.some(Uv)),b=th(null,l,null,512|Ay(c),null,null,d,h,u,null,yy(f,u,!0));b[Le]=f,yc(b);let w=null;try{let D=_h(Le,b,2,"#host",()=>l.directiveRegistry,!0,0);xy(h,f,D),Bo(f,b),nl(l,b,D),Yf(l,D,b),wh(l,D),e!==void 0&&qI(D,this.ngContentSelectors,e),w=Tt(D.index,b),b[Be]=w[Be],gh(l,b,null)}catch(D){throw w!==null&&Cf(w),Cf(b),D}finally{ie(23),_c()}return new zc(this.componentType,b,!!v)}finally{H(a)}}};function WI(n,t,e,r){let o=n?["ng-version","20.3.9"]:cD(t.selectors[0]),i=null,s=null,a=0;if(e)for(let u of e)a+=u[kf].requiredVars,u.create&&(u.targetIdx=0,(i??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let h of d.bindings){a+=h[kf].requiredVars;let f=u+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,h=Pd(d);c.push(h)}return eh(0,null,GI(i,s),1,a,c,null,null,null,[o],null)}function GI(n,t){return!n&&!t?null:e=>{if(e&1&&n)for(let r of n)r.create();if(e&2&&t)for(let r of t)r.update()}}function Uv(n){let t=n[kf].kind;return t==="input"||t==="twoWay"}var zc=class extends n_{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,r){super(),this._rootLView=e,this._hasInputBindings=r,this._tNode=Ji(e[L],Le),this.location=zo(this._tNode,e),this.instance=Tt(this._tNode.index,e)[Be],this.hostView=this.changeDetectorRef=new Xn(e,void 0),this.componentType=t}setInput(t,e){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView,i=ph(r,o[L],o,t,e);this.previousInputValues.set(t,e);let s=Tt(r.index,o);mh(s,1)}get injector(){return new Pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function qI(n,t,e){let r=n.projection=[];for(let o=0;o<t.length;o++){let i=e[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Mn=(()=>{class n{static __NG_ELEMENT_ID__=KI}return n})();function KI(){let n=Ie();return f_(n,Y())}var ZI=Mn,d_=class extends ZI{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return zo(this._hostTNode,this._hostLView)}get injector(){return new Pr(this._hostTNode,this._hostLView)}get parentInjector(){let t=Wf(this._hostTNode,this._hostLView);if(ty(t)){let e=Rc(t,this._hostLView),r=Nc(t),o=e[L].data[r+8];return new Pr(o,e)}else return new Pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=Bv(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-Ge}createEmbeddedView(t,e,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=kv(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},i,s);return this.insertImpl(a,o,Af(this._hostTNode,s)),a}createComponent(t,e,r,o,i,s,a){let c=t&&!pC(t),l;if(c)l=e;else{let w=e||{};l=w.index,r=w.injector,o=w.projectableNodes,i=w.environmentInjector||w.ngModuleRef,s=w.directives,a=w.bindings}let u=c?t:new jr(bn(t)),d=r||this.parentInjector;if(!i&&u.ngModule==null){let D=(c?d:this.parentInjector).get(Ae,null);D&&(i=D)}let h=bn(u.componentType??{}),f=kv(this._lContainer,h?.id??null),v=f?.firstChild??null,b=u.create(d,o,v,i,s,a);return this.insertImpl(b.hostView,l,Af(this._hostTNode,f)),b}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let o=t._lView;if(Km(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[Fe],l=new d_(c,c[It],c[Fe]);l.detach(l.indexOf(t))}}let i=this._adjustIndex(e),s=this._lContainer;return e_(s,o,i,r),t.attachToViewContainerRef(),Od(pf(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=Bv(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=Bc(this._lContainer,e);r&&(Hi(pf(this._lContainer),e),ch(r[L],r))}detach(t){let e=this._adjustIndex(t,-1),r=Bc(this._lContainer,e);return r&&Hi(pf(this._lContainer),e)!=null?new Xn(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function Bv(n){return n[Qi]}function pf(n){return n[Qi]||(n[Qi]=[])}function f_(n,t){let e,r=t[n.index];return Lt(r)?e=r:(e=Xy(r,t,null,n),t[n.index]=e,nh(t,e)),QI(e,t,n,r),new d_(e,n,t)}function YI(n,t){let e=n[pe],r=e.createComment(""),o=jt(t,n),i=e.parentNode(o);return Lc(e,i,r,e.nextSibling(o),!1),r}var QI=eS,JI=()=>!1;function XI(n,t,e){return JI(n,t,e)}function eS(n,t,e,r){if(n[Yn])return;let o;e.type&8?o=Mt(r):o=YI(t,e),n[Yn]=o}var Pf=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Ff=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let r=t.contentQueries!==null?t.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){let s=e.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new n(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)Eh(t,e).matches!==null&&this.queries[e].setDirty()}},Lf=class{flags;read;predicate;constructor(t,e,r=null){this.flags=e,this.read=r,typeof t=="string"?this.predicate=cS(t):this.predicate=t}},jf=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){let o=e!==null?e.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,e!==null?e.push(i):e=[i])}return e!==null?new n(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Vf=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,e,tS(e,i)),this.matchTNodeWithReadOption(t,e,Tc(e,t,i,!1,!1))}else r===er?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Tc(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===Je||o===Mn||o===er&&e.type&4)this.addMatch(e.index,-2);else{let i=Tc(e,t,o,!1,!1);i!==null&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function tS(n,t){let e=n.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1]}return null}function nS(n,t){return n.type&11?zo(n,t):n.type&4?vh(n,t):null}function rS(n,t,e,r){return e===-1?nS(t,n):e===-2?oS(n,t,r):os(n,n[L],e,t)}function oS(n,t,e){if(e===Je)return zo(t,n);if(e===er)return vh(t,n);if(e===Mn)return f_(t,n)}function h_(n,t,e,r){let o=t[Kt].queries[r];if(o.matches===null){let i=n.data,s=e.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=i[l];a.push(rS(t,u,s[c+1],e.metadata.read))}}o.matches=a}return o.matches}function Uf(n,t,e,r){let o=n.queries.getByIndex(e),i=o.matches;if(i!==null){let s=h_(n,t,o,e);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let l=i[a+1],u=t[-c];for(let d=Ge;d<u.length;d++){let h=u[d];h[Zn]===h[Fe]&&Uf(h[L],h,l,r)}if(u[Nr]!==null){let d=u[Nr];for(let h=0;h<d.length;h++){let f=d[h];Uf(f[L],f,l,r)}}}}}return r}function iS(n,t){return n[Kt].queries[t].queryList}function sS(n,t,e){let r=new Pc((e&4)===4);return Qm(n,t,r,r.destroy),(t[Kt]??=new Ff).queries.push(new Pf(r))-1}function aS(n,t,e,r){let o=Oe();if(o.firstCreatePass){let i=Ie();lS(o,new Lf(t,e,r),i.index),uS(o,n),(e&2)===2&&(o.staticContentQueries=!0)}return sS(o,Y(),e)}function cS(n){return n.split(",").map(t=>t.trim())}function lS(n,t,e){n.queries===null&&(n.queries=new jf),n.queries.track(new Vf(t,e))}function uS(n,t){let e=n.contentQueries||(n.contentQueries=[]),r=e.length?e[e.length-1]:-1;t!==r&&e.push(n.queries.length-1,t)}function Eh(n,t){return n.queries.getByIndex(t)}function dS(n,t){let e=n[L],r=Eh(e,t);return r.crossesNgTemplate?Uf(e,n,t,[]):h_(e,n,r,t)}var Vr=class{},ol=class{};var Wc=class extends Vr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Hc(this);constructor(t,e,r,o=!0){super(),this.ngModuleType=t,this._parent=e;let i=kd(t);this._bootstrapComponents=Iy(i.bootstrap),this._r3Injector=of(t,e,[{provide:Vr,useValue:this},{provide:ps,useValue:this.componentFactoryResolver},...r],wn(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Gc=class extends ol{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Wc(this.moduleType,t,[])}};var ss=class extends Vr{injector;componentFactoryResolver=new Hc(this);instance=null;constructor(t){super();let e=new Mr([...t.providers,{provide:Vr,useValue:this},{provide:ps,useValue:this.componentFactoryResolver}],t.parent||Gi(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function qo(n,t,e=null){return new ss({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var fS=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=Fd(!1,e.type),o=r.length>0?qo([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=T({token:n,providedIn:"environment",factory:()=>new n(F(Ae))})}return n})();function be(n){return cs(()=>{let t=p_(n),e=G(E({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Gf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(fS).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Dn.Emulated,styles:n.styles||gt,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Sn("NgStandalone"),g_(e);let r=n.dependencies;return e.directiveDefs=$v(r,hS),e.pipeDefs=$v(r,jm),e.id=mS(e),e})}function hS(n){return bn(n)||Pd(n)}function nn(n){return cs(()=>({type:n.type,bootstrap:n.bootstrap||gt,declarations:n.declarations||gt,imports:n.imports||gt,exports:n.exports||gt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function pS(n,t){if(n==null)return Gn;let e={};for(let r in n)if(n.hasOwnProperty(r)){let o=n[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=Xc.None,c=null),e[i]=[r,a,c],t[i]=s}return e}function gS(n){if(n==null)return Gn;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function fe(n){return cs(()=>{let t=p_(n);return g_(t),t})}function p_(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||Gn,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||gt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:pS(n.inputs,t),outputs:gS(n.outputs),debugInfo:null}}function g_(n){n.features?.forEach(t=>t(n))}function $v(n,t){return n?()=>{let e=typeof n=="function"?n():n,r=[];for(let o of e){let i=t(o);i!==null&&r.push(i)}return r}:null}function mS(n){let t=0,e=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function vS(n){return Object.getPrototypeOf(n.prototype).constructor}function yt(n){let t=vS(n.type),e=!0,r=[n];for(;t;){let o;if(Yt(n))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new M(903,!1);o=t.\u0275dir}if(o){if(e){r.push(o);let s=n;s.inputs=gf(n.inputs),s.declaredInputs=gf(n.declaredInputs),s.outputs=gf(n.outputs);let a=o.hostBindings;a&&ES(n,a);let c=o.viewQuery,l=o.contentQueries;if(c&&wS(n,c),l&&bS(n,l),yS(n,o),xm(n.outputs,o.outputs),Yt(o)&&o.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(n),a===yt&&(e=!1)}}t=Object.getPrototypeOf(t)}_S(r)}function yS(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e])}}function _S(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let o=n[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Uo(o.hostAttrs,e=Uo(e,o.hostAttrs))}}function gf(n){return n===Gn?{}:n===gt?[]:n}function wS(n,t){let e=n.viewQuery;e?n.viewQuery=(r,o)=>{t(r,o),e(r,o)}:n.viewQuery=t}function bS(n,t){let e=n.contentQueries;e?n.contentQueries=(r,o,i)=>{t(r,o,i),e(r,o,i)}:n.contentQueries=t}function ES(n,t){let e=n.hostBindings;e?n.hostBindings=(r,o)=>{t(r,o),e(r,o)}:n.hostBindings=t}function m_(n,t,e,r,o,i,s,a){if(e.firstCreatePass){n.mergedAttrs=Uo(n.mergedAttrs,n.attrs);let u=n.tView=eh(2,n,o,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,n),u.queries=e.queries.embeddedTView(n))}a&&(n.flags|=a),Fo(n,!1);let c=DS(e,t,n,r);bc()&&lh(e,t,c,n),Bo(c,t);let l=Xy(c,t,c,n);t[r+Le]=l,nh(t,l),XI(l,n,t)}function CS(n,t,e,r,o,i,s,a,c,l,u){let d=e+Le,h;return t.firstCreatePass?(h=hs(t,d,4,s||null,a||null),gc()&&o_(t,n,h,Qt(t.consts,l),dh),Jv(t,h)):h=t.data[d],m_(h,n,t,e,r,o,i,c),Ro(h)&&nl(t,n,h),l!=null&&fs(n,h,u),h}function v_(n,t,e,r,o,i,s,a,c,l,u){let d=e+Le,h;if(t.firstCreatePass){if(h=hs(t,d,4,s||null,a||null),l!=null){let f=Qt(t.consts,l);h.localNames=[];for(let v=0;v<f.length;v+=2)h.localNames.push(f[v],-1)}}else h=t.data[d];return m_(h,n,t,e,r,o,i,c),l!=null&&fs(n,h,u),h}function ce(n,t,e,r,o,i,s,a){let c=Y(),l=Oe(),u=Qt(l.consts,i);return CS(c,l,n,t,e,r,o,u,void 0,s,a),ce}var DS=IS;function IS(n,t,e,r){return es(!0),t[pe].createComment("")}var Ch=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Dh=new A("");function tr(n){return!!n&&typeof n.then=="function"}function Ih(n){return!!n&&typeof n.subscribe=="function"}var Sh=new A("");function il(n){return zi([{provide:Sh,multi:!0,useValue:n}])}var Mh=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=y(Sh,{optional:!0})??[];injector=y(st);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let o of this.appInits){let i=We(this.injector,o);if(tr(i))e.push(i);else if(Ih(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gs=new A("");function y_(){zu(()=>{let n="";throw new M(600,n)})}function __(n){return n.isBoundToModule}var SS=10;var Tn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(vt);afterRenderManager=y(sh);zonelessEnabled=y(Cc);rootEffectScheduler=y(uf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ye;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=y(Cn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Z(e=>!e))}constructor(){y(Br,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=y(Ae);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,o=st.NULL){return this._injector.get(Me).run(()=>{ie(10);let s=e instanceof rl;if(!this._injector.get(Mh).done){let v="";throw new M(405,v)}let c;s?c=e:c=this._injector.get(ps).resolveComponentFactory(e),this.componentTypes.push(c.componentType);let l=__(c)?void 0:this._injector.get(Vr),u=r||c.selector,d=c.create(o,[],u,l),h=d.location.nativeElement,f=d.injector.get(Dh,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),rs(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),ie(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ie(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(el.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new M(101,!1);let e=H(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,H(e),this.afterTick.next(),ie(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Lr,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<SS;)ie(14),this.synchronizeOnce(),ie(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Xi(o))continue;let i=r&&!this.zonelessEnabled?0:1;Zy(o,i),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Xi(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;rs(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(e),this._injector.get(gs,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>rs(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new M(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rs(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function $r(n,t,e,r){let o=Y(),i=Lo();if(Go(o,i,t)){let s=Oe(),a=wc();JD(a,o,n,t,e,r)}return $r}var Cj=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Th(n,t,e,r,o,i,s,a){Sn("NgControlFlow");let c=Y(),l=Oe(),u=Qt(l.consts,i);return v_(c,l,n,t,e,r,o,u,256,s,a),xh}function xh(n,t,e,r,o,i,s,a){Sn("NgControlFlow");let c=Y(),l=Oe(),u=Qt(l.consts,i);return v_(c,l,n,t,e,r,o,u,512,s,a),xh}function Ah(n,t){Sn("NgControlFlow");let e=Y(),r=Lo(),o=e[r]!==In?e[r]:-1,i=o!==-1?Hv(e,Le+o):void 0,s=0;if(Go(e,r,n)){let a=H(null);try{if(i!==void 0&&yI(i,s),n!==-1){let c=Le+n,l=Hv(e,c),u=MS(e[L],c),d=SI(l,u,e),h=Hy(e,u,t,{dehydratedView:d});e_(l,h,s,Af(u,d))}}finally{H(a)}}else if(i!==void 0){let a=vI(i,s);a!==void 0&&(a[Be]=t)}}function Hv(n,t){return n[t]}function MS(n,t){return Ji(n,t)}function W(n,t,e){let r=Y(),o=Lo();if(Go(r,o,t)){let i=Oe(),s=wc();$y(s,r,n,t,r[pe],e)}return W}function zv(n,t,e,r,o){ph(t,n,e,o?"class":"style",r)}function g(n,t,e,r){let o=Y(),i=o[L],s=n+Le,a=i.firstCreatePass?_h(s,o,2,t,dh,gc(),e,r):i.data[s];if(fh(a,o,n,t,w_),Ro(a)){let c=o[L];nl(c,o,a),Yf(c,a,o)}return r!=null&&fs(o,a),g}function m(){let n=Oe(),t=Ie(),e=hh(t);return n.firstCreatePass&&wh(n,e),Zd(e)&&Yd(),Kd(),e.classesWithoutHost!=null&&wC(e)&&zv(n,e,Y(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&bC(e)&&zv(n,e,Y(),e.stylesWithoutHost,!1),m}function Ko(n,t,e,r){return g(n,t,e,r),m(),Ko}function rn(n,t,e,r){let o=Y(),i=o[L],s=n+Le,a=i.firstCreatePass?LI(s,i,2,t,e,r):i.data[s];return fh(a,o,n,t,w_),r!=null&&fs(o,a),rn}function on(){let n=Ie(),t=hh(n);return Zd(t)&&Yd(),Kd(),on}var w_=(n,t,e,r,o)=>(es(!0),My(t[pe],r,hv()));function Hr(n,t,e){let r=Y(),o=r[L],i=n+Le,s=o.firstCreatePass?_h(i,r,8,"ng-container",dh,gc(),t,e):o.data[i];if(fh(s,r,n,"ng-container",TS),Ro(s)){let a=r[L];nl(a,r,s),Yf(a,s,r)}return e!=null&&fs(r,s),Hr}function zr(){let n=Oe(),t=Ie(),e=hh(t);return n.firstCreatePass&&wh(n,e),zr}var TS=(n,t,e,r,o)=>(es(!0),dD(t[pe],""));function ge(){return Y()}var ms="en-US";var xS=ms;function b_(n){typeof n=="string"&&(xS=n.toLowerCase().replace(/_/g,"-"))}function k(n,t,e){let r=Y(),o=Oe(),i=Ie();return E_(o,r,r[pe],i,n,t,e),k}function vs(n,t,e){let r=Y(),o=Oe(),i=Ie();return(i.type&3||e)&&c_(i,o,r,e,r[pe],n,t,Ac(i,r,t)),vs}function E_(n,t,e,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Ac(r,t,i),c_(r,n,t,s,e,o,i,c)&&(a=!1)),a){let l=r.outputs?.[o],u=r.hostDirectiveOutputs?.[o];if(u&&u.length)for(let d=0;d<u.length;d+=2){let h=u[d],f=u[d+1];c??=Ac(r,t,i),Vv(r,t,h,f,o,c)}if(l&&l.length)for(let d of l)c??=Ac(r,t,i),Vv(r,t,d,o,o,c)}}function S(n=1){return fv(n)}function Oh(n,t,e,r){aS(n,t,e,r)}function Nh(n){let t=Y(),e=Oe(),r=tf();vc(r+1);let o=Eh(e,r);if(n.dirty&&qm(t)===((o.metadata.flags&2)===2)){if(o.matches===null)n.reset([]);else{let i=dS(t,r);n.reset(i,kC),n.notifyOnChanges()}return!0}return!1}function Rh(){return iS(Y(),tf())}function Ic(n,t){return n<<17|t<<2}function Ur(n){return n>>17&32767}function AS(n){return(n&2)==2}function OS(n,t){return n&131071|t<<17}function Bf(n){return n|2}function Ho(n){return(n&131068)>>2}function mf(n,t){return n&-131069|t<<2}function NS(n){return(n&1)===1}function $f(n){return n|1}function RS(n,t,e,r,o,i){let s=i?t.classBindings:t.styleBindings,a=Ur(s),c=Ho(s);n[r]=e;let l=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||Ao(d,u)>0)&&(l=!0)}else u=e;if(o)if(c!==0){let h=Ur(n[a+1]);n[r+1]=Ic(h,a),h!==0&&(n[h+1]=mf(n[h+1],r)),n[a+1]=OS(n[a+1],r)}else n[r+1]=Ic(a,0),a!==0&&(n[a+1]=mf(n[a+1],r)),a=r;else n[r+1]=Ic(c,0),a===0?a=r:n[c+1]=mf(n[c+1],r),c=r;l&&(n[r+1]=Bf(n[r+1])),Wv(n,u,r,!0),Wv(n,u,r,!1),kS(t,u,n,r,i),s=Ic(a,c),i?t.classBindings=s:t.styleBindings=s}function kS(n,t,e,r,o){let i=o?n.residualClasses:n.residualStyles;i!=null&&typeof t=="string"&&Ao(i,t)>=0&&(e[r+1]=$f(e[r+1]))}function Wv(n,t,e,r){let o=n[e+1],i=t===null,s=r?Ur(o):Ho(o),a=!1;for(;s!==0&&(a===!1||i);){let c=n[s],l=n[s+1];PS(c,t)&&(a=!0,n[s+1]=r?$f(l):Bf(l)),s=r?Ur(l):Ho(l)}a&&(n[e+1]=r?Bf(o):$f(o))}function PS(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Ao(n,t)>=0:!1}function ct(n,t){return FS(n,t,null,!0),ct}function FS(n,t,e,r){let o=Y(),i=Oe(),s=ov(2);if(i.firstUpdatePass&&jS(i,n,s,r),t!==In&&Go(o,s,t)){let a=i.data[kr()];HS(i,a,o,o[pe],n,o[s+1]=zS(t,e),r,s)}}function LS(n,t){return t>=n.expandoStartIndex}function jS(n,t,e,r){let o=n.data;if(o[e+1]===null){let i=o[kr()],s=LS(n,e);WS(i,r)&&t===null&&!s&&(t=!1),t=VS(o,i,t,r),RS(o,i,t,e,s,r)}}function VS(n,t,e,r){let o=cv(n),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(e=vf(null,n,t,e,r),e=as(e,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==o)if(e=vf(o,n,t,e,r),i===null){let c=US(n,t,r);c!==void 0&&Array.isArray(c)&&(c=vf(null,n,t,c[1],r),c=as(c,t.attrs,r),BS(n,t,r,c))}else i=$S(n,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),e}function US(n,t,e){let r=e?t.classBindings:t.styleBindings;if(Ho(r)!==0)return n[Ur(r)]}function BS(n,t,e,r){let o=e?t.classBindings:t.styleBindings;n[Ur(o)]=r}function $S(n,t,e){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=n[i].hostAttrs;r=as(r,s,e)}return as(r,t.attrs,e)}function vf(n,t,e,r,o){let i=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(i=t[a],r=as(r,i.hostAttrs,o),i!==n);)a++;return n!==null&&(e.directiveStylingLast=a),r}function as(n,t,e){let r=e?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Lm(n,s,e?!0:t[++i]))}return n===void 0?null:n}function HS(n,t,e,r,o,i,s,a){if(!(t.type&3))return;let c=n.data,l=c[a+1],u=NS(l)?Gv(c,t,e,o,Ho(l),s):void 0;if(!qc(u)){qc(i)||AS(l)&&(i=Gv(c,null,e,o,a,s));let d=$d(kr(),e);$D(r,s,d,o,i)}}function Gv(n,t,e,r,o,i){let s=t===null,a;for(;o>0;){let c=n[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=e[o+1];h===In&&(h=d?gt:void 0);let f=d?dc(h,r):u===r?h:void 0;if(l&&!qc(f)&&(f=dc(c,r)),qc(f)&&(a=f,s))return a;let v=n[o+1];o=s?Ur(v):Ho(v)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=dc(c,r))}return a}function qc(n){return n!==void 0}function zS(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=wn(us(n)))),n}function WS(n,t){return(n.flags&(t?8:16))!==0}function _(n,t=""){let e=Y(),r=Oe(),o=n+Le,i=r.firstCreatePass?hs(r,o,1,t,null):r.data[o],s=GS(r,e,i,t,n);e[o]=s,bc()&&lh(r,e,s,i),Fo(i,!1)}var GS=(n,t,e,r,o)=>(es(!0),lD(t[pe],r));function qS(n,t,e,r=""){return Go(n,Lo(),e)?t+$i(e)+r:In}function je(n){return me("",n),je}function me(n,t,e){let r=Y(),o=qS(r,n,t,e);return o!==In&&KS(r,kr(),o),me}function KS(n,t,e){let r=$d(t,n);uD(n[pe],r,e)}function X(n,t,e){af(t)&&(t=t());let r=Y(),o=Lo();if(Go(r,o,t)){let i=Oe(),s=wc();$y(s,r,n,t,r[pe],e)}return X}function te(n,t){let e=af(n);return e&&n.set(t),e}function ee(n,t){let e=Y(),r=Oe(),o=Ie();return E_(r,e,e[pe],o,n,t),ee}function ZS(n,t,e){let r=Oe();if(r.firstCreatePass){let o=Yt(n);Hf(e,r.data,r.blueprint,o,!0),Hf(t,r.data,r.blueprint,o,!1)}}function Hf(n,t,e,r,o){if(n=Ue(n),Array.isArray(n))for(let i=0;i<n.length;i++)Hf(n[i],t,e,r,o);else{let i=Oe(),s=Y(),a=Ie(),c=Sr(n)?n:Ue(n.provide),l=jd(n),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Sr(n)||!n.multi){let f=new Fr(l,o,R,null),v=_f(c,t,o?u:u+h,d);v===-1?(bf(kc(a,s),i,c),yf(i,n,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(f),s.push(f)):(e[v]=f,s[v]=f)}else{let f=_f(c,t,u+h,d),v=_f(c,t,u,u+h),b=f>=0&&e[f],w=v>=0&&e[v];if(o&&!w||!o&&!b){bf(kc(a,s),i,c);let D=JS(o?QS:YS,e.length,o,r,l,n);!o&&w&&(e[v].providerFactory=D),yf(i,n,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(D),s.push(D)}else{let D=C_(e[o?v:f],l,!o&&r);yf(i,n,f>-1?f:v,D)}!o&&r&&w&&e[v].componentProviders++}}}function yf(n,t,e,r){let o=Sr(t),i=$m(t);if(o||i){let c=(i?Ue(t.useClass):t).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!o&&t.multi){let u=l.indexOf(e);u===-1?l.push(e,[r,c]):l[u+1].push(r,c)}else l.push(e,c)}}}function C_(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function _f(n,t,e,r){for(let o=e;o<r;o++)if(t[o]===n)return o;return-1}function YS(n,t,e,r,o){return zf(this.multi,[])}function QS(n,t,e,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=os(r,r[L],this.providerFactory.index,o);s=c.slice(0,a),zf(i,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],zf(i,s);return s}function zf(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function JS(n,t,e,r,o,i){let s=new Fr(n,e,R,null);return s.multi=[],s.index=t,s.componentProviders=0,C_(s,o,r&&!e),s}function xn(n,t=[]){return e=>{e.providersResolver=(r,o)=>ZS(r,o?o(n):n,t)}}var Kc=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},kh=(()=>{class n{compileModuleSync(e){return new Gc(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),o=kd(e),i=Iy(o.declarations).reduce((s,a)=>{let c=bn(a);return c&&s.push(new jr(c)),s},[]);return new Kc(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var XS=(()=>{class n{zone=y(Me);changeDetectionScheduler=y(zn);applicationRef=y(Tn);applicationErrorHandler=y(vt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function D_({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Me(G(E({},I_()),{scheduleInRootZone:e})),[{provide:Me,useFactory:n},{provide:qn,multi:!0,useFactory:()=>{let r=y(XS,{optional:!0});return()=>r.initialize()}},{provide:qn,multi:!0,useFactory:()=>{let r=y(eM);return()=>{r.initialize()}}},t===!0?{provide:cf,useValue:!0}:[],{provide:lf,useValue:e??Ry},{provide:vt,useFactory:()=>{let r=y(Me),o=y(Ae),i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(kt),i.handleError(s))})}}}]}function I_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var eM=(()=>{class n{subscription=new Ce;initialized=!1;zone=y(Me);pendingTasks=y(Cn);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var S_=(()=>{class n{applicationErrorHandler=y(vt);appRef=y(Tn);taskService=y(Cn);ngZone=y(Me);zonelessEnabled=y(Cc);tracing=y(Br,{optional:!0});disableScheduling=y(cf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ce;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(jc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(lf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Vc||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Tv:ky;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(jc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(e),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Tv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tM(){return typeof $localize<"u"&&$localize.locale||ms}var sl=new A("",{providedIn:"root",factory:()=>y(sl,{optional:!0,skipSelf:!0})||tM()});function Ve(n){return Sm(n)}function Zo(n,t){return Ta(n,t?.equal)}var M_=class{[ze];constructor(t){this[ze]=t}destroy(){this[ze].destroy()}};var R_=Symbol("InputSignalNode#UNSET"),mM=G(E({},xa),{transformFn:void 0,applyValueToInputSignal(n,t){yo(n,t)}});function k_(n,t){let e=Object.create(mM);e.value=n,e.transformFn=t?.transform;function r(){if(go(e),e.value===R_){let o=null;throw new M(-950,o)}return e.value}return r[ze]=e,r}var cl=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>ls(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},vM=new A("");vM.__NG_ELEMENT_ID__=n=>{let t=Ie();if(t===null)throw new M(204,!1);if(t.type&2)return t.value;if(n&8)return null;throw new M(204,!1)};function T_(n,t){return k_(n,t)}function yM(n){return k_(R_,n)}var P_=(T_.required=yM,T_);var Ph=new A(""),_M=new A("");function ys(n){return!n.moduleRef}function wM(n){let t=ys(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Me);return e.run(()=>{ys(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=t.get(vt),o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:r})}),ys(n)){let i=()=>t.destroy(),s=n.platformInjector.get(Ph);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Ph);s.add(i),n.moduleRef.onDestroy(()=>{rs(n.allPlatformModules,n.moduleRef),o.unsubscribe(),s.delete(i)})}return EM(r,e,()=>{let i=t.get(Cn),s=i.add(),a=t.get(Mh);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(sl,ms);if(b_(c||ms),!t.get(_M,!0))return ys(n)?t.get(Tn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ys(n)){let u=t.get(Tn);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return bM?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void i.remove(s))})})}var bM;function EM(n,t,e){try{let r=e();return tr(r)?r.catch(o=>{throw t.runOutsideAngular(()=>n(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>n(r)),r}}var al=null;function CM(n=[],t){return st.create({name:t,providers:[{provide:Wi,useValue:"platform"},{provide:Ph,useValue:new Set([()=>al=null])},...n]})}function DM(n=[]){if(al)return al;let t=CM(n);return al=t,y_(),IM(t),t}function IM(n){let t=n.get(Yc,null);We(n,()=>{t?.forEach(e=>e())})}var An=(()=>{class n{static __NG_ELEMENT_ID__=SM}return n})();function SM(n){return MM(Ie(),Y(),(n&16)===16)}function MM(n,t,e){if(Qn(n)&&!e){let r=Tt(n.index,t);return new Xn(r,r)}else if(n.type&175){let r=t[St];return new Xn(r,t)}return null}var Fh=class{constructor(){}supports(t){return bh(t)}create(t){return new Lh(t)}},TM=(n,t)=>t,Lh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||TM}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){let s=!r||e&&e.currentIndex<x_(r,o,i)?e:r,a=x_(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)o++;else{i||(i=[]);let l=a-o,u=c-o;if(l!=u){for(let h=0;h<l;h++){let f=h<i.length?i[h]:i[h]=0,v=f+h;u<=v&&v<l&&(i[h]=f+1)}let d=s.previousIndex;i[d]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!bh(t))throw new M(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,o,i,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,i,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,i,s,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)),e=e._next}else o=0,s_(t,a=>{s=this._trackByFn(o,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,o),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,o)):t=this._addAfter(new jh(e,r),i,o)),t}_verifyReinsertion(t,e,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let o=e===null?this._itHead:e._next;return t._next=o,t._prev=e,o===null?this._itTail=t:o._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new ll),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ll),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},jh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Vh=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},ll=class{map=new Map;put(t){let e=t.trackById,r=this.map.get(e);r||(r=new Vh,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,o=this.map.get(r);return o?o.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function x_(n,t,e){let r=n.previousIndex;if(r===null)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+t+o}function A_(){return new Uh([new Fh])}var Uh=(()=>{class n{factories;static \u0275prov=T({token:n,providedIn:"root",factory:A_});constructor(e){this.factories=e}static create(e,r){if(r!=null){let o=r.factories.slice();e=e.concat(o)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let r=y(n,{optional:!0,skipSelf:!0});return n.create(e,r||A_())}}}find(e){let r=this.factories.find(o=>o.supports(e));if(r!=null)return r;throw new M(901,!1)}}return n})();function F_(n){let{rootComponent:t,appProviders:e,platformProviders:r,platformRef:o}=n;ie(8);try{let i=o?.injector??DM(r),s=[D_({}),{provide:zn,useExisting:S_},gv,...e||[]],a=new ss({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return wM({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{ie(9)}}function nr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function L_(n){let t=bn(n);if(!t)return null;let e=new jr(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var U_=null;function xt(){return U_}function Bh(n){U_??=n}var _s=class{},ws=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:()=>y(B_),providedIn:"platform"})}return n})(),$h=new A(""),B_=(()=>{class n extends ws{_location;_history;_doc=y(Se);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xt().getBaseHref(this._doc)}onPopState(e){let r=xt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=xt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,o){this._history.pushState(e,r,o)}replaceState(e,r,o){this._history.replaceState(e,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ul(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function j_(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function Bt(n){return n&&n[0]!=="?"?`?${n}`:n}var $t=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:()=>y(fl),providedIn:"root"})}return n})(),dl=new A(""),fl=(()=>{class n extends $t{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ul(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+Bt(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+Bt(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+Bt(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(F(ws),F(dl,8))};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rr=(()=>{class n{_subject=new ye;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=OM(j_(V_(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Bt(r))}normalize(e){return n.stripTrailingSlash(AM(this._basePath,V_(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Bt(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Bt(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Bt;static joinWithSlash=ul;static stripTrailingSlash=j_;static \u0275fac=function(r){return new(r||n)(F($t))};static \u0275prov=T({token:n,factory:()=>xM(),providedIn:"root"})}return n})();function xM(){return new rr(F($t))}function AM(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function V_(n){return n.replace(/\/index.html$/,"")}function OM(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Hh=(()=>{class n extends $t{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=ul(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+Bt(i))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+Bt(i))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(F(ws),F(dl,8))};static \u0275prov=T({token:n,factory:n.\u0275fac})}return n})();var hl=class{$implicit;ngForOf;index;count;constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},or=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new hl(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),$_(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);$_(i,o)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(R(Mn),R(er),R(Uh))};static \u0275dir=fe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function $_(n,t){n.context.$implicit=t.item}var _t=(()=>{class n{_viewContainer;_context=new pl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){H_(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){H_(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(R(Mn),R(er))};static \u0275dir=fe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),pl=class{$implicit=null;ngIf=null};function H_(n,t){if(n&&!n.createEmbeddedView)throw new M(2020,!1)}var qe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=nn({type:n});static \u0275inj=Pt({})}return n})();function zh(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[o,i]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var bs=class{};var z_="browser";var W_=(()=>{class n{static \u0275prov=T({token:n,providedIn:"root",factory:()=>new Wh(y(Se),window)})}return n})(),Wh=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo(G(E({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let r=NM(this.document,t);r&&(this.scrollToElement(r,e),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(Wn(2400,!1))}}scrollToElement(t,e){let r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(G(E({},e),{left:o-s[0],top:i-s[1]}))}};function NM(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}var Es=class{_doc;constructor(t){this._doc=t}manager},gl=(()=>{class n extends Es{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o,i){return e.addEventListener(r,o,i),()=>this.removeEventListener(e,r,o,i)}removeEventListener(e,r,o,i){return e.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||n)(F(Se))};static \u0275prov=T({token:n,factory:n.\u0275fac})}return n})(),vl=new A(""),Yh=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(s=>{s.manager=this});let o=e.filter(s=>!(s instanceof gl));this._plugins=o.slice().reverse();let i=e.find(s=>s instanceof gl);i&&this._plugins.push(i)}addEventListener(e,r,o,i){return this._findPluginFor(r).addEventListener(e,r,o,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(i=>i.supports(e)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(F(vl),F(Me))};static \u0275prov=T({token:n,factory:n.\u0275fac})}return n})(),Gh="ng-app-id";function G_(n){for(let t of n)t.remove()}function q_(n,t){let e=t.createElement("style");return e.textContent=n,e}function RM(n,t,e,r){let o=n.head?.querySelectorAll(`style[${Gh}="${t}"],link[${Gh}="${t}"]`);if(o)for(let i of o)i.removeAttribute(Gh),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&e.set(i.textContent,{usage:0,elements:[i]})}function Kh(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Qh=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,r,o,i={}){this.doc=e,this.appId=r,this.nonce=o,RM(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let o of e)this.addUsage(o,this.inline,q_);r?.forEach(o=>this.addUsage(o,this.external,Kh))}removeStyles(e,r){for(let o of e)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,r,o){let i=r.get(e);i?i.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(e,this.doc)))})}removeUsage(e,r){let o=r.get(e);o&&(o.usage--,o.usage<=0&&(G_(o.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])G_(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(e,q_(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(e,Kh(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(F(Se),F(Zc),F(Qc,8),F(Wo))};static \u0275prov=T({token:n,factory:n.\u0275fac})}return n})(),qh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Jh=/%COMP%/g;var Z_="%COMP%",kM=`_nghost-${Z_}`,PM=`_ngcontent-${Z_}`,FM=!0,LM=new A("",{providedIn:"root",factory:()=>FM});function jM(n){return PM.replace(Jh,n)}function VM(n){return kM.replace(Jh,n)}function Y_(n,t){return t.map(e=>e.replace(Jh,n))}var Xh=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,o,i,s,a,c,l=null,u=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new Cs(e,s,c,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(e,r);return o instanceof ml?o.applyToHost(e):o instanceof Ds&&o.applyStyles(),o}getOrCreateRenderer(e,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case Dn.Emulated:i=new ml(c,l,r,this.appId,u,s,a,d,h);break;case Dn.ShadowDom:return new Zh(c,l,e,r,s,a,this.nonce,d,h);default:i=new Ds(c,l,r,u,s,a,d,h);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(F(Yh),F(Qh),F(Zc),F(LM),F(Se),F(Wo),F(Me),F(Qc),F(Br,8))};static \u0275prov=T({token:n,factory:n.\u0275fac})}return n})(),Cs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,o,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(qh[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(K_(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(K_(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new M(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;let i=qh[o];i?t.setAttributeNS(i,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let o=qh[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(Xt.DashCase|Xt.Important)?t.style.setProperty(e,r,o&Xt.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Xt.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,o){if(typeof t=="string"&&(t=xt().getGlobalEventTarget(this.doc,t),!t))throw new M(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,e,i)),this.eventManager.addEventListener(t,e,i,o)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function K_(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Zh=class extends Cs{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,o,i,s,a,c,l){super(t,i,s,c,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=o.styles;u=Y_(o.id,u);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let h of d){let f=Kh(h,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ds=class extends Cs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,o,i,s,a,c,l){super(t,i,s,a,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=l?Y_(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&$o.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ml=class extends Ds{contentAttr;hostAttr;constructor(t,e,r,o,i,s,a,c,l){let u=o+"-"+r.id;super(t,e,r,i,s,a,c,l,u),this.contentAttr=jM(u),this.hostAttr=VM(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var yl=class n extends _s{supportsDOMEvents=!0;static makeCurrent(){Bh(new n)}onAndCancel(t,e,r,o){return t.addEventListener(e,r,o),()=>{t.removeEventListener(e,r,o)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=UM();return e==null?null:BM(e)}resetBaseElement(){Is=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return zh(document.cookie,t)}},Is=null;function UM(){return Is=Is||document.head.querySelector("base"),Is?Is.getAttribute("href"):null}function BM(n){return new URL(n,document.baseURI).pathname}var $M=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:n.\u0275fac})}return n})(),Q_=["alt","control","meta","shift"],HM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zM={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},J_=(()=>{class n extends Es{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,o,i){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xt().onAndCancel(e,s.domEventName,a,i))}static parseEventName(e){let r=e.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Q_.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(e,r){let o=HM[e.key]||e.key,i="";return r.indexOf("code.")>-1&&(o=e.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Q_.forEach(s=>{if(s!==o){let a=zM[s];a(e)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(e,r,o){return i=>{n.matchEventFullKeyCode(i,e)&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(F(Se))};static \u0275prov=T({token:n,factory:n.\u0275fac})}return n})();function ep(n,t,e){let r=E({rootComponent:n,platformRef:e?.platformRef},WM(t));return F_(r)}function WM(n){return{appProviders:[...YM,...n?.providers??[]],platformProviders:ZM}}function GM(){yl.makeCurrent()}function qM(){return new kt}function KM(){return qf(document),document}var ZM=[{provide:Wo,useValue:z_},{provide:Yc,useValue:GM,multi:!0},{provide:Se,useFactory:KM}];var YM=[{provide:Wi,useValue:"root"},{provide:kt,useFactory:qM},{provide:vl,useClass:gl,multi:!0,deps:[Se]},{provide:vl,useClass:J_,multi:!0,deps:[Se]},Xh,Qh,Yh,{provide:Lr,useExisting:Xh},{provide:bs,useClass:$M},[]];var X_=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(F(Se))};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $="primary",js=Symbol("RouteTitle"),ip=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Kr(n){return new ip(n)}function aw(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=n[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function JM(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!sn(n[e],t[e]))return!1;return!0}function sn(n,t){let e=n?sp(n):void 0,r=t?sp(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!cw(n[o],t[o]))return!1;return!0}function sp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function cw(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((o,i)=>r[i]===o)}else return n===t}function lw(n){return n.length>0?n[n.length-1]:null}function On(n){return id(n)?n:tr(n)?de(Promise.resolve(n)):P(n)}var XM={exact:dw,subset:fw},uw={exact:eT,subset:tT,ignored:()=>!0};function ew(n,t,e){return XM[e.paths](n.root,t.root,e.matrixParams)&&uw[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function eT(n,t){return sn(n,t)}function dw(n,t,e){if(!Gr(n.segments,t.segments)||!bl(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!dw(n.children[r],t.children[r],e))return!1;return!0}function tT(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>cw(n[e],t[e]))}function fw(n,t,e){return hw(n,t,t.segments,e)}function hw(n,t,e,r){if(n.segments.length>e.length){let o=n.segments.slice(0,e.length);return!(!Gr(o,e)||t.hasChildren()||!bl(o,e,r))}else if(n.segments.length===e.length){if(!Gr(n.segments,e)||!bl(n.segments,e,r))return!1;for(let o in t.children)if(!n.children[o]||!fw(n.children[o],t.children[o],r))return!1;return!0}else{let o=e.slice(0,n.segments.length),i=e.slice(n.segments.length);return!Gr(n.segments,o)||!bl(n.segments,o,r)||!n.children[$]?!1:hw(n.children[$],t,i,r)}}function bl(n,t,e){return t.every((r,o)=>uw[e](n[o].parameters,r.parameters))}var cn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new re([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Kr(this.queryParams),this._queryParamMap}toString(){return oT.serialize(this)}},re=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return El(this)}},ir=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Kr(this.parameters),this._parameterMap}toString(){return gw(this)}};function nT(n,t){return Gr(n,t)&&n.every((e,r)=>sn(e.parameters,t[r].parameters))}function Gr(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function rT(n,t){let e=[];return Object.entries(n.children).forEach(([r,o])=>{r===$&&(e=e.concat(t(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==$&&(e=e.concat(t(o,r)))}),e}var Zr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:()=>new sr,providedIn:"root"})}return n})(),sr=class{parse(t){let e=new cp(t);return new cn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Ss(t.root,!0)}`,r=aT(t.queryParams),o=typeof t.fragment=="string"?`#${iT(t.fragment)}`:"";return`${e}${r}${o}`}},oT=new sr;function El(n){return n.segments.map(t=>gw(t)).join("/")}function Ss(n,t){if(!n.hasChildren())return El(n);if(t){let e=n.children[$]?Ss(n.children[$],!1):"",r=[];return Object.entries(n.children).forEach(([o,i])=>{o!==$&&r.push(`${o}:${Ss(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=rT(n,(r,o)=>o===$?[Ss(n.children[$],!1)]:[`${o}:${Ss(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[$]!=null?`${El(n)}/${e[0]}`:`${El(n)}/(${e.join("//")})`}}function pw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _l(n){return pw(n).replace(/%3B/gi,";")}function iT(n){return encodeURI(n)}function ap(n){return pw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cl(n){return decodeURIComponent(n)}function tw(n){return Cl(n.replace(/\+/g,"%20"))}function gw(n){return`${ap(n.path)}${sT(n.parameters)}`}function sT(n){return Object.entries(n).map(([t,e])=>`;${ap(t)}=${ap(e)}`).join("")}function aT(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(o=>`${_l(e)}=${_l(o)}`).join("&"):`${_l(e)}=${_l(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var cT=/^[^\/()?;#]+/;function tp(n){let t=n.match(cT);return t?t[0]:""}var lT=/^[^\/()?;=#]+/;function uT(n){let t=n.match(lT);return t?t[0]:""}var dT=/^[^=?&#]+/;function fT(n){let t=n.match(dT);return t?t[0]:""}var hT=/^[^&#]+/;function pT(n){let t=n.match(hT);return t?t[0]:""}var cp=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[$]=new re(t,e)),r}parseSegment(){let t=tp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(t),new ir(Cl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=uT(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let o=tp(this.remaining);o&&(r=o,this.capture(r))}t[Cl(e)]=Cl(r)}parseQueryParam(t){let e=fT(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=pT(this.remaining);s&&(r=s,this.capture(r))}let o=tw(e),i=tw(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=tp(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new M(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=$);let s=this.parseChildren();e[i??$]=Object.keys(s).length===1&&s[$]?s[$]:new re([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new M(4011,!1)}};function mw(n){return n.segments.length>0?new re([],{[$]:n}):n}function vw(n){let t={};for(let[r,o]of Object.entries(n.children)){let i=vw(o);if(r===$&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let e=new re(n.segments,t);return gT(e)}function gT(n){if(n.numberOfChildren===1&&n.children[$]){let t=n.children[$];return new re(n.segments.concat(t.segments),t.children)}return n}function ar(n){return n instanceof cn}function yw(n,t,e=null,r=null){let o=_w(n);return ww(o,t,e,r)}function _w(n){let t;function e(i){let s={};for(let c of i.children){let l=e(c);s[c.outlet]=l}let a=new re(i.url,s);return i===n&&(t=a),a}let r=e(n.root),o=mw(r);return t??o}function ww(n,t,e,r){let o=n;for(;o.parent;)o=o.parent;if(t.length===0)return np(o,o,o,e,r);let i=mT(t);if(i.toRoot())return np(o,o,new re([],{}),e,r);let s=vT(i,o,n),a=s.processChildren?Ts(s.segmentGroup,s.index,i.commands):Ew(s.segmentGroup,s.index,i.commands);return np(o,s.segmentGroup,a,e,r)}function Dl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function As(n){return typeof n=="object"&&n!=null&&n.outlets}function np(n,t,e,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===t?s=e:s=bw(n,t,e);let a=mw(vw(s));return new cn(a,i,o)}function bw(n,t,e){let r={};return Object.entries(n.children).forEach(([o,i])=>{i===t?r[o]=e:r[o]=bw(i,t,e)}),new re(n.segments,r)}var Il=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Dl(r[0]))throw new M(4003,!1);let o=r.find(As);if(o&&o!==lw(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function mT(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Il(!0,0,n);let t=0,e=!1,r=n.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Il(e,t,r)}var Jo=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function vT(n,t,e){if(n.isAbsolute)return new Jo(t,!0,0);if(!e)return new Jo(t,!1,NaN);if(e.parent===null)return new Jo(e,!0,0);let r=Dl(n.commands[0])?0:1,o=e.segments.length-1+r;return yT(e,o,n.numberOfDoubleDots)}function yT(n,t,e){let r=n,o=t,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new M(4005,!1);o=r.segments.length}return new Jo(r,!1,o-i)}function _T(n){return As(n[0])?n[0].outlets:{[$]:n}}function Ew(n,t,e){if(n??=new re([],{}),n.segments.length===0&&n.hasChildren())return Ts(n,t,e);let r=wT(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let i=new re(n.segments.slice(0,r.pathIndex),{});return i.children[$]=new re(n.segments.slice(r.pathIndex),n.children),Ts(i,0,o)}else return r.match&&o.length===0?new re(n.segments,{}):r.match&&!n.hasChildren()?lp(n,t,e):r.match?Ts(n,0,o):lp(n,t,e)}function Ts(n,t,e){if(e.length===0)return new re(n.segments,{});{let r=_T(e),o={};if(Object.keys(r).some(i=>i!==$)&&n.children[$]&&n.numberOfChildren===1&&n.children[$].segments.length===0){let i=Ts(n.children[$],t,e);return new re(n.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=Ew(n.children[i],t,s))}),Object.entries(n.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new re(n.segments,o)}}function wT(n,t,e){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return i;let s=n.segments[o],a=e[r];if(As(a))break;let c=`${a}`,l=r<e.length-1?e[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!rw(c,l,s))return i;r+=2}else{if(!rw(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function lp(n,t,e){let r=n.segments.slice(0,t),o=0;for(;o<e.length;){let i=e[o];if(As(i)){let c=bT(i.outlets);return new re(r,c)}if(o===0&&Dl(e[0])){let c=n.segments[t];r.push(new ir(c.path,nw(e[0]))),o++;continue}let s=As(i)?i.outlets[$]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&Dl(a)?(r.push(new ir(s,nw(a))),o+=2):(r.push(new ir(s,{})),o++)}return new re(r,{})}function bT(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=lp(new re([],{}),0,r))}),t}function nw(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function rw(n,t,e){return n==e.path&&sn(t,e.parameters)}var Xo="imperative",Re=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Re||{}),bt=class{id;url;constructor(t,e){this.id=t,this.url=e}},cr=class extends bt{type=Re.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",o=null){super(t,e),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Et=class extends bt{urlAfterRedirects;type=Re.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xe=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Xe||{}),ti=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(ti||{}),an=class extends bt{reason;code;type=Re.NavigationCancel;constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ln=class extends bt{reason;code;type=Re.NavigationSkipped;constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o}},ni=class extends bt{error;target;type=Re.NavigationError;constructor(t,e,r,o){super(t,e),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Os=class extends bt{urlAfterRedirects;state;type=Re.RoutesRecognized;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sl=class extends bt{urlAfterRedirects;state;type=Re.GuardsCheckStart;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ml=class extends bt{urlAfterRedirects;state;shouldActivate;type=Re.GuardsCheckEnd;constructor(t,e,r,o,i){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Tl=class extends bt{urlAfterRedirects;state;type=Re.ResolveStart;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xl=class extends bt{urlAfterRedirects;state;type=Re.ResolveEnd;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Al=class{route;type=Re.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ol=class{route;type=Re.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Nl=class{snapshot;type=Re.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rl=class{snapshot;type=Re.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kl=class{snapshot;type=Re.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pl=class{snapshot;type=Re.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ri=class{routerEvent;position;anchor;type=Re.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ns=class{},oi=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function ET(n){return!(n instanceof Ns)&&!(n instanceof oi)}function CT(n,t){return n.providers&&!n._injector&&(n._injector=qo(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Ht(n){return n.outlet||$}function DT(n,t){let e=n.filter(r=>Ht(r)===t);return e.push(...n.filter(r=>Ht(r)!==t)),e}function ai(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Fl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ai(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Yr(this.rootInjector)}},Yr=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Fl(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(F(Ae))};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ll=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=up(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=up(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=dp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return dp(t,this._root).map(e=>e.value)}};function up(n,t){if(n===t.value)return t;for(let e of t.children){let r=up(n,e);if(r)return r}return null}function dp(n,t){if(n===t.value)return[t];for(let e of t.children){let r=dp(n,e);if(r.length)return r.unshift(t),r}return[]}var wt=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Qo(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Rs=class extends Ll{snapshot;constructor(t,e){super(t),this.snapshot=e,_p(this,t)}toString(){return this.snapshot.toString()}};function Cw(n){let t=IT(n),e=new xe([new ir("",{})]),r=new xe({}),o=new xe({}),i=new xe({}),s=new xe(""),a=new un(e,r,i,s,o,$,n,t.root);return a.snapshot=t.root,new Rs(new wt(a,[]),t)}function IT(n){let t={},e={},r={},i=new qr([],t,r,"",e,$,n,null,{});return new ks("",new wt(i,[]))}var un=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Z(l=>l[js]))??P(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(t=>Kr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(t=>Kr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jl(n,t,e="emptyOnly"){let r,{routeConfig:o}=n;return t!==null&&(e==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:E(E({},t.params),n.params),data:E(E({},t.data),n.data),resolve:E(E(E(E({},n.data),t.data),o?.data),n._resolvedData)}:r={params:E({},n.params),data:E({},n.data),resolve:E(E({},n.data),n._resolvedData??{})},o&&Iw(o)&&(r.resolve[js]=o.title),r}var qr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[js]}constructor(t,e,r,o,i,s,a,c,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Kr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Kr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},ks=class extends Ll{url;constructor(t,e){super(e),this.url=t,_p(this,e)}toString(){return Dw(this._root)}};function _p(n,t){t.value._routerState=n,t.children.forEach(e=>_p(n,e))}function Dw(n){let t=n.children.length>0?` { ${n.children.map(Dw).join(", ")} } `:"";return`${n.value}${t}`}function rp(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,sn(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),sn(t.params,e.params)||n.paramsSubject.next(e.params),JM(t.url,e.url)||n.urlSubject.next(e.url),sn(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function fp(n,t){let e=sn(n.params,t.params)&&nT(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||fp(n.parent,t.parent))}function Iw(n){return typeof n.title=="string"||n.title===null}var Sw=new A(""),Vs=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=$;activateEvents=new we;deactivateEvents=new we;attachEvents=new we;detachEvents=new we;routerOutletData=P_();parentContexts=y(Yr);location=y(Mn);changeDetector=y(An);inputBinder=y(Us,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:o}=e.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new hp(e,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[en]})}return n})(),hp=class{route;childContexts;parent;outletData;constructor(t,e,r,o){this.route=t,this.childContexts=e,this.parent=r,this.outletData=o}get(t,e){return t===un?this.route:t===Yr?this.childContexts:t===Sw?this.outletData:this.parent.get(t,e)}},Us=new A(""),wp=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,o=ki([r.queryParams,r.params,r.data]).pipe(Qe(([i,s,a],c)=>(a=E(E(E({},i),s),a),c===0?P(a):Promise.resolve(a)))).subscribe(i=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=L_(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(e,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:n.\u0275fac})}return n})(),bp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=be({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&Ko(0,"router-outlet")},dependencies:[Vs],encapsulation:2})}return n})();function Ep(n){let t=n.children&&n.children.map(Ep),e=t?G(E({},n),{children:t}):E({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==$&&(e.component=bp),e}function ST(n,t,e){let r=Ps(n,t._root,e?e._root:void 0);return new Rs(r,t)}function Ps(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let o=MT(n,t,e);return new wt(r,o)}else{if(n.shouldAttach(t.value)){let i=n.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ps(n,a)),s}}let r=TT(t.value),o=t.children.map(i=>Ps(n,i));return new wt(r,o)}}function MT(n,t,e){return t.children.map(r=>{for(let o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Ps(n,r,o);return Ps(n,r)})}function TT(n){return new un(new xe(n.url),new xe(n.params),new xe(n.queryParams),new xe(n.fragment),new xe(n.data),n.outlet,n.component,n)}var ii=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Mw="ngNavigationCancelingError";function Vl(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=ar(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=Tw(!1,Xe.Redirect);return o.url=e,o.navigationBehaviorOptions=r,o}function Tw(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Mw]=!0,e.cancellationCode=t,e}function xT(n){return xw(n)&&ar(n.url)}function xw(n){return!!n&&n[Mw]}var AT=(n,t,e,r)=>Z(o=>(new pp(t,o.targetRouterState,o.currentRouterState,e,r).activate(n),o)),pp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,o,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),rp(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let o=Qo(e);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,e,r){let o=t.value,i=e?e.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,i=Qo(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,i=Qo(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let o=Qo(e);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Pl(i.value.snapshot))}),t.children.length&&this.forwardEvent(new Rl(t.value.snapshot))}activateRoutes(t,e,r){let o=t.value,i=e?e.value:null;if(rp(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),rp(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Ul=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ei=class{component;route;constructor(t,e){this.component=t,this.route=e}};function OT(n,t,e){let r=n._root,o=t?t._root:null;return Ms(r,o,e,[r.value])}function NT(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function ci(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!Cd(n)?n:t.get(n):r}function Ms(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Qo(t);return n.children.forEach(s=>{RT(s,i[s.value.outlet],e,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>xs(a,e.getContext(s),o)),o}function RT(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=kT(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Ul(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Ms(n,t,a?a.children:null,r,o):Ms(n,t,e,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ei(a.outlet.component,s))}else s&&xs(t,a,o),o.canActivateChecks.push(new Ul(r)),i.component?Ms(n,null,a?a.children:null,r,o):Ms(n,null,e,r,o);return o}function kT(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Gr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Gr(n.url,t.url)||!sn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fp(n,t)||!sn(n.queryParams,t.queryParams);case"paramsChange":default:return!fp(n,t)}}function xs(n,t,e){let r=Qo(n),o=n.value;Object.entries(r).forEach(([i,s])=>{o.component?t?xs(s,t.children.getContext(i),e):xs(s,null,e):xs(s,t,e)}),o.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new ei(t.outlet.component,o)):e.canDeactivateChecks.push(new ei(null,o)):e.canDeactivateChecks.push(new ei(null,o))}function Bs(n){return typeof n=="function"}function PT(n){return typeof n=="boolean"}function FT(n){return n&&Bs(n.canLoad)}function LT(n){return n&&Bs(n.canActivate)}function jT(n){return n&&Bs(n.canActivateChild)}function VT(n){return n&&Bs(n.canDeactivate)}function UT(n){return n&&Bs(n.canMatch)}function Aw(n){return n instanceof gn||n?.name==="EmptyError"}var wl=Symbol("INITIAL_VALUE");function si(){return Qe(n=>ki(n.map(t=>t.pipe(vn(1),ld(wl)))).pipe(Z(t=>{for(let e of t)if(e!==!0){if(e===wl)return wl;if(e===!1||BT(e))return e}return!0}),it(t=>t!==wl),vn(1)))}function BT(n){return ar(n)||n instanceof ii}function $T(n,t){return _e(e=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return s.length===0&&i.length===0?P(G(E({},e),{guardsResult:!0})):HT(s,r,o,n).pipe(_e(a=>a&&PT(a)?zT(r,i,n,t):P(a)),Z(a=>G(E({},e),{guardsResult:a})))})}function HT(n,t,e,r){return de(n).pipe(_e(o=>ZT(o.component,o.route,e,t,r)),yn(o=>o!==!0,!0))}function zT(n,t,e,r){return de(t).pipe(Bn(o=>Mo(GT(o.route.parent,r),WT(o.route,r),KT(n,o.path,e),qT(n,o.route,e))),yn(o=>o!==!0,!0))}function WT(n,t){return n!==null&&t&&t(new kl(n)),P(!0)}function GT(n,t){return n!==null&&t&&t(new Nl(n)),P(!0)}function qT(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return P(!0);let o=r.map(i=>Pi(()=>{let s=ai(t)??e,a=ci(i,s),c=LT(a)?a.canActivate(t,n):We(s,()=>a(t,n));return On(c).pipe(yn())}));return P(o).pipe(si())}function KT(n,t,e){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>NT(s)).filter(s=>s!==null).map(s=>Pi(()=>{let a=s.guards.map(c=>{let l=ai(s.node)??e,u=ci(c,l),d=jT(u)?u.canActivateChild(r,n):We(l,()=>u(r,n));return On(d).pipe(yn())});return P(a).pipe(si())}));return P(i).pipe(si())}function ZT(n,t,e,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return P(!0);let s=i.map(a=>{let c=ai(t)??o,l=ci(a,c),u=VT(l)?l.canDeactivate(n,t,e,r):We(c,()=>l(n,t,e,r));return On(u).pipe(yn())});return P(s).pipe(si())}function YT(n,t,e,r){let o=t.canLoad;if(o===void 0||o.length===0)return P(!0);let i=o.map(s=>{let a=ci(s,n),c=FT(a)?a.canLoad(t,e):We(n,()=>a(t,e));return On(c)});return P(i).pipe(si(),Ow(r))}function Ow(n){return Ju(Pe(t=>{if(typeof t!="boolean")throw Vl(n,t)}),Z(t=>t===!0))}function QT(n,t,e,r){let o=t.canMatch;if(!o||o.length===0)return P(!0);let i=o.map(s=>{let a=ci(s,n),c=UT(a)?a.canMatch(t,e):We(n,()=>a(t,e));return On(c)});return P(i).pipe(si(),Ow(r))}var Fs=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Ls=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Yo(n){return So(new Fs(n))}function JT(n){return So(new M(4e3,!1))}function XT(n){return So(Tw(!1,Xe.GuardRejected))}var gp=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return P(r);if(o.numberOfChildren>1||!o.children[$])return JT(`${t.redirectTo}`);o=o.children[$]}}applyRedirectCommands(t,e,r,o,i){return ex(e,o,i).pipe(Z(s=>{if(s instanceof cn)throw new Ls(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Ls(a);return a}))}applyRedirectCreateUrlTree(t,e,r,o){let i=this.createSegmentGroup(t,e.root,r,o);return new cn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=e[a]}else r[o]=i}),r}createSegmentGroup(t,e,r,o){let i=this.createSegments(t,e.segments,r,o),s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new re(i,s)}createSegments(t,e,r,o){return e.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,e,r){let o=r[e.path.substring(1)];if(!o)throw new M(4001,!1);return o}findOrReturn(t,e){let r=0;for(let o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}};function ex(n,t,e){if(typeof n=="string")return P(n);let r=n,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=t;return On(We(e,()=>r({params:l,data:u,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:d})))}var mp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tx(n,t,e,r,o){let i=Nw(n,t,e);return i.matched?(r=CT(t,r),QT(r,t,e,o).pipe(Z(s=>s===!0?i:E({},mp)))):P(i)}function Nw(n,t,e){if(t.path==="**")return nx(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?E({},mp):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(t.matcher||aw)(e,n,t);if(!o)return E({},mp);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?E(E({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function nx(n){return{matched:!0,parameters:n.length>0?lw(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function ow(n,t,e,r){return e.length>0&&ix(n,e,r)?{segmentGroup:new re(t,ox(r,new re(e,n.children))),slicedSegments:[]}:e.length===0&&sx(n,e,r)?{segmentGroup:new re(n.segments,rx(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new re(n.segments,n.children),slicedSegments:e}}function rx(n,t,e,r){let o={};for(let i of e)if($l(n,t,i)&&!r[Ht(i)]){let s=new re([],{});o[Ht(i)]=s}return E(E({},r),o)}function ox(n,t){let e={};e[$]=t;for(let r of n)if(r.path===""&&Ht(r)!==$){let o=new re([],{});e[Ht(r)]=o}return e}function ix(n,t,e){return e.some(r=>$l(n,t,r)&&Ht(r)!==$)}function sx(n,t,e){return e.some(r=>$l(n,t,r))}function $l(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function ax(n,t,e){return t.length===0&&!n.children[e]}var vp=class{};function cx(n,t,e,r,o,i,s="emptyOnly"){return new yp(n,t,e,r,o,s,i).recognize()}var lx=31,yp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,o,i,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new gp(this.urlSerializer,this.urlTree)}noMatchError(t){return new M(4002,`'${t.segmentGroup}'`)}recognize(){let t=ow(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Z(({children:e,rootSnapshot:r})=>{let o=new wt(r,e),i=new ks("",o),s=yw(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){let e=new qr([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),$,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,$,e).pipe(Z(r=>({children:r,rootSnapshot:e})),mn(r=>{if(r instanceof Ls)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fs?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,i):this.processSegment(t,e,r,r.segments,o,!0,i).pipe(Z(s=>s instanceof wt?[s]:[]))}processChildren(t,e,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return de(i).pipe(Bn(s=>{let a=r.children[s],c=DT(e,s);return this.processSegmentGroup(t,c,a,s,o)}),cd((s,a)=>(s.push(...a),s)),$n(null),ad(),_e(s=>{if(s===null)return Yo(r);let a=Rw(s);return ux(a),P(a)}))}processSegment(t,e,r,o,i,s,a){return de(e).pipe(Bn(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,r,o,i,s,a).pipe(mn(l=>{if(l instanceof Fs)return P(null);throw l}))),yn(c=>!!c),mn(c=>{if(Aw(c))return ax(r,o,i)?P(new vp):Yo(r);throw c}))}processSegmentAgainstRoute(t,e,r,o,i,s,a,c){return Ht(r)!==s&&(s===$||!$l(o,i,r))?Yo(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,e,r,i,s,c):Yo(o)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,i,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=Nw(e,o,i);if(!c)return Yo(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lx&&(this.allowRedirects=!1));let f=new qr(i,l,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,iw(o),Ht(o),o.component??o._loadedComponent??null,o,sw(o)),v=jl(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(v.params),f.data=Object.freeze(v.data),this.applyRedirects.applyRedirectCommands(u,o.redirectTo,d,f,t).pipe(Qe(w=>this.applyRedirects.lineralizeSegments(o,w)),_e(w=>this.processSegment(t,r,e,w.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,e,r,o,i,s){let a=tx(e,r,o,t,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(Qe(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(Qe(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=c,v=new qr(h,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,iw(r),Ht(r),r.component??r._loadedComponent??null,r,sw(r)),b=jl(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data);let{segmentGroup:w,slicedSegments:D}=ow(e,h,f,l);if(D.length===0&&w.hasChildren())return this.processChildren(u,l,w,v).pipe(Z(N=>new wt(v,N)));if(l.length===0&&D.length===0)return P(new wt(v,[]));let ne=Ht(r)===i;return this.processSegment(u,l,w,D,ne?$:i,!0,v).pipe(Z(N=>new wt(v,N instanceof wt?[N]:[])))}))):Yo(e)))}getChildConfig(t,e,r){return e.children?P({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?P({routes:e._loadedRoutes,injector:e._loadedInjector}):YT(t,e,r,this.urlSerializer).pipe(_e(o=>o?this.configLoader.loadChildren(t,e).pipe(Pe(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):XT(e))):P({routes:[],injector:t})}};function ux(n){n.sort((t,e)=>t.value.outlet===$?-1:e.value.outlet===$?1:t.value.outlet.localeCompare(e.value.outlet))}function dx(n){let t=n.value.routeConfig;return t&&t.path===""}function Rw(n){let t=[],e=new Set;for(let r of n){if(!dx(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),e.add(o)):t.push(r)}for(let r of e){let o=Rw(r.children);t.push(new wt(r.value,o))}return t.filter(r=>!e.has(r))}function iw(n){return n.data||{}}function sw(n){return n.resolve||{}}function fx(n,t,e,r,o,i){return _e(s=>cx(n,t,e,r,s.extractedUrl,o,i).pipe(Z(({state:a,tree:c})=>G(E({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function hx(n,t){return _e(e=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return P(e);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let l of kw(c))s.add(l);let a=0;return de(s).pipe(Bn(c=>i.has(c)?px(c,r,n,t):(c.data=jl(c,c.parent,n).resolve,P(void 0))),Pe(()=>a++),To(1),_e(c=>a===s.size?P(e):rt))})}function kw(n){let t=n.children.map(e=>kw(e)).flat();return[n,...t]}function px(n,t,e,r){let o=n.routeConfig,i=n._resolve;return o?.title!==void 0&&!Iw(o)&&(i[js]=o.title),Pi(()=>(n.data=jl(n,n.parent,e).resolve,gx(i,n,t,r).pipe(Z(s=>(n._resolvedData=s,n.data=E(E({},n.data),s),null)))))}function gx(n,t,e,r){let o=sp(n);if(o.length===0)return P({});let i={};return de(o).pipe(_e(s=>mx(n[s],t,e,r).pipe(yn(),Pe(a=>{if(a instanceof ii)throw Vl(new sr,a);i[s]=a}))),To(1),Z(()=>i),mn(s=>Aw(s)?rt:So(s)))}function mx(n,t,e,r){let o=ai(t)??r,i=ci(n,o),s=i.resolve?i.resolve(t,e):We(o,()=>i(t,e));return On(s)}function op(n){return Qe(t=>{let e=n(t);return e?de(e).pipe(Z(()=>t)):P(t)})}var Cp=(()=>{class n{buildTitle(e){let r,o=e.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===$);return r}getResolvedTitleForRoute(e){return e.data[js]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:()=>y(Pw),providedIn:"root"})}return n})(),Pw=(()=>{class n extends Cp{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(F(X_))};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lr=new A("",{providedIn:"root",factory:()=>({})}),Qr=new A(""),Hl=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(kh);loadComponent(e,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return P(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=On(We(e,()=>r.loadComponent())).pipe(Z(Lw),Qe(jw),Pe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Fi(()=>{this.componentLoaders.delete(r)})),i=new Io(o,()=>new ye).pipe(Do());return this.componentLoaders.set(r,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return P({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=Fw(r,this.compiler,e,this.onLoadEndListener).pipe(Fi(()=>{this.childrenLoaders.delete(r)})),s=new Io(i,()=>new ye).pipe(Do());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fw(n,t,e,r){return On(We(e,()=>n.loadChildren())).pipe(Z(Lw),Qe(jw),_e(o=>o instanceof ol||Array.isArray(o)?P(o):de(t.compileModuleAsync(o))),Z(o=>{r&&r(n);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(e).injector,s=i.get(Qr,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ep),injector:i}}))}function vx(n){return n&&typeof n=="object"&&"default"in n}function Lw(n){return vx(n)?n.default:n}function jw(n){return P(n)}var zl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:()=>y(yx),providedIn:"root"})}return n})(),yx=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dp=new A(""),Ip=new A("");function Vw(n,t,e){let r=n.get(Ip),o=n.get(Se);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let i,s=new Promise(l=>{i=l}),a=o.startViewTransition(()=>(i(),_x(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&We(n,()=>c({transition:a,from:t,to:e})),s}function _x(n){return new Promise(t=>{ds({read:()=>setTimeout(t)},{injector:n})})}var Sp=new A(""),Wl=(()=>{class n{currentNavigation=at(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ye;transitionAbortWithErrorSubject=new ye;configLoader=y(Hl);environmentInjector=y(Ae);destroyRef=y(En);urlSerializer=y(Zr);rootContexts=y(Yr);location=y(rr);inputBindingEnabled=y(Us,{optional:!0})!==null;titleStrategy=y(Cp);options=y(lr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(zl);createViewTransition=y(Dp,{optional:!0});navigationErrorHandler=y(Sp,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>P(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new Al(o)),r=o=>this.events.next(new Ol(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;Ve(()=>{this.transitions?.next(G(E({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(e){return this.transitions=new xe(null),this.transitions.pipe(it(r=>r!==null),Qe(r=>{let o=!1;return P(r).pipe(Qe(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Xe.SupersededByNewNavigation),rt;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?G(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=i.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new ln(i.id,this.urlSerializer.serialize(i.rawUrl),"",ti.IgnoredSameUrlNavigation)),i.resolve(!1),rt;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return P(i).pipe(Qe(c=>(this.events.next(new cr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?rt:Promise.resolve(c))),fx(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Pe(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=c.urlAfterRedirects,u));let l=new Os(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:h}=i,f=new cr(c,this.urlSerializer.serialize(l),u,d);this.events.next(f);let v=Cw(this.rootComponentType).snapshot;return this.currentTransition=r=G(E({},i),{targetSnapshot:v,urlAfterRedirects:l,extras:G(E({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(b=>(b.finalUrl=l,b)),P(r)}else return this.events.next(new ln(i.id,this.urlSerializer.serialize(i.extractedUrl),"",ti.IgnoredByUrlHandlingStrategy)),i.resolve(!1),rt}),Pe(i=>{let s=new Sl(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),Z(i=>(this.currentTransition=r=G(E({},i),{guards:OT(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),$T(this.environmentInjector,i=>this.events.next(i)),Pe(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw Vl(this.urlSerializer,i.guardsResult);let s=new Ml(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),it(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",Xe.GuardRejected),!1)),op(i=>{if(i.guards.canActivateChecks.length!==0)return P(i).pipe(Pe(s=>{let a=new Tl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Qe(s=>{let a=!1;return P(s).pipe(hx(this.paramsInheritanceStrategy,this.environmentInjector),Pe({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Xe.NoDataFromResolver)}}))}),Pe(s=>{let a=new xl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),op(i=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=ai(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Pe(u=>{a.component=u}),Z(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return ki(s(i.targetSnapshot.root)).pipe($n(null),vn(1))}),op(()=>this.afterPreactivation()),Qe(()=>{let{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?de(a).pipe(Z(()=>r)):P(r)}),Z(i=>{let s=ST(e.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=G(E({},i),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Pe(()=>{this.events.next(new Ns)}),AT(this.rootContexts,e.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),vn(1),rc(new Q(i=>{let s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(it(()=>!o&&!r.targetRouterState),Pe(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Xe.Aborted)}))),Pe({next:i=>{o=!0,this.lastSuccessfulNavigation=Ve(this.currentNavigation),this.events.next(new Et(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),rc(this.transitionAbortWithErrorSubject.pipe(Pe(i=>{throw i}))),Fi(()=>{o||this.cancelNavigationTransition(r,"",Xe.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),mn(i=>{if(this.destroyed)return r.resolve(!1),rt;if(o=!0,xw(i))this.events.next(new an(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),xT(i)?this.events.next(new oi(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ni(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let a=We(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof ii){let{message:c,cancellationCode:l}=Vl(this.urlSerializer,a);this.events.next(new an(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new oi(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),i}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return rt}))}))}cancelNavigationTransition(e,r,o){let i=new an(e.id,this.urlSerializer.serialize(e.extractedUrl),r,o);this.events.next(i),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Ve(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return e.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wx(n){return n!==Xo}var Uw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:()=>y(bx),providedIn:"root"})}return n})(),Bl=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},bx=(()=>{class n extends Bl{static \u0275fac=(()=>{let e;return function(o){return(e||(e=tn(n)))(o||n)}})();static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bw=(()=>{class n{urlSerializer=y(Zr);options=y(lr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(rr);urlHandlingStrategy=y(zl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new cn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:o}){let i=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,s=o??i;return s instanceof cn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:o}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=e):this.rawUrlTree=o}routerState=Cw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:()=>y(Ex),providedIn:"root"})}return n})(),Ex=(()=>{class n extends Bw{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof cr?this.updateStateMemento():e instanceof ln?this.commitTransition(r):e instanceof Os?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Ns?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof an&&e.code!==Xe.SupersededByNewNavigation&&e.code!==Xe.Redirect?this.restoreHistory(r):e instanceof ni?this.restoreHistory(r,!0):e instanceof Et&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(e)||i){let a=this.browserPageId,c=E(E({},s),this.generateNgRouterState(o,a));this.location.replaceState(e,"",c)}else{let a=E(E({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===e.finalUrl&&i===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=tn(n)))(o||n)}})();static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gl(n,t){n.events.pipe(it(e=>e instanceof Et||e instanceof an||e instanceof ni||e instanceof ln),Z(e=>e instanceof Et||e instanceof ln?0:(e instanceof an?e.code===Xe.Redirect||e.code===Xe.SupersededByNewNavigation:!1)?2:1),it(e=>e!==2),vn(1)).subscribe(()=>{t()})}var Cx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ee=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(Ch);stateManager=y(Bw);options=y(lr,{optional:!0})||{};pendingTasks=y(Cn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(Wl);urlSerializer=y(Zr);location=y(rr);urlHandlingStrategy=y(zl);injector=y(Ae);_events=new ye;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(Uw);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(Qr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(Us,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ce;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=Ve(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof an&&r.code!==Xe.Redirect&&r.code!==Xe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Et)this.navigated=!0;else if(r instanceof oi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=E({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||wx(o.source)},s);this.scheduleNavigation(a,Xo,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}ET(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,o)=>{this.navigateToSyncWithBrowser(e,o,r)})}navigateToSyncWithBrowser(e,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=E({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,i).catch(c=>{this.disposed||this.injector.get(vt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ve(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Ep),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=_w(h)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return ww(d,e,u,l??null)}navigateByUrl(e,r={skipLocationChange:!1}){let o=ar(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Xo,null,r)}navigate(e,r={skipLocationChange:!1}){return Ix(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Wn(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,r){let o;if(r===!0?o=E({},Cx):r===!1?o=E({},Dx):o=r,ar(e))return ew(this.currentUrlTree,e,o);let i=this.parseUrl(e);return ew(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.entries(e).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(e,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return Gl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ix(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new M(4008,!1)}var li=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=at(null);get href(){return Ve(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ye;applicationErrorHandler=y(vt);options=y(lr,{optional:!0});constructor(e,r,o,i,s,a){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a,this.reactiveHref.set(y(new cl("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,r=o=>o==="merge"||o==="preserve";e||=r(this.queryParamsHandling),e||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(o=>{o instanceof Et&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ar(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,e,r):o.removeAttribute(i,e)}get urlTree(){return this.routerLinkInput===null?null:ar(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(R(Ee),R(un),ls("tabindex"),R(Ut),R(Je),R($t))};static \u0275dir=fe({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,o){r&1&&k("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&$r("href",o.reactiveHref(),Jf)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",nr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",nr],replaceUrl:[2,"replaceUrl","replaceUrl",nr],routerLink:"routerLink"},features:[en]})}return n})(),Tp=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new we;constructor(e,r,o,i,s){this.router=e,this.element=r,this.renderer=o,this.cdr=i,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Et&&this.update()})}ngAfterContentInit(){P(this.links.changes,P(null)).pipe(Un()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=de(e).pipe(Un()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=Sx(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let i=o.urlTree;return i?e.isActive(i,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||n)(R(Ee),R(Je),R(Ut),R(An),R(li,8))};static \u0275dir=fe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,i){if(r&1&&Oh(i,li,5),r&2){let s;Nh(s=Rh())&&(o.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[en]})}return n})();function Sx(n){return!!n.paths}var $s=class{};var $w=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,o,i){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(it(e=>e instanceof Et),Bn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=qo(i.providers,e,`Route: ${i.path}`));let s=i._injector??e,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return de(o).pipe(Un())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(e,r):o=P(null);let i=o.pipe(_e(s=>s===null?P(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(e,r);return de([i,s]).pipe(Un())}else return i})}static \u0275fac=function(r){return new(r||n)(F(Ee),F(Ae),F($s),F(Hl))};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hw=new A(""),Mx=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Xo;restoredId=0;store={};constructor(e,r,o,i,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof cr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Et?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof ln&&e.code===ti.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof ri))return;let r={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,r):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>p(this,null,function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new ri(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){yh()};static \u0275prov=T({token:n,factory:n.\u0275fac})}return n})();function xp(n,...t){return zi([{provide:Qr,multi:!0,useValue:n},[],{provide:un,useFactory:zw,deps:[Ee]},{provide:gs,multi:!0,useFactory:Ww},t.map(e=>e.\u0275providers)])}function zw(n){return n.routerState.root}function Hs(n,t){return{\u0275kind:n,\u0275providers:t}}function Ww(){let n=y(st);return t=>{let e=n.get(Tn);if(t!==e.components[0])return;let r=n.get(Ee),o=n.get(Gw);n.get(Ap)===1&&r.initialNavigation(),n.get(Zw,null,{optional:!0})?.setUpPreloading(),n.get(Hw,null,{optional:!0})?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var Gw=new A("",{factory:()=>new ye}),Ap=new A("",{providedIn:"root",factory:()=>1});function qw(){let n=[{provide:Kf,useValue:!0},{provide:Ap,useValue:0},il(()=>{let t=y(st);return t.get($h,Promise.resolve()).then(()=>new Promise(r=>{let o=t.get(Ee),i=t.get(Gw);Gl(o,()=>{r(!0)}),t.get(Wl).afterPreactivation=()=>(r(!0),i.closed?P(void 0):i),o.initialNavigation()}))})];return Hs(2,n)}function Kw(){let n=[il(()=>{y(Ee).setUpLocationChangeListener()}),{provide:Ap,useValue:2}];return Hs(3,n)}var Zw=new A("");function Yw(n){return Hs(0,[{provide:Zw,useExisting:$w},{provide:$s,useExisting:n}])}function Qw(){return Hs(8,[wp,{provide:Us,useExisting:wp}])}function Jw(n){Sn("NgRouterViewTransitions");let t=[{provide:Dp,useValue:Vw},{provide:Ip,useValue:E({skipNextTransition:!!n?.skipInitialTransition},n)}];return Hs(9,t)}var Xw=[rr,{provide:Zr,useClass:sr},Ee,Yr,{provide:un,useFactory:zw,deps:[Ee]},Hl,[]],Op=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[Xw,[],{provide:Qr,multi:!0,useValue:e},[],r?.errorHandler?{provide:Sp,useValue:r.errorHandler}:[],{provide:lr,useValue:r||{}},r?.useHash?xx():Ax(),Tx(),r?.preloadingStrategy?Yw(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Ox(r):[],r?.bindToComponentInputs?Qw().\u0275providers:[],r?.enableViewTransitions?Jw().\u0275providers:[],Nx()]}}static forChild(e){return{ngModule:n,providers:[{provide:Qr,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=nn({type:n});static \u0275inj=Pt({})}return n})();function Tx(){return{provide:Hw,useFactory:()=>{let n=y(W_),t=y(Me),e=y(lr),r=y(Wl),o=y(Zr);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Mx(o,r,n,t,e)}}}function xx(){return{provide:$t,useClass:Hh}}function Ax(){return{provide:$t,useClass:fl}}function Ox(n){return[n.initialNavigation==="disabled"?Kw().\u0275providers:[],n.initialNavigation==="enabledBlocking"?qw().\u0275providers:[]]}var Mp=new A("");function Nx(){return[{provide:Mp,useFactory:Ww},{provide:gs,multi:!0,useExisting:Mp}]}var u0=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(R(Ut),R(Je))};static \u0275dir=fe({type:n})}return n})(),kp=(()=>{class n extends u0{static \u0275fac=(()=>{let e;return function(o){return(e||(e=tn(n)))(o||n)}})();static \u0275dir=fe({type:n,features:[yt]})}return n})(),tu=new A("");var Rx={provide:tu,useExisting:Ct(()=>Ke),multi:!0};function kx(){let n=xt()?xt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Px=new A(""),Ke=(()=>{class n extends u0{_compositionMode;_composing=!1;constructor(e,r,o){super(e,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!kx())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(R(Ut),R(Je),R(Px,8))};static \u0275dir=fe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&k("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[xn([Rx]),yt]})}return n})();function Fx(n){return n==null||d0(n)===0}function d0(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var nu=new A(""),f0=new A("");function Lx(n){return Fx(n.value)?{required:!0}:null}function jx(n){return t=>{let e=t.value?.length??d0(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function t0(n){return null}function h0(n){return n!=null}function p0(n){return tr(n)?de(n):n}function g0(n){let t={};return n.forEach(e=>{t=e!=null?E(E({},t),e):t}),Object.keys(t).length===0?null:t}function m0(n,t){return t.map(e=>e(n))}function Vx(n){return!n.validate}function v0(n){return n.map(t=>Vx(t)?t:e=>t.validate(e))}function Ux(n){if(!n)return null;let t=n.filter(h0);return t.length==0?null:function(e){return g0(m0(e,t))}}function Pp(n){return n!=null?Ux(v0(n)):null}function Bx(n){if(!n)return null;let t=n.filter(h0);return t.length==0?null:function(e){let r=m0(e,t).map(p0);return sd(r).pipe(Z(g0))}}function Fp(n){return n!=null?Bx(v0(n)):null}function n0(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function $x(n){return n._rawValidators}function Hx(n){return n._rawAsyncValidators}function Np(n){return n?Array.isArray(n)?n:[n]:[]}function Kl(n,t){return Array.isArray(n)?n.includes(t):n===t}function r0(n,t){let e=Np(t);return Np(n).forEach(o=>{Kl(e,o)||e.push(o)}),e}function o0(n,t){return Np(t).filter(e=>!Kl(n,e))}var Zl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Pp(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Fp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},fi=class extends Zl{name;get formDirective(){return null}get path(){return null}},Zs=class extends Zl{_parent=null;name=null;valueAccessor=null},Yl=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},zx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},hW=G(E({},zx),{"[class.ng-submitted]":"isSubmitted"}),lt=(()=>{class n extends Yl{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(R(Zs,2))};static \u0275dir=fe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&ct("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[yt]})}return n})(),dr=(()=>{class n extends Yl{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(R(fi,10))};static \u0275dir=fe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&ct("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[yt]})}return n})();var zs="VALID",ql="INVALID",ui="PENDING",Ws="DISABLED",ur=class{},Ql=class extends ur{value;source;constructor(t,e){super(),this.value=t,this.source=e}},qs=class extends ur{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Ks=class extends ur{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},di=class extends ur{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Rp=class extends ur{source;constructor(t){super(),this.source=t}},Jl=class extends ur{source;constructor(t){super(),this.source=t}};function y0(n){return(ru(n)?n.validators:n)||null}function Wx(n){return Array.isArray(n)?Pp(n):n||null}function _0(n,t){return(ru(t)?t.asyncValidators:n)||null}function Gx(n){return Array.isArray(n)?Fp(n):n||null}function ru(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function qx(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new M(1e3,"");if(!r[e])throw new M(1001,"")}function Kx(n,t,e){n._forEachChild((r,o)=>{if(e[o]===void 0)throw new M(1002,"")})}var Xl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ve(this.statusReactive)}set status(t){Ve(()=>this.statusReactive.set(t))}_status=Zo(()=>this.statusReactive());statusReactive=at(void 0);get valid(){return this.status===zs}get invalid(){return this.status===ql}get pending(){return this.status==ui}get disabled(){return this.status===Ws}get enabled(){return this.status!==Ws}errors;get pristine(){return Ve(this.pristineReactive)}set pristine(t){Ve(()=>this.pristineReactive.set(t))}_pristine=Zo(()=>this.pristineReactive());pristineReactive=at(!0);get dirty(){return!this.pristine}get touched(){return Ve(this.touchedReactive)}set touched(t){Ve(()=>this.touchedReactive.set(t))}_touched=Zo(()=>this.touchedReactive());touchedReactive=at(!1);get untouched(){return!this.touched}_events=new ye;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(r0(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(r0(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(o0(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(o0(t,this._rawAsyncValidators))}hasValidator(t){return Kl(this._rawValidators,t)}hasAsyncValidator(t){return Kl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(G(E({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new Ks(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new Ks(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(G(E({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new qs(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new qs(!0,r))}markAsPending(t={}){this.status=ui;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new di(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(G(E({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ws,this.errors=null,this._forEachChild(o=>{o.disable(G(E({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ql(this.value,r)),this._events.next(new di(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(G(E({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=zs,this._forEachChild(r=>{r.enable(G(E({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(G(E({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zs||this.status===ui)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ql(this.value,e)),this._events.next(new di(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(G(E({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ws:zs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=ui,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let r=p0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new di(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new we,this.statusChanges=new we}_calculateStatus(){return this._allControlsDisabled()?Ws:this.errors?ql:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ui)?ui:this._anyControlsHaveStatus(ql)?ql:zs}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),o&&this._events.next(new qs(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Ks(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ru(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Wx(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Gx(this._rawAsyncValidators)}},eu=class extends Xl{constructor(t,e,r){super(y0(e),_0(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Kx(this,!0,t),Object.keys(t).forEach(r=>{qx(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new Jl(this))}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Lp=new A("",{providedIn:"root",factory:()=>jp}),jp="always";function Zx(n,t){return[...t.path,n]}function w0(n,t,e=jp){b0(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),Qx(n,t),Xx(n,t),Jx(n,t),Yx(n,t)}function i0(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Yx(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function b0(n,t){let e=$x(n);t.validator!==null?n.setValidators(n0(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=Hx(n);t.asyncValidator!==null?n.setAsyncValidators(n0(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let o=()=>n.updateValueAndValidity();i0(t._rawValidators,o),i0(t._rawAsyncValidators,o)}function Qx(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&E0(n,t)})}function Jx(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&E0(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function E0(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Xx(n,t){let e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function eA(n,t){n==null,b0(n,t)}function tA(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function nA(n){return Object.getPrototypeOf(n.constructor)===kp}function rA(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function oA(n,t){if(!t)return null;Array.isArray(t);let e,r,o;return t.forEach(i=>{i.constructor===Ke?e=i:nA(i)?r=i:o=i}),o||r||e||null}var iA={provide:fi,useExisting:Ct(()=>Nn)},Gs=Promise.resolve(),Nn=(()=>{class n extends fi{callSetDisabledState;get submitted(){return Ve(this.submittedReactive)}_submitted=Zo(()=>this.submittedReactive());submittedReactive=at(!1);_directives=new Set;form;ngSubmit=new we;options;constructor(e,r,o){super(),this.callSetDisabledState=o,this.form=new eu({},Pp(e),Fp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Gs.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),w0(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Gs.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Gs.then(()=>{let r=this._findContainer(e.path),o=new eu({});eA(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Gs.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Gs.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),rA(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new Rp(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||n)(R(nu,10),R(f0,10),R(Lp,8))};static \u0275dir=fe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&k("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[xn([iA]),yt]})}return n})();function s0(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function a0(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var sA=class extends Xl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(y0(e),_0(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ru(e)&&(e.nonNullable||e.initialValueIsDefault)&&(a0(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new Jl(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){s0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){s0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){a0(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var aA={provide:Zs,useExisting:Ct(()=>et)},c0=Promise.resolve(),et=(()=>{class n extends Zs{_changeDetectorRef;callSetDisabledState;control=new sA;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new we;constructor(e,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=oA(this,i)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),tA(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){w0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){c0.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,o=r!==0&&nr(r);c0.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Zx(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(R(fi,9),R(nu,10),R(f0,10),R(tu,10),R(An,8),R(Lp,8))};static \u0275dir=fe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[xn([aA]),yt,en]})}return n})();var fr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var cA={provide:tu,useExisting:Ct(()=>hr),multi:!0};function C0(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function lA(n){return n.split(":")[0]}var hr=(()=>{class n extends kp{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=y(Tn).injector;destroyRef=y(En);cdr=y(An);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,ds({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let r=this._getOptionId(e),o=C0(r,e);this.setProperty("value",o)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=lA(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=tn(n)))(o||n)}})();static \u0275dir=fe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&k("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[xn([cA]),yt]})}return n})(),hi=(()=>{class n{_element;_renderer;_select;id;constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(C0(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(R(Je),R(Ut),R(hr,9))};static \u0275dir=fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),uA={provide:tu,useExisting:Ct(()=>D0),multi:!0};function l0(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function dA(n){return n.split(":")[0]}var D0=(()=>{class n extends kp{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let o=e.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);o.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,e(o)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=dA(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=tn(n)))(o||n)}})();static \u0275dir=fe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&k("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[xn([uA]),yt]})}return n})(),pi=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(l0(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(l0(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(R(Je),R(Ut),R(D0,9))};static \u0275dir=fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function fA(n){return typeof n=="number"?n:parseInt(n,10)}var I0=(()=>{class n{_validator=t0;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):t0,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=fe({type:n,features:[en]})}return n})();var hA={provide:nu,useExisting:Ct(()=>Rn),multi:!0};var Rn=(()=>{class n extends I0{required;inputName="required";normalizeInput=nr;createValidator=e=>Lx;enabled(e){return e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=tn(n)))(o||n)}})();static \u0275dir=fe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&$r("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[xn([hA]),yt]})}return n})();var pA={provide:nu,useExisting:Ct(()=>Ys),multi:!0},Ys=(()=>{class n extends I0{minlength;inputName="minlength";normalizeInput=e=>fA(e);createValidator=e=>jx(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=tn(n)))(o||n)}})();static \u0275dir=fe({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&$r("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[xn([pA]),yt]})}return n})();var gA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=nn({type:n});static \u0275inj=Pt({})}return n})();var ut=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Lp,useValue:e.callSetDisabledState??jp}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=nn({type:n});static \u0275inj=Pt({imports:[gA]})}return n})();ue();var S0=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};var Qs=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},Js=class extends Qs{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Xs=class extends Qs{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},ea=class extends Qs{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Vp=(function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n})(Vp||{});var ta=class{constructor(t,{headers:e={},customFetch:r,region:o=Vp.Any}={}){this.url=t,this.headers=e,this.region=o,this.fetch=S0(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return I(this,arguments,void 0,function*(e,r={}){var o;try{let{headers:i,method:s,body:a,signal:c}=r,l={},{region:u}=r;u||(u=this.region);let d=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(l["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(l["Content-Type"]="application/json",h=JSON.stringify(a)):h=a;let f=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:h,signal:c}).catch(D=>{throw D.name==="AbortError"?D:new Js(D)}),v=f.headers.get("x-relay-error");if(v&&v==="true")throw new Xs(f);if(!f.ok)throw new ea(f);let b=((o=f.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),w;return b==="application/json"?w=yield f.json():b==="application/octet-stream"||b==="application/pdf"?w=yield f.blob():b==="text/event-stream"?w=f:b==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Js(i)}:{data:null,error:i,response:i instanceof ea||i instanceof Xs?i.context:void 0}}})}};var ng=nE(F0(),1),{PostgrestClient:L0,PostgrestQueryBuilder:NW,PostgrestFilterBuilder:RW,PostgrestTransformBuilder:kW,PostgrestBuilder:PW,PostgrestError:SA}=ng.default||ng;var rg=class{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let e=process.versions;if(e&&e.node){let r=e.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){let r=this.getWebSocketConstructor();return new r(t,e)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},og=rg;var j0="2.78.0";var V0=`realtime-js/${j0}`,U0="1.0.0";var ra=1e4,B0=1e3,$0=100,oa=(function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n})(oa||{}),ke=(function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n})(ke||{}),At=(function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n})(At||{}),ig=(function(n){return n.websocket="websocket",n})(ig||{}),Xr=(function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n})(Xr||{});var iu=class{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let e=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,e,r)}_decodeBroadcast(t,e,r){let o=e.getUint8(1),i=e.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+o));s=s+o;let c=r.decode(t.slice(s,s+i));s=s+i;let l=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var mi=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var he=(function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n})(he||{}),ag=(n,t,e={})=>{var r;let o=(r=e.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=MA(s,n,t,o),i),{}):{}},MA=(n,t,e,r)=>{let o=t.find(a=>a.name===n),i=o?.type,s=e[n];return i&&!r.includes(i)?H0(i,s):sg(s)},H0=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return OA(t,e)}switch(n){case he.bool:return TA(t);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return xA(t);case he.json:case he.jsonb:return AA(t);case he.timestamp:return NA(t);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return sg(t);default:return sg(t)}},sg=n=>n,TA=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},xA=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},AA=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},OA=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let i,s=n.slice(1,e);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>H0(t,a))}return n},NA=n=>typeof n=="string"?n.replace(" ","T"):n,su=n=>{let t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var vi=class{constructor(t,e,r={},o=ra){this.channel=t,this.event=e,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var ia=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=n.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=n.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,o){let i=this.cloneDeep(t),s=this.transformState(e),a={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=i[l];if(d){let h=u.map(w=>w.presence_ref),f=d.map(w=>w.presence_ref),v=u.filter(w=>f.indexOf(w.presence_ref)<0),b=d.filter(w=>h.indexOf(w.presence_ref)<0);v.length>0&&(a[l]=v),b.length>0&&(c[l]=b)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,e,r,o){let{joins:i,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,o(a,l,c),l.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let o=t[r];return"metas"in o?e[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):e[r]=o,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var sa=(function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n})(sa||{}),kn=(function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n})(kn||{});var aa=class n{constructor(t,e={config:{}},r){var o,i;if(this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new vi(this,At.join,this.params,this.timeout),this.rejoinTimer=new mi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ke.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(At.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new ia(this),this.broadcastEndpointURL=su(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,e=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ke.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],u=!!this.bindings[sa.PRESENCE]&&this.bindings[sa.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(kn.CHANNEL_ERROR,f)),this._onClose(()=>t?.(kn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",v=>p(this,[v],function*({postgres_changes:f}){var b;if(this.socket.setAuth(),f===void 0){t?.(kn.SUBSCRIBED);return}else{let w=this.bindings.postgres_changes,D=(b=w?.length)!==null&&b!==void 0?b:0,ne=[];for(let N=0;N<D;N++){let O=w[N],{filter:{event:se,schema:zt,table:le,filter:Te}}=O,jn=f&&f[N];if(jn&&jn.event===se&&jn.schema===zt&&jn.table===le&&jn.filter===Te)ne.push(Object.assign(Object.assign({},O),{id:jn.id}));else{this.unsubscribe(),this.state=ke.errored,t?.(kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ne,t&&t(kn.SUBSCRIBED);return}})).receive("error",f=>{this.state=ke.errored,t?.(kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(t,e={}){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,e,r){return this.state===ke.joined&&t===sa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,r)}httpSend(o,i){return p(this,arguments,function*(t,e,r={}){var s;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(e==null)return Promise.reject("Payload is required for httpSend()");let c={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:e,private:this.private}]})},l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{let d=yield l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return p(this,arguments,function*(t,e={}){var o,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=e.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ke.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(At.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new vi(this,At.leave,{},t),r.receive("ok",()=>{e(),o("ok")}).receive("timeout",()=>{e(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ke.closed,this.bindings={}}_fetchWithTimeout(t,e,r){return p(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:o.signal}));return clearTimeout(i),s})}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new vi(this,t,e,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>$0){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=At;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,e,r);if(e&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var v,b,w;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(b=f.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var v,b,w,D,ne,N;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let O=f.id,se=(v=f.filter)===null||v===void 0?void 0:v.event;return O&&((b=e.ids)===null||b===void 0?void 0:b.includes(O))&&(se==="*"||se?.toLocaleLowerCase()===((w=e.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{let O=(ne=(D=f?.filter)===null||D===void 0?void 0:D.event)===null||ne===void 0?void 0:ne.toLocaleLowerCase();return O==="*"||O===((N=e?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let v=h.data,{schema:b,table:w,commit_timestamp:D,type:ne,errors:N}=v;h=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:D,eventType:ne,new:{},old:{},errors:N}),this._getPayloadRecords(v))}f.callback(h,r)})}_isClosed(){return this.state===ke.closed}_isJoined(){return this.state===ke.joined}_isJoining(){return this.state===ke.joining}_isLeaving(){return this.state===ke.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let o=t.toLocaleLowerCase(),i={type:o,filter:e,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&n.isEqual(o.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(At.close,{},t)}_onError(t){this._on(At.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ke.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=ag(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=ag(t.columns,t.old_record)),e}};var cg=()=>{},au={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kA=[1e3,2e3,5e3,1e4],PA=1e4,FA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ca=class{constructor(t,e){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ra,this.transport=null,this.heartbeatIntervalMs=au.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cg,this.ref=0,this.reconnectTimer=null,this.logger=cg,this.conn=null,this.sendBuffer=[],this.serializer=new iu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...s)=>import("./chunk-Z76GK7AR.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((r=e?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${ig.websocket}`,this.httpEndpoint=su(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=og.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:U0}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,e??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return p(this,null,function*(){let e=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return p(this,null,function*(){let t=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case oa.connecting:return Xr.Connecting;case oa.open:return Xr.Open;case oa.closing:return Xr.Closing;default:return Xr.Closed}}isConnected(){return this.connectionState()===Xr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){let r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new aa(`realtime:${t}`,e,this);return this.channels.push(i),i}}push(t){let{topic:e,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${e} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return p(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return p(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(B0,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},au.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=e,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(o,i,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(At.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(e);return`${t}${r}${o}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([FA],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}_performAuth(t=null){return p(this,null,function*(){let e;t?e=t:this.accessToken?e=yield this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(r=>{let o={access_token:e,version:V0};e&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(At.access_token,{access_token:e})}))})}_waitForAuthIfNeeded(){return p(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(e)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new mi(()=>p(this,null,function*(){setTimeout(()=>p(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),au.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var e,r,o,i,s,a,c,l,u;if(this.transport=(e=t?.transport)!==null&&e!==void 0?e:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:ra,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:au.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:cg,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:d=>kA[d-1]||PA,this.encode=(l=t?.encode)!==null&&l!==void 0?l:(d,h)=>h(JSON.stringify(d)),this.decode=(u=t?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};ue();var yi=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ae(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var cu=class extends yi{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},eo=class extends yi{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};ue();ue();var _i=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},z0=()=>I(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-Z76GK7AR.js")).Response:Response}),lu=n=>{if(Array.isArray(n))return n.map(e=>lu(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let o=e.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=lu(r)}),t},W0=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var lg=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},LA=(n,t,e)=>I(void 0,void 0,void 0,function*(){let r=yield z0();n instanceof r&&!e?.noResolveJson?n.json().then(o=>{let i=n.status||500,s=o?.statusCode||i+"";t(new cu(lg(o),i,s))}).catch(o=>{t(new eo(lg(o),o))}):t(new eo(lg(n),n))}),jA=(n,t,e,r)=>{let o={method:n,headers:t?.headers||{}};return n==="GET"||!r?o:(W0(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),e))};function la(n,t,e,r,o,i){return I(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,jA(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>LA(c,a,r))})})}function pr(n,t,e,r){return I(this,void 0,void 0,function*(){return la(n,"GET",t,e,r)})}function dt(n,t,e,r,o){return I(this,void 0,void 0,function*(){return la(n,"POST",t,r,o,e)})}function ua(n,t,e,r,o){return I(this,void 0,void 0,function*(){return la(n,"PUT",t,r,o,e)})}function G0(n,t,e,r){return I(this,void 0,void 0,function*(){return la(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function wi(n,t,e,r,o){return I(this,void 0,void 0,function*(){return la(n,"DELETE",t,r,o,e)})}ue();ue();var uu=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}execute(){return I(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ae(t))return{data:null,error:t};throw t}})}};var q0,ug=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[q0]="BlobDownloadBuilder",this.promise=null}asStream(){return new uu(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return I(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ae(t))return{data:null,error:t};throw t}})}};q0=Symbol.toStringTag;var K0=ug;var VA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Z0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},du=class{constructor(t,e={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=_i(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,e,r,o){return I(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},Z0),o),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=yield(t=="PUT"?ua:dt)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}upload(t,e,r){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,o){return I(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(t),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let c,l=Object.assign({upsert:Z0.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield ua(this.fetch,a.toString(),c,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ae(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,e){return I(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=Object.assign({},this.headers);e?.upsert&&(o["x-upsert"]="true");let i=yield dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new yi("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}update(t,e,r){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return I(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ae(o))return{data:null,error:o};throw o}})}copy(t,e,r){return I(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ae(o))return{data:null,error:o};throw o}})}createSignedUrl(t,e,r){return I(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield dt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ae(o))return{data:null,error:o};throw o}})}createSignedUrls(t,e,r){return I(this,void 0,void 0,function*(){try{let o=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ae(o))return{data:null,error:o};throw o}})}download(t,e){let o=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),s=i?`?${i}`:"",a=this._getFinalPath(t),c=()=>pr(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new K0(c,this.shouldThrowOnError)}info(t){return I(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield pr(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:lu(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}exists(t){return I(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield G0(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r)&&r instanceof eo){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),o=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&o.push(i);let a=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(t){return I(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}list(t,e,r){return I(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},VA),e),{prefix:t||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ae(o))return{data:null,error:o};throw o}})}listV2(t,e){return I(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield dt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};ue();var fu="2.78.0";var hu={"X-Client-Info":`storage-js/${fu}`};var pu=class{constructor(t,e={},r,o){this.shouldThrowOnError=!1;let i=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hu),e),this.fetch=_i(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return I(this,void 0,void 0,function*(){try{let e=this.listBucketOptionsToQueryString(t);return{data:yield pr(this.fetch,`${this.url}/bucket${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}getBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}createBucket(t){return I(this,arguments,void 0,function*(e,r={public:!1}){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ae(o))return{data:null,error:o};throw o}})}updateBucket(t,e){return I(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}emptyBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}listBucketOptionsToQueryString(t){let e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}};ue();var gu=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hu),e),this.fetch=_i(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}listBuckets(t){return I(this,void 0,void 0,function*(){try{let e=new URLSearchParams;t?.limit!==void 0&&e.set("limit",t.limit.toString()),t?.offset!==void 0&&e.set("offset",t.offset.toString()),t?.sortColumn&&e.set("sortColumn",t.sortColumn),t?.sortOrder&&e.set("sortOrder",t.sortOrder),t?.search&&e.set("search",t.search);let r=e.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield pr(this.fetch,o,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}};ue();ue();var bi={"X-Client-Info":`storage-js/${fu}`,"Content-Type":"application/json"};var mu=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ze(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Ei=class extends mu{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vu=class extends mu{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};ue();var Ci=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};var Y0=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Q0=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),UA=(n,t,e)=>I(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!e?.noResolveJson){let o=n.status||500,i=n;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";t(new Ei(Q0(s),o,a))}).catch(()=>{let s=o+"",a=i.statusText||`HTTP ${o} error`;t(new Ei(a,o,s))});else{let s=o+"",a=i.statusText||`HTTP ${o} error`;t(new Ei(a,o,s))}}else t(new vu(Q0(n),n))}),BA=(n,t,e,r)=>{let o={method:n,headers:t?.headers||{}};return n==="GET"||!r?o:(Y0(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),e))};function $A(n,t,e,r,o,i){return I(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,BA(t,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>UA(c,a,r))})})}function Ye(n,t,e,r,o){return I(this,void 0,void 0,function*(){return $A(n,"POST",t,r,o,e)})}var yu=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bi),e),this.fetch=Ci(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return I(this,void 0,void 0,function*(){try{return{data:(yield Ye(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}getIndex(t,e){return I(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}listIndexes(t){return I(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}deleteIndex(t,e){return I(this,void 0,void 0,function*(){try{return{data:(yield Ye(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}};ue();var _u=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bi),e),this.fetch=Ci(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return I(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ye(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}getVectors(t){return I(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}listVectors(t){return I(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ye(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}queryVectors(t){return I(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}deleteVectors(t){return I(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ye(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}};ue();var wu=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bi),e),this.fetch=Ci(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return I(this,void 0,void 0,function*(){try{return{data:(yield Ye(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}getBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}listBuckets(){return I(this,arguments,void 0,function*(t={}){try{return{data:yield Ye(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:(yield Ye(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}};var da=class extends wu{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new bu(this.url,this.headers,t,this.fetch)}},bu=class extends yu{constructor(t,e,r,o){super(t,e,o),this.vectorBucketName=r}createIndex(t){let e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return I(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return I(this,arguments,void 0,function*(e={}){return t.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){let e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return I(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){let e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return I(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Eu(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Eu=class extends _u{constructor(t,e,r,o,i){super(t,e,i),this.vectorBucketName=r,this.indexName=o}putVectors(t){let e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return I(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){let e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return I(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return I(this,arguments,void 0,function*(e={}){return t.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){let e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return I(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){let e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return I(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var fa=class extends pu{constructor(t,e={},r,o){super(t,e,r,o)}from(t){return new du(this.url,this.headers,t,this.fetch)}get vectors(){return new da(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gu(this.url+"/iceberg",this.headers,this.fetch)}};var J0="2.78.0";var ha="";typeof Deno<"u"?ha="deno":typeof document<"u"?ha="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ha="react-native":ha="node";var HA={"X-Client-Info":`supabase-js-${ha}/${J0}`},X0={headers:HA},eb={schema:"public"},tb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nb={};Tg();var zA=n=>{let t;return n?t=n:typeof fetch>"u"?t=Sg:t=fetch,(...e)=>t(...e)},WA=()=>typeof Headers>"u"?Mg:Headers,rb=(n,t,e)=>{let r=zA(e),o=WA();return(i,s)=>p(null,null,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:n,l=new o(s?.headers);return l.has("apikey")||l.set("apikey",n),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:l}))})};function GA(n){return n.endsWith("/")?n:n+"/"}function ob(n,t){var e,r;let{db:o,auth:i,realtime:s,global:a}=n,{db:c,auth:l,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(e=d?.headers)!==null&&e!==void 0?e:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>p(null,null,function*(){return""})};return n.accessToken?h.accessToken=n.accessToken:delete h.accessToken,h}function ib(n){let t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(GA(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}ue();ue();var Cu="2.78.0";var to=30*1e3,Du=3,Iu=Du*to,sb="http://localhost:9999",ab="supabase.auth.token";var cb={"X-Client-Info":`gotrue-js/${Cu}`};var pa="X-Supabase-Api-Version",dg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ub=600*1e3;var gr=class extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function x(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var Su=class extends gr{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function db(n){return x(n)&&n.name==="AuthApiError"}var Ot=class extends gr{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},dn=class extends gr{constructor(t,e,r,o){super(t,r,o),this.name=e,this.status=r}},nt=class extends dn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function fb(n){return x(n)&&n.name==="AuthSessionMissingError"}var Pn=class extends dn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},no=class extends dn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},ro=class extends dn{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function hb(n){return x(n)&&n.name==="AuthImplicitGrantRedirectError"}var ga=class extends dn{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Di=class extends dn{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};function Mu(n){return x(n)&&n.name==="AuthRetryableFetchError"}var ma=class extends dn{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var oo=class extends dn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Tu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pb=` 	
\r=`.split(""),qA=(()=>{let n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<pb.length;t+=1)n[pb[t].charCodeAt(0)]=-2;for(let t=0;t<Tu.length;t+=1)n[Tu[t].charCodeAt(0)]=t;return n})();function gb(n,t,e){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(Tu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(Tu[r]),t.queuedBits-=6}}function mb(n,t,e){let r=qA[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function fg(n){let t=[],e=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{YA(s,r,e)};for(let s=0;s<n.length;s+=1)mb(n.charCodeAt(s),o,i);return t.join("")}function KA(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function ZA(n,t){for(let e=0;e<n.length;e+=1){let r=n.charCodeAt(e);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(n.charCodeAt(e+1)-56320&65535|o)+65536,e+=1}KA(r,t)}}function YA(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function mr(n){let t=[],e={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<n.length;o+=1)mb(n.charCodeAt(o),e,r);return new Uint8Array(t)}function vb(n){let t=[];return ZA(n,e=>t.push(e)),new Uint8Array(t)}function Fn(n){let t=[],e={queue:0,queuedBits:0},r=o=>{t.push(o)};return n.forEach(o=>gb(o,e,r)),gb(null,e,r),t.join("")}function yb(n){return Math.round(Date.now()/1e3)+n}function _b(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}var $e=()=>typeof window<"u"&&typeof document<"u",io={tested:!1,writable:!1},xu=()=>{if(!$e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(io.tested)return io.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),io.tested=!0,io.writable=!0}catch{io.tested=!0,io.writable=!1}return io.writable};function wb(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return e.searchParams.forEach((r,o)=>{t[o]=r}),t}var Au=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},bb=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",so=(n,t,e)=>p(null,null,function*(){yield n.setItem(t,JSON.stringify(e))}),vr=(n,t)=>p(null,null,function*(){let e=yield n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),Ln=(n,t)=>p(null,null,function*(){yield n.removeItem(t)}),va=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};va.promiseConstructor=Promise;function Ou(n){let t=n.split(".");if(t.length!==3)throw new oo("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!lb.test(t[r]))throw new oo("JWT not in base64url format");return{header:JSON.parse(fg(t[0])),payload:JSON.parse(fg(t[1])),signature:mr(t[2]),raw:{header:t[0],payload:t[1]}}}function Eb(n){return p(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),n)})})}function Cb(n,t){return new Promise((r,o)=>{p(null,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield n(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})})}function QA(n){return("0"+n.toString(16)).substr(-2)}function JA(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,o="";for(let i=0;i<56;i++)o+=e.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,QA).join("")}function XA(n){return p(this,null,function*(){let e=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",e),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function eO(n){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=yield XA(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function ao(n,t,e=!1){return p(this,null,function*(){let r=JA(),o=r;e&&(o+="/PASSWORD_RECOVERY"),yield so(n,`${t}-code-verifier`,o);let i=yield eO(r);return[i,r===i?"plain":"s256"]})}var tO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Db(n){let t=n.headers.get(pa);if(!t||!t.match(tO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ib(n){if(!n)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function Sb(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var nO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function co(n){if(!nO.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nu(){let n={};return new Proxy(n,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){let r=e.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mb(n,t){return new Proxy(n,{get:(e,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(e,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,r,o)}})}function hg(n){return JSON.parse(JSON.stringify(n))}var lo=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),rO=[502,503,504];function Tb(n){return p(this,null,function*(){var t;if(!bb(n))throw new Di(lo(n),0);if(rO.includes(n.status))throw new Di(lo(n),n.status);let e;try{e=yield n.json()}catch(i){throw new Ot(lo(i),i)}let r,o=Db(n);if(o&&o.getTime()>=dg["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new ma(lo(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new nt}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new ma(lo(e),n.status,e.weak_password.reasons);throw new Su(lo(e),n.status||500,r)})}var oO=(n,t,e,r)=>{let o={method:n,headers:t?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),e))};function U(n,t,e,r){return p(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[pa]||(i[pa]=dg["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield iO(n,t,e+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function iO(n,t,e,r,o,i){return p(this,null,function*(){let s=oO(t,r,o,i),a;try{a=yield n(e,Object.assign({},s))}catch(c){throw console.error(c),new Di(lo(c),0)}if(a.ok||(yield Tb(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield Tb(c)}})}function Nt(n){var t;let e=null;sO(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=yb(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function pg(n){let t=Nt(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function fn(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function xb(n){return{data:n,error:null}}function Ab(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:o,verification_type:i}=n,s=pn(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function gg(n){return n}function sO(n){return n.access_token&&n.refresh_token&&n.expires_in}var Ru=["global","local","others"];var Ii=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=Au(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return p(this,arguments,function*(t,e=Ru[0]){if(Ru.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ru.join(", ")}`);try{return yield U(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(x(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return p(this,arguments,function*(t,e={}){try{return yield U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:fn})}catch(o){if(x(o))return{data:{user:null},error:o};throw o}})}generateLink(t){return p(this,null,function*(){try{let{options:e}=t,r=pn(t,["options"]),o=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Ab,redirectTo:e?.redirectTo})}catch(e){if(x(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(t){return p(this,null,function*(){try{return yield U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fn})}catch(e){if(x(e))return{data:{user:null},error:e};throw e}})}listUsers(t){return p(this,null,function*(){var e,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:gg});if(u.error)throw u.error;let d=yield u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{let b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);l[`${w}Page`]=b}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(x(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return p(this,null,function*(){co(t);try{return yield U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fn})}catch(e){if(x(e))return{data:{user:null},error:e};throw e}})}updateUserById(t,e){return p(this,null,function*(){co(t);try{return yield U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:fn})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,e=!1){return p(this,null,function*(){co(t);try{return yield U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:fn})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return p(this,null,function*(){co(t.userId);try{let{data:e,error:r}=yield U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:e,error:r}}catch(e){if(x(e))return{data:null,error:e};throw e}})}_deleteFactor(t){return p(this,null,function*(){co(t.userId),co(t.id);try{return{data:yield U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(x(e))return{data:null,error:e};throw e}})}_listOAuthClients(t){return p(this,null,function*(){var e,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield U(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:gg});if(u.error)throw u.error;let d=yield u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{let b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);l[`${w}Page`]=b}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(x(l))return{data:{clients:[]},error:l};throw l}})}_createOAuthClient(t){return p(this,null,function*(){try{return yield U(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(x(e))return{data:null,error:e};throw e}})}_getOAuthClient(t){return p(this,null,function*(){try{return yield U(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(x(e))return{data:null,error:e};throw e}})}_updateOAuthClient(t,e){return p(this,null,function*(){try{return yield U(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(x(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(t){return p(this,null,function*(){try{return yield U(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(x(e))return{data:null,error:e};throw e}})}_regenerateOAuthClientSecret(t){return p(this,null,function*(){try{return yield U(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(x(e))return{data:null,error:e};throw e}})}};function mg(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}var uo={debug:!!(globalThis&&xu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ya=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},ku=class extends ya{};function vg(n,t,e){return p(this,null,function*(){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),uo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>p(null,null,function*(){if(o){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return yield e()}finally{uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(t===0)throw uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new ku(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(uo.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}function Ob(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yg(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Nb(n){return parseInt(n,16)}function Rb(n){let t=new TextEncoder().encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function kb(n){var t;let{chainId:e,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:h}=n;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}let f=yg(n.address),v=u?`${u}://${r}`:r,b=n.statement?`${n.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${f}

${b}`,D=`URI: ${d}
Version: ${h}
Chain ID: ${e}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(D+=`
Expiration Time: ${o.toISOString()}`),a&&(D+=`
Not Before: ${a.toISOString()}`),c&&(D+=`
Request ID: ${c}`),l){let ne=`
Resources:`;for(let N of l){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);ne+=`
- ${N}`}D+=ne}return`${w}
${D}`}ue();var ve=class extends Error{constructor({message:t,code:e,cause:r,name:o}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=e}},fo=class extends ve{constructor(t,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:t}),this.name="WebAuthnUnknownError",this.originalError=e}};function Pb({error:n,options:t}){var e,r,o;let{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ve({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((e=i.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new ve({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ve({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ve({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new ve({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new ve({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ve({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new ve({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){let s=window.location.hostname;if(_g(s)){if(i.rp.id!==s)return new ve({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ve({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new ve({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Fb({error:n,options:t}){let{publicKey:e}=t;if(!e)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ve({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new ve({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){let r=window.location.hostname;if(_g(r)){if(e.rpId!==r)return new ve({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new ve({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var wg=class{createNewAbortSignal(){if(this.controller){let e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},aO=new wg;function jb(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);let{challenge:t,user:e,excludeCredentials:r}=n,o=pn(n,["challenge","user","excludeCredentials"]),i=mr(t).buffer,s=Object.assign(Object.assign({},e),{id:mr(e.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:mr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function Vb(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);let{challenge:t,allowCredentials:e}=n,r=pn(n,["challenge","allowCredentials"]),o=mr(t).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(e&&e.length>0){i.allowCredentials=new Array(e.length);for(let s=0;s<e.length;s++){let a=e[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:mr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Ub(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n;return{id:n.id,rawId:n.id,response:{attestationObject:Fn(new Uint8Array(n.response.attestationObject)),clientDataJSON:Fn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Bb(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n,r=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Fn(new Uint8Array(o.authenticatorData)),clientDataJSON:Fn(new Uint8Array(o.clientDataJSON)),signature:Fn(new Uint8Array(o.signature)),userHandle:o.userHandle?Fn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _g(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Lb(){var n,t;return!!($e()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}function cO(n){return p(this,null,function*(){try{let t=yield navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fo("Browser returned unexpected credential type",t)}:{data:null,error:new fo("Empty credential response",t)}}catch(t){return{data:null,error:Pb({error:t,options:n})}}})}function lO(n){return p(this,null,function*(){try{let t=yield navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fo("Browser returned unexpected credential type",t)}:{data:null,error:new fo("Empty credential response",t)}}catch(t){return{data:null,error:Fb({error:t,options:n})}}})}var uO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},dO={userVerification:"preferred",hints:["security-key"]};function Pu(...n){let t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),e=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of n)if(o)for(let i in o){let s=o[i];if(s!==void 0)if(Array.isArray(s))r[i]=s;else if(e(s))r[i]=s;else if(t(s)){let a=r[i];t(a)?r[i]=Pu(a,s):r[i]=Pu(s)}else r[i]=s}return r}function fO(n,t){return Pu(uO,n,t||{})}function hO(n,t){return Pu(dO,n,t||{})}var Fu=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){return p(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})}_challenge(s,a){return p(this,arguments,function*({factorId:t,webauthn:e,friendlyName:r,signal:o},i){try{let{data:c,error:l}=yield this.client.mfa.challenge({factorId:t,webauthn:e});if(!c)return{data:null,error:l};let u=o??aO.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:d}=c.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(c.webauthn.type){case"create":{let d=fO(c.webauthn.credential_options.publicKey,i?.create),{data:h,error:f}=yield cO({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{let d=hO(c.webauthn.credential_options.publicKey,i?.request),{data:h,error:f}=yield lO(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(c){return x(c)?{data:null,error:c}:{data:null,error:new Ot("Unexpected error in challenge",c)}}})}_verify(o){return p(this,arguments,function*({challengeId:t,factorId:e,webauthn:r}){return this.client.mfa.verify({factorId:e,challengeId:t,webauthn:r})})}_authenticate(s,a){return p(this,arguments,function*({factorId:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},i){if(!e)return{data:null,error:new gr("rpId is required for WebAuthn authentication")};try{if(!Lb())return{data:null,error:new Ot("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this.challenge({factorId:t,webauthn:{rpId:e,rpOrigins:r},signal:o},{request:i});if(!c)return{data:null,error:l};let{webauthn:u}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:u.type,rpId:e,rpOrigins:r,credential_response:u.credential_response}})}catch(c){return x(c)?{data:null,error:c}:{data:null,error:new Ot("Unexpected error in authenticate",c)}}})}_register(s,a){return p(this,arguments,function*({friendlyName:t,rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},i){if(!e)return{data:null,error:new gr("rpId is required for WebAuthn registration")};try{if(!Lb())return{data:null,error:new Ot("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this._enroll({friendlyName:t});if(!c)return yield this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};let{data:u,error:d}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:e,rpOrigins:r},signal:o},{create:i});return u?this._verify({factorId:c.id,challengeId:u.challengeId,webauthn:{rpId:e,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(c){return x(c)?{data:null,error:c}:{data:null,error:new Ot("Unexpected error in register",c)}}})}};Ob();var pO={url:sb,storageKey:ab,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function $b(n,t,e){return p(this,null,function*(){return yield e()})}var Si={},gO=(()=>{class n{get jwks(){var e,r;return(r=(e=Si[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Si[this.storageKey]=Object.assign(Object.assign({},Si[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Si[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Si[this.storageKey]=Object.assign(Object.assign({},Si[this.storageKey]),{cachedAt:e})}constructor(e){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&$e()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},pO),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ii({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Au(i.fetch),this.lock=i.lock||$b,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:$e()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=vg:this.lock=$b,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Fu(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:xu()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=mg(this.memoryStorage)),$e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",s=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Cu}) ${new Date().toISOString()}`,...e),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){var e;try{let r=wb(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),$e()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=yield this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),hb(s)){let l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>p(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return x(r)?{error:r}:{error:new Ot("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return p(this,null,function*(){var r,o,i;try{let s=yield U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Nt}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(x(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return p(this,null,function*(){var r,o,i;try{let s;if("email"in e){let{email:d,password:h,options:f}=e,v=null,b=null;this.flowType==="pkce"&&([v,b]=yield ao(this.storage,this.storageKey)),s=yield U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:v,code_challenge_method:b},xform:Nt})}else if("phone"in e){let{phone:d,password:h,options:f}=e;s=yield U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Nt})}else throw new no("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(x(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return p(this,null,function*(){try{let r;if("email"in e){let{email:s,password:a,options:c}=e;r=yield U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:pg})}else if("phone"in e){let{phone:s,password:a,options:c}=e;r=yield U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:pg})}else throw new no("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Pn}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){return p(this,null,function*(){var r,o,i,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return p(this,null,function*(){let{chain:r}=e;switch(r){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(e){return p(this,null,function*(){var r,o,i,s,a,c,l,u,d,h,f;let v,b;if("message"in e)v=e.message,b=e.signature;else{let{chain:w,wallet:D,statement:ne,options:N}=e,O;if($e())if(typeof D=="object")O=D;else{let hn=window;if("ethereum"in hn&&typeof hn.ethereum=="object"&&"request"in hn.ethereum&&typeof hn.ethereum.request=="function")O=hn.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=D}let se=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),zt=yield O.request({method:"eth_requestAccounts"}).then(hn=>hn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!zt||zt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let le=yg(zt[0]),Te=(o=N?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!Te){let hn=yield O.request({method:"eth_chainId"});Te=Nb(hn)}let jn={domain:se.host,address:le,statement:ne,uri:se.href,version:"1",chainId:Te,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=N?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=kb(jn),b=yield O.request({method:"personal_sign",params:[Rb(v),le]})}try{let{data:w,error:D}=yield U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:b},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Nt});if(D)throw D;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Pn}:(w.session&&(yield this._saveSession(w.session),yield this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:D})}catch(w){if(x(w))return{data:{user:null,session:null},error:w};throw w}})}signInWithSolana(e){return p(this,null,function*(){var r,o,i,s,a,c,l,u,d,h,f,v;let b,w;if("message"in e)b=e.message,w=e.signature;else{let{chain:D,wallet:ne,statement:N,options:O}=e,se;if($e())if(typeof ne=="object")se=ne;else{let le=window;if("solana"in le&&typeof le.solana=="object"&&("signIn"in le.solana&&typeof le.solana.signIn=="function"||"signMessage"in le.solana&&typeof le.solana.signMessage=="function"))se=le.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof ne!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");se=ne}let zt=new URL((r=O?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in se&&se.signIn){let le=yield se.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:zt.host,uri:zt.href}),N?{statement:N}:null)),Te;if(Array.isArray(le)&&le[0]&&typeof le[0]=="object")Te=le[0];else if(le&&typeof le=="object"&&"signedMessage"in le&&"signature"in le)Te=le;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Te&&"signature"in Te&&(typeof Te.signedMessage=="string"||Te.signedMessage instanceof Uint8Array)&&Te.signature instanceof Uint8Array)b=typeof Te.signedMessage=="string"?Te.signedMessage:new TextDecoder().decode(Te.signedMessage),w=Te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in se)||typeof se.signMessage!="function"||!("publicKey"in se)||typeof se!="object"||!se.publicKey||!("toBase58"in se.publicKey)||typeof se.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${zt.host} wants you to sign in with your Solana account:`,se.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${zt.href}`,`Issued At: ${(i=(o=O?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=O?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((a=O?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((l=O?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((u=O?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((h=(d=O?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...O.signInWithSolana.resources.map(Te=>`- ${Te}`)]:[]].join(`
`);let le=yield se.signMessage(new TextEncoder().encode(b),"utf8");if(!le||!(le instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=le}}try{let{data:D,error:ne}=yield U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Fn(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Nt});if(ne)throw ne;return!D||!D.session||!D.user?{data:{user:null,session:null},error:new Pn}:(D.session&&(yield this._saveSession(D.session),yield this._notifyAllSubscribers("SIGNED_IN",D.session)),{data:Object.assign({},D),error:ne})}catch(D){if(x(D))return{data:{user:null,session:null},error:D};throw D}})}_exchangeCodeForSession(e){return p(this,null,function*(){let r=yield vr(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=yield U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:Nt});if(yield Ln(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Pn}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(x(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return p(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=e,c=yield U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Nt}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Pn}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){return p(this,null,function*(){var r,o,i,s,a;try{if("email"in e){let{email:c,options:l}=e,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield ao(this.storage,this.storageKey));let{error:h}=yield U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){let{phone:c,options:l}=e,{data:u,error:d}=yield U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new no("You must provide either an email or phone number.")}catch(c){if(x(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(e){return p(this,null,function*(){var r,o;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(o=e.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Nt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(x(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(e){return p(this,null,function*(){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield ao(this.storage,this.storageKey)),yield U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:xb})}catch(s){if(x(s))return{data:null,error:s};throw s}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(e=>p(this,null,function*(){let{data:{session:r},error:o}=e;if(o)throw o;if(!r)throw new nt;let{error:i}=yield U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(e){if(x(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return p(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:o,type:i,options:s}=e,{error:a}=yield U(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:o,type:i,options:s}=e,{data:a,error:c}=yield U(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new no("You must provide either an email or phone number and a type")}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(r=>p(this,null,function*(){return r}))}))})}_acquireLock(e,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=p(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,e,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield vr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let o=e.expires_at?e.expires_at*1e3-Date.now()<Iu:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){let a=yield vr(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=Nu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};e.user=Mb(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:i,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return p(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return p(this,null,function*(){try{return e?yield U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fn}):yield this._useSession(r=>p(this,null,function*(){var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nt}:yield U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:fn})}))}catch(r){if(x(r))return fb(r)&&(yield this._removeSession(),yield Ln(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return p(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(o){return p(this,arguments,function*(e,r={}){try{return yield this._useSession(i=>p(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new nt;let c=s.session,l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=yield ao(this.storage,this.storageKey));let{data:d,error:h}=yield U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:fn});if(h)throw h;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(x(i))return{data:{user:null},error:i};throw i}})}setSession(e){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return p(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new nt;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Ou(e.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{data:c,error:l}=yield this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(x(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;if(!e){let{data:a,error:c}=r;if(c)throw c;e=(o=a.session)!==null&&o!==void 0?o:void 0}if(!e?.refresh_token)throw new nt;let{data:i,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(e,r){return p(this,null,function*(){try{if(!$e())throw new ro("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ro(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ga("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ro("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ga("No code detected.");let{data:N,error:O}=yield this._exchangeCodeForSession(e.code);if(O)throw O;let se=new URL(window.location.href);return se.searchParams.delete("code"),window.history.replaceState(window.history.state,"",se.toString()),{data:{session:N.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=e;if(!s||!c||!a||!u)throw new ro("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let v=f-d;v*1e3<=to&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);let b=f-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,d);let{data:w,error:D}=yield this._getUser(s);if(D)throw D;let ne={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:ne,redirectType:e.type},error:null}}catch(o){if(x(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return p(this,null,function*(){let r=yield vr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return p(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return p(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,e);if(c&&!(db(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(yield this._removeSession(),yield Ln(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let r=_b(),o={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(e){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return p(this,arguments,function*(e,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield ao(this.storage,this.storageKey,!0));try{return yield U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(x(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var e;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(x(r))return{data:null,error:r};throw r}})}linkIdentity(e){return p(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return p(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>p(this,null,function*(){var a,c,l,u,d;let{data:h,error:f}=s;if(f)throw f;let v=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield U(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return $e()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:e.provider,url:o?.url},error:null}}catch(o){if(x(o))return{data:{provider:e.provider,url:null},error:o};throw o}})}linkIdentityIdToken(e){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var o;try{let{error:i,data:{session:s}}=r;if(i)throw i;let{options:a,provider:c,token:l,access_token:u,nonce:d}=e,h=yield U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=s?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Nt}),{data:f,error:v}=h;return v?{data:{user:null,session:null},error:v}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Pn}:(f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:v})}catch(i){if(x(i))return{data:{user:null,session:null},error:i};throw i}}))})}unlinkIdentity(e){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return p(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield Cb(i=>p(this,null,function*(){return i>0&&(yield Eb(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Nt})}),(i,s)=>{let a=200*Math.pow(2,i);return s&&Mu(s)&&Date.now()+a-o<to})}catch(o){if(this._debug(r,"error",o),x(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return p(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",o),$e()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var e,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=yield vr(this.storage,this.storageKey);if(i&&this.userStorage){let a=yield vr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},yield so(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a?.user)!==null&&e!==void 0?e:Nu()}else if(i&&!i.user&&!i.user){let a=yield vr(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,yield Ln(this.storage,this.storageKey+"-user"),yield so(this.storage,this.storageKey,i)):i.user=Nu()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&(yield this._removeSession());return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Iu;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${Iu}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),Mu(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}})}_callRefreshToken(e){return p(this,null,function*(){var r,o;if(!e)throw new nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new va;let{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new nt;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),x(s)){let a={data:null,error:s};return Mu(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(e,r,o=!0){return p(this,null,function*(){let i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(e,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(e){return p(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;let r=Object.assign({},e),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&(yield so(this.userStorage,this.storageKey+"-user",{user:r.user}));let i=Object.assign({},r);delete i.user;let s=hg(i);yield so(this.storage,this.storageKey,s)}else{let i=hg(r);yield so(this.storage,this.storageKey,i)}})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield Ln(this.storage,this.storageKey),yield Ln(this.storage,this.storageKey+"-code-verifier"),yield Ln(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Ln(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$e()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),to);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-e)/to);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${to}ms, refresh threshold is ${Du} ticks`),i<=Du&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof ya)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!$e()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return p(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,o){return p(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=yield ao(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${i.join("&")}`})}_unenroll(e){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_enroll(e){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=yield U(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_verify(e){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Ub(e.webauthn.credential_response):Bb(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:l}=yield U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:l})}))}catch(r){if(x(r))return{data:null,error:r};throw r}}))})}_challenge(e){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let a=yield U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:jb(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Vb(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(x(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(e){return p(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:e.factorId});return o?{data:null,error:o}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return p(this,null,function*(){var e;let{data:{user:r},error:o}=yield this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let s of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){var e,r;let{data:{session:o},error:i}=yield this.getSession();if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Ou(o.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(e=o.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(e){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:o},error:i}=r;return i?{data:null,error:i}:o?yield U(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new nt}}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_approveAuthorization(e,r){return p(this,null,function*(){try{return yield this._useSession(o=>p(this,null,function*(){let{data:{session:i},error:s}=o;if(s)return{data:null,error:s};if(!i)return{data:null,error:new nt};let a=yield U(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&$e()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(o){if(x(o))return{data:null,error:o};throw o}})}_denyAuthorization(e,r){return p(this,null,function*(){try{return yield this._useSession(o=>p(this,null,function*(){let{data:{session:i},error:s}=o;if(s)return{data:null,error:s};if(!i)return{data:null,error:new nt};let a=yield U(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&$e()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(o){if(x(o))return{data:null,error:o};throw o}})}fetchJwk(o){return p(this,arguments,function*(e,r={keys:[]}){let i=r.keys.find(l=>l.kid===e);if(i)return i;let s=Date.now();if(i=this.jwks.keys.find(l=>l.kid===e),i&&this.jwks_cached_at+ub>s)return i;let{data:a,error:c}=yield U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(l=>l.kid===e),!i)?null:i})}getClaims(o){return p(this,arguments,function*(e,r={}){try{let i=e;if(!i){let{data:b,error:w}=yield this.getSession();if(w||!b.session)return{data:null,error:w};i=b.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=Ou(i);r?.allowExpired||Ib(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:b}=yield this.getUser(i);if(b)throw b;return{data:{claims:a,header:s,signature:c},error:null}}let h=Sb(s.alg),f=yield crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!(yield crypto.subtle.verify(h,f,c,vb(`${l}.${u}`))))throw new oo("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(i){if(x(i))return{data:null,error:i};throw i}})}}return n.nextInstanceID=0,n})(),bg=gO;var mO=bg,Eg=mO;var Lu=class extends Eg{constructor(t){super(t)}};var ju=class{constructor(t,e,r){var o,i,s;this.supabaseUrl=t,this.supabaseKey=e;let a=ib(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:eb,realtime:nb,auth:Object.assign(Object.assign({},tb),{storageKey:c}),global:X0},u=ob(r??{},l);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=rb(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new L0(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new fa(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new ta(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return p(this,null,function*(){var t,e;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:s,flowType:a,lock:c,debug:l},u,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lu({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:o,userStorage:i,flowType:a,lock:c,debug:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new ca(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Hb=(n,t,e)=>new ju(n,t,e);function vO(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}vO()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Cg={production:!1,supabaseUrl:"https://zrkzkteruybaujoekdan.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpya3prdGVydXliYXVqb2VrZGFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxODAzNTUsImV4cCI6MjA3Nzc1NjM1NX0._UT310p01cnP0oH0OsEdaE06XuzhlzEC1UWJruld_N8"};var ft=(()=>{let t=class t{constructor(){this.supabase=Hb(Cg.supabaseUrl,Cg.supabaseKey)}getClient(){return this.supabase}signInWithEmail(r){return p(this,null,function*(){return yield this.supabase.auth.signInWithPassword({email:r.email,password:r.password})})}signUpWithEmail(r){return p(this,null,function*(){return yield this.supabase.auth.signUp({email:r.email,password:r.password,options:{data:{displayName:r.name}}})})}getUser(){return p(this,null,function*(){return yield this.supabase.auth.getUser()})}signOut(){return p(this,null,function*(){return yield this.supabase.auth.signOut()})}resetPasswordForEmail(r){return p(this,null,function*(){try{let o=document.querySelector("base")?.href||window.location.origin;console.log("baseUrl = "+o);let{error:i}=yield this.supabase.auth.resetPasswordForEmail(r,{redirectTo:`${o}update-password`});if(i)throw i}catch(o){throw new Error(o.message||"Erreur lors de l\u2019envoi du mail de r\xE9initialisation.")}})}exchangeCodeForSession(r){return p(this,null,function*(){if(!r.includes("access_token"))throw new Error("Token manquant");let o=yield this.supabase.auth.exchangeCodeForSession(r);if(o.error)throw new Error(o.error.message);return o})}updatePassword(r){return p(this,null,function*(){let o=yield this.supabase.auth.updateUser({password:r});if(o.error)throw new Error(o.error.message);return o})}getSession(){return p(this,null,function*(){return this.supabase.auth.getSession()})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Mi=(()=>{let t=class t{constructor(r){this.supabase=r,this.eventsSubject=new xe([]),this.events$=this.eventsSubject.asObservable(),this.loadEvents()}loadEvents(){return p(this,null,function*(){let{data:r,error:o}=yield this.supabase.getClient().from("events").select("*").order("event_date",{ascending:!0});if(o){console.error("Error loading events:",o);return}this.eventsSubject.next(r||[])})}createEvent(r){return p(this,null,function*(){let{data:o,error:i}=yield this.supabase.getClient().from("events").insert([r]).select().single();return i?(console.error("Error creating event:",i),null):(yield this.loadEvents(),o)})}updateEvent(r,o){return p(this,null,function*(){let{error:i}=yield this.supabase.getClient().from("events").update(G(E({},o),{updated_at:new Date().toISOString()})).eq("id",r);return i?(console.error("Error updating event:",i),!1):(yield this.loadEvents(),!0)})}deleteEvent(r){return p(this,null,function*(){let{error:o}=yield this.supabase.getClient().from("events").delete().eq("id",r);return o?(console.error("Error deleting event:",o),!1):(yield this.loadEvents(),!0)})}getEventsByDateRange(r,o){return this.eventsSubject.value.filter(s=>{let a=new Date(s.event_date);return a>=r&&a<=o})}getEventsByDate(r){return this.eventsSubject.value.filter(o=>o.event_date===r)}};t.\u0275fac=function(o){return new(o||t)(F(ft))},t.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function yO(n,t){if(n&1){let e=ge();g(0,"div",7)(1,"h3"),_(2,"Nouvel \xC9v\xE9nement"),m(),g(3,"div",8)(4,"div",9)(5,"label"),_(6,"Type"),m(),g(7,"select",10),ee("ngModelChange",function(o){j(e);let i=S();return te(i.newEvent.event_type,o)||(i.newEvent.event_type=o),V(o)}),g(8,"option",11),_(9,"Livraison (LV)"),m(),g(10,"option",12),_(11,"Mise en Production (MEP)"),m()()(),g(12,"div",9)(13,"label"),_(14,"Version"),m(),g(15,"input",13),ee("ngModelChange",function(o){j(e);let i=S();return te(i.newEvent.version,o)||(i.newEvent.version=o),V(o)}),m()(),g(16,"div",9)(17,"label"),_(18,"Date"),m(),g(19,"input",14),ee("ngModelChange",function(o){j(e);let i=S();return te(i.newEvent.event_date,o)||(i.newEvent.event_date=o),V(o)}),m()(),g(20,"div",15)(21,"label"),_(22,"Description"),m(),g(23,"textarea",16),ee("ngModelChange",function(o){j(e);let i=S();return te(i.newEvent.description,o)||(i.newEvent.description=o),V(o)}),m()()(),g(24,"button",2),k("click",function(){j(e);let o=S();return V(o.addEvent())}),_(25,"Cr\xE9er"),m()()}if(n&2){let e=S();C(7),X("ngModel",e.newEvent.event_type),C(8),X("ngModel",e.newEvent.version),C(4),X("ngModel",e.newEvent.event_date),C(4),X("ngModel",e.newEvent.description)}}function _O(n,t){if(n&1&&(Hr(0),_(1),zr()),n&2){let e=S().$implicit;C(),je(e.title)}}function wO(n,t){if(n&1){let e=ge();g(0,"input",27),ee("ngModelChange",function(o){j(e);let i=S(2);return te(i.editEvent.title,o)||(i.editEvent.title=o),V(o)}),m()}if(n&2){let e=S(2);X("ngModel",e.editEvent.title)}}function bO(n,t){if(n&1&&(Hr(0),_(1),zr()),n&2){let e=S().$implicit;C(),je(e.version)}}function EO(n,t){if(n&1){let e=ge();g(0,"input",27),ee("ngModelChange",function(o){j(e);let i=S(2);return te(i.editEvent.version,o)||(i.editEvent.version=o),V(o)}),m()}if(n&2){let e=S(2);X("ngModel",e.editEvent.version)}}function CO(n,t){if(n&1&&(Hr(0),_(1),zr()),n&2){let e=S().$implicit,r=S();C(),je(r.formatDate(e.event_date))}}function DO(n,t){if(n&1){let e=ge();g(0,"input",14),ee("ngModelChange",function(o){j(e);let i=S(2);return te(i.editEvent.event_date,o)||(i.editEvent.event_date=o),V(o)}),m()}if(n&2){let e=S(2);X("ngModel",e.editEvent.event_date)}}function IO(n,t){if(n&1&&(Hr(0),_(1),zr()),n&2){let e=S().$implicit;C(),je(e.description)}}function SO(n,t){if(n&1){let e=ge();g(0,"textarea",28),ee("ngModelChange",function(o){j(e);let i=S(2);return te(i.editEvent.description,o)||(i.editEvent.description=o),V(o)}),m()}if(n&2){let e=S(2);X("ngModel",e.editEvent.description)}}function MO(n,t){if(n&1){let e=ge();g(0,"button",29),k("click",function(){j(e);let o=S().$implicit,i=S();return V(i.startEdit(o))}),_(1," Modifier "),m()}}function TO(n,t){if(n&1){let e=ge();g(0,"button",30),k("click",function(){j(e);let o=S(2);return V(o.saveEdit())}),_(1," Sauvegarder "),m()}}function xO(n,t){if(n&1){let e=ge();g(0,"button",31),k("click",function(){j(e);let o=S(2);return V(o.cancelEdit())}),_(1," Annuler "),m()}}function AO(n,t){if(n&1){let e=ge();g(0,"button",32),k("click",function(){j(e);let o=S().$implicit,i=S();return V(i.deleteEvent(o.id))}),_(1," Supprimer "),m()}}function OO(n,t){if(n&1&&(g(0,"tr")(1,"td")(2,"span",17),_(3),m()(),g(4,"td"),ce(5,_O,2,1,"ng-container",6)(6,wO,1,1,"input",18),m(),g(7,"td"),ce(8,bO,2,1,"ng-container",6)(9,EO,1,1,"input",18),m(),g(10,"td"),ce(11,CO,2,1,"ng-container",6)(12,DO,1,1,"input",19),m(),g(13,"td",20),ce(14,IO,2,1,"ng-container",6)(15,SO,1,1,"textarea",21),m(),g(16,"td")(17,"div",22),ce(18,MO,2,0,"button",23)(19,TO,2,0,"button",24)(20,xO,2,0,"button",25)(21,AO,2,0,"button",26),m()()()),n&2){let e=t.$implicit,r=S();ct("editing",r.editingId===e.id),C(2),ct("badge-livraison",e.event_type==="livraison")("badge-mep",e.event_type==="mep"),C(),me(" ",e.event_type==="livraison"?"LV":"MEP"," "),C(2),W("ngIf",r.editingId!==e.id),C(),W("ngIf",r.editingId===e.id),C(2),W("ngIf",r.editingId!==e.id),C(),W("ngIf",r.editingId===e.id),C(2),W("ngIf",r.editingId!==e.id),C(),W("ngIf",r.editingId===e.id),C(2),W("ngIf",r.editingId!==e.id),C(),W("ngIf",r.editingId===e.id),C(3),W("ngIf",r.editingId!==e.id),C(),W("ngIf",r.editingId===e.id),C(),W("ngIf",r.editingId===e.id),C(),W("ngIf",r.editingId!==e.id)}}function NO(n,t){n&1&&(g(0,"tr")(1,"td",33),_(2,"Aucun \xE9v\xE9nement. Cr\xE9ez-en un pour commencer."),m()())}var zb=(()=>{let t=class t{constructor(r){this.eventService=r,this.events=[],this.showAddForm=!1,this.editingId=null,this.newEvent={title:"",event_type:"livraison",event_date:"",description:"",version:""},this.editEvent={}}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r})}toggleAddForm(){this.showAddForm=!this.showAddForm,this.showAddForm&&this.resetNewEvent()}resetNewEvent(){this.newEvent={title:"",event_type:"livraison",event_date:"",description:"",version:""}}addEvent(){return p(this,null,function*(){if(!this.newEvent.version||!this.newEvent.event_date){alert("Version et date sont obligatoires");return}let r=this.newEvent.event_type==="livraison"?"LV":"MEP";this.newEvent.title=`${r} ${this.newEvent.version}`,yield this.eventService.createEvent(this.newEvent),this.showAddForm=!1,this.resetNewEvent()})}startEdit(r){this.editingId=r.id,this.editEvent=E({},r)}saveEdit(){return p(this,null,function*(){if(this.editingId){let r=this.editEvent.event_type==="livraison"?"LV":"MEP";this.editEvent.title=`${r} ${this.editEvent.version}`,yield this.eventService.updateEvent(this.editingId,this.editEvent),this.cancelEdit()}})}cancelEdit(){this.editingId=null,this.editEvent={}}deleteEvent(r){return p(this,null,function*(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&(yield this.eventService.deleteEvent(r))})}formatDate(r){return new Date(r).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}};t.\u0275fac=function(o){return new(o||t)(R(Mi))},t.\u0275cmp=be({type:t,selectors:[["app-event-list"]],decls:26,vars:4,consts:[[1,"event-list-container"],[1,"header"],[1,"btn-primary",3,"click"],["class","add-form",4,"ngIf"],[1,"events-table"],[3,"editing",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"add-form"],[1,"form-grid"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text","placeholder","2025.4",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],[1,"form-group","full-width"],["placeholder","Description de l'\xE9v\xE9nement","rows","3",3,"ngModelChange","ngModel"],[1,"badge"],["type","text",3,"ngModel","ngModelChange",4,"ngIf"],["type","date",3,"ngModel","ngModelChange",4,"ngIf"],[1,"description-cell"],["rows","2",3,"ngModel","ngModelChange",4,"ngIf"],[1,"actions"],["class","btn-edit",3,"click",4,"ngIf"],["class","btn-save",3,"click",4,"ngIf"],["class","btn-cancel",3,"click",4,"ngIf"],["class","btn-delete",3,"click",4,"ngIf"],["type","text",3,"ngModelChange","ngModel"],["rows","2",3,"ngModelChange","ngModel"],[1,"btn-edit",3,"click"],[1,"btn-save",3,"click"],[1,"btn-cancel",3,"click"],[1,"btn-delete",3,"click"],["colspan","6",1,"empty-state"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"div",1)(2,"h2"),_(3,"Gestion des Livraisons et MEP"),m(),g(4,"button",2),k("click",function(){return i.toggleAddForm()}),_(5),m()(),ce(6,yO,26,4,"div",3),g(7,"div",4)(8,"table")(9,"thead")(10,"tr")(11,"th"),_(12,"Type"),m(),g(13,"th"),_(14,"Titre"),m(),g(15,"th"),_(16,"Version"),m(),g(17,"th"),_(18,"Date"),m(),g(19,"th"),_(20,"Description"),m(),g(21,"th"),_(22,"Actions"),m()()(),g(23,"tbody"),ce(24,OO,22,19,"tr",5)(25,NO,3,0,"tr",6),m()()()()),o&2&&(C(5),me(" ",i.showAddForm?"Annuler":"Ajouter un \xE9v\xE9nement"," "),C(),W("ngIf",i.showAddForm),C(18),W("ngForOf",i.events),C(),W("ngIf",i.events.length===0))},dependencies:[qe,or,_t,ut,hi,pi,Ke,hr,lt,et],styles:[".event-list-container[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#1a1a1a;margin:0}.add-form[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;border-radius:8px;margin-bottom:2rem}.add-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.25rem;color:#1a1a1a}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#495057;margin-bottom:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;font-family:inherit}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.events-table[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 1px 3px #0000001a}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}thead[_ngcontent-%COMP%]{background:#f8f9fa}th[_ngcontent-%COMP%]{text-align:left;padding:1rem;font-size:.875rem;font-weight:600;color:#495057;border-bottom:2px solid #dee2e6}td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #e9ecef;font-size:.875rem}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}tr.editing[_ngcontent-%COMP%]{background:#f8f9fa}.description-cell[_ngcontent-%COMP%]{max-width:300px}.badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:600}.badge-livraison[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.badge-mep[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-edit[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.btn-edit[_ngcontent-%COMP%]:hover{background:#d97706}.btn-save[_ngcontent-%COMP%]{background:#10b981;color:#fff}.btn-save[_ngcontent-%COMP%]:hover{background:#059669}.btn-cancel[_ngcontent-%COMP%]{background:#6b7280;color:#fff}.btn-cancel[_ngcontent-%COMP%]:hover{background:#4b5563}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}.empty-state[_ngcontent-%COMP%]{text-align:center;color:#6b7280;padding:2rem!important}"]});let n=t;return n})();function RO(n,t){if(n&1&&(g(0,"div",7),_(1),m()),n&2){let e=t.$implicit;C(),je(e)}}function kO(n,t){if(n&1){let e=ge();g(0,"div",13),k("click",function(){let o=j(e).$implicit,i=S().$implicit,s=S();return V(s.openEventModal(o,i.date))}),_(1),m()}if(n&2){let e=t.$implicit;ct("event-livraison",e.event_type==="livraison")("event-mep",e.event_type==="mep"),C(),me(" ",e.title.substring(0,12)," ")}}function PO(n,t){if(n&1){let e=ge();g(0,"div",8)(1,"div",9),_(2),m(),g(3,"div",10),ce(4,kO,2,5,"div",11),g(5,"button",12),k("click",function(){let o=j(e).$implicit,i=S();return V(i.openAddEventModal(o.date))}),_(6,"+"),m()()()}if(n&2){let e=t.$implicit;ct("other-month",!e.isCurrentMonth)("today",e.isToday),C(2),je(e.dayNumber),C(2),W("ngForOf",e.events)}}function FO(n,t){if(n&1){let e=ge();g(0,"button",30),k("click",function(){j(e);let o=S(2);return V(o.deleteEvent())}),_(1,"Supprimer"),m()}}function LO(n,t){if(n&1){let e=ge();g(0,"div",14),k("click",function(){j(e);let o=S();return V(o.closeModal())}),g(1,"div",15),k("click",function(o){return j(e),V(o.stopPropagation())}),g(2,"div",16)(3,"h3"),_(4,"{{ isEditMode ? 'Modifier l'\xE9v\xE9nement' : 'Nouvel \xE9v\xE9nement' }}"),m(),g(5,"button",17),k("click",function(){j(e);let o=S();return V(o.closeModal())}),_(6,"\xD7"),m()(),g(7,"div",18)(8,"div",19)(9,"label"),_(10,"Type"),m(),g(11,"select",20),ee("ngModelChange",function(o){j(e);let i=S();return te(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),V(o)}),k("ngModelChange",function(){j(e);let o=S();return V(o.updateModalTitle())}),g(12,"option",21),_(13,"Livraison (LV)"),m(),g(14,"option",22),_(15,"Mise en Production (MEP)"),m()()(),g(16,"div",19)(17,"label"),_(18,"Version"),m(),g(19,"input",23),ee("ngModelChange",function(o){j(e);let i=S();return te(i.modalEvent.version,o)||(i.modalEvent.version=o),V(o)}),k("ngModelChange",function(){j(e);let o=S();return V(o.updateModalTitle())}),m()(),g(20,"div",19)(21,"label"),_(22,"Date"),m(),g(23,"input",24),ee("ngModelChange",function(o){j(e);let i=S();return te(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),V(o)}),m()(),g(24,"div",19)(25,"label"),_(26,"Description"),m(),g(27,"textarea",25),ee("ngModelChange",function(o){j(e);let i=S();return te(i.modalEvent.description,o)||(i.modalEvent.description=o),V(o)}),m()()(),g(28,"div",26),ce(29,FO,2,0,"button",27),g(30,"button",28),k("click",function(){j(e);let o=S();return V(o.closeModal())}),_(31,"Annuler"),m(),g(32,"button",29),k("click",function(){j(e);let o=S();return V(o.saveEvent())}),_(33),m()()()()}if(n&2){let e=S();C(11),X("ngModel",e.modalEvent.event_type),C(8),X("ngModel",e.modalEvent.version),C(4),X("ngModel",e.modalEvent.event_date),C(4),X("ngModel",e.modalEvent.description),C(2),W("ngIf",e.isEditMode),C(4),je(e.isEditMode?"Sauvegarder":"Cr\xE9er")}}var Wb=(()=>{let t=class t{constructor(r){this.eventService=r,this.currentDate=new Date,this.calendarDays=[],this.weekDays=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],this.events=[],this.showModal=!1,this.isEditMode=!1,this.modalEvent={}}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.generateCalendar()})}generateCalendar(){let r=this.currentDate.getFullYear(),o=this.currentDate.getMonth(),i=new Date(r,o,1),s=new Date(r,o+1,0),a=i.getDay();a=a===0?6:a-1;let c=new Date(r,o,0).getDate();this.calendarDays=[];for(let u=a-1;u>=0;u--){let d=new Date(r,o-1,c-u);this.calendarDays.push({dayNumber:c-u,date:this.formatDateToString(d),isCurrentMonth:!1,isToday:!1,events:[]})}for(let u=1;u<=s.getDate();u++){let d=new Date(r,o,u),h=this.formatDateToString(d),f=this.eventService.getEventsByDate(h);this.calendarDays.push({dayNumber:u,date:h,isCurrentMonth:!0,isToday:this.isToday(d),events:f})}let l=42-this.calendarDays.length;for(let u=1;u<=l;u++){let d=new Date(r,o+1,u);this.calendarDays.push({dayNumber:u,date:this.formatDateToString(d),isCurrentMonth:!1,isToday:!1,events:[]})}}formatDateToString(r){let o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${o}-${i}-${s}`}isToday(r){let o=new Date;return r.getDate()===o.getDate()&&r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()}getMonthYear(){return this.currentDate.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}previousMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1),this.generateCalendar()}nextMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1),this.generateCalendar()}openAddEventModal(r){this.isEditMode=!1,this.modalEvent={event_type:"livraison",version:"",event_date:r,description:"",title:""},this.showModal=!0}openEventModal(r,o){this.isEditMode=!0,this.modalEvent=E({},r),this.showModal=!0}closeModal(){this.showModal=!1,this.modalEvent={}}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return p(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode?yield this.eventService.updateEvent(this.modalEvent.id,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}deleteEvent(){return p(this,null,function*(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&(yield this.eventService.deleteEvent(this.modalEvent.id),this.closeModal())})}};t.\u0275fac=function(o){return new(o||t)(R(Mi))},t.\u0275cmp=be({type:t,selectors:[["app-calendar-view"]],decls:12,vars:4,consts:[[1,"calendar-container"],[1,"calendar-header"],[1,"nav-btn",3,"click"],[1,"calendar-grid"],["class","day-header",4,"ngFor","ngForOf"],["class","calendar-day",3,"other-month","today",4,"ngFor","ngForOf"],["class","modal",3,"click",4,"ngIf"],[1,"day-header"],[1,"calendar-day"],[1,"day-number"],[1,"day-events"],["class","event-item",3,"event-livraison","event-mep","click",4,"ngFor","ngForOf"],[1,"add-event-btn",3,"click"],[1,"event-item",3,"click"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","4",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"div",1)(2,"button",2),k("click",function(){return i.previousMonth()}),_(3,"\u2039"),m(),g(4,"h2"),_(5),m(),g(6,"button",2),k("click",function(){return i.nextMonth()}),_(7,"\u203A"),m()(),g(8,"div",3),ce(9,RO,2,1,"div",4)(10,PO,7,6,"div",5),m(),ce(11,LO,34,6,"div",6),m()),o&2&&(C(5),je(i.getMonthYear()),C(4),W("ngForOf",i.weekDays),C(),W("ngForOf",i.calendarDays),C(),W("ngIf",i.showModal))},dependencies:[qe,or,_t,ut,hi,pi,Ke,hr,lt,et],styles:[".calendar-container[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#1a1a1a;margin:0}.nav-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:6px;width:40px;height:40px;font-size:1.5rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#2563eb}.calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;background:#dee2e6;border:1px solid #dee2e6;border-radius:8px;overflow:hidden}.day-header[_ngcontent-%COMP%]{background:#f8f9fa;padding:1rem;text-align:center;font-weight:600;font-size:.875rem;color:#495057}.calendar-day[_ngcontent-%COMP%]{background:#fff;min-height:120px;padding:.5rem;position:relative;transition:background-color .2s}.calendar-day[_ngcontent-%COMP%]:hover{background:#f8f9fa}.calendar-day.other-month[_ngcontent-%COMP%]{background:#f8f9fa;opacity:.5}.calendar-day.today[_ngcontent-%COMP%]{background:#eff6ff}.day-number[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:#1a1a1a;margin-bottom:.5rem}.day-events[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.event-item[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:500;cursor:pointer;transition:all .2s;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.event-item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.event-item.event-mep[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.add-event-btn[_ngcontent-%COMP%]{background:transparent;border:1px dashed #dee2e6;border-radius:4px;padding:.25rem;font-size:1rem;color:#6b7280;cursor:pointer;margin-top:.25rem;transition:all .2s}.add-event-btn[_ngcontent-%COMP%]:hover{border-color:#2563eb;color:#2563eb;background:#eff6ff}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:32px;height:32px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#495057;margin-bottom:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;font-family:inherit;box-sizing:border-box}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.5rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}"]});let n=t;return n})();function jO(n,t){if(n&1){let e=ge();g(0,"div",18),k("click",function(){let o=j(e).$implicit,i=S(3);return V(i.openEventModal(o))}),_(1),m()}if(n&2){let e=t.$implicit;ct("event-livraison",e.event_type==="livraison")("event-mep",e.event_type==="mep"),C(),me(" ",e.title," ")}}function VO(n,t){if(n&1){let e=ge();g(0,"div",14)(1,"div",10),_(2),m(),g(3,"div",11),_(4),m(),g(5,"div",12)(6,"div",15),ce(7,jO,2,5,"div",16),g(8,"button",17),k("click",function(){let o=j(e).$implicit,i=S(2);return V(i.openAddEventModal(o.dateStr))}),_(9,"+"),m()()()()}if(n&2){let e=t.$implicit;ct("has-events",e.events.length>0)("today",e.isToday),C(2),je(e.dayNumber),C(2),je(e.dayName),C(3),W("ngForOf",e.events)}}function UO(n,t){if(n&1&&(g(0,"div",6)(1,"h3",7),_(2),m(),g(3,"div",8)(4,"div",9)(5,"div",10),_(6,"Date"),m(),g(7,"div",11),_(8,"Jour"),m(),g(9,"div",12),_(10,"\xC9v\xE9nements"),m()(),ce(11,VO,10,7,"div",13),m()()),n&2){let e=t.$implicit;C(2),je(e.title),C(9),W("ngForOf",e.days)}}function BO(n,t){if(n&1){let e=ge();g(0,"button",35),k("click",function(){j(e);let o=S(2);return V(o.deleteEvent())}),_(1,"Supprimer"),m()}}function $O(n,t){if(n&1){let e=ge();g(0,"div",19),k("click",function(){j(e);let o=S();return V(o.closeModal())}),g(1,"div",20),k("click",function(o){return j(e),V(o.stopPropagation())}),g(2,"div",21)(3,"h3"),_(4,"{{ isEditMode ? 'Modifier l'\xE9v\xE9nement' : 'Nouvel \xE9v\xE9nement' }}"),m(),g(5,"button",22),k("click",function(){j(e);let o=S();return V(o.closeModal())}),_(6,"\xD7"),m()(),g(7,"div",23)(8,"div",24)(9,"label"),_(10,"Type"),m(),g(11,"select",25),ee("ngModelChange",function(o){j(e);let i=S();return te(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),V(o)}),k("ngModelChange",function(){j(e);let o=S();return V(o.updateModalTitle())}),g(12,"option",26),_(13,"Livraison (LV)"),m(),g(14,"option",27),_(15,"Mise en Production (MEP)"),m()()(),g(16,"div",24)(17,"label"),_(18,"Version"),m(),g(19,"input",28),ee("ngModelChange",function(o){j(e);let i=S();return te(i.modalEvent.version,o)||(i.modalEvent.version=o),V(o)}),k("ngModelChange",function(){j(e);let o=S();return V(o.updateModalTitle())}),m()(),g(20,"div",24)(21,"label"),_(22,"Date"),m(),g(23,"input",29),ee("ngModelChange",function(o){j(e);let i=S();return te(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),V(o)}),m()(),g(24,"div",24)(25,"label"),_(26,"Description"),m(),g(27,"textarea",30),ee("ngModelChange",function(o){j(e);let i=S();return te(i.modalEvent.description,o)||(i.modalEvent.description=o),V(o)}),m()()(),g(28,"div",31),ce(29,BO,2,0,"button",32),g(30,"button",33),k("click",function(){j(e);let o=S();return V(o.closeModal())}),_(31,"Annuler"),m(),g(32,"button",34),k("click",function(){j(e);let o=S();return V(o.saveEvent())}),_(33),m()()()()}if(n&2){let e=S();C(11),X("ngModel",e.modalEvent.event_type),C(8),X("ngModel",e.modalEvent.version),C(4),X("ngModel",e.modalEvent.event_date),C(4),X("ngModel",e.modalEvent.description),C(2),W("ngIf",e.isEditMode),C(4),je(e.isEditMode?"Sauvegarder":"Cr\xE9er")}}var Gb=(()=>{let t=class t{constructor(r){this.eventService=r,this.startDate=new Date,this.monthsData=[],this.events=[],this.showModal=!1,this.isEditMode=!1,this.modalEvent={},this.dayNames=["D","L","M","M","J","V","S"],this.startDate.setDate(1)}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.generateCompactView()})}generateCompactView(){this.monthsData=[];for(let r=0;r<3;r++){let o=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+r,1),i=o.toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),s=new Date(o.getFullYear(),o.getMonth()+1,0).getDate(),a=[];for(let c=1;c<=s;c++){let l=new Date(o.getFullYear(),o.getMonth(),c),u=this.formatDateToString(l),d=this.eventService.getEventsByDate(u);a.push({dayNumber:String(c).padStart(2,"0"),dayName:this.getDayName(l),dateStr:u,isToday:this.isToday(l),events:d})}this.monthsData.push({title:i,days:a})}}formatDateToString(r){let o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${o}-${i}-${s}`}getDayName(r){let o=r.getDay();return this.dayNames[o]}isToday(r){let o=new Date;return r.getDate()===o.getDate()&&r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()}getPeriodTitle(){let r=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+2,0);return`${this.startDate.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})} - ${r.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}`}previousPeriod(){this.startDate=new Date(this.startDate.getFullYear(),this.startDate.getMonth()-3,1),this.generateCompactView()}nextPeriod(){this.startDate=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+3,1),this.generateCompactView()}openAddEventModal(r){this.isEditMode=!1,this.modalEvent={event_type:"livraison",version:"",event_date:r,description:"",title:""},this.showModal=!0}openEventModal(r){this.isEditMode=!0,this.modalEvent=E({},r),this.showModal=!0}closeModal(){this.showModal=!1,this.modalEvent={}}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return p(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode?yield this.eventService.updateEvent(this.modalEvent.id,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}deleteEvent(){return p(this,null,function*(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&(yield this.eventService.deleteEvent(this.modalEvent.id),this.closeModal())})}};t.\u0275fac=function(o){return new(o||t)(R(Mi))},t.\u0275cmp=be({type:t,selectors:[["app-compact-view"]],decls:11,vars:3,consts:[[1,"compact-container"],[1,"compact-header"],[1,"nav-btn",3,"click"],[1,"months-grid"],["class","month-column",4,"ngFor","ngForOf"],["class","modal",3,"click",4,"ngIf"],[1,"month-column"],[1,"month-title"],[1,"compact-table"],[1,"table-header"],[1,"col-date"],[1,"col-day"],[1,"col-events"],["class","table-row",3,"has-events","today",4,"ngFor","ngForOf"],[1,"table-row"],[1,"events-list"],["class","compact-event",3,"event-livraison","event-mep","click",4,"ngFor","ngForOf"],[1,"add-compact-btn",3,"click"],[1,"compact-event",3,"click"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","4",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"div",1)(2,"button",2),k("click",function(){return i.previousPeriod()}),_(3,"\u2039"),m(),g(4,"h2"),_(5),m(),g(6,"button",2),k("click",function(){return i.nextPeriod()}),_(7,"\u203A"),m()(),g(8,"div",3),ce(9,UO,12,2,"div",4),m(),ce(10,$O,34,6,"div",5),m()),o&2&&(C(5),je(i.getPeriodTitle()),C(4),W("ngForOf",i.monthsData),C(),W("ngIf",i.showModal))},dependencies:[qe,or,_t,ut,hi,pi,Ke,hr,lt,et],styles:[".compact-container[_ngcontent-%COMP%]{padding:2rem;max-width:1600px;margin:0 auto}.compact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#1a1a1a;margin:0}.nav-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:6px;width:40px;height:40px;font-size:1.5rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#2563eb}.months-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1.5rem}.month-column[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 1px 3px #0000001a}.month-title[_ngcontent-%COMP%]{background:#f8f9fa;margin:0;padding:1rem;font-size:1.125rem;font-weight:600;color:#1a1a1a;text-align:center;border-bottom:2px solid #dee2e6}.compact-table[_ngcontent-%COMP%]{font-size:.8rem}.table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:50px 50px 1fr;background:#f8f9fa;font-weight:600;color:#495057;border-bottom:1px solid #dee2e6;position:sticky;top:0;z-index:10}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:.75rem .5rem;border-right:1px solid #e9ecef}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-right:none}.table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:50px 50px 1fr;border-bottom:1px solid #e9ecef;transition:background-color .2s;min-height:36px}.table-row[_ngcontent-%COMP%]:hover{background:#f8f9fa}.table-row.today[_ngcontent-%COMP%]{background:#eff6ff}.table-row.has-events[_ngcontent-%COMP%]{background:#fefce8}.table-row.has-events[_ngcontent-%COMP%]:hover{background:#fef9c3}.col-date[_ngcontent-%COMP%], .col-day[_ngcontent-%COMP%]{padding:.5rem;border-right:1px solid #e9ecef;display:flex;align-items:center;justify-content:center;font-weight:500}.col-events[_ngcontent-%COMP%]{padding:.5rem;display:flex;align-items:center}.events-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem;width:100%}.compact-event[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;padding:.125rem .375rem;border-radius:3px;font-size:.7rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.compact-event[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.compact-event.event-mep[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.add-compact-btn[_ngcontent-%COMP%]{background:transparent;border:1px dashed #dee2e6;border-radius:3px;padding:.125rem .375rem;font-size:.7rem;color:#6b7280;cursor:pointer;transition:all .2s}.add-compact-btn[_ngcontent-%COMP%]:hover{border-color:#2563eb;color:#2563eb;background:#eff6ff}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:32px;height:32px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#495057;margin-bottom:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;font-family:inherit;box-sizing:border-box}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.5rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}@media (max-width: 1200px){.months-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let n=t;return n})();var qb=(()=>{let t=class t{constructor(){this.email=at(""),this.password=at(""),this.supabaseService=y(ft),this.router=y(Ee)}signInWithEmail(){return p(this,null,function*(){let{error:r}=yield this.supabaseService.signInWithEmail({email:this.email(),password:this.password()});r?alert("Error signing in: "+r.message):this.router.navigate(["/profile"])})}navigateToSignup(){this.router.navigate(["/signup"])}navigateToForgot(){this.router.navigate(["/forgot-password"])}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=be({type:t,selectors:[["app-login"]],decls:16,vars:2,consts:[[1,"container"],["type","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Password","required","",3,"ngModelChange","ngModel"],["type","button",3,"click"],[3,"click"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"h2"),_(2,"Login"),m(),g(3,"form")(4,"input",1),ee("ngModelChange",function(a){return te(i.email,a)||(i.email=a),a}),m(),g(5,"input",2),ee("ngModelChange",function(a){return te(i.password,a)||(i.password=a),a}),m(),g(6,"button",3),k("click",function(){return i.signInWithEmail()}),_(7,"Sign In"),m()(),g(8,"p"),_(9,"Don't have an account? "),g(10,"a",4),k("click",function(){return i.navigateToSignup()}),_(11,"Sign Up"),m()(),g(12,"p"),_(13,"Forgot your password ? "),g(14,"a",4),k("click",function(){return i.navigateToForgot()}),_(15,"Send me a link"),m()()()),o&2&&(C(4),X("ngModel",i.email),C(),X("ngModel",i.password))},dependencies:[ut,fr,Ke,lt,dr,Rn,et,Nn],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.container[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.container[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:hover{background-color:#2980b9}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}"]});let n=t;return n})();function HO(n,t){if(n&1&&(g(0,"div",9),_(1),m()),n&2){let e=S();C(),me(" ",e.error," ")}}function zO(n,t){if(n&1&&(g(0,"div",10),_(1),m()),n&2){let e=S();C(),me(" ",e.message," ")}}var Kb=(()=>{let t=class t{constructor(){this.name="",this.email="",this.password="",this.confirmPassword="",this.message="",this.error="",this.supabaseService=y(ft),this.router=y(Ee)}signUp(){return p(this,null,function*(){if(this.error="",this.message="",this.password.length<6){this.error="Le mot de passe doit contenir au moins 6 caract\xE8res.";return}if(this.password!==this.confirmPassword){this.error="Les mots de passe ne correspondent pas.";return}let{error:r}=yield this.supabaseService.signUpWithEmail({name:this.name,email:this.email,password:this.password});r?alert("Error signing up: "+r.message):(alert("Check your email to confirm your account!"),this.router.navigate(["/login"]))})}navigateToLogin(){this.router.navigate(["/login"])}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=be({type:t,selectors:[["app-signup"]],decls:16,vars:6,consts:[[1,"container"],["type","text","name","name","placeholder","Full Name","required","",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","minlength","6","placeholder","Mot de passe (Minimum 6 caract\xE8res)","required","",3,"ngModelChange","ngModel"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirmez votre mot de passe","minlength","6","required","",3,"ngModelChange","ngModel"],["type","button",3,"click"],["class","message error",4,"ngIf"],["class","message success",4,"ngIf"],[3,"click"],[1,"message","error"],[1,"message","success"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"h2"),_(2,"Sign Up"),m(),g(3,"form")(4,"input",1),ee("ngModelChange",function(a){return te(i.name,a)||(i.name=a),a}),m(),g(5,"input",2),ee("ngModelChange",function(a){return te(i.email,a)||(i.email=a),a}),m(),g(6,"input",3),ee("ngModelChange",function(a){return te(i.password,a)||(i.password=a),a}),m(),g(7,"input",4),ee("ngModelChange",function(a){return te(i.confirmPassword,a)||(i.confirmPassword=a),a}),m(),g(8,"button",5),k("click",function(){return i.signUp()}),_(9,"Sign Up"),m()(),ce(10,HO,2,1,"div",6)(11,zO,2,1,"div",7),g(12,"p"),_(13,"Already have an account? "),g(14,"a",8),k("click",function(){return i.navigateToLogin()}),_(15,"Log In"),m()()()),o&2&&(C(4),X("ngModel",i.name),C(),X("ngModel",i.email),C(),X("ngModel",i.password),C(),X("ngModel",i.confirmPassword),C(3),W("ngIf",i.error),C(),W("ngIf",i.message))},dependencies:[ut,fr,Ke,lt,dr,Rn,Ys,et,Nn,qe,_t],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.container[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.container[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:hover{background-color:#2980b9}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}.message[_ngcontent-%COMP%]{margin-top:20px;padding:12px;border-radius:5px;text-align:center;font-size:14px}.message.error[_ngcontent-%COMP%]{background-color:#fee;color:#c33;border:1px solid #fcc}.message.success[_ngcontent-%COMP%]{background-color:#efe;color:#3c3;border:1px solid #cfc}"]});let n=t;return n})();var Zb=(n,t)=>p(null,null,function*(){let e=y(ft),r=y(Ee),{data:o}=yield e.getUser();return o.user?!0:(r.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1)});function WO(n,t){if(n&1&&(rn(0,"p"),_(1),on(),rn(2,"p"),_(3),on(),rn(4,"p"),_(5),on()),n&2){let e=S();C(),me("User ID: ",e.user.id),C(2),me("Email: ",e.user.email),C(2),me("Display Name: ",e.user.user_metadata.displayName)}}var Yb=(()=>{let t=class t{constructor(){this.user=null,this.supabaseService=y(ft),this.router=y(Ee)}ngOnInit(){this.fetchUser()}fetchUser(){return p(this,null,function*(){let{data:r}=yield this.supabaseService.getUser();this.user=r.user,this.user||this.router.navigate(["/login"])})}signOut(){return p(this,null,function*(){yield this.supabaseService.signOut(),this.router.navigate(["/login"])})}updatePassword(){return p(this,null,function*(){this.router.navigate(["/update-password"])})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=be({type:t,selectors:[["app-profile"]],decls:10,vars:1,consts:[[1,"container"],[3,"click"]],template:function(o,i){o&1&&(rn(0,"div",0)(1,"h2"),_(2,"User Profile"),on(),rn(3,"p"),_(4," Congratulations! Welcome to secure auth with Angular + Supabase is running. \u{1F389} "),on(),Th(5,WO,6,3),rn(6,"button",1),vs("click",function(){return i.signOut()}),_(7,"Sign Out"),on(),rn(8,"button",1),vs("click",function(){return i.updatePassword()}),_(9,"Modifier le mot de passe"),on()()),o&2&&(C(5),Ah(i.user?5:-1))},styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;text-align:left}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1.5rem;font-weight:500;text-align:left}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:#555;line-height:1.5;text-align:left}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{font-size:1.1rem;margin-bottom:2rem;color:#27ae60}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type){font-weight:500;color:#2c3e50;word-break:break-all}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;padding:.85rem;margin-top:2rem;background-color:#e74c3c;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#c0392b}"]});let n=t;return n})();function GO(n,t){if(n&1&&(g(0,"div",8),_(1),m()),n&2){let e=S();C(),me(" ",e.message," ")}}var Qb=(()=>{let t=class t{constructor(r){this.supabaseService=r,this.email="",this.message="",this.loading=!1}onSubmit(){return p(this,null,function*(){this.loading=!0;try{yield this.supabaseService.resetPasswordForEmail(this.email),this.message="Un lien de r\xE9initialisation a \xE9t\xE9 envoy\xE9 \xE0 votre adresse email."}catch(r){this.message=`Erreur : ${r.message}`}finally{this.loading=!1}})}};t.\u0275fac=function(o){return new(o||t)(R(ft))},t.\u0275cmp=be({type:t,selectors:[["app-forgot-password"]],decls:14,vars:2,consts:[[1,"forgot-password-container"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","placeholder","Votre email",3,"ngModelChange","ngModel"],["type","submit"],["class","message",4,"ngIf"],["href","/login"],[1,"message"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"h2"),_(2,"Mot de passe oubli\xE9"),m(),g(3,"form",1),k("ngSubmit",function(){return i.onSubmit()}),g(4,"div",2)(5,"label",3),_(6,"Email"),m(),g(7,"input",4),ee("ngModelChange",function(a){return te(i.email,a)||(i.email=a),a}),m()(),g(8,"button",5),_(9,"Envoyer le lien de r\xE9initialisation"),m()(),ce(10,GO,2,1,"div",6),g(11,"p")(12,"a",7),_(13,"Retour au login"),m()()()),o&2&&(C(7),X("ngModel",i.email),C(3),W("ngIf",i.message))},dependencies:[ut,fr,Ke,lt,dr,Rn,et,Nn,qe,_t],styles:[".forgot-password-container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.forgot-password-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.forgot-password-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2c3e50;font-weight:500}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.forgot-password-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.forgot-password-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#2980b9}.forgot-password-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;text-align:center;border-radius:6px;background-color:#e8f4fc;color:#2c3e50;border:1px solid #b8d8f0}p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}"]});let n=t;return n})();function qO(n,t){if(n&1){let e=ge();g(0,"form",8),k("ngSubmit",function(){j(e);let o=S();return V(o.onSubmit())}),g(1,"div",9)(2,"label",10),_(3,"Nouveau mot de passe"),m(),g(4,"input",11),ee("ngModelChange",function(o){j(e);let i=S();return te(i.newPassword,o)||(i.newPassword=o),V(o)}),m()(),g(5,"div",9)(6,"label",12),_(7,"Confirmer le mot de passe"),m(),g(8,"input",13),ee("ngModelChange",function(o){j(e);let i=S();return te(i.confirmPassword,o)||(i.confirmPassword=o),V(o)}),m()(),g(9,"button",14),_(10),m()()}if(n&2){let e=S();C(4),X("ngModel",e.newPassword),W("disabled",e.loading),C(4),X("ngModel",e.confirmPassword),W("disabled",e.loading),C(),W("disabled",e.loading),C(),me(" ",e.loading?"Mise \xE0 jour...":"Mettre \xE0 jour le mot de passe"," ")}}function KO(n,t){if(n&1&&(g(0,"div",15),_(1),m()),n&2){let e=S();C(),me(" ",e.error," ")}}function ZO(n,t){if(n&1&&(g(0,"div",16),_(1),m()),n&2){let e=S();C(),me(" ",e.message," ")}}var Jb=(()=>{let t=class t{constructor(r,o){this.supabaseService=r,this.router=o,this.newPassword="",this.confirmPassword="",this.message="",this.error="",this.loading=!1,this.success=!1}ngOnInit(){return p(this,null,function*(){let{data:r}=yield this.supabaseService.getSession();r.session||(this.error="Session invalide. Veuillez demander un nouveau lien de r\xE9initialisation.")})}onSubmit(){return p(this,null,function*(){if(this.error="",this.message="",this.newPassword.length<6){this.error="Le mot de passe doit contenir au moins 6 caract\xE8res.";return}if(this.newPassword!==this.confirmPassword){this.error="Les mots de passe ne correspondent pas.";return}this.loading=!0;try{let{error:r}=yield this.supabaseService.updatePassword(this.newPassword);r?this.error="Erreur : "+r.message:(this.message="Mot de passe mis \xE0 jour avec succ\xE8s !",this.success=!0)}catch(r){this.error="Une erreur est survenue : "+r.message}finally{this.loading=!1}})}goToProfile(){this.router.navigate(["/profile"])}goToLogin(){this.router.navigate(["/login"])}};t.\u0275fac=function(o){return new(o||t)(R(ft),R(Ee))},t.\u0275cmp=be({type:t,selectors:[["app-update-password"]],decls:13,vars:3,consts:[[1,"update-password-container"],[1,"update-password-card"],[1,"subtitle"],[3,"ngSubmit",4,"ngIf"],["class","message error",4,"ngIf"],["class","message success",4,"ngIf"],[1,"profile-button",3,"click"],[1,"login-button",3,"click"],[3,"ngSubmit"],[1,"form-group"],["for","newPassword"],["type","password","id","newPassword","name","newPassword","required","","minlength","6","placeholder","Minimum 6 caract\xE8res",3,"ngModelChange","ngModel","disabled"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","","minlength","6","placeholder","Confirmez votre mot de passe",3,"ngModelChange","ngModel","disabled"],["type","submit",3,"disabled"],[1,"message","error"],[1,"message","success"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"div",1)(2,"h2"),_(3,"Mettre \xE0 jour votre mot de passe"),m(),g(4,"p",2),_(5,"Veuillez entrer votre nouveau mot de passe"),m(),ce(6,qO,11,6,"form",3)(7,KO,2,1,"div",4)(8,ZO,2,1,"div",5),g(9,"button",6),k("click",function(){return i.goToProfile()}),_(10," Retour au profil "),m(),g(11,"button",7),k("click",function(){return i.goToLogin()}),_(12," Retour \xE0 la connexion "),m()()()),o&2&&(C(6),W("ngIf",!i.success&&(!i.error||i.newPassword)),C(),W("ngIf",i.error),C(),W("ngIf",i.message))},dependencies:[ut,fr,Ke,lt,dr,Rn,Ys,et,Nn,qe,_t],styles:[".update-password-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.update-password-card[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:10px;box-shadow:0 10px 25px #0003;max-width:400px;width:100%}h2[_ngcontent-%COMP%]{margin:0 0 10px;color:#333;font-size:24px;text-align:center}.subtitle[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:30px;font-size:14px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500;font-size:14px}input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:5px;font-size:14px;box-sizing:border-box;transition:border-color .3s}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}button[_ngcontent-%COMP%]{width:100%;padding:12px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:5px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .2s,box-shadow .2s}button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]{margin-top:20px;background:linear-gradient(135deg,#2ecc71,#27ae60)}.login-button[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #2ecc7166}.profile-button[_ngcontent-%COMP%]{margin-top:20px;background:linear-gradient(135deg,#cc2e85 0% 100%)}.profile-button[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #2ecc7166}.message[_ngcontent-%COMP%]{margin-top:20px;padding:12px;border-radius:5px;text-align:center;font-size:14px}.message.error[_ngcontent-%COMP%]{background-color:#fee;color:#c33;border:1px solid #fcc}.message.success[_ngcontent-%COMP%]{background-color:#efe;color:#3c3;border:1px solid #cfc}"]});let n=t;return n})();var Xb=[{path:"login",component:qb},{path:"signup",component:Kb},{path:"forgot-password",component:Qb},{path:"",canActivate:[Zb],children:[{path:"",redirectTo:"/calendar",pathMatch:"full"},{path:"list",component:zb},{path:"calendar",component:Wb},{path:"compact",component:Gb},{path:"profile",component:Yb},{path:"update-password",component:Jb}]},{path:"**",redirectTo:"login"}];var YO=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=be({type:t,selectors:[["app-root"]],decls:14,vars:0,consts:[[1,"app-container"],[1,"navbar"],[1,"nav-content"],[1,"app-title"],[1,"nav-links"],["routerLink","/calendar","routerLinkActive","active"],["routerLink","/compact","routerLinkActive","active"],["routerLink","/list","routerLinkActive","active"]],template:function(o,i){o&1&&(g(0,"div",0)(1,"nav",1)(2,"div",2)(3,"h1",3),_(4,"Calendrier Livraisons & MEP"),m(),g(5,"div",4)(6,"a",5),_(7,"Calendrier"),m(),g(8,"a",6),_(9,"Vue Compacte"),m(),g(10,"a",7),_(11,"Liste"),m()()()(),g(12,"main"),Ko(13,"router-outlet"),m()())},dependencies:[qe,Op,Vs,li,Tp],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background:#f1f5f9}.app-container[_ngcontent-%COMP%]{min-height:100vh}.navbar[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e2e8f0;position:sticky;top:0;z-index:100;box-shadow:0 1px 3px #0000000d}.nav-content[_ngcontent-%COMP%]{max-width:1600px;margin:0 auto;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center}.app-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1e293b}.nav-links[_ngcontent-%COMP%]{display:flex;gap:.5rem}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:6px;text-decoration:none;color:#64748b;font-weight:500;transition:all .2s}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff}main[_ngcontent-%COMP%]{min-height:calc(100vh - 80px)}"]});let n=t;return n})();ep(YO,{providers:[xp(Xb)]});export{YO as App};
