<!-- // ======================================== 
 // 3. TEMPLATE: kanban-board.component.html //
======================================== 
-->
<div class="kanban-container">
  <!-- Barre d'outils -->
  <div class="toolbar">
    <h1>ğŸ“Š Tableau SIDE</h1>

    <!-- Zone de recherche -->
    <div class="search-bar">
      <input
        type="text"
        class="search-input"
        [(ngModel)]="searchQuery"
        (input)="onSearch()"
        placeholder="ğŸ” Rechercher dans un ticket..."
      />
    </div>

    <!-- Bouton crÃ©er ticket -->
    <button class="create-ticket-btn" (click)="createTicket()">â• Nouveau ticket</button>
  </div>

  <!-- Tableau Kanban -->
  <div class="kanban-board">
    <!-- Colonne BACKLOG -->
    <div class="kanban-column">
      <div class="column-header">
        <h3>ğŸ“ BACKLOG</h3>
        <span class="count">{{ getTicketsByStatus("backlog").length }}</span>
      </div>
      <div class="tickets-list">
        <div *ngFor="let ticket of getTicketsByStatus('backlog')" class="ticket-card" (click)="editTicket(ticket)">
          <h4>{{ ticket.title }}</h4>
          <p>{{ ticket.description }}</p>
          <div class="ticket-footer">
            <span class="assignee">ğŸ‘¤ {{ ticket.assignee }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Colonne EN COURS -->
    <div class="kanban-column">
      <div class="column-header">
        <h3>âš¡ EN COURS</h3>
        <span class="count">{{ getTicketsByStatus("in-progress").length }}</span>
      </div>
      <div class="tickets-list">
        <div *ngFor="let ticket of getTicketsByStatus('in-progress')" class="ticket-card" (click)="editTicket(ticket)">
          <h4>{{ ticket.title }}</h4>
          <p>{{ ticket.description }}</p>
          <div class="ticket-footer">
            <span class="assignee">ğŸ‘¤ {{ ticket.assignee }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Colonne TERMINÃ‰ -->
    <div class="kanban-column">
      <div class="column-header">
        <h3>âœ… TERMINÃ‰</h3>
        <span class="count">{{ getTicketsByStatus("done").length }}</span>
      </div>
      <div class="tickets-list">
        <div *ngFor="let ticket of getTicketsByStatus('done')" class="ticket-card done" (click)="editTicket(ticket)">
          <h4>{{ ticket.title }}</h4>
          <p>{{ ticket.description }}</p>
          <div class="ticket-footer">
            <span class="assignee">ğŸ‘¤ {{ ticket.assignee }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bouton d'aide flottant -->
  <button class="help-button" (click)="resetTutorial()" title="Relancer le tutorial"> ? </button>
</div>
