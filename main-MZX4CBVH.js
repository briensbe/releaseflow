import{a as b,b as B,c as $4,d as Ir,e as G4,f as W4,g as Sr,h as f,j as Hp,k as zp,n as Z4,o as qp}from"./chunk-5WDXYQDS.js";var Pr={};G4(Pr,{__addDisposableResource:()=>I2,__assign:()=>qs,__asyncDelegator:()=>v2,__asyncGenerator:()=>$s,__asyncValues:()=>Gs,__await:()=>nn,__awaiter:()=>S,__classPrivateFieldGet:()=>b2,__classPrivateFieldIn:()=>x2,__classPrivateFieldSet:()=>_2,__createBinding:()=>Us,__decorate:()=>s2,__disposeResources:()=>S2,__esDecorate:()=>d2,__exportStar:()=>y2,__extends:()=>a2,__generator:()=>f2,__importDefault:()=>C2,__importStar:()=>w2,__makeTemplateObject:()=>M2,__metadata:()=>p2,__param:()=>c2,__propKey:()=>u2,__read:()=>gu,__rest:()=>wn,__rewriteRelativeImportExtension:()=>D2,__runInitializers:()=>l2,__setFunctionName:()=>h2,__spread:()=>g2,__spreadArray:()=>k2,__spreadArrays:()=>m2,__values:()=>Bs,default:()=>dM});function a2(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");fu(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function wn(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e}function s2(n,t,e,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(t,e,i):a(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i}function c2(n,t){return function(e,r){t(e,r,n)}}function d2(n,t,e,r,o,i){function a(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var s=r.kind,c=s==="getter"?"get":s==="setter"?"set":"value",d=!t&&n?r.static?n:n.prototype:null,l=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),u,p=!1,h=e.length-1;h>=0;h--){var m={};for(var C in r)m[C]=C==="access"?{}:r[C];for(var C in r.access)m.access[C]=r.access[C];m.addInitializer=function(_){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(_||null))};var w=(0,e[h])(s==="accessor"?{get:l.get,set:l.set}:l[c],m);if(s==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(u=a(w.get))&&(l.get=u),(u=a(w.set))&&(l.set=u),(u=a(w.init))&&o.unshift(u)}else(u=a(w))&&(s==="field"?o.unshift(u):l[c]=u)}d&&Object.defineProperty(d,r.name,l),p=!0}function l2(n,t,e){for(var r=arguments.length>2,o=0;o<t.length;o++)e=r?t[o].call(n,e):t[o].call(n);return r?e:void 0}function u2(n){return typeof n=="symbol"?n:"".concat(n)}function h2(n,t,e){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:e?"".concat(e," ",t):t})}function p2(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function S(n,t,e,r){function o(i){return i instanceof e?i:new e(function(a){a(i)})}return new(e||(e=Promise))(function(i,a){function s(l){try{d(r.next(l))}catch(u){a(u)}}function c(l){try{d(r.throw(l))}catch(u){a(u)}}function d(l){l.done?i(l.value):o(l.value).then(s,c)}d((r=r.apply(n,t||[])).next())})}function f2(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(d){return function(l){return c([d,l])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(e=0)),e;)try{if(r=1,o&&(i=d[0]&2?o.return:d[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,d[1])).done)return i;switch(o=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,o=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){e.label=d[1];break}if(d[0]===6&&e.label<i[1]){e.label=i[1],i=d;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(d);break}i[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(l){d=[6,l],o=0}finally{r=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function y2(n,t){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&Us(t,n,e)}function Bs(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gu(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return i}function g2(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(gu(arguments[t]));return n}function m2(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var r=Array(n),o=0,t=0;t<e;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function k2(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))}function nn(n){return this instanceof nn?(this.v=n,this):new nn(n)}function $s(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(h){return function(m){return Promise.resolve(m).then(h,u)}}function s(h,m){r[h]&&(o[h]=function(C){return new Promise(function(w,_){i.push([h,C,w,_])>1||c(h,C)})},m&&(o[h]=m(o[h])))}function c(h,m){try{d(r[h](m))}catch(C){p(i[0][3],C)}}function d(h){h.value instanceof nn?Promise.resolve(h.value.v).then(l,u):p(i[0][2],h)}function l(h){c("next",h)}function u(h){c("throw",h)}function p(h,m){h(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function v2(n){var t,e;return t={},r("next"),r("throw",function(o){throw o}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(o,i){t[o]=n[o]?function(a){return(e=!e)?{value:nn(n[o](a)),done:!1}:i?i(a):a}:i}}function Gs(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof Bs=="function"?Bs(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=n[i]&&function(a){return new Promise(function(s,c){a=n[i](a),o(s,c,a.done,a.value)})}}function o(i,a,s,c){Promise.resolve(c).then(function(d){i({value:d,done:s})},a)}}function M2(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function w2(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e=yu(n),r=0;r<e.length;r++)e[r]!=="default"&&Us(t,n,e[r]);return sM(t,n),t}function C2(n){return n&&n.__esModule?n:{default:n}}function b2(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)}function _2(n,t,e,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!o:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,e):o?o.value=e:t.set(n,e),e}function x2(n,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?t===n:n.has(t)}function I2(n,t,e){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,o;if(e){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],e&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),n.stack.push({value:t,dispose:r,async:e})}else e&&n.stack.push({async:!0});return t}function S2(n){function t(i){n.error=n.hasError?new cM(i,n.error,"An error was suppressed during disposal."):i,n.hasError=!0}var e,r=0;function o(){for(;e=n.stack.pop();)try{if(!e.async&&r===1)return r=0,n.stack.push(e),Promise.resolve().then(o);if(e.dispose){var i=e.dispose.call(e.value);if(e.async)return r|=2,Promise.resolve(i).then(o,function(a){return t(a),o()})}else r|=1}catch(a){t(a)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return o()}function D2(n,t){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,o,i,a){return r?t?".jsx":".js":o&&(!i||!a)?e:o+i+"."+a.toLowerCase()+"js"}):n}var fu,qs,Us,sM,yu,cM,dM,ge=$4(()=>{"use strict";fu=function(n,t){return fu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},fu(n,t)};qs=function(){return qs=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qs.apply(this,arguments)};Us=Object.create?function(n,t,e,r){r===void 0&&(r=e);var o=Object.getOwnPropertyDescriptor(t,e);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(n,r,o)}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]};sM=Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t},yu=function(n){return yu=Object.getOwnPropertyNames||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[e.length]=r);return e},yu(n)};cM=typeof SuppressedError=="function"?SuppressedError:function(n,t,e){var r=new Error(e);return r.name="SuppressedError",r.error=n,r.suppressed=t,r};dM={__extends:a2,__assign:qs,__rest:wn,__decorate:s2,__param:c2,__esDecorate:d2,__runInitializers:l2,__propKey:u2,__setFunctionName:h2,__metadata:p2,__awaiter:S,__generator:f2,__createBinding:Us,__exportStar:y2,__values:Bs,__read:gu,__spread:g2,__spreadArrays:m2,__spreadArray:k2,__await:nn,__asyncGenerator:$s,__asyncDelegator:v2,__asyncValues:Gs,__makeTemplateObject:M2,__importStar:w2,__importDefault:C2,__classPrivateFieldGet:b2,__classPrivateFieldSet:_2,__classPrivateFieldIn:x2,__addDisposableResource:I2,__disposeResources:S2,__rewriteRelativeImportExtension:D2}});var op=Ir(rp=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});var np=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};rp.default=np});var sp=Ir(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});var mv=(ge(),Sr(Pr)),y_=mv.__importDefault((qp(),Sr(Z4))),g_=mv.__importDefault(op()),ip=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=y_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>f(this,null,function*(){var a,s,c,d;let l=null,u=null,p=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){let ne=yield i.text();ne===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?u=ne:u=JSON.parse(ne))}let w=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),_=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&_&&_.length>1&&(p=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,p=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let w=yield i.text();try{l=JSON.parse(w),Array.isArray(l)&&i.status===404&&(u=[],l=null,h=200,m="OK")}catch{i.status===404&&w===""?(h=204,m="No Content"):l={message:w}}if(l&&this.isMaybeSingle&&(!((d=l?.details)===null||d===void 0)&&d.includes("0 rows"))&&(l=null,h=200,m="OK"),l&&this.shouldThrowOnError)throw new g_.default(l)}return{error:l,data:u,count:p,status:h,statusText:m}}));return this.shouldThrowOnError||(o=o.catch(i=>{var a,s,c;return{error:{message:`${(a=i?.name)!==null&&a!==void 0?a:"FetchError"}: ${i?.message}`,details:`${(s=i?.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}};ap.default=ip});var lp=Ir(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});var m_=(ge(),Sr(Pr)),k_=m_.__importDefault(sp()),cp=class extends k_.default{select(t){let e=!1,r=(t??"*").split("").map(o=>/\s/.test(o)&&!e?"":(o==='"'&&(e=!e),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:a="text"}={}){var s;let c=[t?"analyze":null,e?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};dp.default=cp});var hl=Ir(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});var v_=(ge(),Sr(Pr)),M_=v_.__importDefault(lp()),w_=new RegExp("[,()]"),up=class extends M_.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(o=>typeof o=="string"&&w_.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};hp.default=up});var yp=Ir(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});var C_=(ge(),Sr(Pr)),ss=C_.__importDefault(hl()),pp=class{constructor(t,{headers:e={},schema:r,fetch:o}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=o}select(t,e){let{head:r=!1,count:o}=e??{},i=r?"HEAD":"GET",a=!1,s=(t??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",s),o&&this.headers.append("Prefer",`count=${o}`),new ss.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var o;let i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let a=t.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(a.length>0){let s=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new ss.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var a;let s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let c=t.reduce((d,l)=>d.concat(Object.keys(l)),[]);if(c.length>0){let d=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",d.join(","))}}return new ss.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var r;let o="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new ss.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ss.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}};fp.default=pp});var vv=Ir(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});var kv=(ge(),Sr(Pr)),b_=kv.__importDefault(yp()),__=kv.__importDefault(hl()),gp=class n{constructor(t,{headers:e={},schema:r,fetch:o}={}){this.url=t,this.headers=new Headers(e),this.schemaName=r,this.fetch=o}from(t){let e=new URL(`${this.url}/${t}`);return new b_.default(e,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:o=!1,count:i}={}){var a;let s,c=new URL(`${this.url}/rpc/${t}`),d;r||o?(s=r?"HEAD":"GET",Object.entries(e).filter(([u,p])=>p!==void 0).map(([u,p])=>[u,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([u,p])=>{c.searchParams.append(u,p)})):(s="POST",d=e);let l=new Headers(this.headers);return i&&l.set("Prefer",`count=${i}`),new __.default({method:s,url:c,headers:l,schema:this.schemaName,body:d,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};mp.default=gp});var Iv=Ir(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.PostgrestError=dt.PostgrestBuilder=dt.PostgrestTransformBuilder=dt.PostgrestFilterBuilder=dt.PostgrestQueryBuilder=dt.PostgrestClient=void 0;var xi=(ge(),Sr(Pr)),Mv=xi.__importDefault(vv());dt.PostgrestClient=Mv.default;var wv=xi.__importDefault(yp());dt.PostgrestQueryBuilder=wv.default;var Cv=xi.__importDefault(hl());dt.PostgrestFilterBuilder=Cv.default;var bv=xi.__importDefault(lp());dt.PostgrestTransformBuilder=bv.default;var _v=xi.__importDefault(sp());dt.PostgrestBuilder=_v.default;var xv=xi.__importDefault(op());dt.PostgrestError=xv.default;dt.default={PostgrestClient:Mv.default,PostgrestQueryBuilder:wv.default,PostgrestFilterBuilder:Cv.default,PostgrestTransformBuilder:bv.default,PostgrestBuilder:_v.default,PostgrestError:xv.default}});var Ql;function xs(){return Ql}function tn(n){let t=Ql;return Ql=n,t}var Bp=Symbol("NotFound");function Co(n){return n===Bp||n?.name==="\u0275NotFound"}var Xe=null,Is=!1,Yl=1,K4=null,Qe=Symbol("SIGNAL");function U(n){let t=Xe;return Xe=n,t}function Ls(){return Xe}var Dr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bo(n){if(Is)throw new Error("");if(Xe===null)return;Xe.consumerOnSignalRead(n);let t=Xe.producersTail;if(t!==void 0&&t.producer===n)return;let e,r=Xe.recomputing;if(r&&(e=t!==void 0?t.nextProducer:Xe.producers,e!==void 0&&e.producer===n)){Xe.producersTail=e,e.lastReadVersion=n.version;return}let o=n.consumersTail;if(o!==void 0&&o.consumer===Xe&&(!r||Q4(o,Xe)))return;let i=Io(Xe),a={producer:n,consumer:Xe,nextProducer:e,prevConsumer:o,lastReadVersion:n.version,nextConsumer:void 0};Xe.producersTail=a,t!==void 0?t.nextProducer=a:Xe.producers=a,i&&Wp(n,a)}function Up(){Yl++}function As(n){if(!(Io(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Yl)){if(!n.producerMustRecompute(n)&&!xo(n)){Es(n);return}n.producerRecomputeValue(n),Es(n)}}function Jl(n){if(n.consumers===void 0)return;let t=Is;Is=!0;try{for(let e=n.consumers;e!==void 0;e=e.nextConsumer){let r=e.consumer;r.dirty||X4(r)}}finally{Is=t}}function eu(){return Xe?.consumerAllowSignalWrites!==!1}function X4(n){n.dirty=!0,Jl(n),n.consumerMarkedDirty?.(n)}function Es(n){n.dirty=!1,n.lastCleanEpoch=Yl}function Er(n){return n&&$p(n),U(n)}function $p(n){n.producersTail=void 0,n.recomputing=!0}function _o(n,t){U(t),n&&Gp(n)}function Gp(n){n.recomputing=!1;let t=n.producersTail,e=t!==void 0?t.nextProducer:n.producers;if(e!==void 0){if(Io(n))do e=tu(e);while(e!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function xo(n){for(let t=n.producers;t!==void 0;t=t.nextProducer){let e=t.producer,r=t.lastReadVersion;if(r!==e.version||(As(e),r!==e.version))return!0}return!1}function Lr(n){if(Io(n)){let t=n.producers;for(;t!==void 0;)t=tu(t)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Wp(n,t){let e=n.consumersTail,r=Io(n);if(e!==void 0?(t.nextConsumer=e.nextConsumer,e.nextConsumer=t):(t.nextConsumer=void 0,n.consumers=t),t.prevConsumer=e,n.consumersTail=t,!r)for(let o=n.producers;o!==void 0;o=o.nextProducer)Wp(o.producer,o)}function tu(n){let t=n.producer,e=n.nextProducer,r=n.nextConsumer,o=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!Io(t)){let i=t.producers;for(;i!==void 0;)i=tu(i)}return e}function Io(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Ts(n){K4?.(n)}function Q4(n,t){let e=t.producersTail;if(e!==void 0){let r=t.producers;do{if(r===n)return!0;if(r===e)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ps(n,t){return Object.is(n,t)}function Os(n,t){let e=Object.create(Y4);e.computation=n,t!==void 0&&(e.equal=t);let r=()=>{if(As(e),bo(e),e.value===Fi)throw e.error;return e.value};return r[Qe]=e,Ts(e),r}var Ss=Symbol("UNSET"),Ds=Symbol("COMPUTING"),Fi=Symbol("ERRORED"),Y4=B(b({},Dr),{value:Ss,dirty:!0,error:null,equal:Ps,kind:"computed",producerMustRecompute(n){return n.value===Ss||n.value===Ds},producerRecomputeValue(n){if(n.value===Ds)throw new Error("");let t=n.value;n.value=Ds;let e=Er(n),r,o=!1;try{r=n.computation(),U(null),o=t!==Ss&&t!==Fi&&r!==Fi&&n.equal(t,r)}catch(i){r=Fi,n.error=i}finally{_o(n,e)}if(o){n.value=t;return}n.value=r,n.version++}});function J4(){throw new Error}var Zp=J4;function Kp(n){Zp(n)}function nu(n){Zp=n}var eM=null;function ru(n,t){let e=Object.create(Rs);e.value=n,t!==void 0&&(e.equal=t);let r=()=>Xp(e);return r[Qe]=e,Ts(e),[r,a=>So(e,a),a=>ou(e,a)]}function Xp(n){return bo(n),n.value}function So(n,t){eu()||Kp(n),n.equal(n.value,t)||(n.value=t,tM(n))}function ou(n,t){eu()||Kp(n),So(n,t(n.value))}var Rs=B(b({},Dr),{equal:Ps,value:void 0,kind:"signal"});function tM(n){n.version++,Up(),Jl(n),eM?.(n)}function G(n){return typeof n=="function"}function Do(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Ns=Do(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function ji(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var De=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let i of e)i.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(i){t=i instanceof Ns?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Qp(i)}catch(a){t=t??[],a instanceof Ns?t=[...t,...a.errors]:t.push(a)}}if(t)throw new Ns(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Qp(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ji(e,t)}remove(t){let{_finalizers:e}=this;e&&ji(e,t),t instanceof n&&t._removeParent(this)}};De.EMPTY=(()=>{let n=new De;return n.closed=!0,n})();var iu=De.EMPTY;function Fs(n){return n instanceof De||n&&"closed"in n&&G(n.remove)&&G(n.add)&&G(n.unsubscribe)}function Qp(n){G(n)?n():n.unsubscribe()}var qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Eo={setTimeout(n,t,...e){let{delegate:r}=Eo;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=Eo;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function js(n){Eo.setTimeout(()=>{let{onUnhandledError:t}=qt;if(t)t(n);else throw n})}function Vi(){}var Yp=au("C",void 0,void 0);function Jp(n){return au("E",void 0,n)}function e2(n){return au("N",n,void 0)}function au(n,t,e){return{kind:n,value:t,error:e}}var Ar=null;function Lo(n){if(qt.useDeprecatedSynchronousErrorHandling){let t=!Ar;if(t&&(Ar={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=Ar;if(Ar=null,e)throw r}}else n()}function t2(n){qt.useDeprecatedSynchronousErrorHandling&&Ar&&(Ar.errorThrown=!0,Ar.error=n)}var Tr=class extends De{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Fs(t)&&t.add(this)):this.destination=oM}static create(t,e,r){return new Ao(t,e,r)}next(t){this.isStopped?cu(e2(t),this):this._next(t)}error(t){this.isStopped?cu(Jp(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?cu(Yp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nM=Function.prototype.bind;function su(n,t){return nM.call(n,t)}var du=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Vs(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Vs(r)}else Vs(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Vs(e)}}},Ao=class extends Tr{constructor(t,e,r){super();let o;if(G(t)||!t)o={next:t??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&qt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&su(t.next,i),error:t.error&&su(t.error,i),complete:t.complete&&su(t.complete,i)}):o=t}this.destination=new du(o)}};function Vs(n){qt.useDeprecatedSynchronousErrorHandling?t2(n):js(n)}function rM(n){throw n}function cu(n,t){let{onStoppedNotification:e}=qt;e&&Eo.setTimeout(()=>e(n,t))}var oM={closed:!0,next:Vi,error:rM,complete:Vi};var To=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Mt(n){return n}function lu(...n){return uu(n)}function uu(n){return n.length===0?Mt:n.length===1?n[0]:function(e){return n.reduce((r,o)=>o(r),e)}}var Q=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,o){let i=aM(e)?e:new Ao(e,r,o);return Lo(()=>{let{operator:a,source:s}=this;i.add(a?a.call(i,s):s?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=n2(r),new r((o,i)=>{let a=new Ao({next:s=>{try{e(s)}catch(c){i(c),a.unsubscribe()}},error:i,complete:o});this.subscribe(a)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[To](){return this}pipe(...e){return uu(e)(this)}toPromise(e){return e=n2(e),new e((r,o)=>{let i;this.subscribe(a=>i=a,a=>o(a),()=>r(i))})}}return n.create=t=>new n(t),n})();function n2(n){var t;return(t=n??qt.Promise)!==null&&t!==void 0?t:Promise}function iM(n){return n&&G(n.next)&&G(n.error)&&G(n.complete)}function aM(n){return n&&n instanceof Tr||iM(n)&&Fs(n)}function hu(n){return G(n?.lift)}function J(n){return t=>{if(hu(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Z(n,t,e,r,o){return new pu(n,t,e,r,o)}var pu=class extends Tr{constructor(t,e,r,o,i,a){super(t),this.onFinalize=i,this.shouldUnsubscribe=a,this._next=e?function(s){try{e(s)}catch(c){t.error(c)}}:super._next,this._error=o?function(s){try{o(s)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Po(){return J((n,t)=>{let e=null;n._refCount++;let r=Z(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let o=n._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var Oo=class extends Q{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,hu(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new De;let e=this.getSubject();t.add(this.source.subscribe(Z(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=De.EMPTY)}return t}refCount(){return Po()(this)}};var r2=Do(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ie=(()=>{class n extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Hs(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new r2}next(e){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:o,observers:i}=this;return r||o?iu:(this.currentObservers=null,i.push(e),new De(()=>{this.currentObservers=null,ji(i,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){let e=new Q;return e.source=this,e}}return n.create=(t,e)=>new Hs(t,e),n})(),Hs=class extends Ie{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:iu}};var Pe=class extends Ie{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var ut=new Q(n=>n.complete());function o2(n){return n&&G(n.schedule)}function i2(n){return n[n.length-1]}function zs(n){return G(i2(n))?n.pop():void 0}function Un(n){return o2(i2(n))?n.pop():void 0}ge();var Ws=n=>n&&typeof n.length=="number"&&typeof n!="function";function Zs(n){return G(n?.then)}function Ks(n){return G(n[To])}function Xs(n){return Symbol.asyncIterator&&G(n?.[Symbol.asyncIterator])}function Qs(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ys=lM();function Js(n){return G(n?.[Ys])}ge();function ec(n){return $s(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:o}=yield nn(e.read());if(o)return yield nn(void 0);yield yield nn(r)}}finally{e.releaseLock()}})}function tc(n){return G(n?.getReader)}function Ee(n){if(n instanceof Q)return n;if(n!=null){if(Ks(n))return uM(n);if(Ws(n))return hM(n);if(Zs(n))return pM(n);if(Xs(n))return E2(n);if(Js(n))return fM(n);if(tc(n))return yM(n)}throw Qs(n)}function uM(n){return new Q(t=>{let e=n[To]();if(G(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hM(n){return new Q(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function pM(n){return new Q(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,js)})}function fM(n){return new Q(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function E2(n){return new Q(t=>{gM(n,t).catch(e=>t.error(e))})}function yM(n){return E2(ec(n))}function gM(n,t){var e,r,o,i;return S(this,void 0,void 0,function*(){try{for(e=Gs(n);r=yield e.next(),!r.done;){let a=r.value;if(t.next(a),t.closed)return}}catch(a){o={error:a}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}t.complete()})}function ht(n,t,e,r=0,o=!1){let i=t.schedule(function(){e(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function nc(n,t=0){return J((e,r)=>{e.subscribe(Z(r,o=>ht(r,n,()=>r.next(o),t),()=>ht(r,n,()=>r.complete(),t),o=>ht(r,n,()=>r.error(o),t)))})}function rc(n,t=0){return J((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function L2(n,t){return Ee(n).pipe(rc(t),nc(t))}function A2(n,t){return Ee(n).pipe(rc(t),nc(t))}function T2(n,t){return new Q(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function P2(n,t){return new Q(e=>{let r;return ht(e,t,()=>{r=n[Ys](),ht(e,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(a){e.error(a);return}i?e.complete():e.next(o)},0,!0)}),()=>G(r?.return)&&r.return()})}function oc(n,t){if(!n)throw new Error("Iterable cannot be null");return new Q(e=>{ht(e,t,()=>{let r=n[Symbol.asyncIterator]();ht(e,t,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function O2(n,t){return oc(ec(n),t)}function R2(n,t){if(n!=null){if(Ks(n))return L2(n,t);if(Ws(n))return T2(n,t);if(Zs(n))return A2(n,t);if(Xs(n))return oc(n,t);if(Js(n))return P2(n,t);if(tc(n))return O2(n,t)}throw Qs(n)}function me(n,t){return t?R2(n,t):Ee(n)}function j(...n){let t=Un(n);return me(n,t)}function Ro(n,t){let e=G(n)?n:()=>n,r=o=>o.error(e());return new Q(t?o=>t.schedule(r,0,o):r)}function mu(n){return!!n&&(n instanceof Q||G(n.lift)&&G(n.subscribe))}var Cn=Do(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function K(n,t){return J((e,r)=>{let o=0;e.subscribe(Z(r,i=>{r.next(n.call(t,i,o++))}))})}var{isArray:mM}=Array;function kM(n,t){return mM(t)?n(...t):n(t)}function ic(n){return K(t=>kM(n,t))}var{isArray:vM}=Array,{getPrototypeOf:MM,prototype:wM,keys:CM}=Object;function ac(n){if(n.length===1){let t=n[0];if(vM(t))return{args:t,keys:null};if(bM(t)){let e=CM(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function bM(n){return n&&typeof n=="object"&&MM(n)===wM}function sc(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}function Hi(...n){let t=Un(n),e=zs(n),{args:r,keys:o}=ac(n);if(r.length===0)return me([],t);let i=new Q(_M(r,t,o?a=>sc(o,a):Mt));return e?i.pipe(ic(e)):i}function _M(n,t,e=Mt){return r=>{N2(t,()=>{let{length:o}=n,i=new Array(o),a=o,s=o;for(let c=0;c<o;c++)N2(t,()=>{let d=me(n[c],t),l=!1;d.subscribe(Z(r,u=>{i[c]=u,l||(l=!0,s--),s||r.next(e(i.slice()))},()=>{--a||r.complete()}))},r)},r)}}function N2(n,t,e){n?ht(e,n,t):t()}function F2(n,t,e,r,o,i,a,s){let c=[],d=0,l=0,u=!1,p=()=>{u&&!c.length&&!d&&t.complete()},h=C=>d<r?m(C):c.push(C),m=C=>{i&&t.next(C),d++;let w=!1;Ee(e(C,l++)).subscribe(Z(t,_=>{o?.(_),i?h(_):t.next(_)},()=>{w=!0},void 0,()=>{if(w)try{for(d--;c.length&&d<r;){let _=c.shift();a?ht(t,a,()=>m(_)):m(_)}p()}catch(_){t.error(_)}}))};return n.subscribe(Z(t,h,()=>{u=!0,p()})),()=>{s?.()}}function Se(n,t,e=1/0){return G(t)?Se((r,o)=>K((i,a)=>t(r,i,o,a))(Ee(n(r,o))),e):(typeof t=="number"&&(e=t),J((r,o)=>F2(r,o,n,e)))}function $n(n=1/0){return Se(Mt,n)}function j2(){return $n(1)}function No(...n){return j2()(me(n,Un(n)))}function zi(n){return new Q(t=>{Ee(n()).subscribe(t)})}function ku(...n){let t=zs(n),{args:e,keys:r}=ac(n),o=new Q(i=>{let{length:a}=e;if(!a){i.complete();return}let s=new Array(a),c=a,d=a;for(let l=0;l<a;l++){let u=!1;Ee(e[l]).subscribe(Z(i,p=>{u||(u=!0,d--),s[l]=p},()=>c--,void 0,()=>{(!c||!u)&&(d||i.next(r?sc(r,s):s),i.complete())}))}});return t?o.pipe(ic(t)):o}function pt(n,t){return J((e,r)=>{let o=0;e.subscribe(Z(r,i=>n.call(t,i,o++)&&r.next(i)))})}function bn(n){return J((t,e)=>{let r=null,o=!1,i;r=t.subscribe(Z(e,void 0,void 0,a=>{i=Ee(n(a,bn(n)(t))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function V2(n,t,e,r,o){return(i,a)=>{let s=e,c=t,d=0;i.subscribe(Z(a,l=>{let u=d++;c=s?n(c,l,u):(s=!0,l),r&&a.next(c)},o&&(()=>{s&&a.next(c),a.complete()})))}}function Gn(n,t){return G(t)?Se(n,t,1):Se(n,1)}function Wn(n){return J((t,e)=>{let r=!1;t.subscribe(Z(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function _n(n){return n<=0?()=>ut:J((t,e)=>{let r=0;t.subscribe(Z(e,o=>{++r<=n&&(e.next(o),n<=r&&e.complete())}))})}function cc(n=xM){return J((t,e)=>{let r=!1;t.subscribe(Z(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function xM(){return new Cn}function qi(n){return J((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function xn(n,t){let e=arguments.length>=2;return r=>r.pipe(n?pt((o,i)=>n(o,i,r)):Mt,_n(1),e?Wn(t):cc(()=>new Cn))}function Fo(n){return n<=0?()=>ut:J((t,e)=>{let r=[];t.subscribe(Z(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(let o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function vu(n,t){let e=arguments.length>=2;return r=>r.pipe(n?pt((o,i)=>n(o,i,r)):Mt,Fo(1),e?Wn(t):cc(()=>new Cn))}function Mu(n,t){return J(V2(n,t,arguments.length>=2,!0))}function wu(...n){let t=Un(n);return J((e,r)=>{(t?No(n,e,t):No(n,e)).subscribe(r)})}function it(n,t){return J((e,r)=>{let o=null,i=0,a=!1,s=()=>a&&!o&&r.complete();e.subscribe(Z(r,c=>{o?.unsubscribe();let d=0,l=i++;Ee(n(c,l)).subscribe(o=Z(r,u=>r.next(t?t(c,u,l,d++):u),()=>{o=null,s()}))},()=>{a=!0,s()}))})}function dc(n){return J((t,e)=>{Ee(n).subscribe(Z(e,()=>e.complete(),Vi)),!e.closed&&t.subscribe(e)})}function Ve(n,t,e){let r=G(n)||t||e?{next:n,error:t,complete:e}:n;return r?J((o,i)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;o.subscribe(Z(i,c=>{var d;(d=r.next)===null||d===void 0||d.call(r,c),i.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var d;s=!1,(d=r.error)===null||d===void 0||d.call(r,c),i.error(c)},()=>{var c,d;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Mt}function H2(n){let t=U(null);try{return n()}finally{U(t)}}var z2=B(b({},Dr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function q2(n){if(n.dirty=!1,n.version>0&&!xo(n))return;n.version++;let t=Er(n);try{n.cleanup(),n.fn()}finally{_o(n,t)}}var pc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",A=class extends Error{code;constructor(t,e){super(Dn(t,e)),this.code=t}};function IM(n){return`NG0${Math.abs(n)}`}function Dn(n,t){return`${IM(n)}${t?": "+t:""}`}var Wi=globalThis;function ae(n){for(let t in n)if(n[t]===ae)return t;throw Error("")}function $2(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Sn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Sn).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function Pu(n,t){return n?t?`${n} ${t}`:n:t||""}var SM=ae({__forward_ref__:ae});function bt(n){return n.__forward_ref__=bt,n.toString=function(){return Sn(this())},n}function Be(n){return Ou(n)?n():n}function Ou(n){return typeof n=="function"&&n.hasOwnProperty(SM)&&n.__forward_ref__===bt}function L(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function _t(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zi(n){return DM(n,fc)}function Ru(n){return Zi(n)!==null}function DM(n,t){return n.hasOwnProperty(t)&&n[t]||null}function EM(n){let t=n?.[fc]??null;return t||null}function bu(n){return n&&n.hasOwnProperty(uc)?n[uc]:null}var fc=ae({\u0275prov:ae}),uc=ae({\u0275inj:ae}),P=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=L({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Nu(n){return n&&!!n.\u0275providers}var Fu=ae({\u0275cmp:ae}),ju=ae({\u0275dir:ae}),Vu=ae({\u0275pipe:ae}),Hu=ae({\u0275mod:ae}),Ui=ae({\u0275fac:ae}),Vr=ae({__NG_ELEMENT_ID__:ae}),B2=ae({__NG_ENV_ID__:ae});function Hr(n){return typeof n=="string"?n:n==null?"":String(n)}function G2(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Hr(n)}var W2=ae({ngErrorCode:ae}),LM=ae({ngErrorMessage:ae}),AM=ae({ngTokenPath:ae});function zu(n,t){return Z2("",-200,t)}function yc(n,t){throw new A(-201,!1)}function Z2(n,t,e){let r=new A(t,n);return r[W2]=t,r[LM]=n,e&&(r[AM]=e),r}function TM(n){return n[W2]}var _u;function K2(){return _u}function wt(n){let t=_u;return _u=n,t}function qu(n,t,e){let r=Zi(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&8)return null;if(t!==void 0)return t;yc(n,"Injector")}var PM={},Or=PM,xu="__NG_DI_FLAG__",Iu=class{injector;constructor(t){this.injector=t}retrieve(t,e){let r=Rr(e)||0;try{return this.injector.get(t,r&8?null:Or,r)}catch(o){if(Co(o))return o;throw o}}};function OM(n,t=0){let e=xs();if(e===void 0)throw new A(-203,!1);if(e===null)return qu(n,void 0,t);{let r=RM(t),o=e.retrieve(n,r);if(Co(o)){if(r.optional)return null;throw o}return o}}function V(n,t=0){return(K2()||OM)(Be(n),t)}function M(n,t){return V(n,Rr(t))}function Rr(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function RM(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Su(n){let t=[];for(let e=0;e<n.length;e++){let r=Be(n[e]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let o,i=0;for(let a=0;a<r.length;a++){let s=r[a],c=NM(s);typeof c=="number"?c===-1?o=s.token:i|=c:o=s}t.push(V(o,i))}else t.push(V(r))}return t}function X2(n,t){return n[xu]=t,n.prototype[xu]=t,n}function NM(n){return n[xu]}function Nr(n,t){let e=n.hasOwnProperty(Ui);return e?n[Ui]:null}function Q2(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=t[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}function Y2(n){return n.flat(Number.POSITIVE_INFINITY)}function gc(n,t){n.forEach(e=>Array.isArray(e)?gc(e,t):t(e))}function Bu(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Ki(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function J2(n,t){let e=[];for(let r=0;r<n;r++)e.push(t);return e}function ef(n,t,e,r){let o=n.length;if(o==t)n.push(e,r);else if(o===1)n.push(r,n[0]),n[0]=e;else{for(o--,n.push(n[o-1],n[o]);o>t;){let i=o-2;n[o]=n[i],o--}n[t]=e,n[t+1]=r}}function tf(n,t,e){let r=Vo(n,t);return r>=0?n[r|1]=e:(r=~r,ef(n,r,t,e)),r}function mc(n,t){let e=Vo(n,t);if(e>=0)return n[e|1]}function Vo(n,t){return FM(n,t,1)}function FM(n,t,e){let r=0,o=n.length>>e;for(;o!==r;){let i=r+(o-r>>1),a=n[i<<e];if(t===a)return i<<e;a>t?o=i:r=i+1}return~(o<<e)}var Kn={},Ct=[],Xn=new P(""),Uu=new P("",-1),$u=new P(""),$i=class{get(t,e=Or){if(e===Or){let o=Z2("",-201);throw o.name="\u0275NotFound",o}return e}};function Gu(n){return n[Hu]||null}function En(n){return n[Fu]||null}function Wu(n){return n[ju]||null}function nf(n){return n[Vu]||null}function Xi(n){return{\u0275providers:n}}function kc(...n){return{\u0275providers:Zu(!0,n),\u0275fromNgModule:!0}}function Zu(n,...t){let e=[],r=new Set,o,i=a=>{e.push(a)};return gc(t,a=>{let s=a;hc(s,i,[],r)&&(o||=[],o.push(s))}),o!==void 0&&rf(o,i),e}function rf(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:o}=n[e];Ku(o,i=>{t(i,r)})}}function hc(n,t,e,r){if(n=Be(n),!n)return!1;let o=null,i=bu(n),a=!i&&En(n);if(!i&&!a){let c=n.ngModule;if(i=bu(c),i)o=c;else return!1}else{if(a&&!a.standalone)return!1;o=n}let s=r.has(o);if(a){if(s)return!1;if(r.add(o),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let d of c)hc(d,t,e,r)}}else if(i){if(i.imports!=null&&!s){r.add(o);let d;try{gc(i.imports,l=>{hc(l,t,e,r)&&(d||=[],d.push(l))})}finally{}d!==void 0&&rf(d,t)}if(!s){let d=Nr(o)||(()=>new o);t({provide:o,useFactory:d,deps:Ct},o),t({provide:$u,useValue:o,multi:!0},o),t({provide:Xn,useValue:()=>V(o),multi:!0},o)}let c=i.providers;if(c!=null&&!s){let d=n;Ku(c,l=>{t(l,d)})}}else return!1;return o!==n&&n.providers!==void 0}function Ku(n,t){for(let e of n)Nu(e)&&(e=e.\u0275providers),Array.isArray(e)?Ku(e,t):t(e)}var jM=ae({provide:String,useValue:ae});function of(n){return n!==null&&typeof n=="object"&&jM in n}function VM(n){return!!(n&&n.useExisting)}function HM(n){return!!(n&&n.useFactory)}function Fr(n){return typeof n=="function"}function af(n){return!!n.useClass}var Qi=new P(""),lc={},U2={},Cu;function Yi(){return Cu===void 0&&(Cu=new $i),Cu}var Oe=class{},jr=class extends Oe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,Eu(t,a=>this.processProvider(a)),this.records.set(Uu,jo(void 0,this)),o.has("environment")&&this.records.set(Oe,jo(void 0,this));let i=this.records.get(Qi);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get($u,Ct,{self:!0}))}retrieve(t,e){let r=Rr(e)||0;try{return this.get(t,Or,r)}catch(o){if(Co(o))return o;throw o}}destroy(){Bi(this),this._destroyed=!0;let t=U(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),U(t)}}onDestroy(t){return Bi(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Bi(this);let e=tn(this),r=wt(void 0),o;try{return t()}finally{tn(e),wt(r)}}get(t,e=Or,r){if(Bi(this),t.hasOwnProperty(B2))return t[B2](this);let o=Rr(r),i,a=tn(this),s=wt(void 0);try{if(!(o&4)){let d=this.records.get(t);if(d===void 0){let l=$M(t)&&Zi(t);l&&this.injectableDefInScope(l)?d=jo(Du(t),lc):d=null,this.records.set(t,d)}if(d!=null)return this.hydrate(t,d,o)}let c=o&2?Yi():this.parent;return e=o&8&&e===Or?null:e,c.get(t,e)}catch(c){let d=TM(c);throw d===-200||d===-201?new A(d,null):c}finally{wt(s),tn(a)}}resolveInjectorInitializers(){let t=U(null),e=tn(this),r=wt(void 0),o;try{let i=this.get(Xn,Ct,{self:!0});for(let a of i)a()}finally{tn(e),wt(r),U(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(Sn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Be(t);let e=Fr(t)?t:Be(t&&t.provide),r=qM(t);if(!Fr(t)&&t.multi===!0){let o=this.records.get(e);o||(o=jo(void 0,lc,!0),o.factory=()=>Su(o.multi),this.records.set(e,o)),e=t,o.multi.push(t)}this.records.set(e,r)}hydrate(t,e,r){let o=U(null);try{if(e.value===U2)throw zu(Sn(t));return e.value===lc&&(e.value=U2,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&UM(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{U(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=Be(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Du(n){let t=Zi(n),e=t!==null?t.factory:Nr(n);if(e!==null)return e;if(n instanceof P)throw new A(204,!1);if(n instanceof Function)return zM(n);throw new A(204,!1)}function zM(n){if(n.length>0)throw new A(204,!1);let e=EM(n);return e!==null?()=>e.factory(n):()=>new n}function qM(n){if(of(n))return jo(void 0,n.useValue);{let t=Xu(n);return jo(t,lc)}}function Xu(n,t,e){let r;if(Fr(n)){let o=Be(n);return Nr(o)||Du(o)}else if(of(n))r=()=>Be(n.useValue);else if(HM(n))r=()=>n.useFactory(...Su(n.deps||[]));else if(VM(n))r=(o,i)=>V(Be(n.useExisting),i!==void 0&&i&8?8:void 0);else{let o=Be(n&&(n.useClass||n.provide));if(BM(n))r=()=>new o(...Su(n.deps));else return Nr(o)||Du(o)}return r}function Bi(n){if(n.destroyed)throw new A(205,!1)}function jo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function BM(n){return!!n.deps}function UM(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function $M(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Eu(n,t){for(let e of n)Array.isArray(e)?Eu(e,t):e&&Nu(e)?Eu(e.\u0275providers,t):t(e)}function Je(n,t){let e;n instanceof jr?(Bi(n),e=n):e=new Iu(n);let r,o=tn(e),i=wt(void 0);try{return t()}finally{tn(o),wt(i)}}function sf(){return K2()!==void 0||xs()!=null}var Bt=0,q=1,z=2,He=3,Tt=4,at=5,Ho=6,zo=7,Ue=8,Qn=9,on=10,we=11,qo=12,Qu=13,zr=14,ft=15,Yn=16,qr=17,an=18,Ji=19,Yu=20,In=21,vc=22,Ln=23,xt=24,Br=25,ea=26,Re=27,cf=1;var Jn=7,ta=8,Ur=9,et=10;function sn(n){return Array.isArray(n)&&typeof n[cf]=="object"}function Ut(n){return Array.isArray(n)&&n[cf]===!0}function Ju(n){return(n.flags&4)!==0}function er(n){return n.componentOffset>-1}function na(n){return(n.flags&1)===1}function cn(n){return!!n.template}function Bo(n){return(n[z]&512)!==0}function $r(n){return(n[z]&256)===256}var df="svg",lf="math";function Pt(n){for(;Array.isArray(n);)n=n[Bt];return n}function e1(n,t){return Pt(t[n])}function $t(n,t){return Pt(t[n.index])}function ra(n,t){return n.data[t]}function uf(n,t){return n[t]}function Ot(n,t){let e=t[n];return sn(e)?e:e[Bt]}function hf(n){return(n[z]&4)===4}function Mc(n){return(n[z]&128)===128}function pf(n){return Ut(n[He])}function tr(n,t){return t==null?null:n[t]}function t1(n){n[qr]=0}function n1(n){n[z]&1024||(n[z]|=1024,Mc(n)&&nr(n))}function ff(n,t){for(;n>0;)t=t[zr],n--;return t}function oa(n){return!!(n[z]&9216||n[xt]?.dirty)}function wc(n){n[on].changeDetectionScheduler?.notify(8),n[z]&64&&(n[z]|=1024),oa(n)&&nr(n)}function nr(n){n[on].changeDetectionScheduler?.notify(0);let t=Zn(n);for(;t!==null&&!(t[z]&8192||(t[z]|=8192,!Mc(t)));)t=Zn(t)}function r1(n,t){if($r(n))throw new A(911,!1);n[In]===null&&(n[In]=[]),n[In].push(t)}function yf(n,t){if(n[In]===null)return;let e=n[In].indexOf(t);e!==-1&&n[In].splice(e,1)}function Zn(n){let t=n[He];return Ut(t)?t[He]:t}function o1(n){return n[zo]??=[]}function i1(n){return n.cleanup??=[]}function gf(n,t,e,r){let o=o1(t);o.push(e),n.firstCreatePass&&i1(n).push(r,o.length-1)}var W={lFrame:Af(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Lu=!1;function mf(){return W.lFrame.elementDepthCount}function kf(){W.lFrame.elementDepthCount++}function vf(){W.lFrame.elementDepthCount--}function a1(){return W.bindingsEnabled}function s1(){return W.skipHydrationRootTNode!==null}function Mf(n){return W.skipHydrationRootTNode===n}function wf(){W.skipHydrationRootTNode=null}function X(){return W.lFrame.lView}function ze(){return W.lFrame.tView}function D(n){return W.lFrame.contextLView=n,n[Ue]}function E(n){return W.lFrame.contextLView=null,n}function $e(){let n=c1();for(;n!==null&&n.type===64;)n=n.parent;return n}function c1(){return W.lFrame.currentTNode}function Cf(){let n=W.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Uo(n,t){let e=W.lFrame;e.currentTNode=n,e.isParent=t}function d1(){return W.lFrame.isParent}function l1(){W.lFrame.isParent=!1}function bf(){return W.lFrame.contextLView}function u1(){return Lu}function $o(n){let t=Lu;return Lu=n,t}function _f(){return W.lFrame.bindingIndex}function xf(n){return W.lFrame.bindingIndex=n}function Go(){return W.lFrame.bindingIndex++}function h1(n){let t=W.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function If(){return W.lFrame.inI18n}function Sf(n,t){let e=W.lFrame;e.bindingIndex=e.bindingRootIndex=n,Cc(t)}function Df(){return W.lFrame.currentDirectiveIndex}function Cc(n){W.lFrame.currentDirectiveIndex=n}function Ef(n){let t=W.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function p1(){return W.lFrame.currentQueryIndex}function bc(n){W.lFrame.currentQueryIndex=n}function GM(n){let t=n[q];return t.type===2?t.declTNode:t.type===1?n[at]:null}function f1(n,t,e){if(e&4){let o=t,i=n;for(;o=o.parent,o===null&&!(e&1);)if(o=GM(i),o===null||(i=i[zr],o.type&10))break;if(o===null)return!1;t=o,n=i}let r=W.lFrame=Lf();return r.currentTNode=t,r.lView=n,!0}function _c(n){let t=Lf(),e=n[q];W.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Lf(){let n=W.lFrame,t=n===null?null:n.child;return t===null?Af(n):t}function Af(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function Tf(){let n=W.lFrame;return W.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var y1=Tf;function xc(){let n=Tf();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Pf(n){return(W.lFrame.contextLView=ff(n,W.lFrame.contextLView))[Ue]}function rr(){return W.lFrame.selectedIndex}function or(n){W.lFrame.selectedIndex=n}function Ic(){let n=W.lFrame;return ra(n.tView,n.selectedIndex)}function Of(){return W.lFrame.currentNamespace}var Rf=!0;function Sc(){return Rf}function Dc(n){Rf=n}function Au(n,t=null,e=null,r){let o=g1(n,t,e,r);return o.resolveInjectorInitializers(),o}function g1(n,t=null,e=null,r,o=new Set){let i=[e||Ct,kc(n)];return r=r||(typeof n=="object"?void 0:Sn(n)),new jr(i,t||Yi(),r||null,o)}var Ye=class n{static THROW_IF_NOT_FOUND=Or;static NULL=new $i;static create(t,e){if(Array.isArray(t))return Au({name:""},e,t,"");{let r=t.name??"";return Au({name:r},t.parent,t.providers,r)}}static \u0275prov=L({token:n,providedIn:"any",factory:()=>V(Uu)});static __NG_ELEMENT_ID__=-1},Le=new P(""),Gt=(()=>{class n{static __NG_ELEMENT_ID__=WM;static __NG_ENV_ID__=e=>e}return n})(),Gi=class extends Gt{_lView;constructor(t){super(),this._lView=t}get destroyed(){return $r(this._lView)}onDestroy(t){let e=this._lView;return r1(e,t),()=>yf(e,t)}};function WM(){return new Gi(X())}var At=class{_console=console;handleError(t){this._console.error("ERROR",t)}},It=new P("",{providedIn:"root",factory:()=>{let n=M(Oe),t;return e=>{n.destroyed&&!t?setTimeout(()=>{throw e}):(t??=n.get(At),t.handleError(e))}}}),Nf={provide:Xn,useValue:()=>void M(At),multi:!0};function m1(n){return typeof n=="function"&&n[Qe]!==void 0}function Ge(n,t){let[e,r,o]=ru(n,t?.equal),i=e,a=i[Qe];return i.set=r,i.update=o,i.asReadonly=k1.bind(i),i}function k1(){let n=this[Qe];if(n.readonlyFn===void 0){let t=()=>this();t[Qe]=n,n.readonlyFn=t}return n.readonlyFn}function v1(n){return m1(n)&&typeof n.set=="function"}var Wo=(()=>{class n{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=ZM}return n})();function ZM(){return new Wo(X(),$e())}var rn=class{},Ec=new P("",{providedIn:"root",factory:()=>!1});var M1=new P(""),w1=new P(""),An=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Pe(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Q(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})();function Gr(...n){}var ia=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new Tu})}return n})(),Tu=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let e=t.zone,r=this.queues.get(e);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[e,r]of this.queues)e===null?t||=this.flushQueue(r):t||=e.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,e=!0,r.run());return e}};function Jo(n){return{toString:n}.toString()}var Lc="__parameters__";function r5(n){return function(...e){if(n){let r=n(...e);for(let o in r)this[o]=r[o]}}}function o5(n,t,e){return Jo(()=>{let r=r5(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;let a=new o(...i);return s.annotation=a,s;function s(c,d,l){let u=c.hasOwnProperty(Lc)?c[Lc]:Object.defineProperty(c,Lc,{value:[]})[Lc];for(;u.length<=l;)u.push(null);return(u[l]=u[l]||[]).push(a),c}}return o.prototype.ngMetadataName=n,o.annotationCls=o,o})}var rh=X2(o5("Optional"),8);function i5(n){return typeof n=="function"}var Fc=class{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function yy(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}var Rt=(()=>{let n=()=>gy;return n.ngInherit=!0,n})();function gy(n){return n.type.prototype.ngOnChanges&&(n.setInput=s5),a5}function a5(){let n=ky(this),t=n?.current;if(t){let e=n.previous;if(e===Kn)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function s5(n,t,e,r,o){let i=this.declaredInputs[r],a=ky(n)||c5(n,{previous:Kn,current:null}),s=a.current||(a.current={}),c=a.previous,d=c[i];s[i]=new Fc(d&&d.currentValue,e,c===Kn),yy(n,t,o,e)}var my="__ngSimpleChanges__";function ky(n){return n[my]||null}function c5(n,t){return n[my]=t}var Ff=[];var se=function(n,t=null,e){for(let r=0;r<Ff.length;r++){let o=Ff[r];o(n,t,e)}};function d5(n,t,e){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let a=gy(t);(e.preOrderHooks??=[]).push(n,a),(e.preOrderCheckHooks??=[]).push(n,a)}o&&(e.preOrderHooks??=[]).push(0-n,o),i&&((e.preOrderHooks??=[]).push(n,i),(e.preOrderCheckHooks??=[]).push(n,i))}function vy(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let i=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:l}=i;a&&(n.contentHooks??=[]).push(-e,a),s&&((n.contentHooks??=[]).push(e,s),(n.contentCheckHooks??=[]).push(e,s)),c&&(n.viewHooks??=[]).push(-e,c),d&&((n.viewHooks??=[]).push(e,d),(n.viewCheckHooks??=[]).push(e,d)),l!=null&&(n.destroyHooks??=[]).push(e,l)}}function Pc(n,t,e){My(n,t,3,e)}function Oc(n,t,e,r){(n[z]&3)===e&&My(n,t,e,r)}function C1(n,t){let e=n[z];(e&3)===t&&(e&=16383,e+=1,n[z]=e)}function My(n,t,e,r){let o=r!==void 0?n[qr]&65535:0,i=r??-1,a=t.length-1,s=0;for(let c=o;c<a;c++)if(typeof t[c+1]=="number"){if(s=t[c],r!=null&&s>=r)break}else t[c]<0&&(n[qr]+=65536),(s<i||i==-1)&&(l5(n,e,t,c),n[qr]=(n[qr]&4294901760)+c+2),c++}function jf(n,t){se(4,n,t);let e=U(null);try{t.call(n)}finally{U(e),se(5,n,t)}}function l5(n,t,e,r){let o=e[r]<0,i=e[r+1],a=o?-e[r]:e[r],s=n[a];o?n[z]>>14<n[qr]>>16&&(n[z]&3)===t&&(n[z]+=16384,jf(s,i)):jf(s,i)}var Ko=-1,Zr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=e,this.injectImpl=r}};function u5(n){return(n.flags&8)!==0}function h5(n){return(n.flags&16)!==0}function p5(n,t,e){let r=0;for(;r<e.length;){let o=e[r];if(typeof o=="number"){if(o!==0)break;r++;let i=e[r++],a=e[r++],s=e[r++];n.setAttribute(t,a,s,i)}else{let i=o,a=e[++r];f5(i)?n.setProperty(t,i,a):n.setAttribute(t,i,a),r++}}return r}function wy(n){return n===3||n===4||n===6}function f5(n){return n.charCodeAt(0)===64}function ca(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?e=o:e===0||(e===-1||e===2?Vf(n,e,o,null,t[++r]):Vf(n,e,o,null,null))}}return n}function Vf(n,t,e,r,o){let i=0,a=n.length;if(t===-1)a=-1;else for(;i<n.length;){let s=n[i++];if(typeof s=="number"){if(s===t){a=-1;break}else if(s>t){a=i-1;break}}}for(;i<n.length;){let s=n[i];if(typeof s=="number")break;if(s===e){o!==null&&(n[i+1]=o);return}i++,o!==null&&i++}a!==-1&&(n.splice(a,0,t),i=a+1),n.splice(i++,0,e),o!==null&&n.splice(i++,0,o)}function Cy(n){return n!==Ko}function jc(n){return n&32767}function y5(n){return n>>16}function Vc(n,t){let e=y5(n),r=t;for(;e>0;)r=r[zr],e--;return r}var T1=!0;function Hf(n){let t=T1;return T1=n,t}var g5=256,by=g5-1,_y=5,m5=0,dn={};function k5(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Vr)&&(r=e[Vr]),r==null&&(r=e[Vr]=m5++);let o=r&by,i=1<<o;t.data[n+(o>>_y)]|=i}function Hc(n,t){let e=xy(n,t);if(e!==-1)return e;let r=t[q];r.firstCreatePass&&(n.injectorIndex=t.length,b1(r.data,n),b1(t,null),b1(r.blueprint,null));let o=oh(n,t),i=n.injectorIndex;if(Cy(o)){let a=jc(o),s=Vc(o,t),c=s[q].data;for(let d=0;d<8;d++)t[i+d]=s[a+d]|c[a+d]}return t[i+8]=o,i}function b1(n,t){n.push(0,0,0,0,0,0,0,0,t)}function xy(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function oh(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,o=t;for(;o!==null;){if(r=Ly(o),r===null)return Ko;if(e++,o=o[zr],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Ko}function P1(n,t,e){k5(n,t,e)}function v5(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,o=0;for(;o<r;){let i=e[o];if(wy(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof e[o]=="string";)o++;else{if(i===t)return e[o+1];o=o+2}}}return null}function Iy(n,t,e){if(e&8||n!==void 0)return n;yc(t,"NodeInjector")}function Sy(n,t,e,r){if(e&8&&r===void 0&&(r=null),(e&3)===0){let o=n[Qn],i=wt(void 0);try{return o?o.get(t,r,e&8):qu(t,r,e&8)}finally{wt(i)}}return Iy(r,t,e)}function Dy(n,t,e,r=0,o){if(n!==null){if(t[z]&2048&&!(r&2)){let a=b5(n,t,e,r,dn);if(a!==dn)return a}let i=Ey(n,t,e,r,dn);if(i!==dn)return i}return Sy(t,e,r,o)}function Ey(n,t,e,r,o){let i=w5(e);if(typeof i=="function"){if(!f1(t,n,r))return r&1?Iy(o,e,r):Sy(t,e,r,o);try{let a;if(a=i(r),a==null&&!(r&8))yc(e);else return a}finally{y1()}}else if(typeof i=="number"){let a=null,s=xy(n,t),c=Ko,d=r&1?t[ft][at]:null;for((s===-1||r&4)&&(c=s===-1?oh(n,t):t[s+8],c===Ko||!qf(r,!1)?s=-1:(a=t[q],s=jc(c),t=Vc(c,t)));s!==-1;){let l=t[q];if(zf(i,s,l.data)){let u=M5(s,t,e,a,r,d);if(u!==dn)return u}c=t[s+8],c!==Ko&&qf(r,t[q].data[s+8]===d)&&zf(i,s,t)?(a=l,s=jc(c),t=Vc(c,t)):s=-1}}return o}function M5(n,t,e,r,o,i){let a=t[q],s=a.data[n+8],c=r==null?er(s)&&T1:r!=a&&(s.type&3)!==0,d=o&1&&i===s,l=Rc(s,a,e,c,d);return l!==null?da(t,a,l,s,o):dn}function Rc(n,t,e,r,o){let i=n.providerIndexes,a=t.data,s=i&1048575,c=n.directiveStart,d=n.directiveEnd,l=i>>20,u=r?s:s+l,p=o?s+l:d;for(let h=u;h<p;h++){let m=a[h];if(h<c&&e===m||h>=c&&m.type===e)return h}if(o){let h=a[c];if(h&&cn(h)&&h.type===e)return c}return null}function da(n,t,e,r,o){let i=n[e],a=t.data;if(i instanceof Zr){let s=i;if(s.resolving){let h=G2(a[e]);throw zu(h)}let c=Hf(s.canSeeViewProviders);s.resolving=!0;let d=a[e].type||a[e],l,u=s.injectImpl?wt(s.injectImpl):null,p=f1(n,r,0);try{i=n[e]=s.factory(void 0,o,a,n,r),t.firstCreatePass&&e>=r.directiveStart&&d5(e,a[e],t)}finally{u!==null&&wt(u),Hf(c),s.resolving=!1,y1()}}return i}function w5(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Vr)?n[Vr]:void 0;return typeof t=="number"?t>=0?t&by:C5:t}function zf(n,t,e){let r=1<<n;return!!(e[t+(n>>_y)]&r)}function qf(n,t){return!(n&2)&&!(n&1&&t)}var Wr=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return Dy(this._tNode,this._lView,t,Rr(r),e)}};function C5(){return new Wr($e(),X())}function Zt(n){return Jo(()=>{let t=n.prototype.constructor,e=t[Ui]||O1(t),r=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){let i=o[Ui]||O1(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function O1(n){return Ou(n)?()=>{let t=O1(Be(n));return t&&t()}:Nr(n)}function b5(n,t,e,r,o){let i=n,a=t;for(;i!==null&&a!==null&&a[z]&2048&&!Bo(a);){let s=Ey(i,a,e,r|2,dn);if(s!==dn)return s;let c=i.parent;if(!c){let d=a[Yu];if(d){let l=d.get(e,dn,r);if(l!==dn)return l}c=Ly(a),a=a[zr]}i=c}return o}function Ly(n){let t=n[q],e=t.type;return e===2?t.declTNode:e===1?n[at]:null}function pa(n){return v5($e(),n)}function _5(){return ei($e(),X())}function ei(n,t){return new We($t(n,t))}var We=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=_5}return n})();function x5(n){return n instanceof We?n.nativeElement:n}function I5(){return this._results[Symbol.iterator]()}var zc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ie}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let r=Y2(t);(this._changesDetected=!Q2(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=I5};function Ay(n){return(n.flags&128)===128}var ih=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(ih||{}),Ty=new Map,S5=0;function D5(){return S5++}function E5(n){Ty.set(n[Ji],n)}function R1(n){Ty.delete(n[Ji])}var Bf="__ngContext__";function Xo(n,t){sn(t)?(n[Bf]=t[Ji],E5(t)):n[Bf]=t}function Py(n){return Ry(n[qo])}function Oy(n){return Ry(n[Tt])}function Ry(n){for(;n!==null&&!Ut(n);)n=n[Tt];return n}var N1;function ah(n){N1=n}function Ny(){if(N1!==void 0)return N1;if(typeof document<"u")return document;throw new A(210,!1)}var td=new P("",{providedIn:"root",factory:()=>L5}),L5="ng",nd=new P(""),ti=new P("",{providedIn:"platform",factory:()=>"unknown"});var rd=new P("",{providedIn:"root",factory:()=>Ny().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var A5="h",T5="b";var Fy=!1,jy=new P("",{providedIn:"root",factory:()=>Fy});var sh=new P("");var P5=(n,t,e,r)=>{};function O5(n,t,e,r){P5(n,t,e,r)}function od(n){return(n.flags&32)===32}var R5=()=>null;function Vy(n,t,e=!1){return R5(n,t,e)}function Hy(n,t){let e=n.contentQueries;if(e!==null){let r=U(null);try{for(let o=0;o<e.length;o+=2){let i=e[o],a=e[o+1];if(a!==-1){let s=n.data[a];bc(i),s.contentQueries(2,t[a],a)}}}finally{U(r)}}}function F1(n,t,e){bc(0);let r=U(null);try{t(n,e)}finally{U(r)}}function zy(n,t,e){if(Ju(t)){let r=U(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let a=o;a<i;a++){let s=n.data[a];if(s.contentQueries){let c=e[a];s.contentQueries(1,c,a)}}}finally{U(r)}}}var Tn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Tn||{});var Ac;function N5(){if(Ac===void 0&&(Ac=null,Wi.trustedTypes))try{Ac=Wi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ac}function Uf(n){return N5()?.createScriptURL(n)||n}var qc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pc})`}};function fa(n){return n instanceof qc?n.changingThisBreaksApplicationSecurity:n}function ch(n,t){let e=qy(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${pc})`)}return e===t}function qy(n){return n instanceof qc&&n.getTypeName()||null}var F5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function By(n){return n=String(n),n.match(F5)?n:"unsafe:"+n}var id=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(id||{});function Uy(n){let t=Gy();return t?t.sanitize(id.URL,n)||"":ch(n,"URL")?fa(n):By(Hr(n))}function $y(n){let t=Gy();if(t)return Uf(t.sanitize(id.RESOURCE_URL,n)||"");if(ch(n,"ResourceURL"))return Uf(fa(n));throw new A(904,!1)}function j5(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?$y:Uy}function dh(n,t,e){return j5(t,e)(n)}function Gy(){let n=X();return n&&n[on].sanitizer}function Wy(n){return n instanceof Function?n():n}function V5(n,t,e){let r=n.length;for(;;){let o=n.indexOf(t,e);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}e=o+1}}var Zy="ng-template";function H5(n,t,e,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&V5(t[o+1].toLowerCase(),e,0)!==-1)return!0}else if(lh(n))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===e)return!0}return!1}function lh(n){return n.type===4&&n.value!==Zy}function z5(n,t,e){let r=n.type===4&&!e?Zy:n.value;return t===r}function q5(n,t,e){let r=4,o=n.attrs,i=o!==null?$5(o):0,a=!1;for(let s=0;s<t.length;s++){let c=t[s];if(typeof c=="number"){if(!a&&!Wt(r)&&!Wt(c))return!1;if(a&&Wt(c))continue;a=!1,r=c|r&1;continue}if(!a)if(r&4){if(r=2|r&1,c!==""&&!z5(n,c,e)||c===""&&t.length===1){if(Wt(r))return!1;a=!0}}else if(r&8){if(o===null||!H5(n,o,c,e)){if(Wt(r))return!1;a=!0}}else{let d=t[++s],l=B5(c,o,lh(n),e);if(l===-1){if(Wt(r))return!1;a=!0;continue}if(d!==""){let u;if(l>i?u="":u=o[l+1].toLowerCase(),r&2&&d!==u){if(Wt(r))return!1;a=!0}}}}return Wt(r)||a}function Wt(n){return(n&1)===0}function B5(n,t,e,r){if(t===null)return-1;let o=0;if(r||!e){let i=!1;for(;o<t.length;){let a=t[o];if(a===n)return o;if(a===3||a===6)i=!0;else if(a===1||a===2){let s=t[++o];for(;typeof s=="string";)s=t[++o];continue}else{if(a===4)break;if(a===0){o+=4;continue}}o+=i?1:2}return-1}else return G5(t,n)}function Ky(n,t,e=!1){for(let r=0;r<t.length;r++)if(q5(n,t[r],e))return!0;return!1}function U5(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if((e&1)===0)return t[e+1]}return null}function $5(n){for(let t=0;t<n.length;t++){let e=n[t];if(wy(e))return t}return n.length}function G5(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function W5(n,t){e:for(let e=0;e<t.length;e++){let r=t[e];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function $f(n,t){return n?":not("+t.trim()+")":t}function Z5(n){let t=n[0],e=1,r=2,o="",i=!1;for(;e<n.length;){let a=n[e];if(typeof a=="string")if(r&2){let s=n[++e];o+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?o+="."+a:r&4&&(o+=" "+a);else o!==""&&!Wt(a)&&(t+=$f(i,o),o=""),r=a,i=i||!Wt(r);e++}return o!==""&&(t+=$f(i,o)),t}function K5(n){return n.map(Z5).join(",")}function X5(n){let t=[],e=[],r=1,o=2;for(;r<n.length;){let i=n[r];if(typeof i=="string")o===2?i!==""&&t.push(i,n[++r]):o===8&&e.push(i);else{if(!Wt(o))break;o=i}r++}return e.length&&t.push(1,...e),t}var Kt={};function Q5(n,t){return n.createText(t)}function Y5(n,t,e){n.setValue(t,e)}function Xy(n,t,e){return n.createElement(t,e)}function Bc(n,t,e,r,o){n.insertBefore(t,e,r,o)}function Qy(n,t,e){n.appendChild(t,e)}function Gf(n,t,e,r,o){r!==null?Bc(n,t,e,r,o):Qy(n,t,e)}function J5(n,t,e,r){n.removeChild(null,t,e,r)}function e3(n,t,e){n.setAttribute(t,"style",e)}function t3(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Yy(n,t,e){let{mergedAttrs:r,classes:o,styles:i}=e;r!==null&&p5(n,t,r),o!==null&&t3(n,t,o),i!==null&&e3(n,t,i)}function uh(n,t,e,r,o,i,a,s,c,d,l){let u=Re+r,p=u+o,h=n3(u,p),m=typeof d=="function"?d():d;return h[q]={type:n,blueprint:h,template:e,queries:null,viewQuery:s,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:l}}function n3(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:Kt);return e}function r3(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=uh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function hh(n,t,e,r,o,i,a,s,c,d,l){let u=t.blueprint.slice();return u[Bt]=o,u[z]=r|4|128|8|64|1024,(d!==null||n&&n[z]&2048)&&(u[z]|=2048),t1(u),u[He]=u[zr]=n,u[Ue]=e,u[on]=a||n&&n[on],u[we]=s||n&&n[we],u[Qn]=c||n&&n[Qn]||null,u[at]=i,u[Ji]=D5(),u[Ho]=l,u[Yu]=d,u[ft]=t.type==2?n[ft]:u,u}function o3(n,t,e){let r=$t(t,n),o=r3(e),i=n[on].rendererFactory,a=ph(n,hh(n,o,null,Jy(e),r,t,null,i.createRenderer(r,e),null,null,null));return n[t.index]=a}function Jy(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function eg(n,t,e,r){if(e===0)return-1;let o=t.length;for(let i=0;i<e;i++)t.push(r),n.blueprint.push(r),n.data.push(null);return o}function ph(n,t){return n[qo]?n[Qu][Tt]=t:n[qo]=t,n[Qu]=t,t}function v(n=1){tg(ze(),X(),rr()+n,!1)}function tg(n,t,e,r){if(!r)if((t[z]&3)===3){let i=n.preOrderCheckHooks;i!==null&&Pc(t,i,e)}else{let i=n.preOrderHooks;i!==null&&Oc(t,i,0,e)}or(e)}var ad=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(ad||{});function j1(n,t,e,r){let o=U(null);try{let[i,a,s]=n.inputs[e],c=null;(a&ad.SignalBased)!==0&&(c=t[i][Qe]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(t,r)),n.setInput!==null?n.setInput(t,c,r,e,i):yy(t,c,i,r)}finally{U(o)}}var ln=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(ln||{}),i3;function fh(n,t){return i3(n,t)}var Qo=new Set,sd=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(sd||{}),Jr=new P(""),Wf=new Set;function Pn(n){Wf.has(n)||(Wf.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var ng=!1,V1=class extends Ie{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,sf()&&(this.destroyRef=M(Gt,{optional:!0})??void 0,this.pendingTasks=M(An,{optional:!0})??void 0)}emit(t){let e=U(null);try{super.next(t)}finally{U(e)}}subscribe(t,e,r){let o=t,i=e||(()=>null),a=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:o,error:i,complete:a});return t instanceof De&&t.add(s),s}wrapInTimeout(t){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},pe=V1;function rg(n){let t,e;function r(){n=Gr;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Zf(n){return queueMicrotask(()=>n()),()=>{n=Gr}}var yh="isAngularZone",Uc=yh+"_ID",a3=0,Ae=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new pe(!1);onMicrotaskEmpty=new pe(!1);onStable=new pe(!1);onError=new pe(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=ng}=t;if(typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&r,a.shouldCoalesceRunChangeDetection=o,a.callbackScheduled=!1,a.scheduleInRootZone=i,d3(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(yh)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new A(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,o){let i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+o,t,s3,Gr,Gr);try{return i.runTask(a,e,r)}finally{i.cancelTask(a)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},s3={};function gh(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function c3(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){rg(()=>{n.callbackScheduled=!1,H1(n),n.isCheckStableRunning=!0,gh(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),H1(n)}function d3(n){let t=()=>{c3(n)},e=a3++;n._inner=n._inner.fork({name:"angular",properties:{[yh]:!0,[Uc]:e,[Uc+e]:!0},onInvokeTask:(r,o,i,a,s,c)=>{if(l3(c))return r.invokeTask(i,a,s,c);try{return Kf(n),r.invokeTask(i,a,s,c)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),Xf(n)}},onInvoke:(r,o,i,a,s,c,d)=>{try{return Kf(n),r.invoke(i,a,s,c,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!u3(c)&&t(),Xf(n)}},onHasTask:(r,o,i,a)=>{r.hasTask(i,a),o===i&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,H1(n),gh(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,o,i,a)=>(r.handleError(i,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function H1(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Kf(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Xf(n){n._nesting--,gh(n)}var $c=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new pe;onMicrotaskEmpty=new pe;onStable=new pe;onError=new pe;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,o){return t.apply(e,r)}};function l3(n){return og(n,"__ignore_ng_zone__")}function u3(n){return og(n,"__scheduler_tick__")}function og(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var mh=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),ig=[0,1,2,3],ag=(()=>{class n{ngZone=M(Ae);scheduler=M(rn);errorHandler=M(At,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(Jr,{optional:!0})}execute(){let e=this.sequences.size>0;e&&se(16),this.executing=!0;for(let r of ig)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&se(17)}register(e){let{view:r}=e;r!==void 0?((r[Br]??=[]).push(e),nr(r),r[z]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(sd.AFTER_NEXT_RENDER,e):e()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),Gc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,o,i,a=null){this.impl=t,this.hooks=e,this.view=r,this.once=o,this.snapshot=a,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Br];t&&(this.view[Br]=t.filter(e=>e!==this))}};function ya(n,t){let e=t?.injector??M(Ye);return Pn("NgAfterNextRender"),p3(n,e,t,!0)}function h3(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function p3(n,t,e,r){let o=t.get(mh);o.impl??=t.get(ag);let i=t.get(Jr,null,{optional:!0}),a=e?.manualCleanup!==!0?t.get(Gt):null,s=t.get(Wo,null,{optional:!0}),c=new Gc(o.impl,h3(n),s?.view,r,a,i?.snapshot(null));return o.impl.register(c),c}var f3=new P("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function sg(n,t){let e=n.get(f3);if(Array.isArray(t))for(let r of t)e.queue.add(r);else e.queue.add(t);e.scheduler&&e.scheduler(n)}function y3(n,t){for(let[e,r]of t)sg(n,r.animateFns)}function Qf(n,t,e,r){let o=n?.[ea]?.enter;t!==null&&o&&o.has(e.index)&&y3(r,o)}function Zo(n,t,e,r,o,i,a,s){if(o!=null){let c,d=!1;Ut(o)?c=o:sn(o)&&(d=!0,o=o[Bt]);let l=Pt(o);n===0&&r!==null?(Qf(s,r,i,e),a==null?Qy(t,r,l):Bc(t,r,l,a||null,!0)):n===1&&r!==null?(Qf(s,r,i,e),Bc(t,r,l,a||null,!0)):n===2?Yf(s,i,e,u=>{J5(t,l,d,u)}):n===3&&Yf(s,i,e,()=>{t.destroyNode(l)}),c!=null&&I3(t,n,e,c,i,r,a)}}function g3(n,t){cg(n,t),t[Bt]=null,t[at]=null}function m3(n,t,e,r,o,i){r[Bt]=o,r[at]=t,cd(n,r,e,1,o,i)}function cg(n,t){t[on].changeDetectionScheduler?.notify(9),cd(n,t,t[we],2,null,null)}function k3(n){let t=n[qo];if(!t)return _1(n[q],n);for(;t;){let e=null;if(sn(t))e=t[qo];else{let r=t[et];r&&(e=r)}if(!e){for(;t&&!t[Tt]&&t!==n;)sn(t)&&_1(t[q],t),t=t[He];t===null&&(t=n),sn(t)&&_1(t[q],t),e=t&&t[Tt]}t=e}}function kh(n,t){let e=n[Ur],r=e.indexOf(t);e.splice(r,1)}function vh(n,t){if($r(t))return;let e=t[we];e.destroyNode&&cd(n,t,e,3,null,null),k3(t)}function _1(n,t){if($r(t))return;let e=U(null);try{t[z]&=-129,t[z]|=256,t[xt]&&Lr(t[xt]),w3(n,t),M3(n,t),t[q].type===1&&t[we].destroy();let r=t[Yn];if(r!==null&&Ut(t[He])){r!==t[He]&&kh(r,t);let o=t[an];o!==null&&o.detachView(n)}R1(t)}finally{U(e)}}function Yf(n,t,e,r){let o=n?.[ea];if(o==null||o.leave==null||!o.leave.has(t.index))return r(!1);if(o.skipLeaveAnimations)return o.skipLeaveAnimations=!1,r(!1);n&&Qo.add(n),sg(e,()=>{if(o.leave&&o.leave.has(t.index)){let a=o.leave.get(t.index),s=[];if(a)for(let c=0;c<a.animateFns.length;c++){let d=a.animateFns[c],{promise:l}=d();s.push(l)}o.running=Promise.allSettled(s),v3(n,r)}else n&&Qo.delete(n),r(!1)})}function v3(n,t){let e=n[ea]?.running;if(e){e.then(()=>{n[ea].running=void 0,Qo.delete(n),t(!0)});return}t(!1)}function M3(n,t){let e=n.cleanup,r=t[zo];if(e!==null)for(let a=0;a<e.length-1;a+=2)if(typeof e[a]=="string"){let s=e[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[e[a+1]];e[a].call(s)}r!==null&&(t[zo]=null);let o=t[In];if(o!==null){t[In]=null;for(let a=0;a<o.length;a++){let s=o[a];s()}}let i=t[Ln];if(i!==null){t[Ln]=null;for(let a of i)a.destroy()}}function w3(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let o=t[e[r]];if(!(o instanceof Zr)){let i=e[r+1];if(Array.isArray(i))for(let a=0;a<i.length;a+=2){let s=o[i[a]],c=i[a+1];se(4,s,c);try{c.call(s)}finally{se(5,s,c)}}else{se(4,o,i);try{i.call(o)}finally{se(5,o,i)}}}}}function dg(n,t,e){return C3(n,t.parent,e)}function C3(n,t,e){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return e[Bt];if(er(r)){let{encapsulation:o}=n.data[r.directiveStart+r.componentOffset];if(o===Tn.None||o===Tn.Emulated)return null}return $t(r,e)}function lg(n,t,e){return _3(n,t,e)}function b3(n,t,e){return n.type&40?$t(n,e):null}var _3=b3,Jf;function Mh(n,t,e,r){let o=dg(n,r,t),i=t[we],a=r.parent||t[at],s=lg(a,r,t);if(o!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)Gf(i,o,e[c],s,!1);else Gf(i,o,e,s,!1);Jf!==void 0&&Jf(i,r,t,e,o)}function aa(n,t){if(t!==null){let e=t.type;if(e&3)return $t(t,n);if(e&4)return z1(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return aa(n,r);{let o=n[t.index];return Ut(o)?z1(-1,o):Pt(o)}}else{if(e&128)return aa(n,t.next);if(e&32)return fh(t,n)()||Pt(n[t.index]);{let r=ug(n,t);if(r!==null){if(Array.isArray(r))return r[0];let o=Zn(n[ft]);return aa(o,r)}else return aa(n,t.next)}}}return null}function ug(n,t){if(t!==null){let r=n[ft][at],o=t.projection;return r.projection[o]}return null}function z1(n,t){let e=et+n+1;if(e<t.length){let r=t[e],o=r[q].firstChild;if(o!==null)return aa(r,o)}return t[Jn]}function wh(n,t,e,r,o,i,a){for(;e!=null;){let s=r[Qn];if(e.type===128){e=e.next;continue}let c=r[e.index],d=e.type;if(a&&t===0&&(c&&Xo(Pt(c),r),e.flags|=2),!od(e))if(d&8)wh(n,t,e.child,r,o,i,!1),Zo(t,n,s,o,c,e,i,r);else if(d&32){let l=fh(e,r),u;for(;u=l();)Zo(t,n,s,o,u,e,i,r);Zo(t,n,s,o,c,e,i,r)}else d&16?hg(n,t,r,e,o,i):Zo(t,n,s,o,c,e,i,r);e=a?e.projectionNext:e.next}}function cd(n,t,e,r,o,i){wh(e,r,n.firstChild,t,o,i,!1)}function x3(n,t,e){let r=t[we],o=dg(n,e,t),i=e.parent||t[at],a=lg(i,e,t);hg(r,0,t,e,o,a)}function hg(n,t,e,r,o,i){let a=e[ft],c=a[at].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let l=c[d];Zo(t,n,e[Qn],o,l,r,i,e)}else{let d=c,l=a[He];Ay(r)&&(d.flags|=128),wh(n,t,d,l,o,i,!0)}}function I3(n,t,e,r,o,i,a){let s=r[Jn],c=Pt(r);s!==c&&Zo(t,n,e,i,s,o,a);for(let d=et;d<r.length;d++){let l=r[d];cd(l[q],l,n,t,i,s)}}function S3(n,t,e,r,o){if(t)o?n.addClass(e,r):n.removeClass(e,r);else{let i=r.indexOf("-")===-1?void 0:ln.DashCase;o==null?n.removeStyle(e,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ln.Important),n.setStyle(e,r,o,i))}}function pg(n,t,e,r,o){let i=rr(),a=r&2;try{or(-1),a&&t.length>Re&&tg(n,t,Re,!1),se(a?2:0,o,e),e(r,o)}finally{or(i),se(a?3:1,o,e)}}function Ch(n,t,e){O3(n,t,e),(e.flags&64)===64&&R3(n,t,e)}function bh(n,t,e=$t){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let a=r[i+1],s=a===-1?e(t,n):n[a];n[o++]=s}}}function D3(n,t,e,r){let i=r.get(jy,Fy)||e===Tn.ShadowDom,a=n.selectRootElement(t,i);return E3(a),a}function E3(n){L3(n)}var L3=()=>null;function A3(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function fg(n,t,e,r,o,i){let a=t[q];if(_h(n,a,t,e,r)){er(n)&&P3(t,n.index);return}n.type&3&&(e=A3(e)),T3(n,t,e,r,o,i)}function T3(n,t,e,r,o,i){if(n.type&3){let a=$t(n,t);r=i!=null?i(r,n.value||"",e):r,o.setProperty(a,e,r)}else n.type&12}function P3(n,t){let e=Ot(t,n);e[z]&16||(e[z]|=64)}function O3(n,t,e){let r=e.directiveStart,o=e.directiveEnd;er(e)&&o3(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||Hc(e,t);let i=e.initialInputs;for(let a=r;a<o;a++){let s=n.data[a],c=da(t,n,a,e);if(Xo(c,t),i!==null&&V3(t,a-r,c,s,e,i),cn(s)){let d=Ot(e.index,t);d[Ue]=da(t,n,a,e)}}}function R3(n,t,e){let r=e.directiveStart,o=e.directiveEnd,i=e.index,a=Df();try{or(i);for(let s=r;s<o;s++){let c=n.data[s],d=t[s];Cc(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&N3(c,d)}}finally{or(-1),Cc(a)}}function N3(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function yg(n,t){let e=n.directiveRegistry,r=null;if(e)for(let o=0;o<e.length;o++){let i=e[o];Ky(t,i.selectors,!1)&&(r??=[],cn(i)?r.unshift(i):r.push(i))}return r}function F3(n,t,e,r,o,i){let a=$t(n,t);j3(t[we],a,i,n.value,e,r,o)}function j3(n,t,e,r,o,i,a){if(i==null)n.removeAttribute(t,o,e);else{let s=a==null?Hr(i):a(i,r||"",o);n.setAttribute(t,o,s,e)}}function V3(n,t,e,r,o,i){let a=i[t];if(a!==null)for(let s=0;s<a.length;s+=2){let c=a[s],d=a[s+1];j1(r,e,c,d)}}function H3(n,t,e,r,o){let i=Re+e,a=t[q],s=o(a,t,n,r,e);t[i]=s,Uo(n,!0);let c=n.type===2;return c?(Yy(t[we],s,n),(mf()===0||na(n))&&Xo(s,t),kf()):Xo(s,t),Sc()&&(!c||!od(n))&&Mh(a,t,s,n),n}function z3(n){let t=n;return d1()?l1():(t=t.parent,Uo(t,!1)),t}function q3(n,t){let e=n[Qn];if(!e)return;let r;try{r=e.get(It,null)}catch{r=null}r?.(t)}function _h(n,t,e,r,o){let i=n.inputs?.[r],a=n.hostDirectiveInputs?.[r],s=!1;if(a)for(let c=0;c<a.length;c+=2){let d=a[c],l=a[c+1],u=t.data[d];j1(u,e[d],l,o),s=!0}if(i)for(let c of i){let d=e[c],l=t.data[c];j1(l,d,r,o),s=!0}return s}function B3(n,t){let e=Ot(t,n),r=e[q];U3(r,e);let o=e[Bt];o!==null&&e[Ho]===null&&(e[Ho]=Vy(o,e[Qn])),se(18),xh(r,e,e[Ue]),se(19,e[Ue])}function U3(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function xh(n,t,e){_c(t);try{let r=n.viewQuery;r!==null&&F1(1,r,e);let o=n.template;o!==null&&pg(n,t,o,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[an]?.finishViewCreation(n),n.staticContentQueries&&Hy(n,t),n.staticViewQueries&&F1(2,n.viewQuery,e);let i=n.components;i!==null&&$3(t,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[z]&=-5,xc()}}function $3(n,t){for(let e=0;e<t.length;e++)B3(n,t[e])}function Ih(n,t,e,r){let o=U(null);try{let i=t.tView,s=n[z]&4096?4096:16,c=hh(n,i,e,s,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[t.index];c[Yn]=d;let l=n[an];return l!==null&&(c[an]=l.createEmbeddedView(i)),xh(i,c,e),c}finally{U(o)}}function Wc(n,t){return!t||t.firstChild===null||Ay(n)}function la(n,t,e,r,o=!1){for(;e!==null;){if(e.type===128){e=o?e.projectionNext:e.next;continue}let i=t[e.index];i!==null&&r.push(Pt(i)),Ut(i)&&gg(i,r);let a=e.type;if(a&8)la(n,t,e.child,r);else if(a&32){let s=fh(e,t),c;for(;c=s();)r.push(c)}else if(a&16){let s=ug(t,e);if(Array.isArray(s))r.push(...s);else{let c=Zn(t[ft]);la(c[q],c,s,r,!0)}}e=o?e.projectionNext:e.next}return r}function gg(n,t){for(let e=et;e<n.length;e++){let r=n[e],o=r[q].firstChild;o!==null&&la(r[q],r,o,t)}n[Jn]!==n[Bt]&&t.push(n[Jn])}function mg(n){if(n[Br]!==null){for(let t of n[Br])t.impl.addSequence(t);n[Br].length=0}}var kg=[];function G3(n){return n[xt]??W3(n)}function W3(n){let t=kg.pop()??Object.create(K3);return t.lView=n,t}function Z3(n){n.lView[xt]!==n&&(n.lView=null,kg.push(n))}var K3=B(b({},Dr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{nr(n.lView)},consumerOnSignalRead(){this.lView[xt]=this}});function X3(n){let t=n[xt]??Object.create(Q3);return t.lView=n,t}var Q3=B(b({},Dr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Zn(n.lView);for(;t&&!vg(t[q]);)t=Zn(t);t&&n1(t)},consumerOnSignalRead(){this.lView[xt]=this}});function vg(n){return n.type!==2}function Mg(n){if(n[Ln]===null)return;let t=!0;for(;t;){let e=!1;for(let r of n[Ln])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(n[z]&8192)}}var Y3=100;function wg(n,t=0){let r=n[on].rendererFactory,o=!1;o||r.begin?.();try{J3(n,t)}finally{o||r.end?.()}}function J3(n,t){let e=u1();try{$o(!0),q1(n,t);let r=0;for(;oa(n);){if(r===Y3)throw new A(103,!1);r++,q1(n,1)}}finally{$o(e)}}function ew(n,t,e,r){if($r(t))return;let o=t[z],i=!1,a=!1;_c(t);let s=!0,c=null,d=null;i||(vg(n)?(d=G3(t),c=Er(d)):Ls()===null?(s=!1,d=X3(t),c=Er(d)):t[xt]&&(Lr(t[xt]),t[xt]=null));try{t1(t),xf(n.bindingStartIndex),e!==null&&pg(n,t,e,2,r);let l=(o&3)===3;if(!i)if(l){let h=n.preOrderCheckHooks;h!==null&&Pc(t,h,null)}else{let h=n.preOrderHooks;h!==null&&Oc(t,h,0,null),C1(t,0)}if(a||tw(t),Mg(t),Cg(t,0),n.contentQueries!==null&&Hy(n,t),!i)if(l){let h=n.contentCheckHooks;h!==null&&Pc(t,h)}else{let h=n.contentHooks;h!==null&&Oc(t,h,1),C1(t,1)}rw(n,t);let u=n.components;u!==null&&_g(t,u,0);let p=n.viewQuery;if(p!==null&&F1(2,p,r),!i)if(l){let h=n.viewCheckHooks;h!==null&&Pc(t,h)}else{let h=n.viewHooks;h!==null&&Oc(t,h,2),C1(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[vc]){for(let h of t[vc])h();t[vc]=null}i||(mg(t),t[z]&=-73)}catch(l){throw i||nr(t),l}finally{d!==null&&(_o(d,c),s&&Z3(d)),xc()}}function Cg(n,t){for(let e=Py(n);e!==null;e=Oy(e))for(let r=et;r<e.length;r++){let o=e[r];bg(o,t)}}function tw(n){for(let t=Py(n);t!==null;t=Oy(t)){if(!(t[z]&2))continue;let e=t[Ur];for(let r=0;r<e.length;r++){let o=e[r];n1(o)}}}function nw(n,t,e){se(18);let r=Ot(t,n);bg(r,e),se(19,r[Ue])}function bg(n,t){Mc(n)&&q1(n,t)}function q1(n,t){let r=n[q],o=n[z],i=n[xt],a=!!(t===0&&o&16);if(a||=!!(o&64&&t===0),a||=!!(o&1024),a||=!!(i?.dirty&&xo(i)),a||=!1,i&&(i.dirty=!1),n[z]&=-9217,a)ew(r,n,r.template,n[Ue]);else if(o&8192){let s=U(null);try{Mg(n),Cg(n,1);let c=r.components;c!==null&&_g(n,c,1),mg(n)}finally{U(s)}}}function _g(n,t,e){for(let r=0;r<t.length;r++)nw(n,t[r],e)}function rw(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let o=e[r];if(o<0)or(~o);else{let i=o,a=e[++r],s=e[++r];Sf(a,i);let c=t[i];se(24,c),s(2,c),se(25,c)}}}finally{or(-1)}}function Sh(n,t){let e=u1()?64:1088;for(n[on].changeDetectionScheduler?.notify(t);n;){n[z]|=e;let r=Zn(n);if(Bo(n)&&!r)return n;n=r}return null}function xg(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function ow(n,t){let e=et+t;if(e<n.length)return n[e]}function Dh(n,t,e,r=!0){let o=t[q];if(aw(o,t,n,e),r){let a=z1(e,n),s=t[we],c=s.parentNode(n[Jn]);c!==null&&m3(o,n[at],s,t,c,a)}let i=t[Ho];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function iw(n,t){let e=Zc(n,t);return e!==void 0&&vh(e[q],e),e}function Zc(n,t){if(n.length<=et)return;let e=et+t,r=n[e];if(r){let o=r[Yn];o!==null&&o!==n&&kh(o,r),t>0&&(n[e-1][Tt]=r[Tt]);let i=Ki(n,et+t);g3(r[q],r);let a=i[an];a!==null&&a.detachView(i[q]),r[He]=null,r[Tt]=null,r[z]&=-129}return r}function aw(n,t,e,r){let o=et+r,i=e.length;r>0&&(e[o-1][Tt]=t),r<i-et?(t[Tt]=e[o],Bu(e,et+r,t)):(e.push(t),t[Tt]=null),t[He]=e;let a=t[Yn];a!==null&&e!==a&&Ig(a,t);let s=t[an];s!==null&&s.insertView(n),wc(t),t[z]|=128}function Ig(n,t){let e=n[Ur],r=t[He];if(sn(r))n[z]|=2;else{let o=r[He][ft];t[ft]!==o&&(n[z]|=2)}e===null?n[Ur]=[t]:e.push(t)}var ir=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,e=t[q];return la(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[Ue]}set context(t){this._lView[Ue]=t}get destroyed(){return $r(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[He];if(Ut(t)){let e=t[ta],r=e?e.indexOf(this):-1;r>-1&&(Zc(t,r),Ki(e,r))}this._attachedToViewContainer=!1}vh(this._lView[q],this._lView)}onDestroy(t){r1(this._lView,t)}markForCheck(){Sh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[z]&=-129}reattach(){wc(this._lView),this._lView[z]|=128}detectChanges(){this._lView[z]|=1024,wg(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Bo(this._lView),e=this._lView[Yn];e!==null&&!t&&kh(e,this._lView),cg(this._lView[q],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=t;let e=Bo(this._lView),r=this._lView[Yn];r!==null&&!e&&Ig(r,this._lView),wc(this._lView)}};var ar=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=sw;constructor(e,r,o){this._declarationLView=e,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,o){let i=Ih(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:r,dehydratedView:o});return new ir(i)}}return n})();function sw(){return dd($e(),X())}function dd(n,t){return n.type&4?new ar(t,n,ei(n,t)):null}function ga(n,t,e,r,o){let i=n.data[t];if(i===null)i=cw(n,t,e,r,o),If()&&(i.flags|=32);else if(i.type&64){i.type=e,i.value=r,i.attrs=o;let a=Cf();i.injectorIndex=a===null?-1:a.injectorIndex}return Uo(i,!0),i}function cw(n,t,e,r,o){let i=c1(),a=d1(),s=a?i:i&&i.parent,c=n.data[t]=lw(n,s,e,t,r,o);return dw(n,c,i,a),c}function dw(n,t,e,r){n.firstChild===null&&(n.firstChild=t),e!==null&&(r?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function lw(n,t,e,r,o,i){let a=t?t.injectorIndex:-1,s=0;return s1()&&(s|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var lA=new RegExp(`^(\\d+)*(${T5}|${A5})*(.*)`);var uw=()=>null,hw=()=>null;function B1(n,t){return uw(n,t)}function pw(n,t,e){return hw(n,t,e)}var Sg=class{},ld=class{},U1=class{resolveComponentFactory(t){throw new A(917,!1)}},ma=class{static NULL=new U1},Kr=class{},St=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>fw()}return n})();function fw(){let n=X(),t=$e(),e=Ot(t.index,n);return(sn(e)?e:n)[we]}var Dg=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>null})}return n})();var Nc={},$1=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){let o=this.injector.get(t,Nc,r);return o!==Nc||e===Nc?o:this.parentInjector.get(t,e,r)}};function ey(n,t,e){let r=e?n.styles:null,o=e?n.classes:null,i=0;if(t!==null)for(let a=0;a<t.length;a++){let s=t[a];if(typeof s=="number")i=s;else if(i==1)o=Pu(o,s);else if(i==2){let c=s,d=t[++a];r=Pu(r,c+": "+d+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=o:n.classesWithoutHost=o}function T(n,t=0){let e=X();if(e===null)return V(n,t);let r=$e();return Dy(r,e,Be(n),t)}function Eh(){let n="invalid";throw new Error(n)}function Eg(n,t,e,r,o){let i=r===null?null:{"":-1},a=o(n,e);if(a!==null){let s=a,c=null,d=null;for(let l of a)if(l.resolveHostDirectives!==null){[s,c,d]=l.resolveHostDirectives(a);break}mw(n,t,e,s,i,c,d)}i!==null&&r!==null&&yw(e,r,i)}function yw(n,t,e){let r=n.localNames=[];for(let o=0;o<t.length;o+=2){let i=e[t[o+1]];if(i==null)throw new A(-301,!1);r.push(t[o],i)}}function gw(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function mw(n,t,e,r,o,i,a){let s=r.length,c=!1;for(let p=0;p<s;p++){let h=r[p];!c&&cn(h)&&(c=!0,gw(n,e,p)),P1(Hc(e,t),n,h.type)}bw(e,n.data.length,s);for(let p=0;p<s;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let d=!1,l=!1,u=eg(n,t,s,null);s>0&&(e.directiveToIndex=new Map);for(let p=0;p<s;p++){let h=r[p];if(e.mergedAttrs=ca(e.mergedAttrs,h.hostAttrs),vw(n,e,t,u,h),Cw(u,h,o),a!==null&&a.has(h)){let[C,w]=a.get(h);e.directiveToIndex.set(h.type,[u,C+e.directiveStart,w+e.directiveStart])}else(i===null||!i.has(h))&&e.directiveToIndex.set(h.type,u);h.contentQueries!==null&&(e.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(e.flags|=64);let m=h.type.prototype;!d&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),d=!0),!l&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),l=!0),u++}kw(n,e,i)}function kw(n,t,e){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=n.data[r];if(e===null||!e.has(o))ty(0,t,o,r),ty(1,t,o,r),ry(t,r,!1);else{let i=e.get(o);ny(0,t,i,r),ny(1,t,i,r),ry(t,r,!0)}}}function ty(n,t,e,r){let o=n===0?e.inputs:e.outputs;for(let i in o)if(o.hasOwnProperty(i)){let a;n===0?a=t.inputs??={}:a=t.outputs??={},a[i]??=[],a[i].push(r),Lg(t,i)}}function ny(n,t,e,r){let o=n===0?e.inputs:e.outputs;for(let i in o)if(o.hasOwnProperty(i)){let a=o[i],s;n===0?s=t.hostDirectiveInputs??={}:s=t.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,i),Lg(t,a)}}function Lg(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function ry(n,t,e){let{attrs:r,inputs:o,hostDirectiveInputs:i}=n;if(r===null||!e&&o===null||e&&i===null||lh(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!e&&o.hasOwnProperty(c)){let d=o[c];for(let l of d)if(l===t){a??=[],a.push(c,r[s+1]);break}}else if(e&&i.hasOwnProperty(c)){let d=i[c];for(let l=0;l<d.length;l+=2)if(d[l]===t){a??=[],a.push(d[l+1],r[s+1]);break}}s+=2}n.initialInputs??=[],n.initialInputs.push(a)}function vw(n,t,e,r,o){n.data[r]=o;let i=o.factory||(o.factory=Nr(o.type,!0)),a=new Zr(i,cn(o),T,null);n.blueprint[r]=a,e[r]=a,Mw(n,t,r,eg(n,e,o.hostVars,Kt),o)}function Mw(n,t,e,r,o){let i=o.hostBindings;if(i){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let s=~t.index;ww(a)!=s&&a.push(s),a.push(e,r,i)}}function ww(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function Cw(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;cn(t)&&(e[""]=n)}}function bw(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Ag(n,t,e,r,o,i,a,s){let c=t[q],d=c.consts,l=tr(d,a),u=ga(c,n,e,r,l);return i&&Eg(c,t,u,tr(d,s),o),u.mergedAttrs=ca(u.mergedAttrs,u.attrs),u.attrs!==null&&ey(u,u.attrs,!1),u.mergedAttrs!==null&&ey(u,u.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,u),u}function Tg(n,t){vy(n,t),Ju(t)&&n.queries.elementEnd(t)}function Lh(n){return Og(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Pg(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function Og(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function sr(n,t,e){if(e===Kt)return!1;let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function _w(n,t,e,r){let o=sr(n,t,e);return sr(n,t+1,r)||o}function x1(n,t,e){return function r(o){let i=er(n)?Ot(n.index,t):t;Sh(i,5);let a=t[Ue],s=oy(t,a,e,o),c=r.__ngNextListenerFn__;for(;c;)s=oy(t,a,c,o)&&s,c=c.__ngNextListenerFn__;return s}}function oy(n,t,e,r){let o=U(null);try{return se(6,t,e),e(r)!==!1}catch(i){return q3(n,i),!1}finally{se(7,t,e),U(o)}}function xw(n,t,e,r,o,i,a,s){let c=na(n),d=!1,l=null;if(!r&&c&&(l=Sw(t,e,i,n.index)),l!==null){let u=l.__ngLastListenerFn__||l;u.__ngNextListenerFn__=a,l.__ngLastListenerFn__=a,d=!0}else{let u=$t(n,e),p=r?r(u):u;O5(e,p,i,s);let h=o.listen(p,i,s);if(!Iw(i)){let m=r?C=>r(Pt(C[n.index])):n.index;Rg(m,t,e,i,s,h,!1)}}return d}function Iw(n){return n.startsWith("animation")||n.startsWith("transition")}function Sw(n,t,e,r){let o=n.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let a=o[i];if(a===e&&o[i+1]===r){let s=t[zo],c=o[i+2];return s&&s.length>c?s[c]:null}typeof a=="string"&&(i+=2)}return null}function Rg(n,t,e,r,o,i,a){let s=t.firstCreatePass?i1(t):null,c=o1(e),d=c.length;c.push(o,i),s&&s.push(r,n,d,(d+1)*(a?-1:1))}function iy(n,t,e,r,o,i){let a=t[e],s=t[q],d=s.data[e].outputs[r],u=a[d].subscribe(i);Rg(n.index,s,t,o,i,u,!0)}var G1=Symbol("BINDING");var Kc=class extends ma{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=En(t);return new Xr(e,this.ngModule)}};function Dw(n){return Object.keys(n).map(t=>{let[e,r,o]=n[t],i={propName:e,templateName:t,isSignal:(r&ad.SignalBased)!==0};return o&&(i.transform=o),i})}function Ew(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function Lw(n,t,e){let r=t instanceof Oe?t:t?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new $1(e,r):e}function Aw(n){let t=n.get(Kr,null);if(t===null)throw new A(407,!1);let e=n.get(Dg,null),r=n.get(rn,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:r,ngReflect:!1}}function Tw(n,t){let e=Ng(n);return Xy(t,e,e==="svg"?df:e==="math"?lf:null)}function Ng(n){return(n.selectors[0][0]||"div").toLowerCase()}var Xr=class extends ld{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Dw(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Ew(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=K5(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,r,o,i,a){se(22);let s=U(null);try{let c=this.componentDef,d=Pw(r,c,a,i),l=Lw(c,o||this.ngModule,t),u=Aw(l),p=u.rendererFactory.createRenderer(null,c),h=r?D3(p,r,c.encapsulation,l):Tw(c,p),m=a?.some(ay)||i?.some(_=>typeof _!="function"&&_.bindings.some(ay)),C=hh(null,d,null,512|Jy(c),null,null,u,p,l,null,Vy(h,l,!0));C[Re]=h,_c(C);let w=null;try{let _=Ag(Re,C,2,"#host",()=>d.directiveRegistry,!0,0);Yy(p,h,_),Xo(h,C),Ch(d,C,_),zy(d,_,C),Tg(d,_),e!==void 0&&Rw(_,this.ngContentSelectors,e),w=Ot(_.index,C),C[Ue]=w[Ue],xh(d,C,null)}catch(_){throw w!==null&&R1(w),R1(C),_}finally{se(23),xc()}return new Xc(this.componentType,C,!!m)}finally{U(s)}}};function Pw(n,t,e,r){let o=n?["ng-version","20.3.9"]:X5(t.selectors[0]),i=null,a=null,s=0;if(e)for(let l of e)s+=l[G1].requiredVars,l.create&&(l.targetIdx=0,(i??=[]).push(l)),l.update&&(l.targetIdx=0,(a??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let u=r[l];if(typeof u!="function")for(let p of u.bindings){s+=p[G1].requiredVars;let h=l+1;p.create&&(p.targetIdx=h,(i??=[]).push(p)),p.update&&(p.targetIdx=h,(a??=[]).push(p))}}let c=[t];if(r)for(let l of r){let u=typeof l=="function"?l:l.type,p=Wu(u);c.push(p)}return uh(0,null,Ow(i,a),1,s,c,null,null,null,[o],null)}function Ow(n,t){return!n&&!t?null:e=>{if(e&1&&n)for(let r of n)r.create();if(e&2&&t)for(let r of t)r.update()}}function ay(n){let t=n[G1].kind;return t==="input"||t==="twoWay"}var Xc=class extends Sg{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,r){super(),this._rootLView=e,this._hasInputBindings=r,this._tNode=ra(e[q],Re),this.location=ei(this._tNode,e),this.instance=Ot(this._tNode.index,e)[Ue],this.hostView=this.changeDetectorRef=new ir(e,void 0),this.componentType=t}setInput(t,e){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView,i=_h(r,o[q],o,t,e);this.previousInputValues.set(t,e);let a=Ot(r.index,o);Sh(a,1)}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Rw(n,t,e){let r=n.projection=[];for(let o=0;o<t.length;o++){let i=e[o];r.push(i!=null&&i.length?Array.from(i):null)}}var On=(()=>{class n{static __NG_ELEMENT_ID__=Nw}return n})();function Nw(){let n=$e();return jg(n,X())}var Fw=On,Fg=class extends Fw{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return ei(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){let t=oh(this._hostTNode,this._hostLView);if(Cy(t)){let e=Vc(t,this._hostLView),r=jc(t),o=e[q].data[r+8];return new Wr(o,e)}else return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=sy(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-et}createEmbeddedView(t,e,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let a=B1(this._lContainer,t.ssrId),s=t.createEmbeddedViewImpl(e||{},i,a);return this.insertImpl(s,o,Wc(this._hostTNode,a)),s}createComponent(t,e,r,o,i,a,s){let c=t&&!i5(t),d;if(c)d=e;else{let w=e||{};d=w.index,r=w.injector,o=w.projectableNodes,i=w.environmentInjector||w.ngModuleRef,a=w.directives,s=w.bindings}let l=c?t:new Xr(En(t)),u=r||this.parentInjector;if(!i&&l.ngModule==null){let _=(c?u:this.parentInjector).get(Oe,null);_&&(i=_)}let p=En(l.componentType??{}),h=B1(this._lContainer,p?.id??null),m=h?.firstChild??null,C=l.create(u,o,m,i,a,s);return this.insertImpl(C.hostView,d,Wc(this._hostTNode,h)),C}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let o=t._lView;if(pf(o)){let s=this.indexOf(t);if(s!==-1)this.detach(s);else{let c=o[He],d=new Fg(c,c[at],c[He]);d.detach(d.indexOf(t))}}let i=this._adjustIndex(e),a=this._lContainer;return Dh(a,o,i,r),t.attachToViewContainerRef(),Bu(I1(a),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=sy(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=Zc(this._lContainer,e);r&&(Ki(I1(this._lContainer),e),vh(r[q],r))}detach(t){let e=this._adjustIndex(t,-1),r=Zc(this._lContainer,e);return r&&Ki(I1(this._lContainer),e)!=null?new ir(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function sy(n){return n[ta]}function I1(n){return n[ta]||(n[ta]=[])}function jg(n,t){let e,r=t[n.index];return Ut(r)?e=r:(e=xg(r,t,null,n),t[n.index]=e,ph(t,e)),Vw(e,t,n,r),new Fg(e,n,t)}function jw(n,t){let e=n[we],r=e.createComment(""),o=$t(t,n),i=e.parentNode(o);return Bc(e,i,r,e.nextSibling(o),!1),r}var Vw=qw,Hw=()=>!1;function zw(n,t,e){return Hw(n,t,e)}function qw(n,t,e,r){if(n[Jn])return;let o;e.type&8?o=Pt(r):o=jw(t,e),n[Jn]=o}var W1=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Z1=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let r=t.contentQueries!==null?t.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){let a=e.getByIndex(i),s=this.queries[a.indexInDeclarationView];o.push(s.clone())}return new n(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)Ah(t,e).matches!==null&&this.queries[e].setDirty()}},K1=class{flags;read;predicate;constructor(t,e,r=null){this.flags=e,this.read=r,typeof t=="string"?this.predicate=Xw(t):this.predicate=t}},X1=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){let o=e!==null?e.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,e!==null?e.push(i):e=[i])}return e!==null?new n(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Q1=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,e,Bw(e,i)),this.matchTNodeWithReadOption(t,e,Rc(e,t,i,!1,!1))}else r===ar?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Rc(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===We||o===On||o===ar&&e.type&4)this.addMatch(e.index,-2);else{let i=Rc(e,t,o,!1,!1);i!==null&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function Bw(n,t){let e=n.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1]}return null}function Uw(n,t){return n.type&11?ei(n,t):n.type&4?dd(n,t):null}function $w(n,t,e,r){return e===-1?Uw(t,n):e===-2?Gw(n,t,r):da(n,n[q],e,t)}function Gw(n,t,e){if(e===We)return ei(t,n);if(e===ar)return dd(t,n);if(e===On)return jg(t,n)}function Vg(n,t,e,r){let o=t[an].queries[r];if(o.matches===null){let i=n.data,a=e.matches,s=[];for(let c=0;a!==null&&c<a.length;c+=2){let d=a[c];if(d<0)s.push(null);else{let l=i[d];s.push($w(t,l,a[c+1],e.metadata.read))}}o.matches=s}return o.matches}function Y1(n,t,e,r){let o=n.queries.getByIndex(e),i=o.matches;if(i!==null){let a=Vg(n,t,o,e);for(let s=0;s<i.length;s+=2){let c=i[s];if(c>0)r.push(a[s/2]);else{let d=i[s+1],l=t[-c];for(let u=et;u<l.length;u++){let p=l[u];p[Yn]===p[He]&&Y1(p[q],p,d,r)}if(l[Ur]!==null){let u=l[Ur];for(let p=0;p<u.length;p++){let h=u[p];Y1(h[q],h,d,r)}}}}}return r}function Ww(n,t){return n[an].queries[t].queryList}function Zw(n,t,e){let r=new zc((e&4)===4);return gf(n,t,r,r.destroy),(t[an]??=new Z1).queries.push(new W1(r))-1}function Kw(n,t,e,r){let o=ze();if(o.firstCreatePass){let i=$e();Qw(o,new K1(t,e,r),i.index),Yw(o,n),(e&2)===2&&(o.staticContentQueries=!0)}return Zw(o,X(),e)}function Xw(n){return n.split(",").map(t=>t.trim())}function Qw(n,t,e){n.queries===null&&(n.queries=new X1),n.queries.track(new Q1(t,e))}function Yw(n,t){let e=n.contentQueries||(n.contentQueries=[]),r=e.length?e[e.length-1]:-1;t!==r&&e.push(n.queries.length-1,t)}function Ah(n,t){return n.queries.getByIndex(t)}function Jw(n,t){let e=n[q],r=Ah(e,t);return r.crossesNgTemplate?Y1(e,n,t,[]):Vg(e,n,r,t)}var Qr=class{},ud=class{};var Qc=class extends Qr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Kc(this);constructor(t,e,r,o=!0){super(),this.ngModuleType=t,this._parent=e;let i=Gu(t);this._bootstrapComponents=Wy(i.bootstrap),this._r3Injector=g1(t,e,[{provide:Qr,useValue:this},{provide:ma,useValue:this.componentFactoryResolver},...r],Sn(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Yc=class extends ud{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Qc(this.moduleType,t,[])}};var ua=class extends Qr{injector;componentFactoryResolver=new Kc(this);instance=null;constructor(t){super();let e=new jr([...t.providers,{provide:Qr,useValue:this},{provide:ma,useValue:this.componentFactoryResolver}],t.parent||Yi(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ni(n,t,e=null){return new ua({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var e8=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=Zu(!1,e.type),o=r.length>0?ni([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=L({token:n,providedIn:"environment",factory:()=>new n(V(Oe))})}return n})();function ce(n){return Jo(()=>{let t=Hg(n),e=B(b({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ih.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(e8).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Tn.Emulated,styles:n.styles||Ct,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Pn("NgStandalone"),zg(e);let r=n.dependencies;return e.directiveDefs=cy(r,t8),e.pipeDefs=cy(r,nf),e.id=o8(e),e})}function t8(n){return En(n)||Wu(n)}function Nt(n){return Jo(()=>({type:n.type,bootstrap:n.bootstrap||Ct,declarations:n.declarations||Ct,imports:n.imports||Ct,exports:n.exports||Ct,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function n8(n,t){if(n==null)return Kn;let e={};for(let r in n)if(n.hasOwnProperty(r)){let o=n[r],i,a,s,c;Array.isArray(o)?(s=o[0],i=o[1],a=o[2]??i,c=o[3]||null):(i=o,a=o,s=ad.None,c=null),e[i]=[r,s,c],t[i]=a}return e}function r8(n){if(n==null)return Kn;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function ye(n){return Jo(()=>{let t=Hg(n);return zg(t),t})}function Hg(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||Kn,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Ct,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:n8(n.inputs,t),outputs:r8(n.outputs),debugInfo:null}}function zg(n){n.features?.forEach(t=>t(n))}function cy(n,t){return n?()=>{let e=typeof n=="function"?n():n,r=[];for(let o of e){let i=t(o);i!==null&&r.push(i)}return r}:null}function o8(n){let t=0,e=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function i8(n){return Object.getPrototypeOf(n.prototype).constructor}function yt(n){let t=i8(n.type),e=!0,r=[n];for(;t;){let o;if(cn(n))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new A(903,!1);o=t.\u0275dir}if(o){if(e){r.push(o);let a=n;a.inputs=S1(n.inputs),a.declaredInputs=S1(n.declaredInputs),a.outputs=S1(n.outputs);let s=o.hostBindings;s&&l8(n,s);let c=o.viewQuery,d=o.contentQueries;if(c&&c8(n,c),d&&d8(n,d),a8(n,o),$2(n.outputs,o.outputs),cn(o)&&o.data.animation){let l=n.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let a=0;a<i.length;a++){let s=i[a];s&&s.ngInherit&&s(n),s===yt&&(e=!1)}}t=Object.getPrototypeOf(t)}s8(r)}function a8(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e])}}function s8(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let o=n[r];o.hostVars=t+=o.hostVars,o.hostAttrs=ca(o.hostAttrs,e=ca(e,o.hostAttrs))}}function S1(n){return n===Kn?{}:n===Ct?[]:n}function c8(n,t){let e=n.viewQuery;e?n.viewQuery=(r,o)=>{t(r,o),e(r,o)}:n.viewQuery=t}function d8(n,t){let e=n.contentQueries;e?n.contentQueries=(r,o,i)=>{t(r,o,i),e(r,o,i)}:n.contentQueries=t}function l8(n,t){let e=n.hostBindings;e?n.hostBindings=(r,o)=>{t(r,o),e(r,o)}:n.hostBindings=t}function qg(n,t,e,r,o,i,a,s){if(e.firstCreatePass){n.mergedAttrs=ca(n.mergedAttrs,n.attrs);let l=n.tView=uh(2,n,o,i,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,n),l.queries=e.queries.embeddedTView(n))}s&&(n.flags|=s),Uo(n,!1);let c=h8(e,t,n,r);Sc()&&Mh(e,t,c,n),Xo(c,t);let d=xg(c,t,c,n);t[r+Re]=d,ph(t,d),zw(d,n,t)}function u8(n,t,e,r,o,i,a,s,c,d,l){let u=e+Re,p;return t.firstCreatePass?(p=ga(t,u,4,a||null,s||null),a1()&&Eg(t,n,p,tr(t.consts,d),yg),vy(t,p)):p=t.data[u],qg(p,n,t,e,r,o,i,c),na(p)&&Ch(t,n,p),d!=null&&bh(n,p,l),p}function Th(n,t,e,r,o,i,a,s,c,d,l){let u=e+Re,p;if(t.firstCreatePass){if(p=ga(t,u,4,a||null,s||null),d!=null){let h=tr(t.consts,d);p.localNames=[];for(let m=0;m<h.length;m+=2)p.localNames.push(h[m],-1)}}else p=t.data[u];return qg(p,n,t,e,r,o,i,c),d!=null&&bh(n,p,l),p}function re(n,t,e,r,o,i,a,s){let c=X(),d=ze(),l=tr(d.consts,i);return u8(c,d,n,t,e,r,o,l,void 0,a,s),re}var h8=p8;function p8(n,t,e,r){return Dc(!0),t[we].createComment("")}var Ph=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Oh=new P("");function cr(n){return!!n&&typeof n.then=="function"}function Rh(n){return!!n&&typeof n.subscribe=="function"}var Nh=new P("");function hd(n){return Xi([{provide:Nh,multi:!0,useValue:n}])}var Fh=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=M(Nh,{optional:!0})??[];injector=M(Ye);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let o of this.appInits){let i=Je(this.injector,o);if(cr(i))e.push(i);else if(Rh(i)){let a=new Promise((s,c)=>{i.subscribe({complete:s,error:c})});e.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ka=new P("");function Bg(){nu(()=>{let n="";throw new A(600,n)})}function Ug(n){return n.isBoundToModule}var f8=10;var Rn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(It);afterRenderManager=M(mh);zonelessEnabled=M(Ec);rootEffectScheduler=M(ia);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ie;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(An);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(K(e=>!e))}constructor(){M(Jr,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=M(Oe);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,o=Ye.NULL){return this._injector.get(Ae).run(()=>{se(10);let a=e instanceof ld;if(!this._injector.get(Fh).done){let m="";throw new A(405,m)}let c;a?c=e:c=this._injector.get(ma).resolveComponentFactory(e),this.componentTypes.push(c.componentType);let d=Ug(c)?void 0:this._injector.get(Qr),l=r||c.selector,u=c.create(o,[],l,d),p=u.location.nativeElement,h=u.injector.get(Oh,null);return h?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),sa(this.components,u),h?.unregisterApplication(p)}),this._loadComponent(u),se(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){se(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(sd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new A(101,!1);let e=U(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,U(e),this.afterTick.next(),se(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Kr,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<f8;)se(14),this.synchronizeOnce(),se(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!oa(o))continue;let i=r&&!this.zonelessEnabled?0:1;wg(o,i),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>oa(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;sa(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(e),this._injector.get(ka,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>sa(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new A(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sa(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function eo(n,t,e,r){let o=X(),i=Go();if(sr(o,i,t)){let a=ze(),s=Ic();F3(s,o,n,t,e,r)}return eo}var mA=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function ri(n,t,e,r,o,i,a,s){Pn("NgControlFlow");let c=X(),d=ze(),l=tr(d.consts,i);return Th(c,d,n,t,e,r,o,l,256,a,s),jh}function jh(n,t,e,r,o,i,a,s){Pn("NgControlFlow");let c=X(),d=ze(),l=tr(d.consts,i);return Th(c,d,n,t,e,r,o,l,512,a,s),jh}function oi(n,t){Pn("NgControlFlow");let e=X(),r=Go(),o=e[r]!==Kt?e[r]:-1,i=o!==-1?dy(e,Re+o):void 0,a=0;if(sr(e,r,n)){let s=U(null);try{if(i!==void 0&&iw(i,a),n!==-1){let c=Re+n,d=dy(e,c),l=y8(e[q],c),u=pw(d,l,e),p=Ih(e,l,t,{dehydratedView:u});Dh(d,p,a,Wc(l,u))}}finally{U(s)}}else if(i!==void 0){let s=ow(i,a);s!==void 0&&(s[Ue]=t)}}function dy(n,t){return n[t]}function y8(n,t){return ra(n,t)}function R(n,t,e){let r=X(),o=Go();if(sr(r,o,t)){let i=ze(),a=Ic();fg(a,r,n,t,r[we],e)}return R}function ly(n,t,e,r,o){_h(t,n,e,o?"class":"style",r)}function y(n,t,e,r){let o=X(),i=o[q],a=n+Re,s=i.firstCreatePass?Ag(a,o,2,t,yg,a1(),e,r):i.data[a];if(H3(s,o,n,t,g8),na(s)){let c=o[q];Ch(c,o,s),zy(c,s,o)}return r!=null&&bh(o,s),y}function g(){let n=ze(),t=$e(),e=z3(t);return n.firstCreatePass&&Tg(n,e),Mf(e)&&wf(),vf(),e.classesWithoutHost!=null&&u5(e)&&ly(n,e,X(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&h5(e)&&ly(n,e,X(),e.stylesWithoutHost,!1),g}function Y(n,t,e,r){return y(n,t,e,r),g(),Y}var g8=(n,t,e,r,o)=>(Dc(!0),Xy(t[we],r,Of()));function ke(){return X()}var va="en-US";var m8=va;function $g(n){typeof n=="string"&&(m8=n.toLowerCase().replace(/_/g,"-"))}function x(n,t,e){let r=X(),o=ze(),i=$e();return Gg(o,r,r[we],i,n,t,e),x}function Gg(n,t,e,r,o,i,a){let s=!0,c=null;if((r.type&3||a)&&(c??=x1(r,t,i),xw(r,n,t,a,e,o,i,c)&&(s=!1)),s){let d=r.outputs?.[o],l=r.hostDirectiveOutputs?.[o];if(l&&l.length)for(let u=0;u<l.length;u+=2){let p=l[u],h=l[u+1];c??=x1(r,t,i),iy(r,t,p,h,o,c)}if(d&&d.length)for(let u of d)c??=x1(r,t,i),iy(r,t,u,o,o,c)}}function I(n=1){return Pf(n)}function k8(n,t){let e=null,r=U5(n);for(let o=0;o<t.length;o++){let i=t[o];if(i==="*"){e=o;continue}if(r===null?Ky(n,i,!0):W5(r,i))return o}return e}function Vh(n){let t=X()[ft][at];if(!t.projection){let e=n?n.length:1,r=t.projection=J2(e,null),o=r.slice(),i=t.child;for(;i!==null;){if(i.type!==128){let a=n?k8(i,n):0;a!==null&&(o[a]?o[a].projectionNext=i:r[a]=i,o[a]=i)}i=i.next}}}function Hh(n,t=0,e,r,o,i){let a=X(),s=ze(),c=r?n+1:null;c!==null&&Th(a,s,c,r,o,i,null,e);let d=ga(s,Re+n,16,null,e||null);d.projection===null&&(d.projection=t),l1();let u=!a[Ho]||s1();a[ft][at].projection[d.projection]===null&&c!==null?v8(a,s,c):u&&!od(d)&&x3(s,a,d)}function v8(n,t,e){let r=Re+e,o=t.data[r],i=n[r],a=B1(i,o.tView.ssrId),s=Ih(n,o,void 0,{dehydratedView:a});Dh(i,s,0,Wc(o,a))}function zh(n,t,e,r){Kw(n,t,e,r)}function qh(n){let t=X(),e=ze(),r=p1();bc(r+1);let o=Ah(e,r);if(n.dirty&&hf(t)===((o.metadata.flags&2)===2)){if(o.matches===null)n.reset([]);else{let i=Jw(t,r);n.reset(i,x5),n.notifyOnChanges()}return!0}return!1}function Bh(){return Ww(X(),p1())}function Uh(n){let t=bf();return uf(t,Re+n)}function Tc(n,t){return n<<17|t<<2}function Yr(n){return n>>17&32767}function M8(n){return(n&2)==2}function w8(n,t){return n&131071|t<<17}function J1(n){return n|2}function Yo(n){return(n&131068)>>2}function D1(n,t){return n&-131069|t<<2}function C8(n){return(n&1)===1}function eh(n){return n|1}function b8(n,t,e,r,o,i){let a=i?t.classBindings:t.styleBindings,s=Yr(a),c=Yo(a);n[r]=e;let d=!1,l;if(Array.isArray(e)){let u=e;l=u[1],(l===null||Vo(u,l)>0)&&(d=!0)}else l=e;if(o)if(c!==0){let p=Yr(n[s+1]);n[r+1]=Tc(p,s),p!==0&&(n[p+1]=D1(n[p+1],r)),n[s+1]=w8(n[s+1],r)}else n[r+1]=Tc(s,0),s!==0&&(n[s+1]=D1(n[s+1],r)),s=r;else n[r+1]=Tc(c,0),s===0?s=r:n[c+1]=D1(n[c+1],r),c=r;d&&(n[r+1]=J1(n[r+1])),uy(n,l,r,!0),uy(n,l,r,!1),_8(t,l,n,r,i),a=Tc(s,c),i?t.classBindings=a:t.styleBindings=a}function _8(n,t,e,r,o){let i=o?n.residualClasses:n.residualStyles;i!=null&&typeof t=="string"&&Vo(i,t)>=0&&(e[r+1]=eh(e[r+1]))}function uy(n,t,e,r){let o=n[e+1],i=t===null,a=r?Yr(o):Yo(o),s=!1;for(;a!==0&&(s===!1||i);){let c=n[a],d=n[a+1];x8(c,t)&&(s=!0,n[a+1]=r?eh(d):J1(d)),a=r?Yr(d):Yo(d)}s&&(n[e+1]=r?J1(o):eh(o))}function x8(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Vo(n,t)>=0:!1}function _e(n,t){return I8(n,t,null,!0),_e}function I8(n,t,e,r){let o=X(),i=ze(),a=h1(2);if(i.firstUpdatePass&&D8(i,n,a,r),t!==Kt&&sr(o,a,t)){let s=i.data[rr()];P8(i,s,o,o[we],n,o[a+1]=O8(t,e),r,a)}}function S8(n,t){return t>=n.expandoStartIndex}function D8(n,t,e,r){let o=n.data;if(o[e+1]===null){let i=o[rr()],a=S8(n,e);R8(i,r)&&t===null&&!a&&(t=!1),t=E8(o,i,t,r),b8(o,i,t,e,a,r)}}function E8(n,t,e,r){let o=Ef(n),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(e=E1(null,n,t,e,r),e=ha(e,t.attrs,r),i=null);else{let a=t.directiveStylingLast;if(a===-1||n[a]!==o)if(e=E1(o,n,t,e,r),i===null){let c=L8(n,t,r);c!==void 0&&Array.isArray(c)&&(c=E1(null,n,t,c[1],r),c=ha(c,t.attrs,r),A8(n,t,r,c))}else i=T8(n,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),e}function L8(n,t,e){let r=e?t.classBindings:t.styleBindings;if(Yo(r)!==0)return n[Yr(r)]}function A8(n,t,e,r){let o=e?t.classBindings:t.styleBindings;n[Yr(o)]=r}function T8(n,t,e){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let a=n[i].hostAttrs;r=ha(r,a,e)}return ha(r,t.attrs,e)}function E1(n,t,e,r,o){let i=null,a=e.directiveEnd,s=e.directiveStylingLast;for(s===-1?s=e.directiveStart:s++;s<a&&(i=t[s],r=ha(r,i.hostAttrs,o),i!==n);)s++;return n!==null&&(e.directiveStylingLast=s),r}function ha(n,t,e){let r=e?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let a=t[i];typeof a=="number"?o=a:o===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),tf(n,a,e?!0:t[++i]))}return n===void 0?null:n}function P8(n,t,e,r,o,i,a,s){if(!(t.type&3))return;let c=n.data,d=c[s+1],l=C8(d)?hy(c,t,e,o,Yo(d),a):void 0;if(!Jc(l)){Jc(i)||M8(d)&&(i=hy(c,null,e,o,s,a));let u=e1(rr(),e);S3(r,a,u,o,i)}}function hy(n,t,e,r,o,i){let a=t===null,s;for(;o>0;){let c=n[o],d=Array.isArray(c),l=d?c[1]:c,u=l===null,p=e[o+1];p===Kt&&(p=u?Ct:void 0);let h=u?mc(p,r):l===r?p:void 0;if(d&&!Jc(h)&&(h=mc(c,r)),Jc(h)&&(s=h,a))return s;let m=n[o+1];o=a?Yr(m):Yo(m)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(s=mc(c,r))}return s}function Jc(n){return n!==void 0}function O8(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Sn(fa(n)))),n}function R8(n,t){return(n.flags&(t?8:16))!==0}function k(n,t=""){let e=X(),r=ze(),o=n+Re,i=r.firstCreatePass?ga(r,o,1,t,null):r.data[o],a=N8(r,e,i,t,n);e[o]=a,Sc()&&Mh(r,e,a,i),Uo(i,!1)}var N8=(n,t,e,r,o)=>(Dc(!0),Q5(t[we],r));function F8(n,t,e,r=""){return sr(n,Go(),e)?t+Hr(e)+r:Kt}function j8(n,t,e,r,o,i=""){let a=_f(),s=_w(n,a,e,o);return h1(2),s?t+Hr(e)+r+Hr(o)+i:Kt}function le(n){return ue("",n),le}function ue(n,t,e){let r=X(),o=F8(r,n,t,e);return o!==Kt&&Wg(r,rr(),o),ue}function pd(n,t,e,r,o){let i=X(),a=j8(i,n,t,e,r,o);return a!==Kt&&Wg(i,rr(),a),pd}function Wg(n,t,e){let r=e1(t,n);Y5(n[we],r,e)}function ee(n,t,e){v1(t)&&(t=t());let r=X(),o=Go();if(sr(r,o,t)){let i=ze(),a=Ic();fg(a,r,n,t,r[we],e)}return ee}function oe(n,t){let e=v1(n);return e&&n.set(t),e}function te(n,t){let e=X(),r=ze(),o=$e();return Gg(r,e,e[we],o,n,t),te}function V8(n,t,e){let r=ze();if(r.firstCreatePass){let o=cn(n);th(e,r.data,r.blueprint,o,!0),th(t,r.data,r.blueprint,o,!1)}}function th(n,t,e,r,o){if(n=Be(n),Array.isArray(n))for(let i=0;i<n.length;i++)th(n[i],t,e,r,o);else{let i=ze(),a=X(),s=$e(),c=Fr(n)?n:Be(n.provide),d=Xu(n),l=s.providerIndexes&1048575,u=s.directiveStart,p=s.providerIndexes>>20;if(Fr(n)||!n.multi){let h=new Zr(d,o,T,null),m=A1(c,t,o?l:l+p,u);m===-1?(P1(Hc(s,a),i,c),L1(i,n,t.length),t.push(c),s.directiveStart++,s.directiveEnd++,o&&(s.providerIndexes+=1048576),e.push(h),a.push(h)):(e[m]=h,a[m]=h)}else{let h=A1(c,t,l+p,u),m=A1(c,t,l,l+p),C=h>=0&&e[h],w=m>=0&&e[m];if(o&&!w||!o&&!C){P1(Hc(s,a),i,c);let _=q8(o?z8:H8,e.length,o,r,d,n);!o&&w&&(e[m].providerFactory=_),L1(i,n,t.length,0),t.push(c),s.directiveStart++,s.directiveEnd++,o&&(s.providerIndexes+=1048576),e.push(_),a.push(_)}else{let _=Zg(e[o?m:h],d,!o&&r);L1(i,n,h>-1?h:m,_)}!o&&r&&w&&e[m].componentProviders++}}}function L1(n,t,e,r){let o=Fr(t),i=af(t);if(o||i){let c=(i?Be(t.useClass):t).prototype.ngOnDestroy;if(c){let d=n.destroyHooks||(n.destroyHooks=[]);if(!o&&t.multi){let l=d.indexOf(e);l===-1?d.push(e,[r,c]):d[l+1].push(r,c)}else d.push(e,c)}}}function Zg(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function A1(n,t,e,r){for(let o=e;o<r;o++)if(t[o]===n)return o;return-1}function H8(n,t,e,r,o){return nh(this.multi,[])}function z8(n,t,e,r,o){let i=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=da(r,r[q],this.providerFactory.index,o);a=c.slice(0,s),nh(i,a);for(let d=s;d<c.length;d++)a.push(c[d])}else a=[],nh(i,a);return a}function nh(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function q8(n,t,e,r,o,i){let a=new Zr(n,e,T,null);return a.multi=[],a.index=t,a.componentProviders=0,Zg(a,o,r&&!e),a}function un(n,t=[]){return e=>{e.providersResolver=(r,o)=>V8(r,o?o(n):n,t)}}function $h(n,t){return dd(n,t)}var ed=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},Gh=(()=>{class n{compileModuleSync(e){return new Yc(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),o=Gu(e),i=Wy(o.declarations).reduce((a,s)=>{let c=En(s);return c&&a.push(new Xr(c)),a},[]);return new ed(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var B8=(()=>{class n{zone=M(Ae);changeDetectionScheduler=M(rn);applicationRef=M(Rn);applicationErrorHandler=M(It);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kg({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Ae(B(b({},Xg()),{scheduleInRootZone:e})),[{provide:Ae,useFactory:n},{provide:Xn,multi:!0,useFactory:()=>{let r=M(B8,{optional:!0});return()=>r.initialize()}},{provide:Xn,multi:!0,useFactory:()=>{let r=M(U8);return()=>{r.initialize()}}},t===!0?{provide:M1,useValue:!0}:[],{provide:w1,useValue:e??ng},{provide:It,useFactory:()=>{let r=M(Ae),o=M(Oe),i;return a=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw a}):(i??=o.get(At),i.handleError(a))})}}}]}function Xg(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var U8=(()=>{class n{subscription=new De;initialized=!1;zone=M(Ae);pendingTasks=M(An);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Qg=(()=>{class n{applicationErrorHandler=M(It);appRef=M(Rn);taskService=M(An);ngZone=M(Ae);zonelessEnabled=M(Ec);tracing=M(Jr,{optional:!0});disableScheduling=M(M1,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new De;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Uc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(w1,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $c||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Zf:rg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Uc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(e),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Zf(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $8(){return typeof $localize<"u"&&$localize.locale||va}var fd=new P("",{providedIn:"root",factory:()=>M(fd,{optional:!0,skipSelf:!0})||$8()});function qe(n){return H2(n)}function ii(n,t){return Os(n,t?.equal)}var Wh=class{[Qe];constructor(t){this[Qe]=t}destroy(){this[Qe].destroy()}};function Zh(n,t){let e=t?.injector??M(Ye),r=t?.manualCleanup!==!0?e.get(Gt):null,o,i=e.get(Wo,null,{optional:!0}),a=e.get(rn);return i!==null?(o=Z8(i.view,a,n),r instanceof Gi&&r._lView===i.view&&(r=null)):o=K8(n,e.get(ia),a),o.injector=e,r!==null&&(o.onDestroyFn=r.onDestroy(()=>o.destroy())),new Wh(o)}var Yg=B(b({},z2),{cleanupFns:void 0,zone:null,onDestroyFn:Gr,run(){let n=$o(!1);try{q2(this)}finally{$o(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=U(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],U(n)}}}),G8=B(b({},Yg),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Lr(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),W8=B(b({},Yg),{consumerMarkedDirty(){this.view[z]|=8192,nr(this.view),this.notifier.notify(13)},destroy(){Lr(this),this.onDestroyFn(),this.cleanup(),this.view[Ln]?.delete(this)}});function Z8(n,t,e){let r=Object.create(W8);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=Jg(r,e),n[Ln]??=new Set,n[Ln].add(r),r.consumerMarkedDirty(r),r}function K8(n,t,e){let r=Object.create(G8);return r.fn=Jg(r,n),r.scheduler=t,r.notifier=e,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function Jg(n,t){return()=>{t(e=>(n.cleanupFns??=[]).push(e))}}var im=Symbol("InputSignalNode#UNSET"),lC=B(b({},Rs),{transformFn:void 0,applyValueToInputSignal(n,t){So(n,t)}});function am(n,t){let e=Object.create(lC);e.value=n,e.transformFn=t?.transform;function r(){if(bo(e),e.value===im){let o=null;throw new A(-950,o)}return e.value}return r[Qe]=e,r}var gd=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>pa(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},uC=new P("");uC.__NG_ELEMENT_ID__=n=>{let t=$e();if(t===null)throw new A(204,!1);if(t.type&2)return t.value;if(n&8)return null;throw new A(204,!1)};function em(n,t){return am(n,t)}function hC(n){return am(im,n)}var sm=(em.required=hC,em);var Kh=new P(""),pC=new P("");function Ma(n){return!n.moduleRef}function fC(n){let t=Ma(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Ae);return e.run(()=>{Ma(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=t.get(It),o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:r})}),Ma(n)){let i=()=>t.destroy(),a=n.platformInjector.get(Kh);a.add(i),t.onDestroy(()=>{o.unsubscribe(),a.delete(i)})}else{let i=()=>n.moduleRef.destroy(),a=n.platformInjector.get(Kh);a.add(i),n.moduleRef.onDestroy(()=>{sa(n.allPlatformModules,n.moduleRef),o.unsubscribe(),a.delete(i)})}return gC(r,e,()=>{let i=t.get(An),a=i.add(),s=t.get(Fh);return s.runInitializers(),s.donePromise.then(()=>{let c=t.get(fd,va);if($g(c||va),!t.get(pC,!0))return Ma(n)?t.get(Rn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ma(n)){let l=t.get(Rn);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return yC?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void i.remove(a))})})}var yC;function gC(n,t,e){try{let r=e();return cr(r)?r.catch(o=>{throw t.runOutsideAngular(()=>n(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>n(r)),r}}var yd=null;function mC(n=[],t){return Ye.create({name:t,providers:[{provide:Qi,useValue:"platform"},{provide:Kh,useValue:new Set([()=>yd=null])},...n]})}function kC(n=[]){if(yd)return yd;let t=mC(n);return yd=t,Bg(),vC(t),t}function vC(n){let t=n.get(nd,null);Je(n,()=>{t?.forEach(e=>e())})}var Xt=(()=>{class n{static __NG_ELEMENT_ID__=MC}return n})();function MC(n){return wC($e(),X(),(n&16)===16)}function wC(n,t,e){if(er(n)&&!e){let r=Ot(n.index,t);return new ir(r,r)}else if(n.type&175){let r=t[ft];return new ir(r,t)}return null}var Xh=class{constructor(){}supports(t){return Lh(t)}create(t){return new Qh(t)}},CC=(n,t)=>t,Qh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||CC}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){let a=!r||e&&e.currentIndex<tm(r,o,i)?e:r,s=tm(a,o,i),c=a.currentIndex;if(a===r)o--,r=r._nextRemoved;else if(e=e._next,a.previousIndex==null)o++;else{i||(i=[]);let d=s-o,l=c-o;if(d!=l){for(let p=0;p<d;p++){let h=p<i.length?i[p]:i[p]=0,m=h+p;l<=m&&m<d&&(i[p]=h+1)}let u=a.previousIndex;i[u]=l-d}}s!==c&&t(a,s,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!Lh(t))throw new A(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,o,i,a;if(Array.isArray(t)){this.length=t.length;for(let s=0;s<this.length;s++)i=t[s],a=this._trackByFn(s,i),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,i,a,s),r=!0):(r&&(e=this._verifyReinsertion(e,i,a,s)),Object.is(e.item,i)||this._addIdentityChange(e,i)),e=e._next}else o=0,Pg(t,s=>{a=this._trackByFn(o,s),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,s,a,o),r=!0):(r&&(e=this._verifyReinsertion(e,s,a,o)),Object.is(e.item,s)||this._addIdentityChange(e,s)),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,o)):t=this._addAfter(new Yh(e,r),i,o)),t}_verifyReinsertion(t,e,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let o=e===null?this._itHead:e._next;return t._next=o,t._prev=e,o===null?this._itTail=t:o._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new md),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new md),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Yh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Jh=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},md=class{map=new Map;put(t){let e=t.trackById,r=this.map.get(e);r||(r=new Jh,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,o=this.map.get(r);return o?o.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function tm(n,t,e){let r=n.previousIndex;if(r===null)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+t+o}function nm(){return new e0([new Xh])}var e0=(()=>{class n{factories;static \u0275prov=L({token:n,providedIn:"root",factory:nm});constructor(e){this.factories=e}static create(e,r){if(r!=null){let o=r.factories.slice();e=e.concat(o)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let r=M(n,{optional:!0,skipSelf:!0});return n.create(e,r||nm())}}}find(e){let r=this.factories.find(o=>o.supports(e));if(r!=null)return r;throw new A(901,!1)}}return n})();function cm(n){let{rootComponent:t,appProviders:e,platformProviders:r,platformRef:o}=n;se(8);try{let i=o?.injector??kC(r),a=[Kg({}),{provide:rn,useExisting:Qg},Nf,...e||[]],s=new ua({providers:a,parent:i,debugName:"",runEnvironmentInitializers:!1});return fC({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{se(9)}}function dr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function dm(n){let t=En(n);if(!t)return null;let e=new Xr(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var hm=null;function Ft(){return hm}function t0(n){hm??=n}var wa=class{},Ca=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>M(pm),providedIn:"platform"})}return n})(),n0=new P(""),pm=(()=>{class n extends Ca{_location;_history;_doc=M(Le);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ft().getBaseHref(this._doc)}onPopState(e){let r=Ft().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Ft().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,o){this._history.pushState(e,r,o)}replaceState(e,r,o){this._history.replaceState(e,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function kd(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function lm(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function Qt(n){return n&&n[0]!=="?"?`?${n}`:n}var Yt=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>M(Md),providedIn:"root"})}return n})(),vd=new P(""),Md=(()=>{class n extends Yt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return kd(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+Qt(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){let a=this.prepareExternalUrl(o+Qt(i));this._platformLocation.pushState(e,r,a)}replaceState(e,r,o,i){let a=this.prepareExternalUrl(o+Qt(i));this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(V(Ca),V(vd,8))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lr=(()=>{class n{_subject=new Ie;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=xC(lm(um(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Qt(r))}normalize(e){return n.stripTrailingSlash(_C(this._basePath,um(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qt(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qt(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Qt;static joinWithSlash=kd;static stripTrailingSlash=lm;static \u0275fac=function(r){return new(r||n)(V(Yt))};static \u0275prov=L({token:n,factory:()=>bC(),providedIn:"root"})}return n})();function bC(){return new lr(V(Yt))}function _C(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function um(n){return n.replace(/\/index.html$/,"")}function xC(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var r0=(()=>{class n extends Yt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=kd(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let a=this.prepareExternalUrl(o+Qt(i))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,a)}replaceState(e,r,o,i){let a=this.prepareExternalUrl(o+Qt(i))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(V(Ca),V(vd,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();var wd=class{$implicit;ngForOf;index;count;constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},jt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((o,i,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new wd(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(i===null?void 0:i);else if(i!==null){let s=r.get(i);r.move(s,a),fm(s,o)}});for(let o=0,i=r.length;o<i;o++){let s=r.get(o).context;s.index=o,s.count=i,s.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);fm(i,o)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(T(On),T(ar),T(e0))};static \u0275dir=ye({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function fm(n,t){n.context.$implicit=t.item}var Ne=(()=>{class n{_viewContainer;_context=new Cd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ym(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ym(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(T(On),T(ar))};static \u0275dir=ye({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Cd=class{$implicit=null;ngIf=null};function ym(n,t){if(n&&!n.createEmbeddedView)throw new A(2020,!1)}var xe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Nt({type:n});static \u0275inj=_t({})}return n})();function o0(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[o,i]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var ba=class{};var gm="browser";var mm=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new i0(M(Le),window)})}return n})(),i0=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo(B(b({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let r=IC(this.document,t);r&&(this.scrollToElement(r,e),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(Dn(2400,!1))}}scrollToElement(t,e){let r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(B(b({},e),{left:o-a[0],top:i-a[1]}))}};function IC(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let a=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(a)return a}o=r.nextNode()}}return null}var _a=class{_doc;constructor(t){this._doc=t}manager},bd=(()=>{class n extends _a{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o,i){return e.addEventListener(r,o,i),()=>this.removeEventListener(e,r,o,i)}removeEventListener(e,r,o,i){return e.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||n)(V(Le))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),xd=new P(""),l0=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(a=>{a.manager=this});let o=e.filter(a=>!(a instanceof bd));this._plugins=o.slice().reverse();let i=e.find(a=>a instanceof bd);i&&this._plugins.push(i)}addEventListener(e,r,o,i){return this._findPluginFor(r).addEventListener(e,r,o,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(i=>i.supports(e)),!r)throw new A(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(V(xd),V(Ae))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),a0="ng-app-id";function km(n){for(let t of n)t.remove()}function vm(n,t){let e=t.createElement("style");return e.textContent=n,e}function SC(n,t,e,r){let o=n.head?.querySelectorAll(`style[${a0}="${t}"],link[${a0}="${t}"]`);if(o)for(let i of o)i.removeAttribute(a0),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&e.set(i.textContent,{usage:0,elements:[i]})}function c0(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var u0=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,r,o,i={}){this.doc=e,this.appId=r,this.nonce=o,SC(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let o of e)this.addUsage(o,this.inline,vm);r?.forEach(o=>this.addUsage(o,this.external,c0))}removeStyles(e,r){for(let o of e)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,r,o){let i=r.get(e);i?i.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,o(e,this.doc)))})}removeUsage(e,r){let o=r.get(e);o&&(o.usage--,o.usage<=0&&(km(o.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])km(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(e,vm(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(e,c0(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(V(Le),V(td),V(rd,8),V(ti))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),s0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},h0=/%COMP%/g;var wm="%COMP%",DC=`_nghost-${wm}`,EC=`_ngcontent-${wm}`,LC=!0,AC=new P("",{providedIn:"root",factory:()=>LC});function TC(n){return EC.replace(h0,n)}function PC(n){return DC.replace(h0,n)}function Cm(n,t){return t.map(e=>e.replace(h0,n))}var p0=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,o,i,a,s,c,d=null,l=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=a,this.platformId=s,this.ngZone=c,this.nonce=d,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new xa(e,a,c,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(e,r);return o instanceof _d?o.applyToHost(e):o instanceof Ia&&o.applyStyles(),o}getOrCreateRenderer(e,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let a=this.doc,s=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,u=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case Tn.Emulated:i=new _d(c,d,r,this.appId,l,a,s,u,p);break;case Tn.ShadowDom:return new d0(c,d,e,r,a,s,this.nonce,u,p);default:i=new Ia(c,d,r,l,a,s,u,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(V(l0),V(u0),V(td),V(AC),V(Le),V(ti),V(Ae),V(rd),V(Jr,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),xa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,o,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(s0[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Mm(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Mm(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new A(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;let i=s0[o];i?t.setAttributeNS(i,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let o=s0[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(ln.DashCase|ln.Important)?t.style.setProperty(e,r,o&ln.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&ln.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,o){if(typeof t=="string"&&(t=Ft().getGlobalEventTarget(this.doc,t),!t))throw new A(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,e,i)),this.eventManager.addEventListener(t,e,i,o)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function Mm(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var d0=class extends xa{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,o,i,a,s,c,d){super(t,i,a,c,d),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=o.styles;l=Cm(o.id,l);for(let p of l){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let u=o.getExternalStyles?.();if(u)for(let p of u){let h=c0(p,i);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ia=class extends xa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,o,i,a,s,c,d){super(t,i,a,s,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let l=r.styles;this.styles=d?Cm(d,l):l,this.styleUrls=r.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Qo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},_d=class extends Ia{contentAttr;hostAttr;constructor(t,e,r,o,i,a,s,c,d){let l=o+"-"+r.id;super(t,e,r,i,a,s,c,d,l),this.contentAttr=TC(l),this.hostAttr=PC(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var Id=class n extends wa{supportsDOMEvents=!0;static makeCurrent(){t0(new n)}onAndCancel(t,e,r,o){return t.addEventListener(e,r,o),()=>{t.removeEventListener(e,r,o)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=OC();return e==null?null:RC(e)}resetBaseElement(){Sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return o0(document.cookie,t)}},Sa=null;function OC(){return Sa=Sa||document.head.querySelector("base"),Sa?Sa.getAttribute("href"):null}function RC(n){return new URL(n,document.baseURI).pathname}var NC=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),bm=["alt","control","meta","shift"],FC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jC={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},_m=(()=>{class n extends _a{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,o,i){let a=n.parseEventName(r),s=n.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ft().onAndCancel(e,a.domEventName,s,i))}static parseEventName(e){let r=e.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=n._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),bm.forEach(d=>{let l=r.indexOf(d);l>-1&&(r.splice(l,1),a+=d+".")}),a+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(e,r){let o=FC[e.key]||e.key,i="";return r.indexOf("code.")>-1&&(o=e.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),bm.forEach(a=>{if(a!==o){let s=jC[a];s(e)&&(i+=a+".")}}),i+=o,i===r)}static eventCallback(e,r,o){return i=>{n.matchEventFullKeyCode(i,e)&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(V(Le))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function f0(n,t,e){let r=b({rootComponent:n,platformRef:e?.platformRef},VC(t));return cm(r)}function VC(n){return{appProviders:[...UC,...n?.providers??[]],platformProviders:BC}}function HC(){Id.makeCurrent()}function zC(){return new At}function qC(){return ah(document),document}var BC=[{provide:ti,useValue:gm},{provide:nd,useValue:HC,multi:!0},{provide:Le,useFactory:qC}];var UC=[{provide:Qi,useValue:"root"},{provide:At,useFactory:zC},{provide:xd,useClass:bd,multi:!0,deps:[Le]},{provide:xd,useClass:_m,multi:!0,deps:[Le]},p0,u0,l0,{provide:Kr,useExisting:p0},{provide:ba,useClass:NC},[]];var xm=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(V(Le))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $="primary",Ha=Symbol("RouteTitle"),v0=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function ro(n){return new v0(n)}function Pm(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let o={};for(let i=0;i<r.length;i++){let a=r[i],s=n[i];if(a[0]===":")o[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function GC(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!pn(n[e],t[e]))return!1;return!0}function pn(n,t){let e=n?M0(n):void 0,r=t?M0(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!Om(n[o],t[o]))return!1;return!0}function M0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Om(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((o,i)=>r[i]===o)}else return n===t}function Rm(n){return n.length>0?n[n.length-1]:null}function Nn(n){return mu(n)?n:cr(n)?me(Promise.resolve(n)):j(n)}var WC={exact:Fm,subset:jm},Nm={exact:ZC,subset:KC,ignored:()=>!0};function Im(n,t,e){return WC[e.paths](n.root,t.root,e.matrixParams)&&Nm[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function ZC(n,t){return pn(n,t)}function Fm(n,t,e){if(!to(n.segments,t.segments)||!Ed(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!Fm(n.children[r],t.children[r],e))return!1;return!0}function KC(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Om(n[e],t[e]))}function jm(n,t,e){return Vm(n,t,t.segments,e)}function Vm(n,t,e,r){if(n.segments.length>e.length){let o=n.segments.slice(0,e.length);return!(!to(o,e)||t.hasChildren()||!Ed(o,e,r))}else if(n.segments.length===e.length){if(!to(n.segments,e)||!Ed(n.segments,e,r))return!1;for(let o in t.children)if(!n.children[o]||!jm(n.children[o],t.children[o],r))return!1;return!0}else{let o=e.slice(0,n.segments.length),i=e.slice(n.segments.length);return!to(n.segments,o)||!Ed(n.segments,o,r)||!n.children[$]?!1:Vm(n.children[$],t,i,r)}}function Ed(n,t,e){return t.every((r,o)=>Nm[e](n[o].parameters,r.parameters))}var yn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ie([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ro(this.queryParams),this._queryParamMap}toString(){return YC.serialize(this)}},ie=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ld(this)}},ur=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=ro(this.parameters),this._parameterMap}toString(){return zm(this)}};function XC(n,t){return to(n,t)&&n.every((e,r)=>pn(e.parameters,t[r].parameters))}function to(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function QC(n,t){let e=[];return Object.entries(n.children).forEach(([r,o])=>{r===$&&(e=e.concat(t(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==$&&(e=e.concat(t(o,r)))}),e}var oo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>new hr,providedIn:"root"})}return n})(),hr=class{parse(t){let e=new C0(t);return new yn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Da(t.root,!0)}`,r=t6(t.queryParams),o=typeof t.fragment=="string"?`#${JC(t.fragment)}`:"";return`${e}${r}${o}`}},YC=new hr;function Ld(n){return n.segments.map(t=>zm(t)).join("/")}function Da(n,t){if(!n.hasChildren())return Ld(n);if(t){let e=n.children[$]?Da(n.children[$],!1):"",r=[];return Object.entries(n.children).forEach(([o,i])=>{o!==$&&r.push(`${o}:${Da(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=QC(n,(r,o)=>o===$?[Da(n.children[$],!1)]:[`${o}:${Da(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[$]!=null?`${Ld(n)}/${e[0]}`:`${Ld(n)}/(${e.join("//")})`}}function Hm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sd(n){return Hm(n).replace(/%3B/gi,";")}function JC(n){return encodeURI(n)}function w0(n){return Hm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ad(n){return decodeURIComponent(n)}function Sm(n){return Ad(n.replace(/\+/g,"%20"))}function zm(n){return`${w0(n.path)}${e6(n.parameters)}`}function e6(n){return Object.entries(n).map(([t,e])=>`;${w0(t)}=${w0(e)}`).join("")}function t6(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(o=>`${Sd(e)}=${Sd(o)}`).join("&"):`${Sd(e)}=${Sd(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var n6=/^[^\/()?;#]+/;function y0(n){let t=n.match(n6);return t?t[0]:""}var r6=/^[^\/()?;=#]+/;function o6(n){let t=n.match(r6);return t?t[0]:""}var i6=/^[^=?&#]+/;function a6(n){let t=n.match(i6);return t?t[0]:""}var s6=/^[^&#]+/;function c6(n){let t=n.match(s6);return t?t[0]:""}var C0=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[$]=new ie(t,e)),r}parseSegment(){let t=y0(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(t),new ur(Ad(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=o6(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let o=y0(this.remaining);o&&(r=o,this.capture(r))}t[Ad(e)]=Ad(r)}parseQueryParam(t){let e=a6(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let a=c6(this.remaining);a&&(r=a,this.capture(r))}let o=Sm(e),i=Sm(r);if(t.hasOwnProperty(o)){let a=t[o];Array.isArray(a)||(a=[a],t[o]=a),a.push(i)}else t[o]=i}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=y0(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new A(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=$);let a=this.parseChildren();e[i??$]=Object.keys(a).length===1&&a[$]?a[$]:new ie([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new A(4011,!1)}};function qm(n){return n.segments.length>0?new ie([],{[$]:n}):n}function Bm(n){let t={};for(let[r,o]of Object.entries(n.children)){let i=Bm(o);if(r===$&&i.segments.length===0&&i.hasChildren())for(let[a,s]of Object.entries(i.children))t[a]=s;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let e=new ie(n.segments,t);return d6(e)}function d6(n){if(n.numberOfChildren===1&&n.children[$]){let t=n.children[$];return new ie(n.segments.concat(t.segments),t.children)}return n}function pr(n){return n instanceof yn}function Um(n,t,e=null,r=null){let o=$m(n);return Gm(o,t,e,r)}function $m(n){let t;function e(i){let a={};for(let c of i.children){let d=e(c);a[c.outlet]=d}let s=new ie(i.url,a);return i===n&&(t=s),s}let r=e(n.root),o=qm(r);return t??o}function Gm(n,t,e,r){let o=n;for(;o.parent;)o=o.parent;if(t.length===0)return g0(o,o,o,e,r);let i=l6(t);if(i.toRoot())return g0(o,o,new ie([],{}),e,r);let a=u6(i,o,n),s=a.processChildren?La(a.segmentGroup,a.index,i.commands):Zm(a.segmentGroup,a.index,i.commands);return g0(o,a.segmentGroup,s,e,r)}function Td(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ta(n){return typeof n=="object"&&n!=null&&n.outlets}function g0(n,t,e,r,o){let i={};r&&Object.entries(r).forEach(([c,d])=>{i[c]=Array.isArray(d)?d.map(l=>`${l}`):`${d}`});let a;n===t?a=e:a=Wm(n,t,e);let s=qm(Bm(a));return new yn(s,i,o)}function Wm(n,t,e){let r={};return Object.entries(n.children).forEach(([o,i])=>{i===t?r[o]=e:r[o]=Wm(i,t,e)}),new ie(n.segments,r)}var Pd=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Td(r[0]))throw new A(4003,!1);let o=r.find(Ta);if(o&&o!==Rm(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function l6(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Pd(!0,0,n);let t=0,e=!1,r=n.reduce((o,i,a)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let s={};return Object.entries(i.outlets).forEach(([c,d])=>{s[c]=typeof d=="string"?d.split("/"):d}),[...o,{outlets:s}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:a===0?(i.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?e=!0:s===".."?t++:s!=""&&o.push(s))}),o):[...o,i]},[]);return new Pd(e,t,r)}var ci=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function u6(n,t,e){if(n.isAbsolute)return new ci(t,!0,0);if(!e)return new ci(t,!1,NaN);if(e.parent===null)return new ci(e,!0,0);let r=Td(n.commands[0])?0:1,o=e.segments.length-1+r;return h6(e,o,n.numberOfDoubleDots)}function h6(n,t,e){let r=n,o=t,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new A(4005,!1);o=r.segments.length}return new ci(r,!1,o-i)}function p6(n){return Ta(n[0])?n[0].outlets:{[$]:n}}function Zm(n,t,e){if(n??=new ie([],{}),n.segments.length===0&&n.hasChildren())return La(n,t,e);let r=f6(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let i=new ie(n.segments.slice(0,r.pathIndex),{});return i.children[$]=new ie(n.segments.slice(r.pathIndex),n.children),La(i,0,o)}else return r.match&&o.length===0?new ie(n.segments,{}):r.match&&!n.hasChildren()?b0(n,t,e):r.match?La(n,0,o):b0(n,t,e)}function La(n,t,e){if(e.length===0)return new ie(n.segments,{});{let r=p6(e),o={};if(Object.keys(r).some(i=>i!==$)&&n.children[$]&&n.numberOfChildren===1&&n.children[$].segments.length===0){let i=La(n.children[$],t,e);return new ie(n.segments,i.children)}return Object.entries(r).forEach(([i,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(o[i]=Zm(n.children[i],t,a))}),Object.entries(n.children).forEach(([i,a])=>{r[i]===void 0&&(o[i]=a)}),new ie(n.segments,o)}}function f6(n,t,e){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return i;let a=n.segments[o],s=e[r];if(Ta(s))break;let c=`${s}`,d=r<e.length-1?e[r+1]:null;if(o>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!Em(c,d,a))return i;r+=2}else{if(!Em(c,{},a))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function b0(n,t,e){let r=n.segments.slice(0,t),o=0;for(;o<e.length;){let i=e[o];if(Ta(i)){let c=y6(i.outlets);return new ie(r,c)}if(o===0&&Td(e[0])){let c=n.segments[t];r.push(new ur(c.path,Dm(e[0]))),o++;continue}let a=Ta(i)?i.outlets[$]:`${i}`,s=o<e.length-1?e[o+1]:null;a&&s&&Td(s)?(r.push(new ur(a,Dm(s))),o+=2):(r.push(new ur(a,{})),o++)}return new ie(r,{})}function y6(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=b0(new ie([],{}),0,r))}),t}function Dm(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function Em(n,t,e){return n==e.path&&pn(t,e.parameters)}var di="imperative",Fe=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Fe||{}),Et=class{id;url;constructor(t,e){this.id=t,this.url=e}},fr=class extends Et{type=Fe.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",o=null){super(t,e),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Lt=class extends Et{urlAfterRedirects;type=Fe.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},st=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(st||{}),ui=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(ui||{}),fn=class extends Et{reason;code;type=Fe.NavigationCancel;constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gn=class extends Et{reason;code;type=Fe.NavigationSkipped;constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o}},hi=class extends Et{error;target;type=Fe.NavigationError;constructor(t,e,r,o){super(t,e),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pa=class extends Et{urlAfterRedirects;state;type=Fe.RoutesRecognized;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Od=class extends Et{urlAfterRedirects;state;type=Fe.GuardsCheckStart;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rd=class extends Et{urlAfterRedirects;state;shouldActivate;type=Fe.GuardsCheckEnd;constructor(t,e,r,o,i){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Nd=class extends Et{urlAfterRedirects;state;type=Fe.ResolveStart;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fd=class extends Et{urlAfterRedirects;state;type=Fe.ResolveEnd;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jd=class{route;type=Fe.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vd=class{route;type=Fe.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hd=class{snapshot;type=Fe.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zd=class{snapshot;type=Fe.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qd=class{snapshot;type=Fe.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bd=class{snapshot;type=Fe.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pi=class{routerEvent;position;anchor;type=Fe.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Oa=class{},fi=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function g6(n){return!(n instanceof Oa)&&!(n instanceof fi)}function m6(n,t){return n.providers&&!n._injector&&(n._injector=ni(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Jt(n){return n.outlet||$}function k6(n,t){let e=n.filter(r=>Jt(r)===t);return e.push(...n.filter(r=>Jt(r)!==t)),e}function mi(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Ud=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return mi(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new io(this.rootInjector)}},io=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Ud(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(V(Oe))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$d=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=_0(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=_0(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=x0(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return x0(t,this._root).map(e=>e.value)}};function _0(n,t){if(n===t.value)return t;for(let e of t.children){let r=_0(n,e);if(r)return r}return null}function x0(n,t){if(n===t.value)return[t];for(let e of t.children){let r=x0(n,e);if(r.length)return r.unshift(t),r}return[]}var Dt=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function si(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Ra=class extends $d{snapshot;constructor(t,e){super(t),this.snapshot=e,P0(this,t)}toString(){return this.snapshot.toString()}};function Km(n){let t=v6(n),e=new Pe([new ur("",{})]),r=new Pe({}),o=new Pe({}),i=new Pe({}),a=new Pe(""),s=new mn(e,r,i,a,o,$,n,t.root);return s.snapshot=t.root,new Ra(new Dt(s,[]),t)}function v6(n){let t={},e={},r={},i=new no([],t,r,"",e,$,n,null,{});return new Na("",new Dt(i,[]))}var mn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,o,i,a,s,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(K(d=>d[Ha]))??j(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(t=>ro(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(t=>ro(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gd(n,t,e="emptyOnly"){let r,{routeConfig:o}=n;return t!==null&&(e==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:b(b({},t.params),n.params),data:b(b({},t.data),n.data),resolve:b(b(b(b({},n.data),t.data),o?.data),n._resolvedData)}:r={params:b({},n.params),data:b({},n.data),resolve:b(b({},n.data),n._resolvedData??{})},o&&Qm(o)&&(r.resolve[Ha]=o.title),r}var no=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ha]}constructor(t,e,r,o,i,a,s,c,d){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ro(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ro(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Na=class extends $d{url;constructor(t,e){super(e),this.url=t,P0(this,e)}toString(){return Xm(this._root)}};function P0(n,t){t.value._routerState=n,t.children.forEach(e=>P0(n,e))}function Xm(n){let t=n.children.length>0?` { ${n.children.map(Xm).join(", ")} } `:"";return`${n.value}${t}`}function m0(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,pn(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),pn(t.params,e.params)||n.paramsSubject.next(e.params),GC(t.url,e.url)||n.urlSubject.next(e.url),pn(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function I0(n,t){let e=pn(n.params,t.params)&&XC(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||I0(n.parent,t.parent))}function Qm(n){return typeof n.title=="string"||n.title===null}var Ym=new P(""),za=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=$;activateEvents=new pe;deactivateEvents=new pe;attachEvents=new pe;detachEvents=new pe;routerOutletData=sm();parentContexts=M(io);location=M(On);changeDetector=M(Xt);inputBinder=M(qa,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:o}=e.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=e;let o=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new S0(e,s,o.injector,this.routerOutletData);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ye({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Rt]})}return n})(),S0=class{route;childContexts;parent;outletData;constructor(t,e,r,o){this.route=t,this.childContexts=e,this.parent=r,this.outletData=o}get(t,e){return t===mn?this.route:t===io?this.childContexts:t===Ym?this.outletData:this.parent.get(t,e)}},qa=new P(""),O0=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,o=Hi([r.queryParams,r.params,r.data]).pipe(it(([i,a,s],c)=>(s=b(b(b({},i),a),s),c===0?j(s):Promise.resolve(s)))).subscribe(i=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let a=dm(r.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:s}of a.inputs)e.activatedComponentRef.setInput(s,i[s])});this.outletDataSubscriptions.set(e,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),R0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ce({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&Y(0,"router-outlet")},dependencies:[za],encapsulation:2})}return n})();function N0(n){let t=n.children&&n.children.map(N0),e=t?B(b({},n),{children:t}):b({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==$&&(e.component=R0),e}function M6(n,t,e){let r=Fa(n,t._root,e?e._root:void 0);return new Ra(r,t)}function Fa(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let o=w6(n,t,e);return new Dt(r,o)}else{if(n.shouldAttach(t.value)){let i=n.retrieve(t.value);if(i!==null){let a=i.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>Fa(n,s)),a}}let r=C6(t.value),o=t.children.map(i=>Fa(n,i));return new Dt(r,o)}}function w6(n,t,e){return t.children.map(r=>{for(let o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Fa(n,r,o);return Fa(n,r)})}function C6(n){return new mn(new Pe(n.url),new Pe(n.params),new Pe(n.queryParams),new Pe(n.fragment),new Pe(n.data),n.outlet,n.component,n)}var yi=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Jm="ngNavigationCancelingError";function Wd(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=pr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=ek(!1,st.Redirect);return o.url=e,o.navigationBehaviorOptions=r,o}function ek(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Jm]=!0,e.cancellationCode=t,e}function b6(n){return tk(n)&&pr(n.url)}function tk(n){return!!n&&n[Jm]}var _6=(n,t,e,r)=>K(o=>(new D0(t,o.targetRouterState,o.currentRouterState,e,r).activate(n),o)),D0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,o,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),m0(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let o=si(e);t.children.forEach(i=>{let a=i.value.outlet;this.deactivateRoutes(i,o[a],r),delete o[a]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,e,r){let o=t.value,i=e?e.value:null;if(o===i)if(o.component){let a=r.getContext(o.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,i=si(t);for(let a of Object.values(i))this.deactivateRouteAndItsChildren(a,o);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,i=si(t);for(let a of Object.values(i))this.deactivateRouteAndItsChildren(a,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let o=si(e);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Bd(i.value.snapshot))}),t.children.length&&this.forwardEvent(new zd(t.value.snapshot))}activateRoutes(t,e,r){let o=t.value,i=e?e.value:null;if(m0(o),o===i)if(o.component){let a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,r);else if(o.component){let a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let s=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),m0(s.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=o,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,r)}},Zd=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},li=class{component;route;constructor(t,e){this.component=t,this.route=e}};function x6(n,t,e){let r=n._root,o=t?t._root:null;return Ea(r,o,e,[r.value])}function I6(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function ki(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!Ru(n)?n:t.get(n):r}function Ea(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=si(t);return n.children.forEach(a=>{S6(a,i[a.value.outlet],e,r.concat([a.value]),o),delete i[a.value.outlet]}),Object.entries(i).forEach(([a,s])=>Aa(s,e.getContext(a),o)),o}function S6(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=n.value,a=t?t.value:null,s=e?e.getContext(n.value.outlet):null;if(a&&i.routeConfig===a.routeConfig){let c=D6(a,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Zd(r)):(i.data=a.data,i._resolvedData=a._resolvedData),i.component?Ea(n,t,s?s.children:null,r,o):Ea(n,t,e,r,o),c&&s&&s.outlet&&s.outlet.isActivated&&o.canDeactivateChecks.push(new li(s.outlet.component,a))}else a&&Aa(t,s,o),o.canActivateChecks.push(new Zd(r)),i.component?Ea(n,null,s?s.children:null,r,o):Ea(n,null,e,r,o);return o}function D6(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!to(n.url,t.url);case"pathParamsOrQueryParamsChange":return!to(n.url,t.url)||!pn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!I0(n,t)||!pn(n.queryParams,t.queryParams);case"paramsChange":default:return!I0(n,t)}}function Aa(n,t,e){let r=si(n),o=n.value;Object.entries(r).forEach(([i,a])=>{o.component?t?Aa(a,t.children.getContext(i),e):Aa(a,null,e):Aa(a,t,e)}),o.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new li(t.outlet.component,o)):e.canDeactivateChecks.push(new li(null,o)):e.canDeactivateChecks.push(new li(null,o))}function Ba(n){return typeof n=="function"}function E6(n){return typeof n=="boolean"}function L6(n){return n&&Ba(n.canLoad)}function A6(n){return n&&Ba(n.canActivate)}function T6(n){return n&&Ba(n.canActivateChild)}function P6(n){return n&&Ba(n.canDeactivate)}function O6(n){return n&&Ba(n.canMatch)}function nk(n){return n instanceof Cn||n?.name==="EmptyError"}var Dd=Symbol("INITIAL_VALUE");function gi(){return it(n=>Hi(n.map(t=>t.pipe(_n(1),wu(Dd)))).pipe(K(t=>{for(let e of t)if(e!==!0){if(e===Dd)return Dd;if(e===!1||R6(e))return e}return!0}),pt(t=>t!==Dd),_n(1)))}function R6(n){return pr(n)||n instanceof yi}function N6(n,t){return Se(e=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:a}}=e;return a.length===0&&i.length===0?j(B(b({},e),{guardsResult:!0})):F6(a,r,o,n).pipe(Se(s=>s&&E6(s)?j6(r,i,n,t):j(s)),K(s=>B(b({},e),{guardsResult:s})))})}function F6(n,t,e,r){return me(n).pipe(Se(o=>B6(o.component,o.route,e,t,r)),xn(o=>o!==!0,!0))}function j6(n,t,e,r){return me(t).pipe(Gn(o=>No(H6(o.route.parent,r),V6(o.route,r),q6(n,o.path,e),z6(n,o.route,e))),xn(o=>o!==!0,!0))}function V6(n,t){return n!==null&&t&&t(new qd(n)),j(!0)}function H6(n,t){return n!==null&&t&&t(new Hd(n)),j(!0)}function z6(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return j(!0);let o=r.map(i=>zi(()=>{let a=mi(t)??e,s=ki(i,a),c=A6(s)?s.canActivate(t,n):Je(a,()=>s(t,n));return Nn(c).pipe(xn())}));return j(o).pipe(gi())}function q6(n,t,e){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(a=>I6(a)).filter(a=>a!==null).map(a=>zi(()=>{let s=a.guards.map(c=>{let d=mi(a.node)??e,l=ki(c,d),u=T6(l)?l.canActivateChild(r,n):Je(d,()=>l(r,n));return Nn(u).pipe(xn())});return j(s).pipe(gi())}));return j(i).pipe(gi())}function B6(n,t,e,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return j(!0);let a=i.map(s=>{let c=mi(t)??o,d=ki(s,c),l=P6(d)?d.canDeactivate(n,t,e,r):Je(c,()=>d(n,t,e,r));return Nn(l).pipe(xn())});return j(a).pipe(gi())}function U6(n,t,e,r){let o=t.canLoad;if(o===void 0||o.length===0)return j(!0);let i=o.map(a=>{let s=ki(a,n),c=L6(s)?s.canLoad(t,e):Je(n,()=>s(t,e));return Nn(c)});return j(i).pipe(gi(),rk(r))}function rk(n){return lu(Ve(t=>{if(typeof t!="boolean")throw Wd(n,t)}),K(t=>t===!0))}function $6(n,t,e,r){let o=t.canMatch;if(!o||o.length===0)return j(!0);let i=o.map(a=>{let s=ki(a,n),c=O6(s)?s.canMatch(t,e):Je(n,()=>s(t,e));return Nn(c)});return j(i).pipe(gi(),rk(r))}var ja=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Va=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function ai(n){return Ro(new ja(n))}function G6(n){return Ro(new A(4e3,!1))}function W6(n){return Ro(ek(!1,st.GuardRejected))}var E0=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return j(r);if(o.numberOfChildren>1||!o.children[$])return G6(`${t.redirectTo}`);o=o.children[$]}}applyRedirectCommands(t,e,r,o,i){return Z6(e,o,i).pipe(K(a=>{if(a instanceof yn)throw new Va(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),t,r);if(a[0]==="/")throw new Va(s);return s}))}applyRedirectCreateUrlTree(t,e,r,o){let i=this.createSegmentGroup(t,e.root,r,o);return new yn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let s=i.substring(1);r[o]=e[s]}else r[o]=i}),r}createSegmentGroup(t,e,r,o){let i=this.createSegments(t,e.segments,r,o),a={};return Object.entries(e.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(t,c,r,o)}),new ie(i,a)}createSegments(t,e,r,o){return e.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,e,r){let o=r[e.path.substring(1)];if(!o)throw new A(4001,!1);return o}findOrReturn(t,e){let r=0;for(let o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}};function Z6(n,t,e){if(typeof n=="string")return j(n);let r=n,{queryParams:o,fragment:i,routeConfig:a,url:s,outlet:c,params:d,data:l,title:u}=t;return Nn(Je(e,()=>r({params:d,data:l,queryParams:o,fragment:i,routeConfig:a,url:s,outlet:c,title:u})))}var L0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function K6(n,t,e,r,o){let i=ok(n,t,e);return i.matched?(r=m6(t,r),$6(r,t,e,o).pipe(K(a=>a===!0?i:b({},L0)))):j(i)}function ok(n,t,e){if(t.path==="**")return X6(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?b({},L0):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(t.matcher||Pm)(e,n,t);if(!o)return b({},L0);let i={};Object.entries(o.posParams??{}).forEach(([s,c])=>{i[s]=c.path});let a=o.consumed.length>0?b(b({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:o.posParams??{}}}function X6(n){return{matched:!0,parameters:n.length>0?Rm(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Lm(n,t,e,r){return e.length>0&&J6(n,e,r)?{segmentGroup:new ie(t,Y6(r,new ie(e,n.children))),slicedSegments:[]}:e.length===0&&eb(n,e,r)?{segmentGroup:new ie(n.segments,Q6(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new ie(n.segments,n.children),slicedSegments:e}}function Q6(n,t,e,r){let o={};for(let i of e)if(Xd(n,t,i)&&!r[Jt(i)]){let a=new ie([],{});o[Jt(i)]=a}return b(b({},r),o)}function Y6(n,t){let e={};e[$]=t;for(let r of n)if(r.path===""&&Jt(r)!==$){let o=new ie([],{});e[Jt(r)]=o}return e}function J6(n,t,e){return e.some(r=>Xd(n,t,r)&&Jt(r)!==$)}function eb(n,t,e){return e.some(r=>Xd(n,t,r))}function Xd(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function tb(n,t,e){return t.length===0&&!n.children[e]}var A0=class{};function nb(n,t,e,r,o,i,a="emptyOnly"){return new T0(n,t,e,r,o,a,i).recognize()}var rb=31,T0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,o,i,a,s){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new E0(this.urlSerializer,this.urlTree)}noMatchError(t){return new A(4002,`'${t.segmentGroup}'`)}recognize(){let t=Lm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(K(({children:e,rootSnapshot:r})=>{let o=new Dt(r,e),i=new Na("",o),a=Um(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(a),{state:i,tree:a}}))}match(t){let e=new no([],Object.freeze({}),Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),$,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,$,e).pipe(K(r=>({children:r,rootSnapshot:e})),bn(r=>{if(r instanceof Va)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ja?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,i):this.processSegment(t,e,r,r.segments,o,!0,i).pipe(K(a=>a instanceof Dt?[a]:[]))}processChildren(t,e,r,o){let i=[];for(let a of Object.keys(r.children))a==="primary"?i.unshift(a):i.push(a);return me(i).pipe(Gn(a=>{let s=r.children[a],c=k6(e,a);return this.processSegmentGroup(t,c,s,a,o)}),Mu((a,s)=>(a.push(...s),a)),Wn(null),vu(),Se(a=>{if(a===null)return ai(r);let s=ik(a);return ob(s),j(s)}))}processSegment(t,e,r,o,i,a,s){return me(e).pipe(Gn(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,r,o,i,a,s).pipe(bn(d=>{if(d instanceof ja)return j(null);throw d}))),xn(c=>!!c),bn(c=>{if(nk(c))return tb(r,o,i)?j(new A0):ai(r);throw c}))}processSegmentAgainstRoute(t,e,r,o,i,a,s,c){return Jt(r)!==a&&(a===$||!Xd(o,i,r))?ai(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,a,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,o,e,r,i,a,c):ai(o)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,i,a,s){let{matched:c,parameters:d,consumedSegments:l,positionalParamSegments:u,remainingSegments:p}=ok(e,o,i);if(!c)return ai(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rb&&(this.allowRedirects=!1));let h=new no(i,d,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Am(o),Jt(o),o.component??o._loadedComponent??null,o,Tm(o)),m=Gd(h,s,this.paramsInheritanceStrategy);return h.params=Object.freeze(m.params),h.data=Object.freeze(m.data),this.applyRedirects.applyRedirectCommands(l,o.redirectTo,u,h,t).pipe(it(w=>this.applyRedirects.lineralizeSegments(o,w)),Se(w=>this.processSegment(t,r,e,w.concat(p),a,!1,s)))}matchSegmentAgainstRoute(t,e,r,o,i,a){let s=K6(e,r,o,t,this.urlSerializer);return r.path==="**"&&(e.children={}),s.pipe(it(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(it(({routes:d})=>{let l=r._loadedInjector??t,{parameters:u,consumedSegments:p,remainingSegments:h}=c,m=new no(p,u,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Am(r),Jt(r),r.component??r._loadedComponent??null,r,Tm(r)),C=Gd(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(C.params),m.data=Object.freeze(C.data);let{segmentGroup:w,slicedSegments:_}=Lm(e,p,h,d);if(_.length===0&&w.hasChildren())return this.processChildren(l,d,w,m).pipe(K(F=>new Dt(m,F)));if(d.length===0&&_.length===0)return j(new Dt(m,[]));let ne=Jt(r)===i;return this.processSegment(l,d,w,_,ne?$:i,!0,m).pipe(K(F=>new Dt(m,F instanceof Dt?[F]:[])))}))):ai(e)))}getChildConfig(t,e,r){return e.children?j({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?j({routes:e._loadedRoutes,injector:e._loadedInjector}):U6(t,e,r,this.urlSerializer).pipe(Se(o=>o?this.configLoader.loadChildren(t,e).pipe(Ve(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):W6(e))):j({routes:[],injector:t})}};function ob(n){n.sort((t,e)=>t.value.outlet===$?-1:e.value.outlet===$?1:t.value.outlet.localeCompare(e.value.outlet))}function ib(n){let t=n.value.routeConfig;return t&&t.path===""}function ik(n){let t=[],e=new Set;for(let r of n){if(!ib(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),e.add(o)):t.push(r)}for(let r of e){let o=ik(r.children);t.push(new Dt(r.value,o))}return t.filter(r=>!e.has(r))}function Am(n){return n.data||{}}function Tm(n){return n.resolve||{}}function ab(n,t,e,r,o,i){return Se(a=>nb(n,t,e,r,a.extractedUrl,o,i).pipe(K(({state:s,tree:c})=>B(b({},a),{targetSnapshot:s,urlAfterRedirects:c}))))}function sb(n,t){return Se(e=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return j(e);let i=new Set(o.map(c=>c.route)),a=new Set;for(let c of i)if(!a.has(c))for(let d of ak(c))a.add(d);let s=0;return me(a).pipe(Gn(c=>i.has(c)?cb(c,r,n,t):(c.data=Gd(c,c.parent,n).resolve,j(void 0))),Ve(()=>s++),Fo(1),Se(c=>s===a.size?j(e):ut))})}function ak(n){let t=n.children.map(e=>ak(e)).flat();return[n,...t]}function cb(n,t,e,r){let o=n.routeConfig,i=n._resolve;return o?.title!==void 0&&!Qm(o)&&(i[Ha]=o.title),zi(()=>(n.data=Gd(n,n.parent,e).resolve,db(i,n,t,r).pipe(K(a=>(n._resolvedData=a,n.data=b(b({},n.data),a),null)))))}function db(n,t,e,r){let o=M0(n);if(o.length===0)return j({});let i={};return me(o).pipe(Se(a=>lb(n[a],t,e,r).pipe(xn(),Ve(s=>{if(s instanceof yi)throw Wd(new hr,s);i[a]=s}))),Fo(1),K(()=>i),bn(a=>nk(a)?ut:Ro(a)))}function lb(n,t,e,r){let o=mi(t)??r,i=ki(n,o),a=i.resolve?i.resolve(t,e):Je(o,()=>i(t,e));return Nn(a)}function k0(n){return it(t=>{let e=n(t);return e?me(e).pipe(K(()=>t)):j(t)})}var F0=(()=>{class n{buildTitle(e){let r,o=e.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===$);return r}getResolvedTitleForRoute(e){return e.data[Ha]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>M(sk),providedIn:"root"})}return n})(),sk=(()=>{class n extends F0{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(V(xm))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yr=new P("",{providedIn:"root",factory:()=>({})}),ao=new P(""),Qd=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(Gh);loadComponent(e,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return j(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=Nn(Je(e,()=>r.loadComponent())).pipe(K(dk),it(lk),Ve(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),qi(()=>{this.componentLoaders.delete(r)})),i=new Oo(o,()=>new Ie).pipe(Po());return this.componentLoaders.set(r,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return j({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=ck(r,this.compiler,e,this.onLoadEndListener).pipe(qi(()=>{this.childrenLoaders.delete(r)})),a=new Oo(i,()=>new Ie).pipe(Po());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ck(n,t,e,r){return Nn(Je(e,()=>n.loadChildren())).pipe(K(dk),it(lk),Se(o=>o instanceof ud||Array.isArray(o)?j(o):me(t.compileModuleAsync(o))),K(o=>{r&&r(n);let i,a,s=!1;return Array.isArray(o)?(a=o,s=!0):(i=o.create(e).injector,a=i.get(ao,[],{optional:!0,self:!0}).flat()),{routes:a.map(N0),injector:i}}))}function ub(n){return n&&typeof n=="object"&&"default"in n}function dk(n){return ub(n)?n.default:n}function lk(n){return j(n)}var Yd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>M(hb),providedIn:"root"})}return n})(),hb=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),j0=new P(""),V0=new P("");function uk(n,t,e){let r=n.get(V0),o=n.get(Le);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let i,a=new Promise(d=>{i=d}),s=o.startViewTransition(()=>(i(),pb(n)));s.ready.catch(d=>{});let{onViewTransitionCreated:c}=r;return c&&Je(n,()=>c({transition:s,from:t,to:e})),a}function pb(n){return new Promise(t=>{ya({read:()=>setTimeout(t)},{injector:n})})}var H0=new P(""),Jd=(()=>{class n{currentNavigation=Ge(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ie;transitionAbortWithErrorSubject=new Ie;configLoader=M(Qd);environmentInjector=M(Oe);destroyRef=M(Gt);urlSerializer=M(oo);rootContexts=M(io);location=M(lr);inputBindingEnabled=M(qa,{optional:!0})!==null;titleStrategy=M(F0);options=M(yr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(Yd);createViewTransition=M(j0,{optional:!0});navigationErrorHandler=M(H0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>j(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new jd(o)),r=o=>this.events.next(new Vd(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;qe(()=>{this.transitions?.next(B(b({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(e){return this.transitions=new Pe(null),this.transitions.pipe(pt(r=>r!==null),it(r=>{let o=!1;return j(r).pipe(it(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",st.SupersededByNewNavigation),ut;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?B(b({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=i.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&s!=="reload")return this.events.next(new gn(i.id,this.urlSerializer.serialize(i.rawUrl),"",ui.IgnoredSameUrlNavigation)),i.resolve(!1),ut;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return j(i).pipe(it(c=>(this.events.next(new fr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?ut:Promise.resolve(c))),ab(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(l=>(l.finalUrl=c.urlAfterRedirects,l));let d=new Pa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:d,source:l,restoredState:u,extras:p}=i,h=new fr(c,this.urlSerializer.serialize(d),l,u);this.events.next(h);let m=Km(this.rootComponentType).snapshot;return this.currentTransition=r=B(b({},i),{targetSnapshot:m,urlAfterRedirects:d,extras:B(b({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(C=>(C.finalUrl=d,C)),j(r)}else return this.events.next(new gn(i.id,this.urlSerializer.serialize(i.extractedUrl),"",ui.IgnoredByUrlHandlingStrategy)),i.resolve(!1),ut}),Ve(i=>{let a=new Od(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(a)}),K(i=>(this.currentTransition=r=B(b({},i),{guards:x6(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),N6(this.environmentInjector,i=>this.events.next(i)),Ve(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw Wd(this.urlSerializer,i.guardsResult);let a=new Rd(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(a)}),pt(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",st.GuardRejected),!1)),k0(i=>{if(i.guards.canActivateChecks.length!==0)return j(i).pipe(Ve(a=>{let s=new Nd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),it(a=>{let s=!1;return j(a).pipe(sb(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(a,"",st.NoDataFromResolver)}}))}),Ve(a=>{let s=new Fd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}))}),k0(i=>{let a=s=>{let c=[];if(s.routeConfig?.loadComponent){let d=mi(s)??this.environmentInjector;c.push(this.configLoader.loadComponent(d,s.routeConfig).pipe(Ve(l=>{s.component=l}),K(()=>{})))}for(let d of s.children)c.push(...a(d));return c};return Hi(a(i.targetSnapshot.root)).pipe(Wn(null),_n(1))}),k0(()=>this.afterPreactivation()),it(()=>{let{currentSnapshot:i,targetSnapshot:a}=r,s=this.createViewTransition?.(this.environmentInjector,i.root,a.root);return s?me(s).pipe(K(()=>r)):j(r)}),K(i=>{let a=M6(e.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=B(b({},i),{targetRouterState:a}),this.currentNavigation.update(s=>(s.targetRouterState=a,s)),r}),Ve(()=>{this.events.next(new Oa)}),_6(this.rootContexts,e.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),_n(1),dc(new Q(i=>{let a=r.abortController.signal,s=()=>i.next();return a.addEventListener("abort",s),()=>a.removeEventListener("abort",s)}).pipe(pt(()=>!o&&!r.targetRouterState),Ve(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",st.Aborted)}))),Ve({next:i=>{o=!0,this.lastSuccessfulNavigation=qe(this.currentNavigation),this.events.next(new Lt(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),dc(this.transitionAbortWithErrorSubject.pipe(Ve(i=>{throw i}))),qi(()=>{o||this.cancelNavigationTransition(r,"",st.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),bn(i=>{if(this.destroyed)return r.resolve(!1),ut;if(o=!0,tk(i))this.events.next(new fn(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),b6(i)?this.events.next(new fi(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let a=new hi(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let s=Je(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(s instanceof yi){let{message:c,cancellationCode:d}=Wd(this.urlSerializer,s);this.events.next(new fn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,d)),this.events.next(new fi(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(a),i}catch(s){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(s)}}return ut}))}))}cancelNavigationTransition(e,r,o){let i=new fn(e.id,this.urlSerializer.serialize(e.extractedUrl),r,o);this.events.next(i),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=qe(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return e.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fb(n){return n!==di}var hk=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>M(yb),providedIn:"root"})}return n})(),Kd=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},yb=(()=>{class n extends Kd{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Zt(n)))(o||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pk=(()=>{class n{urlSerializer=M(oo);options=M(yr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(lr);urlHandlingStrategy=M(Yd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new yn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:o}){let i=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,a=o??i;return a instanceof yn?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:o}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=e):this.rawUrlTree=o}routerState=Km(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>M(gb),providedIn:"root"})}return n})(),gb=(()=>{class n extends pk{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof fr?this.updateStateMemento():e instanceof gn?this.commitTransition(r):e instanceof Pa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Oa?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof fn&&e.code!==st.SupersededByNewNavigation&&e.code!==st.Redirect?this.restoreHistory(r):e instanceof hi?this.restoreHistory(r,!0):e instanceof Lt&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:o}){let{replaceUrl:i,state:a}=r;if(this.location.isCurrentPathEqualTo(e)||i){let s=this.browserPageId,c=b(b({},a),this.generateNgRouterState(o,s));this.location.replaceState(e,"",c)}else{let s=b(b({},a),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===e.finalUrl&&i===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Zt(n)))(o||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function el(n,t){n.events.pipe(pt(e=>e instanceof Lt||e instanceof fn||e instanceof hi||e instanceof gn),K(e=>e instanceof Lt||e instanceof gn?0:(e instanceof fn?e.code===st.Redirect||e.code===st.SupersededByNewNavigation:!1)?2:1),pt(e=>e!==2),_n(1)).subscribe(()=>{t()})}var mb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ce=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(Ph);stateManager=M(pk);options=M(yr,{optional:!0})||{};pendingTasks=M(An);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(Jd);urlSerializer=M(oo);location=M(lr);urlHandlingStrategy=M(Yd);injector=M(Oe);_events=new Ie;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(hk);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(ao,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(qa,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new De;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=qe(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof fn&&r.code!==st.Redirect&&r.code!==st.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Lt)this.navigated=!0;else if(r instanceof fi){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=b({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fb(o.source)},a);this.scheduleNavigation(s,di,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}g6(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),di,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,o)=>{this.navigateToSyncWithBrowser(e,o,r)})}navigateToSyncWithBrowser(e,r,o){let i={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=b({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let s=this.parseUrl(e);this.scheduleNavigation(s,r,a,i).catch(c=>{this.disposed||this.injector.get(It)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return qe(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(N0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:o,queryParams:i,fragment:a,queryParamsHandling:s,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:a,l=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":l=b(b({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}l!==null&&(l=this.removeEmptyProps(l));let u;try{let p=o?o.snapshot:this.routerState.snapshot.root;u=$m(p)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),u=this.currentUrlTree.root}return Gm(u,e,l,d??null)}navigateByUrl(e,r={skipLocationChange:!1}){let o=pr(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,di,null,r)}navigate(e,r={skipLocationChange:!1}){return vb(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Dn(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,r){let o;if(r===!0?o=b({},mb):r===!1?o=b({},kb):o=r,pr(e))return Im(this.currentUrlTree,e,o);let i=this.parseUrl(e);return Im(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.entries(e).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(e,r,o,i,a){if(this.disposed)return Promise.resolve(!1);let s,c,d;a?(s=a.resolve,c=a.reject,d=a.promise):d=new Promise((u,p)=>{s=u,c=p});let l=this.pendingTasks.add();return el(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:i,resolve:s,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vb(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new A(4008,!1)}var vi=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ge(null);get href(){return qe(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ie;applicationErrorHandler=M(It);options=M(yr,{optional:!0});constructor(e,r,o,i,a,s){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=a,this.locationStrategy=s,this.reactiveHref.set(M(new gd("href"),{optional:!0}));let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,r=o=>o==="merge"||o==="preserve";e||=r(this.queryParamsHandling),e||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(o=>{o instanceof Lt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(pr(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,o,i,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||r||o||i||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c)?.catch(d=>{this.applicationErrorHandler(d)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,e,r):o.removeAttribute(i,e)}get urlTree(){return this.routerLinkInput===null?null:pr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(T(Ce),T(mn),pa("tabindex"),T(St),T(We),T(Yt))};static \u0275dir=ye({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,o){r&1&&x("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&eo("href",o.reactiveHref(),dh)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",dr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",dr],replaceUrl:[2,"replaceUrl","replaceUrl",dr],routerLink:"routerLink"},features:[Rt]})}return n})(),q0=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new pe;constructor(e,r,o,i,a){this.router=e,this.element=r,this.renderer=o,this.cdr=i,this.link=a,this.routerEventsSubscription=e.events.subscribe(s=>{s instanceof Lt&&this.update()})}ngAfterContentInit(){j(this.links.changes,j(null)).pipe($n()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=me(e).pipe($n()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=Mb(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let i=o.urlTree;return i?e.isActive(i,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||n)(T(Ce),T(We),T(St),T(Xt),T(vi,8))};static \u0275dir=ye({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,i){if(r&1&&zh(i,vi,5),r&2){let a;qh(a=Bh())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Rt]})}return n})();function Mb(n){return!!n.paths}var Ua=class{};var fk=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,o,i){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(pt(e=>e instanceof Lt),Gn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=ni(i.providers,e,`Route: ${i.path}`));let a=i._injector??e,s=i._loadedInjector??a;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(a,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(s,i.children??i._loadedRoutes))}return me(o).pipe($n())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(e,r):o=j(null);let i=o.pipe(Se(a=>a===null?j(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(e,r);return me([i,a]).pipe($n())}else return i})}static \u0275fac=function(r){return new(r||n)(V(Ce),V(Oe),V(Ua),V(Qd))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yk=new P(""),wb=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=di;restoredId=0;store={};constructor(e,r,o,i,a={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof fr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Lt?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof gn&&e.code===ui.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof pi))return;let r={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,r):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>f(this,null,function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new pi(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Eh()};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function B0(n,...t){return Xi([{provide:ao,multi:!0,useValue:n},[],{provide:mn,useFactory:gk,deps:[Ce]},{provide:ka,multi:!0,useFactory:mk},t.map(e=>e.\u0275providers)])}function gk(n){return n.routerState.root}function $a(n,t){return{\u0275kind:n,\u0275providers:t}}function mk(){let n=M(Ye);return t=>{let e=n.get(Rn);if(t!==e.components[0])return;let r=n.get(Ce),o=n.get(kk);n.get(U0)===1&&r.initialNavigation(),n.get(wk,null,{optional:!0})?.setUpPreloading(),n.get(yk,null,{optional:!0})?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var kk=new P("",{factory:()=>new Ie}),U0=new P("",{providedIn:"root",factory:()=>1});function vk(){let n=[{provide:sh,useValue:!0},{provide:U0,useValue:0},hd(()=>{let t=M(Ye);return t.get(n0,Promise.resolve()).then(()=>new Promise(r=>{let o=t.get(Ce),i=t.get(kk);el(o,()=>{r(!0)}),t.get(Jd).afterPreactivation=()=>(r(!0),i.closed?j(void 0):i),o.initialNavigation()}))})];return $a(2,n)}function Mk(){let n=[hd(()=>{M(Ce).setUpLocationChangeListener()}),{provide:U0,useValue:2}];return $a(3,n)}var wk=new P("");function Ck(n){return $a(0,[{provide:wk,useExisting:fk},{provide:Ua,useExisting:n}])}function bk(){return $a(8,[O0,{provide:qa,useExisting:O0}])}function _k(n){Pn("NgRouterViewTransitions");let t=[{provide:j0,useValue:uk},{provide:V0,useValue:b({skipNextTransition:!!n?.skipInitialTransition},n)}];return $a(9,t)}var xk=[lr,{provide:oo,useClass:hr},Ce,io,{provide:mn,useFactory:gk,deps:[Ce]},Qd,[]],$0=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[xk,[],{provide:ao,multi:!0,useValue:e},[],r?.errorHandler?{provide:H0,useValue:r.errorHandler}:[],{provide:yr,useValue:r||{}},r?.useHash?bb():_b(),Cb(),r?.preloadingStrategy?Ck(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?xb(r):[],r?.bindToComponentInputs?bk().\u0275providers:[],r?.enableViewTransitions?_k().\u0275providers:[],Ib()]}}static forChild(e){return{ngModule:n,providers:[{provide:ao,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Nt({type:n});static \u0275inj=_t({})}return n})();function Cb(){return{provide:yk,useFactory:()=>{let n=M(mm),t=M(Ae),e=M(yr),r=M(Jd),o=M(oo);return e.scrollOffset&&n.setOffset(e.scrollOffset),new wb(o,r,n,t,e)}}}function bb(){return{provide:Yt,useClass:r0}}function _b(){return{provide:Yt,useClass:Md}}function xb(n){return[n.initialNavigation==="disabled"?Mk().\u0275providers:[],n.initialNavigation==="enabledBlocking"?vk().\u0275providers:[]]}var z0=new P("");function Ib(){return[{provide:z0,useFactory:mk},{provide:ka,multi:!0,useExisting:z0}]}var Nk=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(T(St),T(We))};static \u0275dir=ye({type:n})}return n})(),dl=(()=>{class n extends Nk{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Zt(n)))(o||n)}})();static \u0275dir=ye({type:n,features:[yt]})}return n})(),Ya=new P(""),Sb={provide:Ya,useExisting:bt(()=>Z0),multi:!0},Z0=(()=>{class n extends dl{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Zt(n)))(o||n)}})();static \u0275dir=ye({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){r&1&&x("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[un([Sb]),yt]})}return n})(),Db={provide:Ya,useExisting:bt(()=>tt),multi:!0};function Eb(){let n=Ft()?Ft().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Lb=new P(""),tt=(()=>{class n extends Nk{_compositionMode;_composing=!1;constructor(e,r,o){super(e,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!Eb())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(T(St),T(We),T(Lb,8))};static \u0275dir=ye({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&x("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},standalone:!1,features:[un([Db]),yt]})}return n})();function Ab(n){return n==null||Fk(n)===0}function Fk(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var ll=new P(""),jk=new P("");function Tb(n){return Ab(n.value)?{required:!0}:null}function Pb(n){return t=>{let e=t.value?.length??Fk(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function Sk(n){return null}function Vk(n){return n!=null}function Hk(n){return cr(n)?me(n):n}function zk(n){let t={};return n.forEach(e=>{t=e!=null?b(b({},t),e):t}),Object.keys(t).length===0?null:t}function qk(n,t){return t.map(e=>e(n))}function Ob(n){return!n.validate}function Bk(n){return n.map(t=>Ob(t)?t:e=>t.validate(e))}function Rb(n){if(!n)return null;let t=n.filter(Vk);return t.length==0?null:function(e){return zk(qk(e,t))}}function K0(n){return n!=null?Rb(Bk(n)):null}function Nb(n){if(!n)return null;let t=n.filter(Vk);return t.length==0?null:function(e){let r=qk(e,t).map(Hk);return ku(r).pipe(K(zk))}}function X0(n){return n!=null?Nb(Bk(n)):null}function Dk(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Fb(n){return n._rawValidators}function jb(n){return n._rawAsyncValidators}function G0(n){return n?Array.isArray(n)?n:[n]:[]}function nl(n,t){return Array.isArray(n)?n.includes(t):n===t}function Ek(n,t){let e=G0(t);return G0(n).forEach(o=>{nl(e,o)||e.push(o)}),e}function Lk(n,t){return G0(t).filter(e=>!nl(n,e))}var rl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=K0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=X0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Ci=class extends rl{name;get formDirective(){return null}get path(){return null}},Qa=class extends rl{_parent=null;name=null;valueAccessor=null},ol=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Vb={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},cz=B(b({},Vb),{"[class.ng-submitted]":"isSubmitted"}),gt=(()=>{class n extends ol{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(T(Qa,2))};static \u0275dir=ye({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&_e("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[yt]})}return n})(),mr=(()=>{class n extends ol{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(T(Ci,10))};static \u0275dir=ye({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&_e("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[yt]})}return n})();var Ga="VALID",tl="INVALID",Mi="PENDING",Wa="DISABLED",gr=class{},il=class extends gr{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Ka=class extends gr{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Xa=class extends gr{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},wi=class extends gr{status;source;constructor(t,e){super(),this.status=t,this.source=e}},W0=class extends gr{source;constructor(t){super(),this.source=t}},al=class extends gr{source;constructor(t){super(),this.source=t}};function Uk(n){return(ul(n)?n.validators:n)||null}function Hb(n){return Array.isArray(n)?K0(n):n||null}function $k(n,t){return(ul(t)?t.asyncValidators:n)||null}function zb(n){return Array.isArray(n)?X0(n):n||null}function ul(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function qb(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new A(1e3,"");if(!r[e])throw new A(1001,"")}function Bb(n,t,e){n._forEachChild((r,o)=>{if(e[o]===void 0)throw new A(1002,"")})}var sl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return qe(this.statusReactive)}set status(t){qe(()=>this.statusReactive.set(t))}_status=ii(()=>this.statusReactive());statusReactive=Ge(void 0);get valid(){return this.status===Ga}get invalid(){return this.status===tl}get pending(){return this.status==Mi}get disabled(){return this.status===Wa}get enabled(){return this.status!==Wa}errors;get pristine(){return qe(this.pristineReactive)}set pristine(t){qe(()=>this.pristineReactive.set(t))}_pristine=ii(()=>this.pristineReactive());pristineReactive=Ge(!0);get dirty(){return!this.pristine}get touched(){return qe(this.touchedReactive)}set touched(t){qe(()=>this.touchedReactive.set(t))}_touched=ii(()=>this.touchedReactive());touchedReactive=Ge(!1);get untouched(){return!this.touched}_events=new Ie;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ek(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ek(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Lk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Lk(t,this._rawAsyncValidators))}hasValidator(t){return nl(this._rawValidators,t)}hasAsyncValidator(t){return nl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(B(b({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new Xa(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new Xa(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(B(b({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new Ka(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new Ka(!0,r))}markAsPending(t={}){this.status=Mi;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new wi(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(B(b({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Wa,this.errors=null,this._forEachChild(o=>{o.disable(B(b({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new il(this.value,r)),this._events.next(new wi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(B(b({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ga,this._forEachChild(r=>{r.enable(B(b({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(B(b({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ga||this.status===Mi)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new il(this.value,e)),this._events.next(new wi(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(B(b({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wa:Ga}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Mi,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let r=Hk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new wi(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new pe,this.statusChanges=new pe}_calculateStatus(){return this._allControlsDisabled()?Wa:this.errors?tl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mi)?Mi:this._anyControlsHaveStatus(tl)?tl:Ga}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),o&&this._events.next(new Ka(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Xa(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ul(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Hb(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=zb(this._rawAsyncValidators)}},cl=class extends sl{constructor(t,e,r){super(Uk(e),$k(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Bb(this,!0,t),Object.keys(t).forEach(r=>{qb(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new al(this))}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Q0=new P("",{providedIn:"root",factory:()=>Y0}),Y0="always";function Ub(n,t){return[...t.path,n]}function Gk(n,t,e=Y0){Wk(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),Gb(n,t),Zb(n,t),Wb(n,t),$b(n,t)}function Ak(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function $b(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Wk(n,t){let e=Fb(n);t.validator!==null?n.setValidators(Dk(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=jb(n);t.asyncValidator!==null?n.setAsyncValidators(Dk(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let o=()=>n.updateValueAndValidity();Ak(t._rawValidators,o),Ak(t._rawAsyncValidators,o)}function Gb(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Zk(n,t)})}function Wb(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Zk(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function Zk(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Zb(n,t){let e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function Kb(n,t){n==null,Wk(n,t)}function Xb(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Qb(n){return Object.getPrototypeOf(n.constructor)===dl}function Yb(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Jb(n,t){if(!t)return null;Array.isArray(t);let e,r,o;return t.forEach(i=>{i.constructor===tt?e=i:Qb(i)?r=i:o=i}),o||r||e||null}var e_={provide:Ci,useExisting:bt(()=>Fn)},Za=Promise.resolve(),Fn=(()=>{class n extends Ci{callSetDisabledState;get submitted(){return qe(this.submittedReactive)}_submitted=ii(()=>this.submittedReactive());submittedReactive=Ge(!1);_directives=new Set;form;ngSubmit=new pe;options;constructor(e,r,o){super(),this.callSetDisabledState=o,this.form=new cl({},K0(e),X0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Za.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Gk(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Za.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Za.then(()=>{let r=this._findContainer(e.path),o=new cl({});Kb(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Za.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Za.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Yb(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new W0(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||n)(T(ll,10),T(jk,10),T(Q0,8))};static \u0275dir=ye({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&x("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[un([e_]),yt]})}return n})();function Tk(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Pk(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var t_=class extends sl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(Uk(e),$k(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ul(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Pk(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new al(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Tk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Tk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Pk(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var n_={provide:Qa,useExisting:bt(()=>ct)},Ok=Promise.resolve(),ct=(()=>{class n extends Qa{_changeDetectorRef;callSetDisabledState;control=new t_;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new pe;constructor(e,r,o,i,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Jb(this,i)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Xb(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Gk(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Ok.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,o=r!==0&&dr(r);Ok.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Ub(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(T(Ci,9),T(ll,10),T(jk,10),T(Ya,10),T(Xt,8),T(Q0,8))};static \u0275dir=ye({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[un([n_]),yt,Rt]})}return n})();var kr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ye({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var r_={provide:Ya,useExisting:bt(()=>vr),multi:!0};function Kk(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function o_(n){return n.split(":")[0]}var vr=(()=>{class n extends dl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=M(Rn).injector;destroyRef=M(Gt);cdr=M(Xt);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,ya({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let r=this._getOptionId(e),o=Kk(r,e);this.setProperty("value",o)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=o_(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Zt(n)))(o||n)}})();static \u0275dir=ye({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&x("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[un([r_]),yt]})}return n})(),bi=(()=>{class n{_element;_renderer;_select;id;constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Kk(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(T(We),T(St),T(vr,9))};static \u0275dir=ye({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),i_={provide:Ya,useExisting:bt(()=>Xk),multi:!0};function Rk(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function a_(n){return n.split(":")[0]}var Xk=(()=>{class n extends dl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let o=e.map(i=>this._getOptionId(i));r=(i,a)=>{i._setSelected(o.indexOf(a.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let a=i;for(let s=0;s<a.length;s++){let c=a[s],d=this._getOptionValue(c.value);o.push(d)}}else{let a=r.options;for(let s=0;s<a.length;s++){let c=a[s];if(c.selected){let d=this._getOptionValue(c.value);o.push(d)}}}this.value=o,e(o)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=a_(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Zt(n)))(o||n)}})();static \u0275dir=ye({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&x("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[un([i_]),yt]})}return n})(),_i=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Rk(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Rk(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(T(We),T(St),T(Xk,9))};static \u0275dir=ye({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function s_(n){return typeof n=="number"?n:parseInt(n,10)}var Qk=(()=>{class n{_validator=Sk;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Sk,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ye({type:n,features:[Rt]})}return n})();var c_={provide:ll,useExisting:bt(()=>jn),multi:!0};var jn=(()=>{class n extends Qk{required;inputName="required";normalizeInput=dr;createValidator=e=>Tb;enabled(e){return e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Zt(n)))(o||n)}})();static \u0275dir=ye({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&eo("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[un([c_]),yt]})}return n})();var d_={provide:ll,useExisting:bt(()=>Ja),multi:!0},Ja=(()=>{class n extends Qk{minlength;inputName="minlength";normalizeInput=e=>s_(e);createValidator=e=>Pb(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=Zt(n)))(o||n)}})();static \u0275dir=ye({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&eo("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[un([d_]),yt]})}return n})();var l_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Nt({type:n});static \u0275inj=_t({})}return n})();var mt=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Q0,useValue:e.callSetDisabledState??Y0}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Nt({type:n});static \u0275inj=_t({imports:[l_]})}return n})();var u_=["*"];var Yk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]];var Jk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]];var ev=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]];var tv=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]];var nv=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]];var rv=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]];var ov=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]];var iv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]];var av=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]];var sv=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]];var cv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]];var dv=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]];var lv=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]];var uv=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]];var hv=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]];var pv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]];var fv=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]];var yv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]];var es={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},J0=new P("LucideIcons",{factory:()=>new ts({})}),ts=class{constructor(t){this.icons=t}getIcon(t){return this.hasIcon(t)?this.icons[t]:null}hasIcon(t){return typeof this.icons=="object"&&t in this.icons}},h_=(()=>{class n{constructor(){this.color=es.stroke,this.size=es.width,this.strokeWidth=es["stroke-width"],this.absoluteStrokeWidth=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function p_(n,t=3){return parseFloat(n.toFixed(t)).toString(10)}var nt=(()=>{class n{constructor(e,r,o,i,a){this.elem=e,this.renderer=r,this.changeDetector=o,this.iconProviders=i,this.iconConfig=a,this.absoluteStrokeWidth=!1,this.defaultSize=es.height}get size(){return this._size??this.iconConfig.size}set size(e){e?this._size=this.parseNumber(e):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(e){e?this._strokeWidth=this.parseNumber(e):delete this._strokeWidth}ngOnChanges(e){if(e.name||e.img||e.color||e.size||e.absoluteStrokeWidth||e.strokeWidth||e.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let o=this.getIcon(this.toPascalCase(r));if(o)this.replaceElement(o);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(e){let r=B(b({},es),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?p_(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),o=this.createElement(["svg",r,e]);o.classList.add("lucide"),typeof this.name=="string"&&o.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&o.classList.add(...this.class.split(/ /).map(a=>a.trim()).filter(a=>a.length>0));let i=this.elem.nativeElement.childNodes;for(let a of i)this.renderer.removeChild(this.elem.nativeElement,a);this.renderer.appendChild(this.elem.nativeElement,o)}toPascalCase(e){return e.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,o,i)=>o.toUpperCase()+i.toLowerCase())}parseNumber(e){if(typeof e=="string"){let r=parseInt(e,10);if(isNaN(r))throw new Error(`${e} is not numeric.`);return r}return e}getIcon(e){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(e))return r.getIcon(e);return null}createElement([e,r,o=[]]){let i=this.renderer.createElement(e,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(a=>{let s=typeof r[a]=="string"?r[a]:r[a].toString(10);this.renderer.setAttribute(i,a,s)}),o.length&&o.forEach(a=>{let s=this.createElement(a);this.renderer.appendChild(i,s)}),i}}return n.\u0275fac=function(e){return new(e||n)(T(We),T(St),T(Xt),T(J0),T(h_))},n.\u0275cmp=ce({type:n,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[Rt],ngContentSelectors:u_,decls:1,vars:0,template:function(e,r){e&1&&(Vh(),Hh(0))},encapsulation:2}),n})(),ep=class{constructor(t){this.icons=t}},f_=n=>new ts(n??{}),Ze=(()=>{class n{static pick(e){return{ngModule:n,providers:[{provide:J0,multi:!0,useValue:new ts(e)},{provide:J0,multi:!0,useFactory:f_,deps:[[new rh,ep]]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=_t({imports:[[]]}),n})();ge();var gv=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};var ns=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},rs=class extends ns{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},os=class extends ns{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},is=class extends ns{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},tp=(function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n})(tp||{});var as=class{constructor(t,{headers:e={},customFetch:r,region:o=tp.Any}={}){this.url=t,this.headers=e,this.region=o,this.fetch=gv(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return S(this,arguments,void 0,function*(e,r={}){var o;try{let{headers:i,method:a,body:s,signal:c}=r,d={},{region:l}=r;l||(l=this.region);let u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(d["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let p;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=s):typeof s=="string"?(d["Content-Type"]="text/plain",p=s):typeof FormData<"u"&&s instanceof FormData?p=s:(d["Content-Type"]="application/json",p=JSON.stringify(s)):p=s;let h=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:p,signal:c}).catch(_=>{throw _.name==="AbortError"?_:new rs(_)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new os(h);if(!h.ok)throw new is(h);let C=((o=h.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),w;return C==="application/json"?w=yield h.json():C==="application/octet-stream"||C==="application/pdf"?w=yield h.blob():C==="text/event-stream"?w=h:C==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new rs(i)}:{data:null,error:i,response:i instanceof is||i instanceof os?i.context:void 0}}})}};var kp=W4(Iv(),1),{PostgrestClient:Sv,PostgrestQueryBuilder:Oz,PostgrestFilterBuilder:Rz,PostgrestTransformBuilder:Nz,PostgrestBuilder:Fz,PostgrestError:x_}=kp.default||kp;var vp=class{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let e=process.versions;if(e&&e.node){let r=e.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){let r=this.getWebSocketConstructor();return new r(t,e)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},Mp=vp;var Dv="2.78.0";var Ev=`realtime-js/${Dv}`,Lv="1.0.0";var cs=1e4,Av=1e3,Tv=100,ds=(function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n})(ds||{}),je=(function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n})(je||{}),Vt=(function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n})(Vt||{}),wp=(function(n){return n.websocket="websocket",n})(wp||{}),co=(function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n})(co||{});var pl=class{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let e=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,e,r)}_decodeBroadcast(t,e,r){let o=e.getUint8(1),i=e.getUint8(2),a=this.HEADER_LENGTH+2,s=r.decode(t.slice(a,a+o));a=a+o;let c=r.decode(t.slice(a,a+i));a=a+i;let d=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:s,event:c,payload:d}}};var Ii=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ve=(function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n})(ve||{}),bp=(n,t,e={})=>{var r;let o=(r=e.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=I_(a,n,t,o),i),{}):{}},I_=(n,t,e,r)=>{let o=t.find(s=>s.name===n),i=o?.type,a=e[n];return i&&!r.includes(i)?Pv(i,a):Cp(a)},Pv=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return L_(t,e)}switch(n){case ve.bool:return S_(t);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return D_(t);case ve.json:case ve.jsonb:return E_(t);case ve.timestamp:return A_(t);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return Cp(t);default:return Cp(t)}},Cp=n=>n,S_=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},D_=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},E_=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},L_=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let i,a=n.slice(1,e);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(s=>Pv(t,s))}return n},A_=n=>typeof n=="string"?n.replace(" ","T"):n,fl=n=>{let t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var Si=class{constructor(t,e,r={},o=cs){this.channel=t,this.event=e,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var ls=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,o,i,a),this.pendingDiffs.forEach(c=>{this.state=n.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=n.syncDiff(this.state,o,i,a),s())}),this.onJoin((o,i,a)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:a})}),this.onLeave((o,i,a)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,o){let i=this.cloneDeep(t),a=this.transformState(e),s={},c={};return this.map(i,(d,l)=>{a[d]||(c[d]=l)}),this.map(a,(d,l)=>{let u=i[d];if(u){let p=l.map(w=>w.presence_ref),h=u.map(w=>w.presence_ref),m=l.filter(w=>h.indexOf(w.presence_ref)<0),C=u.filter(w=>p.indexOf(w.presence_ref)<0);m.length>0&&(s[d]=m),C.length>0&&(c[d]=C)}else s[d]=l}),this.syncDiff(i,{joins:s,leaves:c},r,o)}static syncDiff(t,e,r,o){let{joins:i,leaves:a}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(s,c)=>{var d;let l=(d=t[s])!==null&&d!==void 0?d:[];if(t[s]=this.cloneDeep(c),l.length>0){let u=t[s].map(h=>h.presence_ref),p=l.filter(h=>u.indexOf(h.presence_ref)<0);t[s].unshift(...p)}r(s,l,c)}),this.map(a,(s,c)=>{let d=t[s];if(!d)return;let l=c.map(u=>u.presence_ref);d=d.filter(u=>l.indexOf(u.presence_ref)<0),t[s]=d,o(s,d,c),d.length===0&&delete t[s]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let o=t[r];return"metas"in o?e[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):e[r]=o,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var us=(function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n})(us||{}),Vn=(function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n})(Vn||{});var hs=class n{constructor(t,e={config:{}},r){var o,i;if(this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Si(this,Vt.join,this.params,this.timeout),this.rejoinTimer=new Ii(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vt.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new ls(this),this.broadcastEndpointURL=fl(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,e=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==je.closed){let{config:{broadcast:a,presence:s,private:c}}=this.params,d=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&o!==void 0?o:[],l=!!this.bindings[us.PRESENCE]&&this.bindings[us.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,u={},p={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:l}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>t?.(Vn.CHANNEL_ERROR,h)),this._onClose(()=>t?.(Vn.CLOSED)),this.updateJoinPayload(Object.assign({config:p},u)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",m=>f(this,[m],function*({postgres_changes:h}){var C;if(this.socket.setAuth(),h===void 0){t?.(Vn.SUBSCRIBED);return}else{let w=this.bindings.postgres_changes,_=(C=w?.length)!==null&&C!==void 0?C:0,ne=[];for(let F=0;F<_;F++){let N=w[F],{filter:{event:de,schema:en,table:fe,filter:Te}}=N,Bn=h&&h[F];if(Bn&&Bn.event===de&&Bn.schema===en&&Bn.table===fe&&Bn.filter===Te)ne.push(Object.assign(Object.assign({},N),{id:Bn.id}));else{this.unsubscribe(),this.state=je.errored,t?.(Vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ne,t&&t(Vn.SUBSCRIBED);return}})).receive("error",h=>{this.state=je.errored,t?.(Vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(Vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return f(this,arguments,function*(t,e={}){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)})}untrack(){return f(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,e,r){return this.state===je.joined&&t===us.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,r)}httpSend(o,i){return f(this,arguments,function*(t,e,r={}){var a;let s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(e==null)return Promise.reject("Payload is required for httpSend()");let c={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:e,private:this.private}]})},d=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let l=d.statusText;try{let u=yield d.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))})}send(r){return f(this,arguments,function*(t,e={}){var o,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:a,payload:s}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{let l=yield this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=e.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=l.body)===null||i===void 0?void 0:i.cancel(),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,c,d;let l=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),l.receive("ok",()=>a("ok")),l.receive("error",()=>a("error")),l.receive("timeout",()=>a("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=je.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Si(this,Vt.leave,{},t),r.receive("ok",()=>{e(),o("ok")}).receive("timeout",()=>{e(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=je.closed,this.bindings={}}_fetchWithTimeout(t,e,r){return f(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),a=yield this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:o.signal}));return clearTimeout(i),a})}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Si(this,t,e,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Tv){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var o,i;let a=t.toLocaleLowerCase(),{close:s,error:c,leave:d,join:l}=Vt;if(r&&[s,c,d,l].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,e,r);if(e&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(h=>{var m,C,w;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((w=(C=h.filter)===null||C===void 0?void 0:C.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(h=>h.callback(p,r)):(i=this.bindings[a])===null||i===void 0||i.filter(h=>{var m,C,w,_,ne,F;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){let N=h.id,de=(m=h.filter)===null||m===void 0?void 0:m.event;return N&&((C=e.ids)===null||C===void 0?void 0:C.includes(N))&&(de==="*"||de?.toLocaleLowerCase()===((w=e.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{let N=(ne=(_=h?.filter)===null||_===void 0?void 0:_.event)===null||ne===void 0?void 0:ne.toLocaleLowerCase();return N==="*"||N===((F=e?.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof p=="object"&&"ids"in p){let m=p.data,{schema:C,table:w,commit_timestamp:_,type:ne,errors:F}=m;p=Object.assign(Object.assign({},{schema:C,table:w,commit_timestamp:_,eventType:ne,new:{},old:{},errors:F}),this._getPayloadRecords(m))}h.callback(p,r)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let o=t.toLocaleLowerCase(),i={type:o,filter:e,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&n.isEqual(o.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Vt.close,{},t)}_onError(t){this._on(Vt.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=bp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=bp(t.columns,t.old_record)),e}};var _p=()=>{},yl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},P_=[1e3,2e3,5e3,1e4],O_=1e4,R_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ps=class{constructor(t,e){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cs,this.transport=null,this.heartbeatIntervalMs=yl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_p,this.ref=0,this.reconnectTimer=null,this.logger=_p,this.conn=null,this.sendBuffer=[],this.serializer=new pl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>import("./chunk-Z76GK7AR.js").then(({default:s})=>s(...a)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((r=e?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${wp.websocket}`,this.httpEndpoint=fl(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Mp.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Lv}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,e??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return f(this,null,function*(){let e=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return f(this,null,function*(){let t=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ds.connecting:return co.Connecting;case ds.open:return co.Open;case ds.closing:return co.Closing;default:return co.Closed}}isConnected(){return this.connectionState()===co.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){let r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new hs(`realtime:${t}`,e,this);return this.channels.push(i),i}}push(t){let{topic:e,event:r,payload:o,ref:i}=t,a=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${e} ${r} (${i})`,o),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(t=null){return f(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return f(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Av,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},yl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:a}=e,s=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${s}`.trim(),i),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(o,i,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Vt.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(e);return`${t}${r}${o}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([R_],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}_performAuth(t=null){return f(this,null,function*(){let e;t?e=t:this.accessToken?e=yield this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(r=>{let o={access_token:e,version:Ev};e&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Vt.access_token,{access_token:e})}))})}_waitForAuthIfNeeded(){return f(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(e)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ii(()=>f(this,null,function*(){setTimeout(()=>f(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),yl.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var e,r,o,i,a,s,c,d,l;if(this.transport=(e=t?.transport)!==null&&e!==void 0?e:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:cs,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:yl.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=t?.heartbeatCallback)!==null&&s!==void 0?s:_p,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:u=>P_[u-1]||O_,this.encode=(d=t?.encode)!==null&&d!==void 0?d:(u,p)=>p(JSON.stringify(u)),this.decode=(l=t?.decode)!==null&&l!==void 0?l:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};ge();var Di=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function he(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var gl=class extends Di{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},lo=class extends Di{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};ge();ge();var Ei=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},Ov=()=>S(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-Z76GK7AR.js")).Response:Response}),ml=n=>{if(Array.isArray(n))return n.map(e=>ml(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let o=e.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=ml(r)}),t},Rv=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var xp=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},N_=(n,t,e)=>S(void 0,void 0,void 0,function*(){let r=yield Ov();n instanceof r&&!e?.noResolveJson?n.json().then(o=>{let i=n.status||500,a=o?.statusCode||i+"";t(new gl(xp(o),i,a))}).catch(o=>{t(new lo(xp(o),o))}):t(new lo(xp(n),n))}),F_=(n,t,e,r)=>{let o={method:n,headers:t?.headers||{}};return n==="GET"||!r?o:(Rv(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),e))};function fs(n,t,e,r,o,i){return S(this,void 0,void 0,function*(){return new Promise((a,s)=>{n(e,F_(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>N_(c,s,r))})})}function wr(n,t,e,r){return S(this,void 0,void 0,function*(){return fs(n,"GET",t,e,r)})}function kt(n,t,e,r,o){return S(this,void 0,void 0,function*(){return fs(n,"POST",t,r,o,e)})}function ys(n,t,e,r,o){return S(this,void 0,void 0,function*(){return fs(n,"PUT",t,r,o,e)})}function Nv(n,t,e,r){return S(this,void 0,void 0,function*(){return fs(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function Li(n,t,e,r,o){return S(this,void 0,void 0,function*(){return fs(n,"DELETE",t,r,o,e)})}ge();ge();var kl=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}execute(){return S(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(he(t))return{data:null,error:t};throw t}})}};var Fv,Ip=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Fv]="BlobDownloadBuilder",this.promise=null}asStream(){return new kl(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return S(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(he(t))return{data:null,error:t};throw t}})}};Fv=Symbol.toStringTag;var jv=Ip;var j_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},vl=class{constructor(t,e={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Ei(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,e,r,o){return S(this,void 0,void 0,function*(){try{let i,a=Object.assign(Object.assign({},Vv),o),s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)}),c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(s=Object.assign(Object.assign({},s),o.headers));let d=this._removeEmptyFolders(e),l=this._getFinalPath(d),u=yield(t=="PUT"?ys:kt)(this.fetch,`${this.url}/object/${l}`,i,Object.assign({headers:s},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:u.Id,fullPath:u.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(he(i))return{data:null,error:i};throw i}})}upload(t,e,r){return S(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,o){return S(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(t),a=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let c,d=Object.assign({upsert:Vv.upsert},o),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,l["cache-control"]=`max-age=${d.cacheControl}`,l["content-type"]=d.contentType);let u=yield ys(this.fetch,s.toString(),c,{headers:l});return{data:{path:i,fullPath:u.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(he(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,e){return S(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=Object.assign({},this.headers);e?.upsert&&(o["x-upsert"]="true");let i=yield kt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),a=new URL(this.url+i.url),s=a.searchParams.get("token");if(!s)throw new Di("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}update(t,e,r){return S(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return S(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(he(o))return{data:null,error:o};throw o}})}copy(t,e,r){return S(this,void 0,void 0,function*(){try{return{data:{path:(yield kt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(he(o))return{data:null,error:o};throw o}})}createSignedUrl(t,e,r){return S(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield kt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(he(o))return{data:null,error:o};throw o}})}createSignedUrls(t,e,r){return S(this,void 0,void 0,function*(){try{let o=yield kt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(he(o))return{data:null,error:o};throw o}})}download(t,e){let o=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),a=i?`?${i}`:"",s=this._getFinalPath(t),c=()=>wr(this.fetch,`${this.url}/${o}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new jv(c,this.shouldThrowOnError)}info(t){return S(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield wr(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:ml(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}exists(t){return S(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield Nv(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r)&&r instanceof lo){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),o=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&o.push(i);let s=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&o.push(c);let d=o.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${d}`)}}}remove(t){return S(this,void 0,void 0,function*(){try{return{data:yield Li(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}list(t,e,r){return S(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},j_),e),{prefix:t||""});return{data:yield kt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(he(o))return{data:null,error:o};throw o}})}listV2(t,e){return S(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield kt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};ge();var Ml="2.78.0";var wl={"X-Client-Info":`storage-js/${Ml}`};var Cl=class{constructor(t,e={},r,o){this.shouldThrowOnError=!1;let i=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wl),e),this.fetch=Ei(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return S(this,void 0,void 0,function*(){try{let e=this.listBucketOptionsToQueryString(t);return{data:yield wr(this.fetch,`${this.url}/bucket${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}getBucket(t){return S(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}createBucket(t){return S(this,arguments,void 0,function*(e,r={public:!1}){try{return{data:yield kt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(he(o))return{data:null,error:o};throw o}})}updateBucket(t,e){return S(this,void 0,void 0,function*(){try{return{data:yield ys(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}emptyBucket(t){return S(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}deleteBucket(t){return S(this,void 0,void 0,function*(){try{return{data:yield Li(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}listBucketOptionsToQueryString(t){let e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}};ge();var bl=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wl),e),this.fetch=Ei(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return S(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}listBuckets(t){return S(this,void 0,void 0,function*(){try{let e=new URLSearchParams;t?.limit!==void 0&&e.set("limit",t.limit.toString()),t?.offset!==void 0&&e.set("offset",t.offset.toString()),t?.sortColumn&&e.set("sortColumn",t.sortColumn),t?.sortOrder&&e.set("sortOrder",t.sortOrder),t?.search&&e.set("search",t.search);let r=e.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield wr(this.fetch,o,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}deleteBucket(t){return S(this,void 0,void 0,function*(){try{return{data:yield Li(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}};ge();ge();var Ai={"X-Client-Info":`storage-js/${Ml}`,"Content-Type":"application/json"};var _l=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function rt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Ti=class extends _l{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},xl=class extends _l{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};ge();var Pi=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};var Hv=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var zv=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),V_=(n,t,e)=>S(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!e?.noResolveJson){let o=n.status||500,i=n;if(typeof i.json=="function")i.json().then(a=>{let s=a?.statusCode||a?.code||o+"";t(new Ti(zv(a),o,s))}).catch(()=>{let a=o+"",s=i.statusText||`HTTP ${o} error`;t(new Ti(s,o,a))});else{let a=o+"",s=i.statusText||`HTTP ${o} error`;t(new Ti(s,o,a))}}else t(new xl(zv(n),n))}),H_=(n,t,e,r)=>{let o={method:n,headers:t?.headers||{}};return n==="GET"||!r?o:(Hv(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),e))};function z_(n,t,e,r,o,i){return S(this,void 0,void 0,function*(){return new Promise((a,s)=>{n(e,H_(t,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>V_(c,s,r))})})}function ot(n,t,e,r,o){return S(this,void 0,void 0,function*(){return z_(n,"POST",t,r,o,e)})}var Il=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ai),e),this.fetch=Pi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return S(this,void 0,void 0,function*(){try{return{data:(yield ot(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}getIndex(t,e){return S(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}listIndexes(t){return S(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}deleteIndex(t,e){return S(this,void 0,void 0,function*(){try{return{data:(yield ot(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}};ge();var Sl=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ai),e),this.fetch=Pi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return S(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ot(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}getVectors(t){return S(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}listVectors(t){return S(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ot(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}queryVectors(t){return S(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}deleteVectors(t){return S(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ot(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}};ge();var Dl=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ai),e),this.fetch=Pi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return S(this,void 0,void 0,function*(){try{return{data:(yield ot(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}getBucket(t){return S(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}listBuckets(){return S(this,arguments,void 0,function*(t={}){try{return{data:yield ot(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}deleteBucket(t){return S(this,void 0,void 0,function*(){try{return{data:(yield ot(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}};var gs=class extends Dl{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new El(this.url,this.headers,t,this.fetch)}},El=class extends Il{constructor(t,e,r,o){super(t,e,o),this.vectorBucketName=r}createIndex(t){let e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return S(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return S(this,arguments,void 0,function*(e={}){return t.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){let e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return S(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){let e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return S(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Ll(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Ll=class extends Sl{constructor(t,e,r,o,i){super(t,e,i),this.vectorBucketName=r,this.indexName=o}putVectors(t){let e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return S(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){let e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return S(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return S(this,arguments,void 0,function*(e={}){return t.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){let e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return S(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){let e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return S(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var ms=class extends Cl{constructor(t,e={},r,o){super(t,e,r,o)}from(t){return new vl(this.url,this.headers,t,this.fetch)}get vectors(){return new gs(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bl(this.url+"/iceberg",this.headers,this.fetch)}};var qv="2.78.0";var ks="";typeof Deno<"u"?ks="deno":typeof document<"u"?ks="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ks="react-native":ks="node";var q_={"X-Client-Info":`supabase-js-${ks}/${qv}`},Bv={headers:q_},Uv={schema:"public"},$v={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gv={};qp();var B_=n=>{let t;return n?t=n:typeof fetch>"u"?t=Hp:t=fetch,(...e)=>t(...e)},U_=()=>typeof Headers>"u"?zp:Headers,Wv=(n,t,e)=>{let r=B_(e),o=U_();return(i,a)=>f(null,null,function*(){var s;let c=(s=yield t())!==null&&s!==void 0?s:n,d=new o(a?.headers);return d.has("apikey")||d.set("apikey",n),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:d}))})};function $_(n){return n.endsWith("/")?n:n+"/"}function Zv(n,t){var e,r;let{db:o,auth:i,realtime:a,global:s}=n,{db:c,auth:d,realtime:l,global:u}=t,p={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},l),a),storage:{},global:Object.assign(Object.assign(Object.assign({},u),s),{headers:Object.assign(Object.assign({},(e=u?.headers)!==null&&e!==void 0?e:{}),(r=s?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>f(null,null,function*(){return""})};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}function Kv(n){let t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}ge();ge();var Al="2.78.0";var uo=30*1e3,Tl=3,Pl=Tl*uo,Xv="http://localhost:9999",Qv="supabase.auth.token";var Yv={"X-Client-Info":`gotrue-js/${Al}`};var vs="X-Supabase-Api-Version",Sp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,e4=600*1e3;var Cr=class extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function O(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var Ol=class extends Cr{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function t4(n){return O(n)&&n.name==="AuthApiError"}var Ht=class extends Cr{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},kn=class extends Cr{constructor(t,e,r,o){super(t,r,o),this.name=e,this.status=r}},lt=class extends kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function n4(n){return O(n)&&n.name==="AuthSessionMissingError"}var Hn=class extends kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ho=class extends kn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},po=class extends kn{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function r4(n){return O(n)&&n.name==="AuthImplicitGrantRedirectError"}var Ms=class extends kn{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Oi=class extends kn{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};function Rl(n){return O(n)&&n.name==="AuthRetryableFetchError"}var ws=class extends kn{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var fo=class extends kn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Nl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),o4=` 	
\r=`.split(""),G_=(()=>{let n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<o4.length;t+=1)n[o4[t].charCodeAt(0)]=-2;for(let t=0;t<Nl.length;t+=1)n[Nl[t].charCodeAt(0)]=t;return n})();function i4(n,t,e){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(Nl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(Nl[r]),t.queuedBits-=6}}function a4(n,t,e){let r=G_[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Dp(n){let t=[],e=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=a=>{K_(a,r,e)};for(let a=0;a<n.length;a+=1)a4(n.charCodeAt(a),o,i);return t.join("")}function W_(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Z_(n,t){for(let e=0;e<n.length;e+=1){let r=n.charCodeAt(e);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(n.charCodeAt(e+1)-56320&65535|o)+65536,e+=1}W_(r,t)}}function K_(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function br(n){let t=[],e={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<n.length;o+=1)a4(n.charCodeAt(o),e,r);return new Uint8Array(t)}function s4(n){let t=[];return Z_(n,e=>t.push(e)),new Uint8Array(t)}function zn(n){let t=[],e={queue:0,queuedBits:0},r=o=>{t.push(o)};return n.forEach(o=>i4(o,e,r)),i4(null,e,r),t.join("")}function c4(n){return Math.round(Date.now()/1e3)+n}function d4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}var Ke=()=>typeof window<"u"&&typeof document<"u",yo={tested:!1,writable:!1},Fl=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yo.tested)return yo.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),yo.tested=!0,yo.writable=!0}catch{yo.tested=!0,yo.writable=!1}return yo.writable};function l4(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return e.searchParams.forEach((r,o)=>{t[o]=r}),t}var jl=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},u4=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",go=(n,t,e)=>f(null,null,function*(){yield n.setItem(t,JSON.stringify(e))}),_r=(n,t)=>f(null,null,function*(){let e=yield n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),qn=(n,t)=>f(null,null,function*(){yield n.removeItem(t)}),Cs=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};Cs.promiseConstructor=Promise;function Vl(n){let t=n.split(".");if(t.length!==3)throw new fo("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Jv.test(t[r]))throw new fo("JWT not in base64url format");return{header:JSON.parse(Dp(t[0])),payload:JSON.parse(Dp(t[1])),signature:br(t[2]),raw:{header:t[0],payload:t[1]}}}function h4(n){return f(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),n)})})}function p4(n,t){return new Promise((r,o)=>{f(null,null,function*(){for(let i=0;i<1/0;i++)try{let a=yield n(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){o(a);return}}})})}function X_(n){return("0"+n.toString(16)).substr(-2)}function Q_(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,o="";for(let i=0;i<56;i++)o+=e.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,X_).join("")}function Y_(n){return f(this,null,function*(){let e=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",e),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function J_(n){return f(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=yield Y_(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function mo(n,t,e=!1){return f(this,null,function*(){let r=Q_(),o=r;e&&(o+="/PASSWORD_RECOVERY"),yield go(n,`${t}-code-verifier`,o);let i=yield J_(r);return[i,r===i?"plain":"s256"]})}var ex=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function f4(n){let t=n.headers.get(vs);if(!t||!t.match(ex))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function y4(n){if(!n)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function g4(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var tx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ko(n){if(!tx.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hl(){let n={};return new Proxy(n,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){let r=e.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function m4(n,t){return new Proxy(n,{get:(e,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(e,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,r,o)}})}function Ep(n){return JSON.parse(JSON.stringify(n))}var vo=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),nx=[502,503,504];function k4(n){return f(this,null,function*(){var t;if(!u4(n))throw new Oi(vo(n),0);if(nx.includes(n.status))throw new Oi(vo(n),n.status);let e;try{e=yield n.json()}catch(i){throw new Ht(vo(i),i)}let r,o=f4(n);if(o&&o.getTime()>=Sp["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new ws(vo(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new lt}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new ws(vo(e),n.status,e.weak_password.reasons);throw new Ol(vo(e),n.status||500,r)})}var rx=(n,t,e,r)=>{let o={method:n,headers:t?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),e))};function H(n,t,e,r){return f(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[vs]||(i[vs]=Sp["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let a=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=yield ox(n,t,e+s,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function ox(n,t,e,r,o,i){return f(this,null,function*(){let a=rx(t,r,o,i),s;try{s=yield n(e,Object.assign({},a))}catch(c){throw console.error(c),new Oi(vo(c),0)}if(s.ok||(yield k4(s)),r?.noResolveJson)return s;try{return yield s.json()}catch(c){yield k4(c)}})}function zt(n){var t;let e=null;ix(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=c4(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function Lp(n){let t=zt(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function vn(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function v4(n){return{data:n,error:null}}function M4(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:o,verification_type:i}=n,a=wn(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:e,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},a);return{data:{properties:s,user:c},error:null}}function Ap(n){return n}function ix(n){return n.access_token&&n.refresh_token&&n.expires_in}var zl=["global","local","others"];var Ri=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=jl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return f(this,arguments,function*(t,e=zl[0]){if(zl.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zl.join(", ")}`);try{return yield H(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(O(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return f(this,arguments,function*(t,e={}){try{return yield H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:vn})}catch(o){if(O(o))return{data:{user:null},error:o};throw o}})}generateLink(t){return f(this,null,function*(){try{let{options:e}=t,r=wn(t,["options"]),o=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:M4,redirectTo:e?.redirectTo})}catch(e){if(O(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(t){return f(this,null,function*(){try{return yield H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vn})}catch(e){if(O(e))return{data:{user:null},error:e};throw e}})}listUsers(t){return f(this,null,function*(){var e,r,o,i,a,s,c;try{let d={nextPage:null,lastPage:0,total:0},l=yield H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Ap});if(l.error)throw l.error;let u=yield l.json(),p=(a=l.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=l.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(m=>{let C=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(m.split(";")[1].split("=")[1]);d[`${w}Page`]=C}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},u),d),error:null}}catch(d){if(O(d))return{data:{users:[]},error:d};throw d}})}getUserById(t){return f(this,null,function*(){ko(t);try{return yield H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vn})}catch(e){if(O(e))return{data:{user:null},error:e};throw e}})}updateUserById(t,e){return f(this,null,function*(){ko(t);try{return yield H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:vn})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,e=!1){return f(this,null,function*(){ko(t);try{return yield H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:vn})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return f(this,null,function*(){ko(t.userId);try{let{data:e,error:r}=yield H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:e,error:r}}catch(e){if(O(e))return{data:null,error:e};throw e}})}_deleteFactor(t){return f(this,null,function*(){ko(t.userId),ko(t.id);try{return{data:yield H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(O(e))return{data:null,error:e};throw e}})}_listOAuthClients(t){return f(this,null,function*(){var e,r,o,i,a,s,c;try{let d={nextPage:null,lastPage:0,total:0},l=yield H(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Ap});if(l.error)throw l.error;let u=yield l.json(),p=(a=l.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=l.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(m=>{let C=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(m.split(";")[1].split("=")[1]);d[`${w}Page`]=C}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},u),d),error:null}}catch(d){if(O(d))return{data:{clients:[]},error:d};throw d}})}_createOAuthClient(t){return f(this,null,function*(){try{return yield H(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(O(e))return{data:null,error:e};throw e}})}_getOAuthClient(t){return f(this,null,function*(){try{return yield H(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(O(e))return{data:null,error:e};throw e}})}_updateOAuthClient(t,e){return f(this,null,function*(){try{return yield H(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(t){return f(this,null,function*(){try{return yield H(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(O(e))return{data:null,error:e};throw e}})}_regenerateOAuthClientSecret(t){return f(this,null,function*(){try{return yield H(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(O(e))return{data:null,error:e};throw e}})}};function Tp(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}var Mo={debug:!!(globalThis&&Fl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},bs=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},ql=class extends bs{};function Pp(n,t,e){return f(this,null,function*(){Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>f(null,null,function*(){if(o){Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return yield e()}finally{Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(t===0)throw Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new ql(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Mo.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}function w4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Op(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function C4(n){return parseInt(n,16)}function b4(n){let t=new TextEncoder().encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function _4(n){var t;let{chainId:e,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:a,notBefore:s,requestId:c,resources:d,scheme:l,uri:u,version:p}=n;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}let h=Op(n.address),m=l?`${l}://${r}`:r,C=n.statement?`${n.statement}
`:"",w=`${m} wants you to sign in with your Ethereum account:
${h}

${C}`,_=`URI: ${u}
Version: ${p}
Chain ID: ${e}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(o&&(_+=`
Expiration Time: ${o.toISOString()}`),s&&(_+=`
Not Before: ${s.toISOString()}`),c&&(_+=`
Request ID: ${c}`),d){let ne=`
Resources:`;for(let F of d){if(!F||typeof F!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${F}`);ne+=`
- ${F}`}_+=ne}return`${w}
${_}`}ge();var be=class extends Error{constructor({message:t,code:e,cause:r,name:o}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=e}},wo=class extends be{constructor(t,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:t}),this.name="WebAuthnUnknownError",this.originalError=e}};function x4({error:n,options:t}){var e,r,o;let{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((e=i.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new be({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){let a=window.location.hostname;if(Rp(a)){if(i.rp.id!==a)return new be({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function I4({error:n,options:t}){let{publicKey:e}=t;if(!e)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new be({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){let r=window.location.hostname;if(Rp(r)){if(e.rpId!==r)return new be({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var Np=class{createNewAbortSignal(){if(this.controller){let e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},ax=new Np;function D4(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);let{challenge:t,user:e,excludeCredentials:r}=n,o=wn(n,["challenge","user","excludeCredentials"]),i=br(t).buffer,a=Object.assign(Object.assign({},e),{id:br(e.id).buffer}),s=Object.assign(Object.assign({},o),{challenge:i,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let d=r[c];s.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:br(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function E4(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);let{challenge:t,allowCredentials:e}=n,r=wn(n,["challenge","allowCredentials"]),o=br(t).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(e&&e.length>0){i.allowCredentials=new Array(e.length);for(let a=0;a<e.length;a++){let s=e[a];i.allowCredentials[a]=Object.assign(Object.assign({},s),{id:br(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function L4(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n;return{id:n.id,rawId:n.id,response:{attestationObject:zn(new Uint8Array(n.response.attestationObject)),clientDataJSON:zn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function A4(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n,r=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:zn(new Uint8Array(o.authenticatorData)),clientDataJSON:zn(new Uint8Array(o.clientDataJSON)),signature:zn(new Uint8Array(o.signature)),userHandle:o.userHandle?zn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Rp(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function S4(){var n,t;return!!(Ke()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}function sx(n){return f(this,null,function*(){try{let t=yield navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wo("Browser returned unexpected credential type",t)}:{data:null,error:new wo("Empty credential response",t)}}catch(t){return{data:null,error:x4({error:t,options:n})}}})}function cx(n){return f(this,null,function*(){try{let t=yield navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wo("Browser returned unexpected credential type",t)}:{data:null,error:new wo("Empty credential response",t)}}catch(t){return{data:null,error:I4({error:t,options:n})}}})}var dx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},lx={userVerification:"preferred",hints:["security-key"]};function Bl(...n){let t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),e=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of n)if(o)for(let i in o){let a=o[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(e(a))r[i]=a;else if(t(a)){let s=r[i];t(s)?r[i]=Bl(s,a):r[i]=Bl(a)}else r[i]=a}return r}function ux(n,t){return Bl(dx,n,t||{})}function hx(n,t){return Bl(lx,n,t||{})}var Ul=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){return f(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})}_challenge(a,s){return f(this,arguments,function*({factorId:t,webauthn:e,friendlyName:r,signal:o},i){try{let{data:c,error:d}=yield this.client.mfa.challenge({factorId:t,webauthn:e});if(!c)return{data:null,error:d};let l=o??ax.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:u}=c.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(c.webauthn.type){case"create":{let u=ux(c.webauthn.credential_options.publicKey,i?.create),{data:p,error:h}=yield sx({publicKey:u,signal:l});return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{let u=hx(c.webauthn.credential_options.publicKey,i?.request),{data:p,error:h}=yield cx(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:u,signal:l}));return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(c){return O(c)?{data:null,error:c}:{data:null,error:new Ht("Unexpected error in challenge",c)}}})}_verify(o){return f(this,arguments,function*({challengeId:t,factorId:e,webauthn:r}){return this.client.mfa.verify({factorId:e,challengeId:t,webauthn:r})})}_authenticate(a,s){return f(this,arguments,function*({factorId:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},i){if(!e)return{data:null,error:new Cr("rpId is required for WebAuthn authentication")};try{if(!S4())return{data:null,error:new Ht("Browser does not support WebAuthn",null)};let{data:c,error:d}=yield this.challenge({factorId:t,webauthn:{rpId:e,rpOrigins:r},signal:o},{request:i});if(!c)return{data:null,error:d};let{webauthn:l}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:l.type,rpId:e,rpOrigins:r,credential_response:l.credential_response}})}catch(c){return O(c)?{data:null,error:c}:{data:null,error:new Ht("Unexpected error in authenticate",c)}}})}_register(a,s){return f(this,arguments,function*({friendlyName:t,rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},i){if(!e)return{data:null,error:new Cr("rpId is required for WebAuthn registration")};try{if(!S4())return{data:null,error:new Ht("Browser does not support WebAuthn",null)};let{data:c,error:d}=yield this._enroll({friendlyName:t});if(!c)return yield this.client.mfa.listFactors().then(p=>{var h;return(h=p.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:d};let{data:l,error:u}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:e,rpOrigins:r},signal:o},{create:i});return l?this._verify({factorId:c.id,challengeId:l.challengeId,webauthn:{rpId:e,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(c){return O(c)?{data:null,error:c}:{data:null,error:new Ht("Unexpected error in register",c)}}})}};w4();var px={url:Xv,storageKey:Qv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function T4(n,t,e){return f(this,null,function*(){return yield e()})}var Ni={},fx=(()=>{class n{get jwks(){var e,r;return(r=(e=Ni[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ni[this.storageKey]=Object.assign(Object.assign({},Ni[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ni[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ni[this.storageKey]=Object.assign(Object.assign({},Ni[this.storageKey]),{cachedAt:e})}constructor(e){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},px),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ri({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=jl(i.fetch),this.lock=i.lock||T4,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ke()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Pp:this.lock=T4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ul(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Fl()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tp(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Tp(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>f(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Al}) ${new Date().toISOString()}`,...e),this}initialize(){return f(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=f(this,null,function*(){return yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return f(this,null,function*(){var e;try{let r=l4(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),Ke()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:a}=yield this._getSessionFromURL(r,o);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),r4(a)){let d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return yield this._removeSession(),{error:a}}let{session:s,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),yield this._saveSession(s),setTimeout(()=>f(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return O(r)?{error:r}:{error:new Ht("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return f(this,null,function*(){var r,o,i;try{let a=yield H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:zt}),{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};let d=s.session,l=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:l,session:d},error:null}}catch(a){if(O(a))return{data:{user:null,session:null},error:a};throw a}})}signUp(e){return f(this,null,function*(){var r,o,i;try{let a;if("email"in e){let{email:u,password:p,options:h}=e,m=null,C=null;this.flowType==="pkce"&&([m,C]=yield mo(this.storage,this.storageKey)),a=yield H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:C},xform:zt})}else if("phone"in e){let{phone:u,password:p,options:h}=e;a=yield H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:p,data:(o=h?.data)!==null&&o!==void 0?o:{},channel:(i=h?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:zt})}else throw new ho("You must provide either an email or phone number and a password");let{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};let d=s.session,l=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:l,session:d},error:null}}catch(a){if(O(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithPassword(e){return f(this,null,function*(){try{let r;if("email"in e){let{email:a,password:s,options:c}=e;r=yield H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Lp})}else if("phone"in e){let{phone:a,password:s,options:c}=e;r=yield H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Lp})}else throw new ho("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Hn}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){return f(this,null,function*(){var r,o,i,a;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})})}exchangeCodeForSession(e){return f(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>f(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return f(this,null,function*(){let{chain:r}=e;switch(r){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(e){return f(this,null,function*(){var r,o,i,a,s,c,d,l,u,p,h;let m,C;if("message"in e)m=e.message,C=e.signature;else{let{chain:w,wallet:_,statement:ne,options:F}=e,N;if(Ke())if(typeof _=="object")N=_;else{let Mn=window;if("ethereum"in Mn&&typeof Mn.ethereum=="object"&&"request"in Mn.ethereum&&typeof Mn.ethereum.request=="function")N=Mn.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!F?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=_}let de=new URL((r=F?.url)!==null&&r!==void 0?r:window.location.href),en=yield N.request({method:"eth_requestAccounts"}).then(Mn=>Mn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!en||en.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let fe=Op(en[0]),Te=(o=F?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!Te){let Mn=yield N.request({method:"eth_chainId"});Te=C4(Mn)}let Bn={domain:de.host,address:fe,statement:ne,uri:de.href,version:"1",chainId:Te,nonce:(i=F?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=F?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(c=F?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=F?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(l=F?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(u=F?.signInWithEthereum)===null||u===void 0?void 0:u.resources};m=_4(Bn),C=yield N.request({method:"personal_sign",params:[b4(m),fe]})}try{let{data:w,error:_}=yield H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:C},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:zt});if(_)throw _;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Hn}:(w.session&&(yield this._saveSession(w.session),yield this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:_})}catch(w){if(O(w))return{data:{user:null,session:null},error:w};throw w}})}signInWithSolana(e){return f(this,null,function*(){var r,o,i,a,s,c,d,l,u,p,h,m;let C,w;if("message"in e)C=e.message,w=e.signature;else{let{chain:_,wallet:ne,statement:F,options:N}=e,de;if(Ke())if(typeof ne=="object")de=ne;else{let fe=window;if("solana"in fe&&typeof fe.solana=="object"&&("signIn"in fe.solana&&typeof fe.solana.signIn=="function"||"signMessage"in fe.solana&&typeof fe.solana.signMessage=="function"))de=fe.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof ne!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");de=ne}let en=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in de&&de.signIn){let fe=yield de.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:en.host,uri:en.href}),F?{statement:F}:null)),Te;if(Array.isArray(fe)&&fe[0]&&typeof fe[0]=="object")Te=fe[0];else if(fe&&typeof fe=="object"&&"signedMessage"in fe&&"signature"in fe)Te=fe;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Te&&"signature"in Te&&(typeof Te.signedMessage=="string"||Te.signedMessage instanceof Uint8Array)&&Te.signature instanceof Uint8Array)C=typeof Te.signedMessage=="string"?Te.signedMessage:new TextDecoder().decode(Te.signedMessage),w=Te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in de)||typeof de.signMessage!="function"||!("publicKey"in de)||typeof de!="object"||!de.publicKey||!("toBase58"in de.publicKey)||typeof de.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${en.host} wants you to sign in with your Solana account:`,de.publicKey.toBase58(),...F?["",F,""]:[""],"Version: 1",`URI: ${en.href}`,`Issued At: ${(i=(o=N?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=N?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((s=N?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((l=N?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((p=(u=N?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||p===void 0)&&p.length?["Resources",...N.signInWithSolana.resources.map(Te=>`- ${Te}`)]:[]].join(`
`);let fe=yield de.signMessage(new TextEncoder().encode(C),"utf8");if(!fe||!(fe instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=fe}}try{let{data:_,error:ne}=yield H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:zn(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:zt});if(ne)throw ne;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Hn}:(_.session&&(yield this._saveSession(_.session),yield this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:ne})}catch(_){if(O(_))return{data:{user:null,session:null},error:_};throw _}})}_exchangeCodeForSession(e){return f(this,null,function*(){let r=yield _r(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:a,error:s}=yield H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:zt});if(yield qn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Hn}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(O(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})}signInWithIdToken(e){return f(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:a,nonce:s}=e,c=yield H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:zt}),{data:d,error:l}=c;return l?{data:{user:null,session:null},error:l}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Hn}:(d.session&&(yield this._saveSession(d.session),yield this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:l})}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){return f(this,null,function*(){var r,o,i,a,s;try{if("email"in e){let{email:c,options:d}=e,l=null,u=null;this.flowType==="pkce"&&([l,u]=yield mo(this.storage,this.storageKey));let{error:p}=yield H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){let{phone:c,options:d}=e,{data:l,error:u}=yield H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(s=d?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:u}}throw new ho("You must provide either an email or phone number.")}catch(c){if(O(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(e){return f(this,null,function*(){var r,o;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(o=e.options)===null||o===void 0?void 0:o.captchaToken);let{data:s,error:c}=yield H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:zt});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");let d=s.session,l=s.user;return d?.access_token&&(yield this._saveSession(d),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:l,session:d},error:null}}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(e){return f(this,null,function*(){var r,o,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=yield mo(this.storage,this.storageKey)),yield H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:v4})}catch(a){if(O(a))return{data:null,error:a};throw a}})}reauthenticate(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return f(this,null,function*(){try{return yield this._useSession(e=>f(this,null,function*(){let{data:{session:r},error:o}=e;if(o)throw o;if(!r)throw new lt;let{error:i}=yield H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(e){if(O(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return f(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:o,type:i,options:a}=e,{error:s}=yield H(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){let{phone:o,type:i,options:a}=e,{data:s,error:c}=yield H(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:c}}throw new ho("You must provide either an email or phone number and a type")}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return this._useSession(r=>f(this,null,function*(){return r}))}))})}_acquireLock(e,r){return f(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=f(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(f(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,e,()=>f(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(f(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return f(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return f(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield _r(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let o=e.expires_at?e.expires_at*1e3-Date.now()<Pl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){let s=yield _r(this.userStorage,this.storageKey+"-user");s?.user?e.user=s.user:e.user=Hl()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let s={value:this.suppressGetSessionWarning};e.user=m4(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:i,error:a}=yield this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return f(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return f(this,null,function*(){try{return e?yield H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vn}):yield this._useSession(r=>f(this,null,function*(){var o,i,a;let{data:s,error:c}=r;if(c)throw c;return!(!((o=s.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lt}:yield H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:vn})}))}catch(r){if(O(r))return n4(r)&&(yield this._removeSession(),yield qn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return f(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(o){return f(this,arguments,function*(e,r={}){try{return yield this._useSession(i=>f(this,null,function*(){let{data:a,error:s}=i;if(s)throw s;if(!a.session)throw new lt;let c=a.session,d=null,l=null;this.flowType==="pkce"&&e.email!=null&&([d,l]=yield mo(this.storage,this.storageKey));let{data:u,error:p}=yield H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:l}),jwt:c.access_token,xform:vn});if(p)throw p;return c.user=u.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(O(i))return{data:{user:null},error:i};throw i}})}setSession(e){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return f(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new lt;let r=Date.now()/1e3,o=r,i=!0,a=null,{payload:s}=Vl(e.access_token);if(s.exp&&(o=s.exp,i=o<=r),i){let{data:c,error:d}=yield this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};a=c}else{let{data:c,error:d}=yield this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(O(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;if(!e){let{data:s,error:c}=r;if(c)throw c;e=(o=s.session)!==null&&o!==void 0?o:void 0}if(!e?.refresh_token)throw new lt;let{data:i,error:a}=yield this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(e,r){return f(this,null,function*(){try{if(!Ke())throw new po("No browser detected.");if(e.error||e.error_description||e.error_code)throw new po(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ms("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new po("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ms("No code detected.");let{data:F,error:N}=yield this._exchangeCodeForSession(e.code);if(N)throw N;let de=new URL(window.location.href);return de.searchParams.delete("code"),window.history.replaceState(window.history.state,"",de.toString()),{data:{session:F.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:c,expires_at:d,token_type:l}=e;if(!a||!c||!s||!l)throw new po("No session defined in URL");let u=Math.round(Date.now()/1e3),p=parseInt(c),h=u+p;d&&(h=parseInt(d));let m=h-u;m*1e3<=uo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);let C=h-p;u-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,h,u):u-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,h,u);let{data:w,error:_}=yield this._getUser(a);if(_)throw _;let ne={provider_token:o,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:h,refresh_token:s,token_type:l,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:ne,redirectType:e.type},error:null}}catch(o){if(O(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return f(this,null,function*(){let r=yield _r(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return f(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return f(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return{error:a};let s=(o=i.session)===null||o===void 0?void 0:o.access_token;if(s){let{error:c}=yield this.admin.signOut(s,e);if(c&&!(t4(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(yield this._removeSession(),yield qn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let r=d4(),o={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),f(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(e){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var o,i;try{let{data:{session:a},error:s}=r;if(s)throw s;yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",a),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}}))})}resetPasswordForEmail(o){return f(this,arguments,function*(e,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=yield mo(this.storage,this.storageKey,!0));try{return yield H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(O(s))return{data:null,error:s};throw s}})}getUserIdentities(){return f(this,null,function*(){var e;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}})}linkIdentity(e){return f(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return f(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(a=>f(this,null,function*(){var s,c,d,l,u;let{data:p,error:h}=a;if(h)throw h;let m=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return yield H(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(l=p.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})}));if(i)throw i;return Ke()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:e.provider,url:o?.url},error:null}}catch(o){if(O(o))return{data:{provider:e.provider,url:null},error:o};throw o}})}linkIdentityIdToken(e){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var o;try{let{error:i,data:{session:a}}=r;if(i)throw i;let{options:s,provider:c,token:d,access_token:l,nonce:u}=e,p=yield H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=a?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:d,access_token:l,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:zt}),{data:h,error:m}=p;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Hn}:(h.session&&(yield this._saveSession(h.session),yield this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}}))})}unlinkIdentity(e){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o,i;let{data:a,error:s}=r;if(s)throw s;return yield H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(O(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return f(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield p4(i=>f(this,null,function*(){return i>0&&(yield h4(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:zt})}),(i,a)=>{let s=200*Math.pow(2,i);return a&&Rl(a)&&Date.now()+s-o<uo})}catch(o){if(this._debug(r,"error",o),O(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return f(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",o),Ke()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}})}_recoverAndRefresh(){return f(this,null,function*(){var e,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=yield _r(this.storage,this.storageKey);if(i&&this.userStorage){let s=yield _r(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},yield go(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s?.user)!==null&&e!==void 0?e:Hl()}else if(i&&!i.user&&!i.user){let s=yield _r(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,yield qn(this.storage,this.storageKey+"-user"),yield go(this.storage,this.storageKey,i)):i.user=Hl()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&(yield this._removeSession());return}let a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Pl;if(this._debug(o,`session has${a?"":" not"} expired with margin of ${Pl}s`),a){if(this.autoRefreshToken&&i.refresh_token){let{error:s}=yield this._callRefreshToken(i.refresh_token);s&&(console.error(s),Rl(s)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:s,error:c}=yield this._getUser(i.access_token);!c&&s?.user?(i.user=s.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(o,"error getting user data, skipping SIGNED_IN notification",s)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}})}_callRefreshToken(e){return f(this,null,function*(){var r,o;if(!e)throw new lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Cs;let{data:a,error:s}=yield this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new lt;yield this._saveSession(a.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);let c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),O(a)){let s={data:null,error:a};return Rl(a)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(e,r,o=!0){return f(this,null,function*(){let i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:r});let a=[],s=Array.from(this.stateChangeEmitters.values()).map(c=>f(this,null,function*(){try{yield c.callback(e,r)}catch(d){a.push(d)}}));if(yield Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}})}_saveSession(e){return f(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;let r=Object.assign({},e),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&(yield go(this.userStorage,this.storageKey+"-user",{user:r.user}));let i=Object.assign({},r);delete i.user;let a=Ep(i);yield go(this.storage,this.storageKey,a)}else{let i=Ep(r);yield go(this.storage,this.storageKey,i)}})}_removeSession(){return f(this,null,function*(){this._debug("#_removeSession()"),yield qn(this.storage,this.storageKey),yield qn(this.storage,this.storageKey+"-code-verifier"),yield qn(this.storage,this.storageKey+"-user"),this.userStorage&&(yield qn(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return f(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),uo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>f(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return f(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return f(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>f(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-e)/uo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${uo}ms, refresh threshold is ${Tl} ticks`),i<=Tl&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof bs)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return f(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>f(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return f(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,o){return f(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[a,s]=yield mo(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(c.toString())}if(o?.queryParams){let a=new URLSearchParams(o.queryParams);i.push(a.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${i.join("&")}`})}_unenroll(e){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;return a?{data:null,error:a}:yield H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(O(r))return{data:null,error:r};throw r}})}_enroll(e){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o,i;let{data:a,error:s}=r;if(s)return{data:null,error:s};let c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:l}=yield H(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})}))}catch(r){if(O(r))return{data:null,error:r};throw r}})}_verify(e){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return{data:null,error:a};let s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?L4(e.webauthn.credential_response):A4(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=yield H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return d?{data:null,error:d}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})}))}catch(r){if(O(r))return{data:null,error:r};throw r}}))})}_challenge(e){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return{data:null,error:a};let s=yield H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(s.error)return s;let{data:c}=s;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:D4(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:E4(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(O(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(e){return f(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:e.factorId});return o?{data:null,error:o}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return f(this,null,function*(){var e;let{data:{user:r},error:o}=yield this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let a of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}})}_getAuthenticatorAssuranceLevel(){return f(this,null,function*(){var e,r;let{data:{session:o},error:i}=yield this.getSession();if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Vl(o.access_token),s=null;a.aal&&(s=a.aal);let c=s;((r=(e=o.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let l=a.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:l},error:null}})}_getAuthorizationDetails(e){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:o},error:i}=r;return i?{data:null,error:i}:o?yield H(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:a=>({data:a,error:null})}):{data:null,error:new lt}}))}catch(r){if(O(r))return{data:null,error:r};throw r}})}_approveAuthorization(e,r){return f(this,null,function*(){try{return yield this._useSession(o=>f(this,null,function*(){let{data:{session:i},error:a}=o;if(a)return{data:null,error:a};if(!i)return{data:null,error:new lt};let s=yield H(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&Ke()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s}))}catch(o){if(O(o))return{data:null,error:o};throw o}})}_denyAuthorization(e,r){return f(this,null,function*(){try{return yield this._useSession(o=>f(this,null,function*(){let{data:{session:i},error:a}=o;if(a)return{data:null,error:a};if(!i)return{data:null,error:new lt};let s=yield H(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&Ke()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s}))}catch(o){if(O(o))return{data:null,error:o};throw o}})}fetchJwk(o){return f(this,arguments,function*(e,r={keys:[]}){let i=r.keys.find(d=>d.kid===e);if(i)return i;let a=Date.now();if(i=this.jwks.keys.find(d=>d.kid===e),i&&this.jwks_cached_at+e4>a)return i;let{data:s,error:c}=yield H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,i=s.keys.find(d=>d.kid===e),!i)?null:i})}getClaims(o){return f(this,arguments,function*(e,r={}){try{let i=e;if(!i){let{data:C,error:w}=yield this.getSession();if(w||!C.session)return{data:null,error:w};i=C.session.access_token}let{header:a,payload:s,signature:c,raw:{header:d,payload:l}}=Vl(i);r?.allowExpired||y4(s.exp);let u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){let{error:C}=yield this.getUser(i);if(C)throw C;return{data:{claims:s,header:a,signature:c},error:null}}let p=g4(a.alg),h=yield crypto.subtle.importKey("jwk",u,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,h,c,s4(`${d}.${l}`))))throw new fo("Invalid JWT signature");return{data:{claims:s,header:a,signature:c},error:null}}catch(i){if(O(i))return{data:null,error:i};throw i}})}}return n.nextInstanceID=0,n})(),Fp=fx;var yx=Fp,jp=yx;var $l=class extends jp{constructor(t){super(t)}};var Gl=class{constructor(t,e,r){var o,i,a;this.supabaseUrl=t,this.supabaseKey=e;let s=Kv(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);let c=`sb-${s.hostname.split(".")[0]}-auth-token`,d={db:Uv,realtime:Gv,auth:Object.assign(Object.assign({},$v),{storageKey:c}),global:Bv},l=Zv(r??{},d);this.storageKey=(o=l.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=l.auth)!==null&&a!==void 0?a:{},this.headers,l.global.fetch),this.fetch=Wv(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new Sv(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new ms(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new as(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return f(this,null,function*(){var t,e;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:a,flowType:s,lock:c,debug:d},l,u){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $l({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),l),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:o,userStorage:i,flowType:s,lock:c,debug:d,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new ps(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var P4=(n,t,e)=>new Gl(n,t,e);function gx(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}gx()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var _s={production:!1,enableAuth:!1,supabaseUrl:"https://zrkzkteruybaujoekdan.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpya3prdGVydXliYXVqb2VrZGFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxODAzNTUsImV4cCI6MjA3Nzc1NjM1NX0._UT310p01cnP0oH0OsEdaE06XuzhlzEC1UWJruld_N8"};var vt=(()=>{let t=class t{constructor(){this.supabase=P4(_s.supabaseUrl,_s.supabaseKey)}getClient(){return this.supabase}signInWithEmail(r){return f(this,null,function*(){return yield this.supabase.auth.signInWithPassword({email:r.email,password:r.password})})}signUpWithEmail(r){return f(this,null,function*(){let o=document.querySelector("base")?.href||window.location.origin;return yield this.supabase.auth.signUp({email:r.email,password:r.password,options:{emailRedirectTo:o,data:{displayName:r.name}}})})}getUser(){return f(this,null,function*(){let r=sessionStorage.getItem("releaseflowUser");if(r)return JSON.parse(r);{let{data:{user:o}}=yield this.supabase.auth.getUser();return sessionStorage.setItem("releaseflowUser",JSON.stringify(o)),o}})}signOut(){return f(this,null,function*(){yield this.supabase.auth.signOut(),sessionStorage.removeItem("releaseflowUser")})}resetPasswordForEmail(r){return f(this,null,function*(){try{let o=document.querySelector("base")?.href||window.location.origin,{error:i}=yield this.supabase.auth.resetPasswordForEmail(r,{redirectTo:o+"update-password"});if(i)throw i}catch(o){throw new Error(o.message||"Erreur lors de l\u2019envoi du mail de r\xE9initialisation.")}})}exchangeCodeForSession(r){return f(this,null,function*(){if(!r.includes("access_token"))throw new Error("Token manquant");let o=yield this.supabase.auth.exchangeCodeForSession(r);if(o.error)throw new Error(o.error.message);return o})}updatePassword(r){return f(this,null,function*(){let o=yield this.supabase.auth.updateUser({password:r});if(o.error)throw new Error(o.error.message);return o})}getSession(){return f(this,null,function*(){return this.supabase.auth.getSession()})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var xr=(()=>{let t=class t{constructor(r){this.supabase=r,this.eventsSubject=new Pe([]),this.events$=this.eventsSubject.asObservable(),this.loadEvents()}loadEvents(){return f(this,null,function*(){let{data:r,error:o}=yield this.supabase.getClient().from("events").select("*").order("event_date",{ascending:!0});if(o){console.error("Error loading events:",o);return}this.eventsSubject.next(r||[])})}createEvent(r){return f(this,null,function*(){let{data:o,error:i}=yield this.supabase.getClient().from("events").insert([r]).select().single();return i?(console.error("Error creating event:",i),null):(yield this.loadEvents(),o)})}updateEvent(r,o){return f(this,null,function*(){let{error:i}=yield this.supabase.getClient().from("events").update(B(b({},o),{updated_at:new Date().toISOString()})).eq("id",r);return i?(console.error("Error updating event:",i),!1):(yield this.loadEvents(),!0)})}deleteEvent(r){return f(this,null,function*(){let{error:o}=yield this.supabase.getClient().from("events").delete().eq("id",r);return o?(console.error("Error deleting event:",o),!1):(yield this.loadEvents(),!0)})}getEventsByDateRange(r,o){return this.eventsSubject.value.filter(a=>{let s=new Date(a.event_date);return s>=r&&s<=o})}getEventsByDate(r){return this.eventsSubject.value.filter(o=>o.event_date===r)}};t.\u0275fac=function(o){return new(o||t)(V(vt))},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function mx(n,t){if(n&1){let e=ke();y(0,"button",18),x("click",function(){D(e);let o=I();return E(o.openAddEventModal())}),Y(1,"lucide-icon",19),k(2," Ajouter "),g()}}function kx(n,t){n&1&&(y(0,"span",31),k(1,"Pass\xE9"),g())}function vx(n,t){if(n&1){let e=ke();y(0,"div",30)(1,"button",32),x("click",function(){D(e);let o=I().$implicit,i=I();return E(i.openEditEventModal(o))}),Y(2,"lucide-icon",33),g(),y(3,"button",34),x("click",function(){D(e);let o=I().$implicit,i=I();return E(i.deleteEvent(o.id))}),Y(4,"lucide-icon",35),g()()}}function Mx(n,t){if(n&1&&(y(0,"div",20)(1,"div",21)(2,"div",22),Y(3,"lucide-icon",23),g(),y(4,"div",24)(5,"div",25)(6,"span",26),k(7),g(),re(8,kx,2,0,"span",27),g(),y(9,"div",28),k(10),g(),y(11,"div",29),k(12),g()()(),ri(13,vx,5,0,"div",30),g()),n&2){let e=t.$implicit,r=I();_e("past-event",r.isPastEvent(e.event_date)),v(2),_e("badge-livraison",e.event_type==="livraison")("badge-mep",e.event_type==="mep"),v(),R("name",e.event_type==="livraison"?"package":"rocket"),v(4),le(e.title),v(),R("ngIf",r.isPastEvent(e.event_date)),v(2),ue(" ",r.formatDate(e.event_date)," "),v(2),ue(" ",e.description," "),v(),oi(r.readonly?-1:13)}}function wx(n,t){if(n&1){let e=ke();y(0,"button",51),x("click",function(){D(e);let o=I(2);return E(o.confirmDelete())}),k(1,"Supprimer"),g()}}function Cx(n,t){if(n&1){let e=ke();y(0,"div",36),x("click",function(){D(e);let o=I();return E(o.closeModal())}),y(1,"div",37),x("click",function(o){return D(e),E(o.stopPropagation())}),y(2,"div",38)(3,"h3"),k(4),g(),y(5,"button",39),x("click",function(){D(e);let o=I();return E(o.closeModal())}),k(6,"\xD7"),g()(),y(7,"div",40)(8,"div",41)(9,"label"),k(10,"Type"),g(),y(11,"select",42),te("ngModelChange",function(o){D(e);let i=I();return oe(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),E(o)}),x("ngModelChange",function(){D(e);let o=I();return E(o.updateModalTitle())}),y(12,"option",43),k(13,"Livraison (LV)"),g(),y(14,"option",44),k(15,"Mise en Production (MEP)"),g()()(),y(16,"div",41)(17,"label"),k(18,"Version"),g(),y(19,"input",45),te("ngModelChange",function(o){D(e);let i=I();return oe(i.modalEvent.version,o)||(i.modalEvent.version=o),E(o)}),x("ngModelChange",function(){D(e);let o=I();return E(o.updateModalTitle())}),g()(),y(20,"div",41)(21,"label"),k(22,"Date"),g(),y(23,"input",46),te("ngModelChange",function(o){D(e);let i=I();return oe(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),E(o)}),g()(),y(24,"div",41)(25,"label"),k(26,"Description"),g(),y(27,"textarea",47),te("ngModelChange",function(o){D(e);let i=I();return oe(i.modalEvent.description,o)||(i.modalEvent.description=o),E(o)}),g()()(),y(28,"div",48),re(29,wx,2,0,"button",49),y(30,"button",50),x("click",function(){D(e);let o=I();return E(o.closeModal())}),k(31,"Annuler"),g(),y(32,"button",18),x("click",function(){D(e);let o=I();return E(o.saveEvent())}),k(33),g()()()()}if(n&2){let e=I();v(4),le(e.isEditMode?"Modifier":"Nouvel \xE9v\xE9nement"),v(7),ee("ngModel",e.modalEvent.event_type),v(8),ee("ngModel",e.modalEvent.version),v(4),ee("ngModel",e.modalEvent.event_date),v(4),ee("ngModel",e.modalEvent.description),v(2),R("ngIf",e.isEditMode),v(4),le(e.isEditMode?"Sauvegarder":"Cr\xE9er")}}var Zl=(()=>{let t=class t{constructor(r){this.eventService=r,this.events=[],this.filteredEvents=[],this.searchText="",this.showPastEvents=!1,this.showModal=!1,this.isEditMode=!1,this.readonly=!1,this.modalEvent={},this.modalEventId=null}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.filterEvents()})}filterEvents(){let r=this.events;if(!this.showPastEvents){let o=new Date;o.setHours(0,0,0,0),r=r.filter(i=>new Date(i.event_date)>=o)}if(this.searchText){let o=this.searchText.toLowerCase();r=r.filter(i=>i.title.toLowerCase().includes(o)||i.version.toLowerCase().includes(o)||i.description.toLowerCase().includes(o))}this.filteredEvents=r.sort((o,i)=>new Date(o.event_date).getTime()-new Date(i.event_date).getTime())}isPastEvent(r){let o=new Date(r),i=new Date;return i.setHours(0,0,0,0),o<i}openAddEventModal(){this.isEditMode=!1,this.modalEventId=null,this.modalEvent={event_type:"livraison",version:"",event_date:new Date().toISOString().split("T")[0],description:"",title:""},this.showModal=!0}openEditEventModal(r){this.isEditMode=!0,this.modalEventId=r.id,this.modalEvent=b({},r),this.showModal=!0}closeModal(){this.showModal=!1,this.modalEvent={},this.modalEventId=null}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return f(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode&&this.modalEventId?yield this.eventService.updateEvent(this.modalEventId,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}confirmDelete(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&this.deleteEvent(this.modalEventId)}deleteEvent(r){return f(this,null,function*(){yield this.eventService.deleteEvent(r),this.closeModal()})}formatDate(r){return new Date(r).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}};t.\u0275fac=function(o){return new(o||t)(T(xr))},t.\u0275cmp=ce({type:t,selectors:[["app-event-list"]],inputs:{readonly:"readonly"},decls:22,vars:6,consts:[[1,"event-list-container"],[1,"header"],["name","calendar","size","22"],[1,"btn-primary"],[1,"filters-section"],[1,"search-box"],["name","search","size","18",1,"search-icon"],["type","text","placeholder","Rechercher...","lucide-icon","",3,"ngModelChange","ngModel"],[1,"toggle-row"],[1,"toggle-label"],["name","lucide-history","size","18"],[1,"toggle-material"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"slider"],[1,"events-info"],[1,"badge","coming"],["class","event-card",3,"past-event",4,"ngFor","ngForOf"],["class","modal",3,"click",4,"ngIf"],[1,"btn-primary",3,"click"],["name","plus","size","16"],[1,"event-card"],[1,"left"],[1,"type-badge"],["size","22",3,"name"],[1,"info"],[1,"row-1"],[1,"title"],["class","badge past",4,"ngIf"],[1,"row-2","date"],[1,"row-3","desc"],[1,"actions-cell"],[1,"badge","past"],["title","Modifier",1,"icon-btn","edit-btn",3,"click"],["name","pen-line","size","20"],["title","Supprimer",1,"icon-btn","delete-btn",3,"click"],["name","trash-2","size","20"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","3",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"div",1)(2,"h2"),Y(3,"lucide-icon",2),k(4," \xC9v\xE9nements"),g(),ri(5,mx,3,0,"button",3),g(),y(6,"div",4)(7,"div",5),Y(8,"lucide-icon",6),y(9,"input",7),te("ngModelChange",function(s){return oe(i.searchText,s)||(i.searchText=s),s}),x("ngModelChange",function(){return i.filterEvents()}),g()(),y(10,"label",8)(11,"span",9),Y(12,"lucide-icon",10),k(13," \xC9v\xE9nements pass\xE9s"),g(),y(14,"div",11)(15,"input",12),te("ngModelChange",function(s){return oe(i.showPastEvents,s)||(i.showPastEvents=s),s}),x("change",function(){return i.filterEvents()}),g(),Y(16,"span",13),g()()(),y(17,"div",14)(18,"span",15),k(19),g()(),re(20,Mx,14,12,"div",16)(21,Cx,34,7,"div",17),g()),o&2&&(v(5),oi(i.readonly?-1:5),v(4),ee("ngModel",i.searchText),v(6),ee("ngModel",i.showPastEvents),v(4),ue("",i.filteredEvents.length," \xE9v\xE9nements"),v(),R("ngForOf",i.filteredEvents),v(),R("ngIf",i.showModal))},dependencies:[xe,jt,Ne,mt,bi,_i,tt,Z0,vr,gt,ct,Ze,nt],styles:['.badge.coming[_ngcontent-%COMP%]{background:#e8f0ff;color:#5083e6}.toggle-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;cursor:pointer}.toggle-row[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:14px;color:#333;-webkit-user-select:none;user-select:none}.toggle-material[_ngcontent-%COMP%]{position:relative;width:46px;height:24px;display:inline-block}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-material[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000208;border-radius:24px;transition:.25s}.toggle-material[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{content:"";position:absolute;width:18px;height:18px;left:3px;bottom:3px;background:#fff;border-radius:50%;transition:.25s;box-shadow:0 2px 4px #00000040}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background:#3d6df2}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.event-list-container[_ngcontent-%COMP%]{padding:1.5rem;height:100%;display:flex;flex-direction:column;background:#fff;border-right:1px solid #e2e8f0;overflow:hidden}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;gap:.5rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a1a1a;margin:0}.btn-primary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#2563eb;color:#fff;padding:.5rem .75rem;border:none;border-radius:4px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.filters-section[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-direction:column;gap:.75rem}.search-box[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{position:absolute;left:.5rem;color:#6b7280;pointer-events:none}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.4rem .4rem .4rem 2rem;border:1px solid #dee2e6;border-radius:4px;font-size:.8rem}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}.filter-toggle[_ngcontent-%COMP%]{display:flex;align-items:center}.filter-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-size:.8rem;color:#495057;cursor:pointer}.filter-toggle[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{cursor:pointer}.events-info[_ngcontent-%COMP%]{padding:.25rem 0;font-size:.75rem;color:#6b7280;margin-bottom:.5rem}.info-text[_ngcontent-%COMP%]{font-weight:500}.events-table[_ngcontent-%COMP%]{flex:1;overflow-y:auto;border:1px solid #e9ecef;border-radius:4px;margin-bottom:.5rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.75rem}thead[_ngcontent-%COMP%]{background:#f8f9fa;position:sticky;top:0;z-index:10}th[_ngcontent-%COMP%]{text-align:left;padding:.5rem;font-weight:600;color:#495057;border-bottom:1px solid #dee2e6}td[_ngcontent-%COMP%]{padding:.5rem;border-bottom:1px solid #e9ecef;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}tr.past-event[_ngcontent-%COMP%]{opacity:.6}.type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.25rem;padding:.2rem .4rem;border-radius:3px;font-size:.65rem;font-weight:600}.badge-livraison[_ngcontent-%COMP%]{background:#dcfce7;color:#15803d}.badge-mep[_ngcontent-%COMP%]{background:#f3e8ff;color:#7e22ce}.title-cell[_ngcontent-%COMP%], .version-cell[_ngcontent-%COMP%]{font-weight:500}.description-cell[_ngcontent-%COMP%]{color:#6b7280}.actions-cell[_ngcontent-%COMP%]{display:flex;gap:.25rem;justify-content:center}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;padding:.25rem;cursor:pointer;transition:all .2s;border-radius:3px;display:flex;align-items:center;justify-content:center;color:#495057}.icon-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9}.edit-btn[_ngcontent-%COMP%]:hover{color:#f59e0b}.delete-btn[_ngcontent-%COMP%]{color:#ef4444}.delete-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#ef4444}.empty-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:150px;color:#6b7280;font-size:.8rem}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:450px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.75rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:28px;height:28px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.25rem}.form-group[_ngcontent-%COMP%]{margin-bottom:.875rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.8rem;font-weight:500;color:#495057;margin-bottom:.375rem}input[type=text][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.4rem;border:1px solid #dee2e6;border-radius:4px;font-size:.8rem;font-family:inherit;box-sizing:border-box}input[type=text][_ngcontent-%COMP%]:focus, input[type=date][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.25rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.4rem .8rem;border:none;border-radius:4px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}.event-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:14px 18px;border:1px solid #eee;border-radius:10px;margin-bottom:8px;background:#fff;transition:transform .12s ease,box-shadow .12s ease,background-color .12s ease;font-size:18px}.event-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 14px #00000014;background-color:#fafafa;cursor:pointer}.event-card.past-event[_ngcontent-%COMP%]{opacity:.7}.left[_ngcontent-%COMP%]{display:flex;gap:14px;align-items:flex-start}.icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;background:#e9f7ef;display:flex;justify-content:center;align-items:center}.info[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.title[_ngcontent-%COMP%]{font-weight:600}.badge[_ngcontent-%COMP%]{padding:2px 8px;border-radius:8px;font-size:12px}.badge.past[_ngcontent-%COMP%]{background:#efefef;color:#666}.date[_ngcontent-%COMP%]{font-size:15px;color:#666;margin-top:2px}.desc[_ngcontent-%COMP%]{margin-top:6px;font-size:15px;color:#444}body.dark-mode[_nghost-%COMP%]   .event-list-container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-list-container[_ngcontent-%COMP%]{background:#1e293b;border-right-color:#334155}body.dark-mode[_nghost-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .toggle-row[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .toggle-row[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .event-card[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-card[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}body.dark-mode[_nghost-%COMP%]   .event-card[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .event-card[_ngcontent-%COMP%]:hover{background-color:#334155}body.dark-mode[_nghost-%COMP%]   .title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .date[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .desc[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .desc[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .badge.past[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .badge.past[_ngcontent-%COMP%]{background:#334155;color:#94a3b8}']});let n=t;return n})();function bx(n,t){if(n&1){let e=ke();y(0,"div",12),x("click",function(){let o=D(e).$implicit,i=I(2);return E(i.emitOpenEvent(o))}),y(1,"div",13)(2,"div",14),Y(3,"lucide-icon",15),g(),y(4,"div",16)(5,"div",17),k(6),g(),y(7,"div",18),k(8),g(),y(9,"div",19),k(10),g()()(),y(11,"div",20)(12,"button",21),x("click",function(o){let i=D(e).$implicit,a=I(2);return o.stopPropagation(),E(a.emitOpenEvent(i))}),Y(13,"lucide-icon",22),g()()()}if(n&2){let e=t.$implicit;v(2),_e("badge-livraison",e.event_type==="livraison")("badge-mep",e.event_type==="mep"),v(),R("name",e.event_type==="livraison"?"package":"rocket"),v(3),le(e.title),v(2),pd("",e.event_date," \u2022 ",e.version),v(2),le(e.description)}}function _x(n,t){if(n&1&&(y(0,"div"),re(1,bx,14,9,"div",11),g()),n&2){let e=I();v(),R("ngForOf",e.events)}}function xx(n,t){n&1&&(y(0,"div",23),k(1,"Aucun \xE9v\xE9nement pour ce jour."),g())}var Kl=(()=>{let t=class t{constructor(){this.events=[],this.dateStr=null,this.readonly=!1,this.close=new pe,this.openEvent=new pe,this.add=new pe}onClose(){this.close.emit()}emitOpenEvent(r){this.openEvent.emit(r)}onAdd(){setTimeout(()=>this.add.emit(this.dateStr),0)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=ce({type:t,selectors:[["app-day-events-modal"]],inputs:{events:"events",dateStr:"dateStr",readonly:"readonly"},outputs:{close:"close",openEvent:"openEvent",add:"add"},decls:17,vars:3,consts:[["noEvents",""],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[4,"ngIf","ngIfElse"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],["name","plus","size","14"],["class","day-event-row",3,"click",4,"ngFor","ngForOf"],[1,"day-event-row",3,"click"],[1,"left"],[1,"type-badge"],["size","18",3,"name"],[1,"info"],[1,"title"],[1,"meta"],[1,"desc"],[1,"actions"],["title","Modifier",1,"icon-btn",3,"click"],["name","pen-line","size","16"],[1,"empty-state"]],template:function(o,i){if(o&1){let a=ke();y(0,"div",1),x("click",function(){return D(a),E(i.onClose())}),y(1,"div",2),x("click",function(c){return D(a),E(c.stopPropagation())}),y(2,"div",3)(3,"h3"),k(4),g(),y(5,"button",4),x("click",function(){return D(a),E(i.onClose())}),k(6,"\xD7"),g()(),y(7,"div",5),re(8,_x,2,1,"div",6)(9,xx,2,0,"ng-template",null,0,$h),g(),y(11,"div",7)(12,"button",8),x("click",function(){return D(a),E(i.onClose())}),k(13,"Fermer"),g(),y(14,"button",9),x("click",function(){return D(a),E(i.onAdd())}),Y(15,"lucide-icon",10),k(16," Ajouter "),g()()()()}if(o&2){let a=Uh(10);v(4),ue("\xC9v\xE9nements du jour - ",i.dateStr),v(4),R("ngIf",i.events&&i.events.length)("ngIfElse",a)}},dependencies:[xe,jt,Ne,Ze,nt],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:520px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:1rem;max-height:60vh;overflow:auto}.day-event-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;padding:.75rem;border-bottom:1px solid #f1f5f9;cursor:pointer;align-items:flex-start}.left[_ngcontent-%COMP%]{display:flex;gap:12px}.type-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:8px}.badge-livraison[_ngcontent-%COMP%]{background:#dcfce7;color:#15803d}.badge-mep[_ngcontent-%COMP%]{background:#f3e8ff;color:#7e22ce}.info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600}.info[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280}.info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{margin-top:6px;color:#495057;font-size:.9rem}.actions[_ngcontent-%COMP%]{display:flex;gap:8px}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:6px;border-radius:6px}.empty-state[_ngcontent-%COMP%]{padding:1rem;color:#6b7280}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem;border-top:1px solid #e9ecef}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none;padding:.5rem .75rem;border-radius:6px}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057;border:none;padding:.5rem .75rem;border-radius:6px}"]});let n=t;return n})();function Ix(n,t){if(n&1){let e=ke();y(0,"div",6),x("click",function(){D(e);let o=I();return E(o.toggleSidebar())}),g()}}var Xl=(()=>{let t=class t{constructor(){this.isOpen=!1,this.toggleEvent=new pe,this.isMobile=window.innerWidth<1024,window.addEventListener("resize",()=>{this.isMobile=window.innerWidth<1024})}toggleSidebar(){this.toggleEvent.emit()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=ce({type:t,selectors:[["app-sidebar-panel"]],inputs:{isOpen:"isOpen"},outputs:{toggleEvent:"toggleEvent"},decls:6,vars:5,consts:[[1,"sidebar-wrapper"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"sidebar-content"],[3,"readonly"],[1,"sidebar-toggle",3,"click"],["size","20",3,"name"],[1,"sidebar-overlay",3,"click"]],template:function(o,i){o&1&&(y(0,"div",0),re(1,Ix,1,0,"div",1),y(2,"div",2),Y(3,"app-event-list",3),g(),y(4,"button",4),x("click",function(){return i.toggleSidebar()}),Y(5,"lucide-icon",5),g()()),o&2&&(_e("open",i.isOpen),v(),R("ngIf",i.isOpen&&i.isMobile),v(2),R("readonly",!0),v(2),R("name",i.isOpen?"panel-left-close":"panel-left-open"))},dependencies:[xe,Ne,Zl,Ze,nt],styles:[".sidebar-wrapper[_ngcontent-%COMP%]{position:relative;height:100%;display:flex}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:99}.sidebar-content[_ngcontent-%COMP%]{width:350px;height:100%;background:#fff;border-right:1px solid #e2e8f0;overflow-y:auto;z-index:100;transition:transform .3s ease;transform:translate(0)}.sidebar-wrapper[_ngcontent-%COMP%]:not(.open)   .sidebar-content[_ngcontent-%COMP%]{position:absolute;transform:translate(-100%)}.sidebar-toggle[_ngcontent-%COMP%]{position:fixed;bottom:2rem;left:1rem;width:44px;height:44px;background:#2563eb;color:#fff;border:none;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:101;box-shadow:0 4px 12px #2563eb4d;transition:all .3s}.sidebar-toggle[_ngcontent-%COMP%]:hover{background:#1d4ed8;box-shadow:0 6px 16px #2563eb66}@media (max-width: 1024px){.sidebar-wrapper[_ngcontent-%COMP%]{position:fixed;top:80px;left:0;width:100%;height:calc(100vh - 80px);z-index:50;pointer-events:none}.sidebar-content[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%], .sidebar-toggle[_ngcontent-%COMP%]{pointer-events:auto}.sidebar-content[_ngcontent-%COMP%]{position:absolute}}@media (max-width: 768px){.sidebar-content[_ngcontent-%COMP%]{width:280px}}"]});let n=t;return n})();function Sx(n,t){if(n&1&&(y(0,"div",10),k(1),g()),n&2){let e=t.$implicit;v(),le(e)}}function Dx(n,t){if(n&1){let e=ke();y(0,"div",16),x("click",function(o){let i=D(e).$implicit,a=I().$implicit,s=I();return o.stopPropagation(),E(s.openEventModal(i,a.date))}),Y(1,"lucide-icon",17),k(2),g()}if(n&2){let e=t.$implicit;_e("event-livraison",e.event_type==="livraison")("event-mep",e.event_type==="mep"),v(),R("name",e.event_type==="livraison"?"package":"rocket"),v(),ue(" ",e.title.substring(0,10)," ")}}function Ex(n,t){if(n&1){let e=ke();y(0,"div",11),x("click",function(){let o=D(e).$implicit,i=I();return E(i.onDayClick(o))}),y(1,"div",12),k(2),g(),y(3,"div",13),re(4,Dx,3,6,"div",14),y(5,"button",15),x("click",function(o){let i=D(e).$implicit,a=I();return o.stopPropagation(),E(a.openAddEventModal(i.date))}),k(6,"+"),g()()()}if(n&2){let e=t.$implicit;_e("other-month",!e.isCurrentMonth)("today",e.isToday),v(2),le(e.dayNumber),v(2),R("ngForOf",e.events)}}function Lx(n,t){if(n&1){let e=ke();y(0,"app-day-events-modal",18),x("close",function(){D(e);let o=I();return E(o.showDayEventsModal=!1)})("openEvent",function(o){D(e);let i=I();return E(i.openEventModal(o,i.selectedDayDateStr))})("add",function(o){D(e);let i=I();return E(i.onDayModalAdd(o))}),g()}if(n&2){let e=I();R("events",e.selectedDayEvents)("dateStr",e.selectedDayDateStr)}}function Ax(n,t){if(n&1){let e=ke();y(0,"button",35),x("click",function(){D(e);let o=I(2);return E(o.deleteEvent())}),k(1,"Supprimer"),g()}}function Tx(n,t){if(n&1){let e=ke();y(0,"div",19),x("click",function(){D(e);let o=I();return E(o.closeModal())}),y(1,"div",20),x("click",function(o){return D(e),E(o.stopPropagation())}),y(2,"div",21)(3,"h3"),k(4),g(),y(5,"button",22),x("click",function(){D(e);let o=I();return E(o.closeModal())}),k(6,"\xD7"),g()(),y(7,"div",23)(8,"div",24)(9,"label"),k(10,"Type"),g(),y(11,"select",25),te("ngModelChange",function(o){D(e);let i=I();return oe(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),E(o)}),x("ngModelChange",function(){D(e);let o=I();return E(o.updateModalTitle())}),y(12,"option",26),k(13,"Livraison (LV)"),g(),y(14,"option",27),k(15,"Mise en Production (MEP)"),g()()(),y(16,"div",24)(17,"label"),k(18,"Version"),g(),y(19,"input",28),te("ngModelChange",function(o){D(e);let i=I();return oe(i.modalEvent.version,o)||(i.modalEvent.version=o),E(o)}),x("ngModelChange",function(){D(e);let o=I();return E(o.updateModalTitle())}),g()(),y(20,"div",24)(21,"label"),k(22,"Date"),g(),y(23,"input",29),te("ngModelChange",function(o){D(e);let i=I();return oe(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),E(o)}),g()(),y(24,"div",24)(25,"label"),k(26,"Description"),g(),y(27,"textarea",30),te("ngModelChange",function(o){D(e);let i=I();return oe(i.modalEvent.description,o)||(i.modalEvent.description=o),E(o)}),g()()(),y(28,"div",31),re(29,Ax,2,0,"button",32),y(30,"button",33),x("click",function(){D(e);let o=I();return E(o.closeModal())}),k(31,"Annuler"),g(),y(32,"button",34),x("click",function(){D(e);let o=I();return E(o.saveEvent())}),k(33),g()()()()}if(n&2){let e=I();v(4),le(e.isEditMode?"Modifier l'\xE9v\xE9nement":"Nouvel \xE9v\xE9nement"),v(7),ee("ngModel",e.modalEvent.event_type),v(8),ee("ngModel",e.modalEvent.version),v(4),ee("ngModel",e.modalEvent.event_date),v(4),ee("ngModel",e.modalEvent.description),v(2),R("ngIf",e.isEditMode),v(4),le(e.isEditMode?"Sauvegarder":"Cr\xE9er")}}var O4=(()=>{let t=class t{constructor(r){this.eventService=r,this.currentDate=new Date,this.calendarDays=[],this.weekDays=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],this.events=[],this.sidebarOpen=!0,this.showModal=!1,this.isEditMode=!1,this.modalEvent={},this.showDayEventsModal=!1,this.selectedDayEvents=[],this.selectedDayDateStr=null}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.generateCalendar()})}generateCalendar(){let r=this.currentDate.getFullYear(),o=this.currentDate.getMonth(),i=new Date(r,o,1),a=new Date(r,o+1,0),s=i.getDay();s=s===0?6:s-1;let c=new Date(r,o,0).getDate();this.calendarDays=[];for(let l=s-1;l>=0;l--){let u=new Date(r,o-1,c-l);this.calendarDays.push({dayNumber:c-l,date:this.formatDateToString(u),isCurrentMonth:!1,isToday:!1,events:[]})}for(let l=1;l<=a.getDate();l++){let u=new Date(r,o,l),p=this.formatDateToString(u),h=this.eventService.getEventsByDate(p);this.calendarDays.push({dayNumber:l,date:p,isCurrentMonth:!0,isToday:this.isToday(u),events:h})}let d=42-this.calendarDays.length;for(let l=1;l<=d;l++){let u=new Date(r,o+1,l);this.calendarDays.push({dayNumber:l,date:this.formatDateToString(u),isCurrentMonth:!1,isToday:!1,events:[]})}}formatDateToString(r){let o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0");return`${o}-${i}-${a}`}isToday(r){let o=new Date;return r.getDate()===o.getDate()&&r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()}getMonthYear(){return this.currentDate.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}previousMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1),this.generateCalendar()}nextMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1),this.generateCalendar()}openAddEventModal(r){this.isEditMode=!1,this.modalEvent={event_type:"livraison",version:"",event_date:r??"",description:"",title:""},this.showModal=!0}openEventModal(r,o){this.showDayEventsModal=!1,this.isEditMode=!0,this.modalEvent=b({},r),this.showModal=!0}onDayClick(r){r&&r.events&&r.events.length>0?(this.selectedDayEvents=r.events,this.selectedDayDateStr=r.date,this.showDayEventsModal=!0):r&&r.date&&this.openAddEventModal(r.date)}onDayModalAdd(r){this.showDayEventsModal=!1,setTimeout(()=>this.openAddEventModal(r),0)}closeModal(){this.showModal=!1,this.modalEvent={}}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return f(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode?yield this.eventService.updateEvent(this.modalEvent.id,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}deleteEvent(){return f(this,null,function*(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&(yield this.eventService.deleteEvent(this.modalEvent.id),this.closeModal())})}};t.\u0275fac=function(o){return new(o||t)(T(xr))},t.\u0275cmp=ce({type:t,selectors:[["app-calendar-view"]],decls:15,vars:6,consts:[[1,"calendar-wrapper"],[3,"toggleEvent","isOpen"],[1,"calendar-container"],[1,"calendar-header"],[1,"nav-btn",3,"click"],[1,"calendar-grid"],["class","day-header",4,"ngFor","ngForOf"],["class","calendar-day",3,"other-month","today","click",4,"ngFor","ngForOf"],[3,"events","dateStr","close","openEvent","add",4,"ngIf"],["class","modal",3,"click",4,"ngIf"],[1,"day-header"],[1,"calendar-day",3,"click"],[1,"day-number"],[1,"day-events"],["class","event-item",3,"event-livraison","event-mep","click",4,"ngFor","ngForOf"],[1,"add-event-btn",3,"click"],[1,"event-item",3,"click"],["size","12",3,"name"],[3,"close","openEvent","add","events","dateStr"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","4",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"app-sidebar-panel",1),x("toggleEvent",function(){return i.sidebarOpen=!i.sidebarOpen}),g(),y(2,"div",2)(3,"div",3)(4,"button",4),x("click",function(){return i.previousMonth()}),k(5,"\u2039"),g(),y(6,"h2"),k(7),g(),y(8,"button",4),x("click",function(){return i.nextMonth()}),k(9,"\u203A"),g()(),y(10,"div",5),re(11,Sx,2,1,"div",6)(12,Ex,7,6,"div",7),g(),re(13,Lx,1,2,"app-day-events-modal",8)(14,Tx,34,7,"div",9),g()()),o&2&&(v(),R("isOpen",i.sidebarOpen),v(6),le(i.getMonthYear()),v(4),R("ngForOf",i.weekDays),v(),R("ngForOf",i.calendarDays),v(),R("ngIf",i.showDayEventsModal),v(),R("ngIf",i.showModal))},dependencies:[xe,jt,Ne,mt,bi,_i,tt,vr,gt,ct,Ze,nt,Xl,Kl],styles:[".calendar-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 80px)}.calendar-container[_ngcontent-%COMP%]{flex:1;padding:2rem;overflow-y:auto}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#1a1a1a;margin:0}.nav-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:6px;width:40px;height:40px;font-size:1.5rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#2563eb}.calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;background:#dee2e6;border:1px solid #dee2e6;border-radius:8px;overflow:hidden}.day-header[_ngcontent-%COMP%]{background:#2563eb;padding:1rem;text-align:center;font-weight:600;font-size:.875rem;color:#fff}.calendar-day[_ngcontent-%COMP%]{background:#fff;min-height:120px;padding:.5rem;position:relative;transition:background-color .2s}.calendar-day[_ngcontent-%COMP%]:hover{background:#f8f9fa}.calendar-day.other-month[_ngcontent-%COMP%]{background:#f8f9fa;opacity:.5}.calendar-day.today[_ngcontent-%COMP%]{background:#eff6ff}.day-number[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:#1a1a1a;margin-bottom:.5rem}.day-events[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.event-item[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:500;cursor:pointer;transition:all .2s;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.event-item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.event-item.event-mep[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.add-event-btn[_ngcontent-%COMP%]{background:transparent;border:1px dashed #dee2e6;border-radius:4px;padding:.25rem;font-size:1rem;color:#6b7280;cursor:pointer;margin-top:.25rem;transition:all .2s}.add-event-btn[_ngcontent-%COMP%]:hover{border-color:#2563eb;color:#2563eb;background:#eff6ff}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:32px;height:32px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#495057;margin-bottom:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;font-family:inherit;box-sizing:border-box}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.5rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}body.dark-mode[_nghost-%COMP%]   .calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover{background:#334155;border-color:#60a5fa;color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .calendar-grid[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{background:#334155;border-color:#334155}body.dark-mode[_nghost-%COMP%]   .day-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .day-header[_ngcontent-%COMP%]{background:#1e40af;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%]{background:#1e293b}body.dark-mode[_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .calendar-day.other-month[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-day.other-month[_ngcontent-%COMP%]{background:#0f172a;opacity:.7}body.dark-mode[_nghost-%COMP%]   .calendar-day.today[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-day.today[_ngcontent-%COMP%]{background:#1e3a8a}body.dark-mode[_nghost-%COMP%]   .day-number[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .day-number[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .event-item[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-item[_ngcontent-%COMP%]{background:#1e3a8a;color:#93c5fd}body.dark-mode[_nghost-%COMP%]   .event-item.event-mep[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-item.event-mep[_ngcontent-%COMP%]{background:#14532d;color:#86efac}body.dark-mode[_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%]{border-color:#475569;color:#64748b}body.dark-mode[_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%]:hover{border-color:#60a5fa;color:#60a5fa;background:#1e3a8a}"]});let n=t;return n})();function Px(n,t){if(n&1){let e=ke();y(0,"div",21),x("click",function(o){let i=D(e).$implicit,a=I(3);return o.stopPropagation(),E(a.openEventModal(i))}),Y(1,"lucide-icon",22),k(2),g()}if(n&2){let e=t.$implicit;_e("event-livraison",e.event_type==="livraison")("event-mep",e.event_type==="mep"),v(),R("name",e.event_type==="livraison"?"package":"rocket"),v(),ue(" ",e.title.substring(0,14)," ")}}function Ox(n,t){if(n&1){let e=ke();y(0,"div",17),x("click",function(){let o=D(e).$implicit,i=I(2);return E(i.onRowClick(o))}),y(1,"div",13),k(2),g(),y(3,"div",14),k(4),g(),y(5,"div",15)(6,"div",18),re(7,Px,3,6,"div",19),y(8,"button",20),x("click",function(o){let i=D(e).$implicit,a=I(2);return o.stopPropagation(),E(a.openAddEventModal(i.dateStr))}),k(9," + "),g()()()()}if(n&2){let e=t.$implicit;_e("has-events",e.events.length>0)("today",e.isToday),v(2),le(e.dayNumber),v(2),le(e.dayName),v(3),R("ngForOf",e.events)}}function Rx(n,t){if(n&1&&(y(0,"div",9)(1,"h3",10),k(2),g(),y(3,"div",11)(4,"div",12)(5,"div",13),k(6,"Date"),g(),y(7,"div",14),k(8,"Jour"),g(),y(9,"div",15),k(10,"\xC9v\xE9nements"),g()(),re(11,Ox,10,7,"div",16),g()()),n&2){let e=t.$implicit;v(2),le(e.title),v(9),R("ngForOf",e.days)}}function Nx(n,t){if(n&1){let e=ke();y(0,"app-day-events-modal",23),x("close",function(){D(e);let o=I();return E(o.showDayEventsModal=!1)})("openEvent",function(o){D(e);let i=I();return E(i.openEventModal(o))})("add",function(o){D(e);let i=I();return E(i.onDayModalAdd(o))}),g()}if(n&2){let e=I();R("events",e.selectedDayEvents)("dateStr",e.selectedDayDateStr)}}function Fx(n,t){if(n&1){let e=ke();y(0,"button",40),x("click",function(){D(e);let o=I(2);return E(o.deleteEvent())}),k(1,"Supprimer"),g()}}function jx(n,t){if(n&1){let e=ke();y(0,"div",24),x("click",function(){D(e);let o=I();return E(o.closeModal())}),y(1,"div",25),x("click",function(o){return D(e),E(o.stopPropagation())}),y(2,"div",26)(3,"h3"),k(4),g(),y(5,"button",27),x("click",function(){D(e);let o=I();return E(o.closeModal())}),k(6,"\xD7"),g()(),y(7,"div",28)(8,"div",29)(9,"label"),k(10,"Type"),g(),y(11,"select",30),te("ngModelChange",function(o){D(e);let i=I();return oe(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),E(o)}),x("ngModelChange",function(){D(e);let o=I();return E(o.updateModalTitle())}),y(12,"option",31),k(13,"Livraison (LV)"),g(),y(14,"option",32),k(15,"Mise en Production (MEP)"),g()()(),y(16,"div",29)(17,"label"),k(18,"Version"),g(),y(19,"input",33),te("ngModelChange",function(o){D(e);let i=I();return oe(i.modalEvent.version,o)||(i.modalEvent.version=o),E(o)}),x("ngModelChange",function(){D(e);let o=I();return E(o.updateModalTitle())}),g()(),y(20,"div",29)(21,"label"),k(22,"Date"),g(),y(23,"input",34),te("ngModelChange",function(o){D(e);let i=I();return oe(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),E(o)}),g()(),y(24,"div",29)(25,"label"),k(26,"Description"),g(),y(27,"textarea",35),te("ngModelChange",function(o){D(e);let i=I();return oe(i.modalEvent.description,o)||(i.modalEvent.description=o),E(o)}),g()()(),y(28,"div",36),re(29,Fx,2,0,"button",37),y(30,"button",38),x("click",function(){D(e);let o=I();return E(o.closeModal())}),k(31,"Annuler"),g(),y(32,"button",39),x("click",function(){D(e);let o=I();return E(o.saveEvent())}),k(33),g()()()()}if(n&2){let e=I();v(4),le(e.isEditMode?"Modifier l'\xE9v\xE9nement":"Nouvel \xE9v\xE9nement"),v(7),ee("ngModel",e.modalEvent.event_type),v(8),ee("ngModel",e.modalEvent.version),v(4),ee("ngModel",e.modalEvent.event_date),v(4),ee("ngModel",e.modalEvent.description),v(2),R("ngIf",e.isEditMode),v(4),le(e.isEditMode?"Sauvegarder":"Cr\xE9er")}}var R4=(()=>{let t=class t{constructor(r){this.eventService=r,this.startDate=new Date,this.monthsData=[],this.events=[],this.sidebarOpen=!0,this.showModal=!1,this.isEditMode=!1,this.modalEvent={},this.dayNames=["D","L","M","M","J","V","S"],this.showDayEventsModal=!1,this.selectedDayEvents=[],this.selectedDayDateStr=null,this.startDate.setDate(1)}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.generateCompactView()})}generateCompactView(){this.monthsData=[];let r=4;for(let o=0;o<r;o++){let i=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+o,1),a=i.toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),s=new Date(i.getFullYear(),i.getMonth()+1,0).getDate(),c=[];for(let d=1;d<=s;d++){let l=new Date(i.getFullYear(),i.getMonth(),d),u=this.formatDateToString(l),p=this.eventService.getEventsByDate(u);c.push({dayNumber:String(d).padStart(2,"0"),dayName:this.getDayName(l),dateStr:u,isToday:this.isToday(l),events:p})}this.monthsData.push({title:a,days:c})}}formatDateToString(r){let o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0");return`${o}-${i}-${a}`}getDayName(r){let o=r.getDay();return this.dayNames[o]}isToday(r){let o=new Date;return r.getDate()===o.getDate()&&r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()}getPeriodTitle(){let r=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+2,0);return`${this.startDate.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})} - ${r.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}`}previousPeriod(){this.startDate=new Date(this.startDate.getFullYear(),this.startDate.getMonth()-3,1),this.generateCompactView()}nextPeriod(){this.startDate=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+3,1),this.generateCompactView()}openAddEventModal(r){this.isEditMode=!1,this.modalEvent={event_type:"livraison",version:"",event_date:r,description:"",title:""},this.showModal=!0}openEventModal(r){this.showDayEventsModal=!1,this.isEditMode=!0,this.modalEvent=b({},r),this.showModal=!0}onRowClick(r){r&&r.events&&r.events.length>0?(this.selectedDayEvents=r.events,this.selectedDayDateStr=r.dateStr,this.showDayEventsModal=!0):r&&r.dateStr&&this.openAddEventModal(r.dateStr)}onDayModalAdd(r){this.showDayEventsModal=!1,setTimeout(()=>this.openAddEventModal(r??""),0)}closeModal(){this.showModal=!1,this.modalEvent={}}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return f(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode?yield this.eventService.updateEvent(this.modalEvent.id,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}deleteEvent(){return f(this,null,function*(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&(yield this.eventService.deleteEvent(this.modalEvent.id),this.closeModal())})}};t.\u0275fac=function(o){return new(o||t)(T(xr))},t.\u0275cmp=ce({type:t,selectors:[["app-compact-view"]],decls:14,vars:5,consts:[[1,"compact-wrapper"],[3,"toggleEvent","isOpen"],[1,"compact-container"],[1,"compact-header"],[1,"nav-btn",3,"click"],[1,"months-grid"],["class","month-column",4,"ngFor","ngForOf"],[3,"events","dateStr","close","openEvent","add",4,"ngIf"],["class","modal",3,"click",4,"ngIf"],[1,"month-column"],[1,"month-title"],[1,"compact-table"],[1,"table-header"],[1,"col-date"],[1,"col-day"],[1,"col-events"],["class","table-row",3,"has-events","today","click",4,"ngFor","ngForOf"],[1,"table-row",3,"click"],[1,"events-list"],["class","compact-event",3,"event-livraison","event-mep","click",4,"ngFor","ngForOf"],[1,"add-compact-btn",3,"click"],[1,"compact-event",3,"click"],["size","11",3,"name"],[3,"close","openEvent","add","events","dateStr"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","4",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"app-sidebar-panel",1),x("toggleEvent",function(){return i.sidebarOpen=!i.sidebarOpen}),g(),y(2,"div",2)(3,"div",3)(4,"button",4),x("click",function(){return i.previousPeriod()}),k(5,"\u2039"),g(),y(6,"h2"),k(7),g(),y(8,"button",4),x("click",function(){return i.nextPeriod()}),k(9,"\u203A"),g()(),y(10,"div",5),re(11,Rx,12,2,"div",6),g()(),re(12,Nx,1,2,"app-day-events-modal",7)(13,jx,34,7,"div",8),g()),o&2&&(v(),R("isOpen",i.sidebarOpen),v(6),le(i.getPeriodTitle()),v(4),R("ngForOf",i.monthsData),v(),R("ngIf",i.showDayEventsModal),v(),R("ngIf",i.showModal))},dependencies:[xe,jt,Ne,mt,bi,_i,tt,vr,gt,ct,Ze,nt,Xl,Kl],styles:[".compact-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 80px)}.compact-container[_ngcontent-%COMP%]{flex:1;padding:2rem;overflow-y:auto}.compact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#1a1a1a;margin:0}.nav-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:6px;width:40px;height:40px;font-size:1.5rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#2563eb}.months-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1.5rem}.month-column[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 1px 3px #0000001a}.month-title[_ngcontent-%COMP%]{background:#2563eb;margin:0;padding:1rem;font-size:1.125rem;font-weight:600;color:#fff;text-align:center;border-bottom:2px solid #dee2e6}.compact-table[_ngcontent-%COMP%]{font-size:.8rem}.table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:50px 50px 1fr;background:#f8f9fa;font-weight:600;color:#495057;border-bottom:1px solid #dee2e6;position:sticky;top:0;z-index:10}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:.75rem .5rem;border-right:1px solid #e9ecef}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-right:none}.table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:50px 50px 1fr;border-bottom:1px solid #e9ecef;transition:background-color .2s;min-height:36px}.table-row[_ngcontent-%COMP%]:hover{background:#f8f9fa}.table-row.today[_ngcontent-%COMP%]{background:#eff6ff}.table-row.has-events[_ngcontent-%COMP%]{background:#fefce8}.table-row.has-events[_ngcontent-%COMP%]:hover{background:#fef9c3}.col-date[_ngcontent-%COMP%], .col-day[_ngcontent-%COMP%]{padding:.5rem;border-right:1px solid #e9ecef;display:flex;align-items:center;justify-content:center;font-weight:500}.col-events[_ngcontent-%COMP%]{padding:.5rem;display:flex;align-items:center}.events-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem;width:100%}.compact-event[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;padding:.125rem .375rem;border-radius:3px;font-size:.7rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.compact-event[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.compact-event.event-mep[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.add-compact-btn[_ngcontent-%COMP%]{background:transparent;border:1px dashed #dee2e6;border-radius:3px;padding:.125rem .375rem;font-size:.7rem;color:#6b7280;cursor:pointer;transition:all .2s}.add-compact-btn[_ngcontent-%COMP%]:hover{border-color:#2563eb;color:#2563eb;background:#eff6ff}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:32px;height:32px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#495057;margin-bottom:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;font-family:inherit;box-sizing:border-box}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.5rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}body.dark-mode[_nghost-%COMP%]   .compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover{background:#334155;border-color:#60a5fa;color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .month-column[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .month-column[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 1px 3px #0000004d}body.dark-mode[_nghost-%COMP%]   .month-title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .month-title[_ngcontent-%COMP%]{background:#1e40af;border-bottom-color:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .table-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-header[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1;border-bottom-color:#475569}body.dark-mode[_nghost-%COMP%]   .table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-right-color:#475569}body.dark-mode[_nghost-%COMP%]   .table-row[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]{border-bottom-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .table-row.today[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row.today[_ngcontent-%COMP%]{background:#1e3a8a}body.dark-mode[_nghost-%COMP%]   .table-row.has-events[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row.has-events[_ngcontent-%COMP%]{background:#3f3f46}body.dark-mode[_nghost-%COMP%]   .table-row.has-events[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .table-row.has-events[_ngcontent-%COMP%]:hover{background:#52525b}body.dark-mode[_nghost-%COMP%]   .col-date[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .col-date[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .col-day[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .col-day[_ngcontent-%COMP%]{border-right-color:#334155}body.dark-mode[_nghost-%COMP%]   .compact-event[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .compact-event[_ngcontent-%COMP%]{background:#1e3a8a;color:#93c5fd}body.dark-mode[_nghost-%COMP%]   .compact-event.event-mep[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .compact-event.event-mep[_ngcontent-%COMP%]{background:#14532d;color:#86efac}body.dark-mode[_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%]{border-color:#475569;color:#64748b}body.dark-mode[_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%]:hover{border-color:#60a5fa;color:#60a5fa;background:#1e3a8a}@media (max-width: 1200px){.months-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let n=t;return n})();function Vx(n,t){if(n&1&&(y(0,"div",16)(1,"div",17)(2,"span",18),Y(3,"lucide-icon",19),g(),y(4,"span",20),k(5),g(),y(6,"span",21),k(7),g()(),y(8,"div",22)(9,"p"),k(10),g()()()),n&2){let e=t.$implicit;_e("is-livraison",e.event_type==="livraison")("is-mep",e.event_type==="mep"),v(3),R("name",e.event_type==="livraison"?"package":"rocket"),v(2),le(e.title),v(2),le(e.version),v(3),le(e.description)}}function Hx(n,t){if(n&1&&(y(0,"div",10)(1,"div",11)(2,"div",12),k(3),g(),y(4,"div",13),re(5,Vx,11,8,"div",14),g()(),Y(6,"div",15),g()),n&2){let e=t.$implicit,r=t.index,o=I();_e("left",!o.isHorizontal&&r%2===0)("right",!o.isHorizontal&&r%2!==0),v(3),le(o.formatDate(e.date)),v(2),R("ngForOf",e.events)}}function zx(n,t){n&1&&(y(0,"div",23)(1,"p"),k(2,"Aucun \xE9v\xE9nement \xE0 afficher"),g()())}var N4=(()=>{let t=class t{constructor(r){this.eventService=r,this.events=[],this.groupedEvents=[],this.isHorizontal=!1}toggleMode(){this.isHorizontal=!this.isHorizontal}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=[...r].sort((o,i)=>new Date(o.event_date).getTime()-new Date(i.event_date).getTime()),this.groupEvents()})}groupEvents(){this.groupedEvents=[];for(let r of this.events){let o=new Date(r.event_date).toDateString(),i=this.groupedEvents[this.groupedEvents.length-1];i&&new Date(i.date).toDateString()===o?i.events.push(r):this.groupedEvents.push({date:r.event_date,events:[r]})}}formatDate(r){return new Date(r).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}};t.\u0275fac=function(o){return new(o||t)(T(xr))},t.\u0275cmp=ce({type:t,selectors:[["app-timeline-view"]],decls:14,vars:7,consts:[[1,"timeline-container"],[1,"header"],["name","git-commit","size","22"],[1,"toggle-btn",3,"click","title"],["size","20",3,"name"],[1,"timeline-wrapper"],[1,"timeline"],[1,"timeline-line"],["class","timeline-item",3,"left","right",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"timeline-item"],[1,"content"],[1,"date-badge"],[1,"events-group"],["class","card",3,"is-livraison","is-mep",4,"ngFor","ngForOf"],[1,"dot"],[1,"card"],[1,"card-header"],[1,"type-icon"],["size","18",3,"name"],[1,"title"],[1,"version"],[1,"card-body"],[1,"empty-state"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"div",1)(2,"h2"),Y(3,"lucide-icon",2),k(4," Timeline"),g(),y(5,"button",3),x("click",function(){return i.toggleMode()}),Y(6,"lucide-icon",4),y(7,"span"),k(8),g()()(),y(9,"div",5)(10,"div",6),Y(11,"div",7),re(12,Hx,7,6,"div",8)(13,zx,3,0,"div",9),g()()()),o&2&&(v(5),R("title",i.isHorizontal?"Passer en vue verticale":"Passer en vue horizontale"),v(),R("name",i.isHorizontal?"align-justify":"columns"),v(2),le(i.isHorizontal?"Vue Verticale":"Vue Horizontale"),v(),_e("horizontal",i.isHorizontal),v(3),R("ngForOf",i.groupedEvents),v(),R("ngIf",i.events.length===0))},dependencies:[xe,jt,Ne,Ze,nt],styles:['.timeline-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden;background:#f8fafc}.timeline-container[_ngcontent-%COMP%]:has(.timeline-wrapper.horizontal){overflow-y:auto}.header[_ngcontent-%COMP%]{padding:2rem;margin-bottom:0;display:flex;justify-content:space-between;align-items:center;flex-shrink:0}.toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#fff;border:1px solid #e2e8f0;border-radius:8px;cursor:pointer;font-weight:500;color:#64748b;transition:all .2s;box-shadow:0 1px 2px #0000000d}.toggle-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#334155}.timeline-wrapper[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;padding:2rem;position:relative}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar{height:12px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:6px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#cbd5e1;border-radius:6px;border:3px solid #f1f5f9}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#94a3b8}.timeline-wrapper.horizontal[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;display:flex;align-items:center;padding:2rem;height:auto;min-height:100%}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;align-items:center;height:auto;min-height:600px;min-width:100%;max-width:none;padding:4rem;margin:0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-line[_ngcontent-%COMP%]{width:100%;height:4px;top:40px;left:0;transform:none;background:linear-gradient(to right,#e2e8f0,#cbd5e1,#e2e8f0)}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:320px;flex-shrink:0;margin:0 1.5rem;height:auto;min-height:200px;position:relative;display:flex;left:auto;right:auto;padding:80px 0 0;text-align:left;overflow:visible;flex-direction:column;justify-content:flex-start;align-self:stretch}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;max-height:none;overflow-y:visible;padding-right:0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#cbd5e1;border-radius:4px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{left:auto;right:auto;text-align:left;padding-left:0;padding-right:0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{position:absolute;inset:30px auto auto 50%;transform:translate(-50%);margin:0;flex-shrink:0;z-index:20}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:50%;transform:translate(-50%);width:2px;background:#e2e8f0;z-index:1;top:40px;height:40px;bottom:auto}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:row}h2[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;font-size:1.8rem;color:#1e293b;margin:0;background:#fff;padding:.5rem 1.5rem;border-radius:50px;box-shadow:0 4px 6px -1px #0000001a}.timeline[_ngcontent-%COMP%]{position:relative;max-width:1000px;margin:0 auto;padding:2rem 0}.timeline-line[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);width:4px;height:100%;background:linear-gradient(to bottom,#e2e8f0,#cbd5e1,#e2e8f0);border-radius:2px}.timeline-item[_ngcontent-%COMP%]{position:relative;margin-bottom:3rem;width:50%}.timeline-item.left[_ngcontent-%COMP%]{left:0;padding-right:3rem;text-align:right}.timeline-item.right[_ngcontent-%COMP%]{left:50%;padding-left:3rem;text-align:left}.timeline-item[_ngcontent-%COMP%]:after{content:"";position:absolute;top:30px;height:2px;width:3rem;background:#e2e8f0;z-index:1}.timeline-item.left[_ngcontent-%COMP%]:after{right:0}.timeline-item.right[_ngcontent-%COMP%]:after{left:0}.dot[_ngcontent-%COMP%]{position:absolute;top:20px;width:20px;height:20px;background:#fff;border:4px solid #3b82f6;border-radius:50%;z-index:10;box-shadow:0 0 0 4px #3b82f633;transition:all .3s ease}.timeline-item.left[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{right:-10px}.timeline-item.right[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{left:-10px}.timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%]{transform:scale(1.2);background:#3b82f6;box-shadow:0 0 0 6px #3b82f64d}.content[_ngcontent-%COMP%]{position:relative;transition:transform .3s ease}.timeline-item[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]{transform:translateY(-5px)}.date-badge[_ngcontent-%COMP%]{display:inline-block;background:#475569;color:#fff;padding:.25rem .75rem;border-radius:20px;font-size:.85rem;font-weight:600;margin-bottom:.5rem;box-shadow:0 2px 4px #0000001a}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border-left:5px solid transparent;position:relative;overflow:hidden}.card[_ngcontent-%COMP%] + .card[_ngcontent-%COMP%]{margin-top:1rem}.card.is-livraison[_ngcontent-%COMP%]{border-left-color:#10b981}.card.is-mep[_ngcontent-%COMP%]{border-left-color:#8b5cf6}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem;border-bottom:1px solid #f1f5f9;padding-bottom:.75rem}.timeline-item.left[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:row-reverse}.type-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:8px}.is-livraison[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.is-mep[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{background:#ede9fe;color:#7c3aed}.title[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:#1e293b}.version[_ngcontent-%COMP%]{background:#f1f5f9;padding:.1rem .5rem;border-radius:4px;font-size:.8rem;font-family:monospace;color:#64748b}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b;line-height:1.5;font-size:.95rem}.empty-state[_ngcontent-%COMP%]{text-align:center;color:#94a3b8;padding:2rem}@media (max-width: 768px){.timeline-line[_ngcontent-%COMP%]{left:30px}.timeline-item[_ngcontent-%COMP%]{width:100%;padding-left:70px;padding-right:0;text-align:left}.timeline-item.left[_ngcontent-%COMP%], .timeline-item.right[_ngcontent-%COMP%]{left:0;text-align:left;padding-right:0;padding-left:70px}.timeline-item.left[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%], .timeline-item.right[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{left:20px;right:auto}.timeline-item.left[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:row}.timeline-item[_ngcontent-%COMP%]:after{width:40px;left:30px;right:auto}}body.dark-mode[_nghost-%COMP%]   .timeline-container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-container[_ngcontent-%COMP%]{background:#0f172a}body.dark-mode[_nghost-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .timeline-line[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-line[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#334155,#475569,#334155)}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-line[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-line[_ngcontent-%COMP%]{background:linear-gradient(to right,#334155,#475569,#334155)}body.dark-mode[_nghost-%COMP%]   .date-badge[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .date-badge[_ngcontent-%COMP%]{background:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .card[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 4px 6px -1px #0000004d,0 2px 4px -1px #0000001a}body.dark-mode[_nghost-%COMP%]   .title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .version[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .version[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:after, body.dark-mode   [_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:after{background:#334155}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before{background:#334155}body.dark-mode[_nghost-%COMP%]   .dot[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .dot[_ngcontent-%COMP%]{background:#1e293b;border-color:#60a5fa;box-shadow:0 0 0 4px #60a5fa33}body.dark-mode[_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%]{background:#60a5fa;box-shadow:0 0 0 6px #60a5fa4d}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e293b}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#475569;border-color:#1e293b}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#64748b}']});let n=t;return n})();var F4=(()=>{let t=class t{constructor(){this.email=Ge(""),this.password=Ge(""),this.supabaseService=M(vt),this.router=M(Ce)}signInWithEmail(){return f(this,null,function*(){let{error:r}=yield this.supabaseService.signInWithEmail({email:this.email(),password:this.password()});r?alert("Error signing in: "+r.message):this.router.navigate(["/compact"])})}navigateToSignup(){this.router.navigate(["/signup"])}navigateToForgot(){this.router.navigate(["/forgot-password"])}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=ce({type:t,selectors:[["app-login"]],decls:16,vars:2,consts:[[1,"container"],[3,"ngSubmit"],["type","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Password","required","",3,"ngModelChange","ngModel"],["type","submit"],[3,"click"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"h2"),k(2,"Login"),g(),y(3,"form",1),x("ngSubmit",function(){return i.signInWithEmail()}),y(4,"input",2),te("ngModelChange",function(s){return oe(i.email,s)||(i.email=s),s}),g(),y(5,"input",3),te("ngModelChange",function(s){return oe(i.password,s)||(i.password=s),s}),g(),y(6,"button",4),k(7,"Sign In"),g()(),y(8,"p"),k(9,"Don't have an account? "),y(10,"a",5),x("click",function(){return i.navigateToSignup()}),k(11,"Sign Up"),g()(),y(12,"p"),k(13,"Forgot your password ? "),y(14,"a",5),x("click",function(){return i.navigateToForgot()}),k(15,"Send me a link"),g()()()),o&2&&(v(4),ee("ngModel",i.email),v(),ee("ngModel",i.password))},dependencies:[mt,kr,tt,gt,mr,jn,ct,Fn],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}"]});let n=t;return n})();function qx(n,t){if(n&1&&(y(0,"div",9),k(1),g()),n&2){let e=I();v(),ue(" ",e.error," ")}}function Bx(n,t){if(n&1&&(y(0,"div",10),k(1),g()),n&2){let e=I();v(),ue(" ",e.message," ")}}var j4=(()=>{let t=class t{constructor(){this.name="",this.email="",this.password="",this.confirmPassword="",this.message="",this.error="",this.supabaseService=M(vt),this.router=M(Ce)}signUp(){return f(this,null,function*(){if(this.error="",this.message="",this.password.length<6){this.error="Le mot de passe doit contenir au moins 6 caract\xE8res.";return}if(this.password!==this.confirmPassword){this.error="Les mots de passe ne correspondent pas.";return}let{error:r}=yield this.supabaseService.signUpWithEmail({name:this.name,email:this.email,password:this.password});r?alert("Error signing up: "+r.message):(alert("Check your email to confirm your account!"),this.router.navigate(["/login"]))})}navigateToLogin(){this.router.navigate(["/login"])}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=ce({type:t,selectors:[["app-signup"]],decls:16,vars:6,consts:[[1,"container"],["type","text","name","name","placeholder","Full Name","required","",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","minlength","6","placeholder","Mot de passe (Minimum 6 caract\xE8res)","required","",3,"ngModelChange","ngModel"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirmez votre mot de passe","minlength","6","required","",3,"ngModelChange","ngModel"],["type","button",3,"click"],["class","message error",4,"ngIf"],["class","message success",4,"ngIf"],[3,"click"],[1,"message","error"],[1,"message","success"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"h2"),k(2,"Sign Up"),g(),y(3,"form")(4,"input",1),te("ngModelChange",function(s){return oe(i.name,s)||(i.name=s),s}),g(),y(5,"input",2),te("ngModelChange",function(s){return oe(i.email,s)||(i.email=s),s}),g(),y(6,"input",3),te("ngModelChange",function(s){return oe(i.password,s)||(i.password=s),s}),g(),y(7,"input",4),te("ngModelChange",function(s){return oe(i.confirmPassword,s)||(i.confirmPassword=s),s}),g(),y(8,"button",5),x("click",function(){return i.signUp()}),k(9,"Sign Up"),g()(),re(10,qx,2,1,"div",6)(11,Bx,2,1,"div",7),y(12,"p"),k(13,"Already have an account? "),y(14,"a",8),x("click",function(){return i.navigateToLogin()}),k(15,"Log In"),g()()()),o&2&&(v(4),ee("ngModel",i.name),v(),ee("ngModel",i.email),v(),ee("ngModel",i.password),v(),ee("ngModel",i.confirmPassword),v(3),R("ngIf",i.error),v(),R("ngIf",i.message))},dependencies:[mt,kr,tt,gt,mr,jn,Ja,ct,Fn,xe,Ne],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.container[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.container[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:hover{background-color:#2980b9}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}.message[_ngcontent-%COMP%]{margin-top:20px;padding:12px;border-radius:5px;text-align:center;font-size:14px}.message.error[_ngcontent-%COMP%]{background-color:#fee;color:#c33;border:1px solid #fcc}.message.success[_ngcontent-%COMP%]{background-color:#efe;color:#3c3;border:1px solid #cfc}"]});let n=t;return n})();var V4=(n,t)=>f(null,null,function*(){if(!_s.enableAuth)return!0;let e=M(vt),r=M(Ce),{data:o}=yield e.getUser();return o.user?!0:(r.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1)});var H4=(()=>{let t=class t{constructor(){this.darkMode=Ge(!1);let r=localStorage.getItem("theme");if(r==="dark")this.darkMode.set(!0);else if(r==="light")this.darkMode.set(!1);else{let o=window.matchMedia("(prefers-color-scheme: dark)").matches;this.darkMode.set(o)}Zh(()=>{this.darkMode()?(document.body.classList.add("dark-mode"),localStorage.setItem("theme","dark")):(document.body.classList.remove("dark-mode"),localStorage.setItem("theme","light"))})}toggleTheme(){this.darkMode.update(r=>!r)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Ux(n,t){if(n&1&&(y(0,"div",2)(1,"p"),k(2),g(),y(3,"p"),k(4),g(),y(5,"p"),k(6),g()()),n&2){let e=I();v(2),ue("User ID: ",e.user.id),v(2),ue("Email: ",e.user.email),v(2),ue("Display Name: ",e.user.user_metadata.displayName)}}var z4=(()=>{let t=class t{constructor(){this.user=null,this.loading=!1,this.showInfo=!1,this.supabaseService=M(vt),this.router=M(Ce),this.themeService=M(H4)}ngOnInit(){}toggleUserInfo(){return f(this,null,function*(){this.user?this.showInfo=!this.showInfo:(yield this.fetchUser(),this.showInfo=!0)})}fetchUser(){return f(this,null,function*(){this.loading=!0;try{this.user=yield this.supabaseService.getUser(),this.user||this.router.navigate(["/login"])}finally{this.loading=!1}})}signOut(){return f(this,null,function*(){yield this.supabaseService.signOut(),this.router.navigate(["/login"])})}updatePassword(){return f(this,null,function*(){this.router.navigate(["/update-password"])})}toggleTheme(){this.themeService.toggleTheme()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=ce({type:t,selectors:[["app-profile"]],decls:15,vars:5,consts:[[1,"container"],[1,"btn","btn-primary",3,"click","disabled"],[1,"user-info"],[1,"btn","btn-theme",3,"click"],["size","20",3,"name"],[1,"btn","btn-secondary",3,"click"],[1,"btn",3,"click"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"h2"),k(2,"User Profile"),g(),y(3,"p"),k(4,"Congratulations! Welcome to secure auth with Angular + Supabase is running. \u{1F389}"),g(),y(5,"button",1),x("click",function(){return i.toggleUserInfo()}),k(6),g(),ri(7,Ux,7,3,"div",2),y(8,"button",3),x("click",function(){return i.toggleTheme()}),Y(9,"lucide-icon",4),k(10),g(),y(11,"button",5),x("click",function(){return i.updatePassword()}),k(12,"Modifier le mot de passe"),g(),y(13,"button",6),x("click",function(){return i.signOut()}),k(14,"Sign Out"),g()()),o&2&&(v(5),R("disabled",i.loading),v(),ue(" ",i.loading?"Chargement...":i.showInfo?"Masquer les informations":"Afficher les informations personnelles"," "),v(),oi(i.showInfo&&i.user?7:-1),v(2),R("name",i.themeService.darkMode()?"sun":"moon"),v(),ue(" ",i.themeService.darkMode()?"Mode Clair":"Mode Sombre"," "))},dependencies:[Ze,nt],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;text-align:left}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1.5rem;font-weight:500;text-align:left}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:#555;line-height:1.5;text-align:left}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{font-size:1.1rem;margin-bottom:2rem;color:#27ae60}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type){font-weight:500;color:#2c3e50;word-break:break-all}.container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;width:100%;padding:.85rem;margin-top:1rem;background-color:#e74c3c;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease}.container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#c0392b}.container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;margin-top:2rem}.container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.container[_ngcontent-%COMP%]   .btn-theme[_ngcontent-%COMP%]{background-color:#3498db;margin-top:2rem}.container[_ngcontent-%COMP%]   .btn-theme[_ngcontent-%COMP%]:hover{background-color:#2980b9}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 6px 18px #0000004d}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type, body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{color:#4ade80}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type), body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type){color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#475569;color:#f8fafc}.user-info[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}body.dark-mode[_nghost-%COMP%]   .user-info[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .user-info[_ngcontent-%COMP%]{background:#334155;border-color:#475569}"]});let n=t;return n})();function $x(n,t){if(n&1&&(y(0,"div",8),k(1),g()),n&2){let e=I();v(),ue(" ",e.message," ")}}var q4=(()=>{let t=class t{constructor(r){this.supabaseService=r,this.email="",this.message="",this.loading=!1,this.router=M(Ce)}onSubmit(){return f(this,null,function*(){this.loading=!0;try{yield this.supabaseService.resetPasswordForEmail(this.email),this.message="Un lien de r\xE9initialisation a \xE9t\xE9 envoy\xE9 \xE0 votre adresse email."}catch(r){this.message=`Erreur : ${r.message}`}finally{this.loading=!1}})}navigateToLogin(){this.router.navigate(["/login"])}};t.\u0275fac=function(o){return new(o||t)(T(vt))},t.\u0275cmp=ce({type:t,selectors:[["app-forgot-password"]],decls:14,vars:2,consts:[[1,"forgot-password-container"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","placeholder","Votre email",3,"ngModelChange","ngModel"],["type","submit"],["class","message",4,"ngIf"],[3,"click"],[1,"message"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"h2"),k(2,"Mot de passe oubli\xE9"),g(),y(3,"form",1),x("ngSubmit",function(){return i.onSubmit()}),y(4,"div",2)(5,"label",3),k(6,"Email"),g(),y(7,"input",4),te("ngModelChange",function(s){return oe(i.email,s)||(i.email=s),s}),g()(),y(8,"button",5),k(9,"Envoyer le lien de r\xE9initialisation"),g()(),re(10,$x,2,1,"div",6),y(11,"p")(12,"a",7),x("click",function(){return i.navigateToLogin()}),k(13,"Retour au Log In"),g()()()),o&2&&(v(7),ee("ngModel",i.email),v(3),R("ngIf",i.message))},dependencies:[mt,kr,tt,gt,mr,jn,ct,Fn,xe,Ne],styles:[".forgot-password-container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.forgot-password-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.forgot-password-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2c3e50;font-weight:500}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.forgot-password-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.forgot-password-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#2980b9}.forgot-password-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;text-align:center;border-radius:6px;background-color:#e8f4fc;color:#2c3e50;border:1px solid #b8d8f0}p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}"]});let n=t;return n})();function Gx(n,t){if(n&1){let e=ke();y(0,"form",8),x("ngSubmit",function(){D(e);let o=I();return E(o.onSubmit())}),y(1,"div",9)(2,"label",10),k(3,"Nouveau mot de passe"),g(),y(4,"input",11),te("ngModelChange",function(o){D(e);let i=I();return oe(i.newPassword,o)||(i.newPassword=o),E(o)}),g()(),y(5,"div",9)(6,"label",12),k(7,"Confirmer le mot de passe"),g(),y(8,"input",13),te("ngModelChange",function(o){D(e);let i=I();return oe(i.confirmPassword,o)||(i.confirmPassword=o),E(o)}),g()(),y(9,"button",14),k(10),g()()}if(n&2){let e=I();v(4),ee("ngModel",e.newPassword),R("disabled",e.loading),v(4),ee("ngModel",e.confirmPassword),R("disabled",e.loading),v(),R("disabled",e.loading),v(),ue(" ",e.loading?"Mise \xE0 jour...":"Mettre \xE0 jour le mot de passe"," ")}}function Wx(n,t){if(n&1&&(y(0,"div",15),k(1),g()),n&2){let e=I();v(),ue(" ",e.error," ")}}function Zx(n,t){if(n&1&&(y(0,"div",16),k(1),g()),n&2){let e=I();v(),ue(" ",e.message," ")}}var B4=(()=>{let t=class t{constructor(r,o){this.supabaseService=r,this.router=o,this.newPassword="",this.confirmPassword="",this.message="",this.error="",this.loading=!1,this.success=!1}ngOnInit(){return f(this,null,function*(){let{data:r}=yield this.supabaseService.getSession();r.session||(this.error="Session invalide. Veuillez demander un nouveau lien de r\xE9initialisation.")})}onSubmit(){return f(this,null,function*(){if(this.error="",this.message="",this.newPassword.length<6){this.error="Le mot de passe doit contenir au moins 6 caract\xE8res.";return}if(this.newPassword!==this.confirmPassword){this.error="Les mots de passe ne correspondent pas.";return}this.loading=!0;try{let{error:r}=yield this.supabaseService.updatePassword(this.newPassword);r?this.error="Erreur : "+r.message:(this.message="Mot de passe mis \xE0 jour avec succ\xE8s !",this.success=!0)}catch(r){this.error="Une erreur est survenue : "+r.message}finally{this.loading=!1}})}goToProfile(){this.router.navigate(["/profile"])}goToLogin(){this.router.navigate(["/login"])}};t.\u0275fac=function(o){return new(o||t)(T(vt),T(Ce))},t.\u0275cmp=ce({type:t,selectors:[["app-update-password"]],decls:13,vars:3,consts:[[1,"update-password-container"],[1,"update-password-card"],[1,"subtitle"],[3,"ngSubmit",4,"ngIf"],["class","message error",4,"ngIf"],["class","message success",4,"ngIf"],[1,"profile-button",3,"click"],[1,"login-button",3,"click"],[3,"ngSubmit"],[1,"form-group"],["for","newPassword"],["type","password","id","newPassword","name","newPassword","required","","minlength","6","placeholder","Minimum 6 caract\xE8res",3,"ngModelChange","ngModel","disabled"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","","minlength","6","placeholder","Confirmez votre mot de passe",3,"ngModelChange","ngModel","disabled"],["type","submit",3,"disabled"],[1,"message","error"],[1,"message","success"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"div",1)(2,"h2"),k(3,"Mettre \xE0 jour votre mot de passe"),g(),y(4,"p",2),k(5,"Veuillez entrer votre nouveau mot de passe"),g(),re(6,Gx,11,6,"form",3)(7,Wx,2,1,"div",4)(8,Zx,2,1,"div",5),y(9,"button",6),x("click",function(){return i.goToProfile()}),k(10," Retour au profil "),g(),y(11,"button",7),x("click",function(){return i.goToLogin()}),k(12," Retour \xE0 la connexion "),g()()()),o&2&&(v(6),R("ngIf",!i.success&&(!i.error||i.newPassword)),v(),R("ngIf",i.error),v(),R("ngIf",i.message))},dependencies:[mt,kr,tt,gt,mr,jn,Ja,ct,Fn,xe,Ne],styles:[".update-password-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.update-password-card[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:10px;box-shadow:0 10px 25px #0003;max-width:400px;width:100%}h2[_ngcontent-%COMP%]{margin:0 0 10px;color:#333;font-size:24px;text-align:center}.subtitle[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:30px;font-size:14px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500;font-size:14px}input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:5px;font-size:14px;box-sizing:border-box;transition:border-color .3s}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}button[_ngcontent-%COMP%]{width:100%;padding:12px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:5px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .2s,box-shadow .2s}button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]{margin-top:20px;background:linear-gradient(135deg,#2ecc71,#27ae60)}.login-button[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #2ecc7166}.profile-button[_ngcontent-%COMP%]{margin-top:20px;background:linear-gradient(135deg,#cc2e85 0% 100%)}.profile-button[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #2ecc7166}.message[_ngcontent-%COMP%]{margin-top:20px;padding:12px;border-radius:5px;text-align:center;font-size:14px}.message.error[_ngcontent-%COMP%]{background-color:#fee;color:#c33;border:1px solid #fcc}.message.success[_ngcontent-%COMP%]{background-color:#efe;color:#3c3;border:1px solid #cfc}"]});let n=t;return n})();var U4=[{path:"login",component:F4},{path:"signup",component:j4},{path:"forgot-password",component:q4},{path:"",canActivate:[V4],children:[{path:"",redirectTo:"/compact",pathMatch:"full"},{path:"list",component:Zl},{path:"calendar",component:O4},{path:"compact",component:R4},{path:"timeline",component:N4},{path:"profile",component:z4},{path:"update-password",component:B4}]},{path:"**",redirectTo:"login"}];var Kx=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=ce({type:t,selectors:[["app-root"]],decls:19,vars:0,consts:[[1,"app-container"],[1,"navbar"],[1,"nav-content"],[1,"app-title"],[1,"nav-links"],["routerLink","/calendar","routerLinkActive","active"],["routerLink","/compact","routerLinkActive","active"],["routerLink","/list","routerLinkActive","active"],["routerLink","/timeline","routerLinkActive","active"],["routerLink","/profile","routerLinkActive","active"],["name","user",1,"icon"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"nav",1)(2,"div",2)(3,"h1",3),k(4,"Calendrier Livraisons & MEP"),g(),y(5,"div",4)(6,"a",5),k(7,"Calendrier"),g(),y(8,"a",6),k(9,"Vue Compacte"),g(),y(10,"a",7),k(11,"Liste"),g(),y(12,"a",8),k(13,"Timeline"),g(),y(14,"a",9),Y(15,"lucide-icon",10),k(16," Profil "),g()()()(),y(17,"main"),Y(18,"router-outlet"),g()())},dependencies:[xe,$0,za,vi,q0,Ze,nt],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background:#f1f5f9}.app-container[_ngcontent-%COMP%]{min-height:100vh}.navbar[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e2e8f0;position:sticky;top:0;z-index:100;box-shadow:0 1px 3px #0000000d}.nav-content[_ngcontent-%COMP%]{max-width:1600px;margin:0 auto;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center}.app-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1e293b}.nav-links[_ngcontent-%COMP%]{display:flex;gap:.5rem}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:6px;text-decoration:none;color:#64748b;font-weight:500;transition:all .2s}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff}main[_ngcontent-%COMP%]{min-height:calc(100vh - 80px)}.icon[_ngcontent-%COMP%]{width:18px;height:18px;margin-right:6px;vertical-align:middle;fill:currentColor}body.dark-mode[_nghost-%COMP%], body.dark-mode   [_nghost-%COMP%]{background:#0f172a}body.dark-mode[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{background:#1e293b;border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .app-title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .app-title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff}"]});let n=t;return n})();f0(Kx,{providers:[B0(U4),kc(Ze.pick({User:fv,Search:lv,X:yv,Package:ov,Plus:cv,Trash2:pv,PenLine:sv,Rocket:dv,Menu:nv,PanelLeftClose:iv,PanelLeftOpen:av,LucideHistory:tv,Calendar:Yk,GitCommit:ev,Columns:Jk,AlignJustify:hv,Sun:uv,Moon:rv}))]});export{Kx as App};
