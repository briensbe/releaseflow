import{a as x,b as G,c as q3,d as fo,e as U3,f as $3,g as yo,h as f,j as $f,k as Wf,n as W3,o as Gf}from"./chunk-5WDXYQDS.js";var wo={};U3(wo,{__addDisposableResource:()=>Ay,__assign:()=>el,__asyncDelegator:()=>_y,__asyncGenerator:()=>rl,__asyncValues:()=>ol,__await:()=>Sn,__awaiter:()=>L,__classPrivateFieldGet:()=>Dy,__classPrivateFieldIn:()=>Ly,__classPrivateFieldSet:()=>Ey,__createBinding:()=>nl,__decorate:()=>hy,__disposeResources:()=>Ty,__esDecorate:()=>fy,__exportStar:()=>My,__extends:()=>uy,__generator:()=>ky,__importDefault:()=>Sy,__importStar:()=>Iy,__makeTemplateObject:()=>xy,__metadata:()=>vy,__param:()=>py,__propKey:()=>gy,__read:()=>H1,__rest:()=>Zn,__rewriteRelativeImportExtension:()=>Py,__runInitializers:()=>yy,__setFunctionName:()=>my,__spread:()=>wy,__spreadArray:()=>by,__spreadArrays:()=>Cy,__values:()=>tl,default:()=>sw});function uy(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");j1(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Zn(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function hy(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function py(n,e){return function(t,r){e(t,r,n)}}function fy(n,e,t,r,o,i){function a(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var s=r.kind,c=s==="getter"?"get":s==="setter"?"set":"value",l=!e&&n?r.static?n:n.prototype:null,d=e||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),u,p=!1,h=t.length-1;h>=0;h--){var m={};for(var v in r)m[v]=v==="access"?{}:r[v];for(var v in r.access)m.access[v]=r.access[v];m.addInitializer=function(C){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(C||null))};var k=(0,t[h])(s==="accessor"?{get:d.get,set:d.set}:d[c],m);if(s==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(u=a(k.get))&&(d.get=u),(u=a(k.set))&&(d.set=u),(u=a(k.init))&&o.unshift(u)}else(u=a(k))&&(s==="field"?o.unshift(u):d[c]=u)}l&&Object.defineProperty(l,r.name,d),p=!0}function yy(n,e,t){for(var r=arguments.length>2,o=0;o<e.length;o++)t=r?e[o].call(n,t):e[o].call(n);return r?t:void 0}function gy(n){return typeof n=="symbol"?n:"".concat(n)}function my(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function vy(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function L(n,e,t,r){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?i(d.value):o(d.value).then(s,c)}l((r=r.apply(n,e||[])).next())})}function ky(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(d){return c([l,d])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(t=0)),t;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,o=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){t.label=l[1];break}if(l[0]===6&&t.label<i[1]){t.label=i[1],i=l;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(l);break}i[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(d){l=[6,d],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function My(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&nl(e,n,t)}function tl(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function H1(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return i}function wy(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(H1(arguments[e]));return n}function Cy(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),o=0,e=0;e<t;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function by(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}function Sn(n){return this instanceof Sn?(this.v=n,this):new Sn(n)}function rl(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(h){return function(m){return Promise.resolve(m).then(h,u)}}function s(h,m){r[h]&&(o[h]=function(v){return new Promise(function(k,C){i.push([h,v,k,C])>1||c(h,v)})},m&&(o[h]=m(o[h])))}function c(h,m){try{l(r[h](m))}catch(v){p(i[0][3],v)}}function l(h){h.value instanceof Sn?Promise.resolve(h.value.v).then(d,u):p(i[0][2],h)}function d(h){c("next",h)}function u(h){c("throw",h)}function p(h,m){h(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function _y(n){var e,t;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,i){e[o]=n[o]?function(a){return(t=!t)?{value:Sn(n[o](a)),done:!1}:i?i(a):a}:i}}function ol(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof tl=="function"?tl(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(a){return new Promise(function(s,c){a=n[i](a),o(s,c,a.done,a.value)})}}function o(i,a,s,c){Promise.resolve(c).then(function(l){i({value:l,done:s})},a)}}function xy(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function Iy(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=V1(n),r=0;r<t.length;r++)t[r]!=="default"&&nl(e,n,t[r]);return iw(e,n),e}function Sy(n){return n&&n.__esModule?n:{default:n}}function Dy(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function Ey(n,e,t,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!o:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,t):o?o.value=t:e.set(n,t),t}function Ly(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Ay(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],t&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}function Ty(n){function e(i){n.error=n.hasError?new aw(i,n.error,"An error was suppressed during disposal."):i,n.hasError=!0}var t,r=0;function o(){for(;t=n.stack.pop();)try{if(!t.async&&r===1)return r=0,n.stack.push(t),Promise.resolve().then(o);if(t.dispose){var i=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(i).then(o,function(a){return e(a),o()})}else r|=1}catch(a){e(a)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return o()}function Py(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,o,i,a){return r?e?".jsx":".js":o&&(!i||!a)?t:o+i+"."+a.toLowerCase()+"js"}):n}var j1,el,nl,iw,V1,aw,sw,xe=q3(()=>{"use strict";j1=function(n,e){return j1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},j1(n,e)};el=function(){return el=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},el.apply(this,arguments)};nl=Object.create?function(n,e,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(e,t);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,o)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]};iw=Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e},V1=function(n){return V1=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},V1(n)};aw=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};sw={__extends:uy,__assign:el,__rest:Zn,__decorate:hy,__param:py,__esDecorate:fy,__runInitializers:yy,__propKey:gy,__setFunctionName:my,__metadata:vy,__awaiter:L,__generator:ky,__createBinding:nl,__exportStar:My,__values:tl,__read:H1,__spread:wy,__spreadArrays:Cy,__spreadArray:by,__await:Sn,__asyncGenerator:rl,__asyncDelegator:_y,__asyncValues:ol,__makeTemplateObject:xy,__importStar:Iy,__importDefault:Sy,__classPrivateFieldGet:Dy,__classPrivateFieldSet:Ey,__classPrivateFieldIn:Ly,__addDisposableResource:Ay,__disposeResources:Ty,__rewriteRelativeImportExtension:Py}});var D2=fo(S2=>{"use strict";Object.defineProperty(S2,"__esModule",{value:!0});var I2=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};S2.default=I2});var A2=fo(L2=>{"use strict";Object.defineProperty(L2,"__esModule",{value:!0});var wM=(xe(),yo(wo)),pI=wM.__importDefault((Gf(),yo(W3))),fI=wM.__importDefault(D2()),E2=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=pI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>f(this,null,function*(){var a,s,c,l;let d=null,u=null,p=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){let R=yield i.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?u=R:u=JSON.parse(R))}let k=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),C=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");k&&C&&C.length>1&&(p=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,p=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let k=yield i.text();try{d=JSON.parse(k),Array.isArray(d)&&i.status===404&&(u=[],d=null,h=200,m="OK")}catch{i.status===404&&k===""?(h=204,m="No Content"):d={message:k}}if(d&&this.isMaybeSingle&&(!((l=d?.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,h=200,m="OK"),d&&this.shouldThrowOnError)throw new fI.default(d)}return{error:d,data:u,count:p,status:h,statusText:m}}));return this.shouldThrowOnError||(o=o.catch(i=>{var a,s,c;return{error:{message:`${(a=i?.name)!==null&&a!==void 0?a:"FetchError"}: ${i?.message}`,details:`${(s=i?.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}};L2.default=E2});var O2=fo(P2=>{"use strict";Object.defineProperty(P2,"__esModule",{value:!0});var yI=(xe(),yo(wo)),gI=yI.__importDefault(A2()),T2=class extends gI.default{select(e){let t=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:a="text"}={}){var s;let c=[e?"analyze":null,t?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};P2.default=T2});var _u=fo(N2=>{"use strict";Object.defineProperty(N2,"__esModule",{value:!0});var mI=(xe(),yo(wo)),vI=mI.__importDefault(O2()),kI=new RegExp("[,()]"),R2=class extends vI.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(o=>typeof o=="string"&&kI.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};N2.default=R2});var V2=fo(j2=>{"use strict";Object.defineProperty(j2,"__esModule",{value:!0});var MI=(xe(),yo(wo)),hc=MI.__importDefault(_u()),F2=class{constructor(e,{headers:t={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=o}select(e,t){let{head:r=!1,count:o}=t??{},i=r?"HEAD":"GET",a=!1,s=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",s),o&&this.headers.append("Prefer",`count=${o}`),new hc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var o;let i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(a.length>0){let s=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new hc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var a;let s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let c=e.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(c.length>0){let l=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new hc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;let o="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new hc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new hc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};j2.default=F2});var bM=fo(z2=>{"use strict";Object.defineProperty(z2,"__esModule",{value:!0});var CM=(xe(),yo(wo)),wI=CM.__importDefault(V2()),CI=CM.__importDefault(_u()),H2=class n{constructor(e,{headers:t={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=o}from(e){let t=new URL(`${this.url}/${e}`);return new wI.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new n(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:o=!1,count:i}={}){var a;let s,c=new URL(`${this.url}/rpc/${e}`),l;r||o?(s=r?"HEAD":"GET",Object.entries(t).filter(([u,p])=>p!==void 0).map(([u,p])=>[u,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([u,p])=>{c.searchParams.append(u,p)})):(s="POST",l=t);let d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new CI.default({method:s,url:c,headers:d,schema:this.schemaName,body:l,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};z2.default=H2});var LM=fo(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.PostgrestError=Ct.PostgrestBuilder=Ct.PostgrestTransformBuilder=Ct.PostgrestFilterBuilder=Ct.PostgrestQueryBuilder=Ct.PostgrestClient=void 0;var ka=(xe(),yo(wo)),_M=ka.__importDefault(bM());Ct.PostgrestClient=_M.default;var xM=ka.__importDefault(V2());Ct.PostgrestQueryBuilder=xM.default;var IM=ka.__importDefault(_u());Ct.PostgrestFilterBuilder=IM.default;var SM=ka.__importDefault(O2());Ct.PostgrestTransformBuilder=SM.default;var DM=ka.__importDefault(A2());Ct.PostgrestBuilder=DM.default;var EM=ka.__importDefault(D2());Ct.PostgrestError=EM.default;Ct.default={PostgrestClient:_M.default,PostgrestQueryBuilder:xM.default,PostgrestFilterBuilder:IM.default,PostgrestTransformBuilder:SM.default,PostgrestBuilder:DM.default,PostgrestError:EM.default}});var w1;function Fc(){return w1}function In(n){let e=w1;return w1=n,e}var Zf=Symbol("NotFound");function vi(n){return n===Zf||n?.name==="\u0275NotFound"}var ct=null,jc=!1,C1=1,G3=null,lt=Symbol("SIGNAL");function Z(n){let e=ct;return ct=n,e}function Bc(){return ct}var go={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ki(n){if(jc)throw new Error("");if(ct===null)return;ct.consumerOnSignalRead(n);let e=ct.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=ct.recomputing;if(r&&(t=e!==void 0?e.nextProducer:ct.producers,t!==void 0&&t.producer===n)){ct.producersTail=t,t.lastReadVersion=n.version;return}let o=n.consumersTail;if(o!==void 0&&o.consumer===ct&&(!r||K3(o,ct)))return;let i=Ci(ct),a={producer:n,consumer:ct,nextProducer:t,prevConsumer:o,lastReadVersion:n.version,nextConsumer:void 0};ct.producersTail=a,e!==void 0?e.nextProducer=a:ct.producers=a,i&&Qf(n,a)}function Kf(){C1++}function qc(n){if(!(Ci(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===C1)){if(!n.producerMustRecompute(n)&&!wi(n)){zc(n);return}n.producerRecomputeValue(n),zc(n)}}function b1(n){if(n.consumers===void 0)return;let e=jc;jc=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||Z3(r)}}finally{jc=e}}function _1(){return ct?.consumerAllowSignalWrites!==!1}function Z3(n){n.dirty=!0,b1(n),n.consumerMarkedDirty?.(n)}function zc(n){n.dirty=!1,n.lastCleanEpoch=C1}function mo(n){return n&&Yf(n),Z(n)}function Yf(n){n.producersTail=void 0,n.recomputing=!0}function Mi(n,e){Z(e),n&&Xf(n)}function Xf(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Ci(n))do t=x1(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function wi(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(qc(t),r!==t.version))return!0}return!1}function vo(n){if(Ci(n)){let e=n.producers;for(;e!==void 0;)e=x1(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Qf(n,e){let t=n.consumersTail,r=Ci(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let o=n.producers;o!==void 0;o=o.nextProducer)Qf(o.producer,o)}function x1(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,o=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:e.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(e.consumers=r,!Ci(e)){let i=e.producers;for(;i!==void 0;)i=x1(i)}return t}function Ci(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Uc(n){G3?.(n)}function K3(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function $c(n,e){return Object.is(n,e)}function Wc(n,e){let t=Object.create(Y3);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(qc(t),ki(t),t.value===Ba)throw t.error;return t.value};return r[lt]=t,Uc(t),r}var Vc=Symbol("UNSET"),Hc=Symbol("COMPUTING"),Ba=Symbol("ERRORED"),Y3=G(x({},go),{value:Vc,dirty:!0,error:null,equal:$c,kind:"computed",producerMustRecompute(n){return n.value===Vc||n.value===Hc},producerRecomputeValue(n){if(n.value===Hc)throw new Error("");let e=n.value;n.value=Hc;let t=mo(n),r,o=!1;try{r=n.computation(),Z(null),o=e!==Vc&&e!==Ba&&r!==Ba&&n.equal(e,r)}catch(i){r=Ba,n.error=i}finally{Mi(n,t)}if(o){n.value=e;return}n.value=r,n.version++}});function X3(){throw new Error}var Jf=X3;function ey(n){Jf(n)}function I1(n){Jf=n}var Q3=null;function S1(n,e){let t=Object.create(Gc);t.value=n,e!==void 0&&(t.equal=e);let r=()=>ty(t);return r[lt]=t,Uc(t),[r,a=>bi(t,a),a=>D1(t,a)]}function ty(n){return ki(n),n.value}function bi(n,e){_1()||ey(n),n.equal(n.value,e)||(n.value=e,J3(n))}function D1(n,e){_1()||ey(n),bi(n,e(n.value))}var Gc=G(x({},go),{equal:$c,value:void 0,kind:"signal"});function J3(n){n.version++,Kf(),b1(n),Q3?.(n)}function Y(n){return typeof n=="function"}function _i(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Zc=_i(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function qa(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var je=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let i of t)i.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(i){e=i instanceof Zc?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{ny(i)}catch(a){e=e??[],a instanceof Zc?e=[...e,...a.errors]:e.push(a)}}if(e)throw new Zc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ny(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&qa(t,e)}remove(e){let{_finalizers:t}=this;t&&qa(t,e),e instanceof n&&e._removeParent(this)}};je.EMPTY=(()=>{let n=new je;return n.closed=!0,n})();var E1=je.EMPTY;function Kc(n){return n instanceof je||n&&"closed"in n&&Y(n.remove)&&Y(n.add)&&Y(n.unsubscribe)}function ny(n){Y(n)?n():n.unsubscribe()}var sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xi={setTimeout(n,e,...t){let{delegate:r}=xi;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=xi;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Yc(n){xi.setTimeout(()=>{let{onUnhandledError:e}=sn;if(e)e(n);else throw n})}function Ua(){}var ry=L1("C",void 0,void 0);function oy(n){return L1("E",void 0,n)}function iy(n){return L1("N",n,void 0)}function L1(n,e,t){return{kind:n,value:e,error:t}}var ko=null;function Ii(n){if(sn.useDeprecatedSynchronousErrorHandling){let e=!ko;if(e&&(ko={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ko;if(ko=null,t)throw r}}else n()}function ay(n){sn.useDeprecatedSynchronousErrorHandling&&ko&&(ko.errorThrown=!0,ko.error=n)}var Mo=class extends je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Kc(e)&&e.add(this)):this.destination=nw}static create(e,t,r){return new Si(e,t,r)}next(e){this.isStopped?T1(iy(e),this):this._next(e)}error(e){this.isStopped?T1(oy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?T1(ry,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ew=Function.prototype.bind;function A1(n,e){return ew.call(n,e)}var P1=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Xc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Xc(r)}else Xc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Xc(t)}}},Si=class extends Mo{constructor(e,t,r){super();let o;if(Y(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&sn.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&A1(e.next,i),error:e.error&&A1(e.error,i),complete:e.complete&&A1(e.complete,i)}):o=e}this.destination=new P1(o)}};function Xc(n){sn.useDeprecatedSynchronousErrorHandling?ay(n):Yc(n)}function tw(n){throw n}function T1(n,e){let{onStoppedNotification:t}=sn;t&&xi.setTimeout(()=>t(n,e))}var nw={closed:!0,next:Ua,error:tw,complete:Ua};var Di=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ot(n){return n}function O1(...n){return R1(n)}function R1(n){return n.length===0?Ot:n.length===1?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}var oe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){let i=ow(t)?t:new Si(t,r,o);return Ii(()=>{let{operator:a,source:s}=this;i.add(a?a.call(i,s):s?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=sy(r),new r((o,i)=>{let a=new Si({next:s=>{try{t(s)}catch(c){i(c),a.unsubscribe()}},error:i,complete:o});this.subscribe(a)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Di](){return this}pipe(...t){return R1(t)(this)}toPromise(t){return t=sy(t),new t((r,o)=>{let i;this.subscribe(a=>i=a,a=>o(a),()=>r(i))})}}return n.create=e=>new n(e),n})();function sy(n){var e;return(e=n??sn.Promise)!==null&&e!==void 0?e:Promise}function rw(n){return n&&Y(n.next)&&Y(n.error)&&Y(n.complete)}function ow(n){return n&&n instanceof Mo||rw(n)&&Kc(n)}function N1(n){return Y(n?.lift)}function se(n){return e=>{if(N1(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(n,e,t,r,o){return new F1(n,e,t,r,o)}var F1=class extends Mo{constructor(e,t,r,o,i,a){super(e),this.onFinalize=i,this.shouldUnsubscribe=a,this._next=t?function(s){try{t(s)}catch(c){e.error(c)}}:super._next,this._error=o?function(s){try{o(s)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ei(){return se((n,e)=>{let t=null;n._refCount++;let r=te(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Li=class extends oe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,N1(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new je;let t=this.getSubject();e.add(this.source.subscribe(te(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=je.EMPTY)}return e}refCount(){return Ei()(this)}};var cy=_i(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=(()=>{class n extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Qc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new cy}next(t){Ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:o,observers:i}=this;return r||o?E1:(this.currentObservers=null,i.push(t),new je(()=>{this.currentObservers=null,qa(i,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){let t=new oe;return t.source=this,t}}return n.create=(e,t)=>new Qc(e,t),n})(),Qc=class extends Oe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:E1}};var Be=class extends Oe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var xt=new oe(n=>n.complete());function ly(n){return n&&Y(n.schedule)}function dy(n){return n[n.length-1]}function Jc(n){return Y(dy(n))?n.pop():void 0}function br(n){return ly(dy(n))?n.pop():void 0}xe();var il=n=>n&&typeof n.length=="number"&&typeof n!="function";function al(n){return Y(n?.then)}function sl(n){return Y(n[Di])}function cl(n){return Symbol.asyncIterator&&Y(n?.[Symbol.asyncIterator])}function ll(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var dl=cw();function ul(n){return Y(n?.[dl])}xe();function hl(n){return rl(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:o}=yield Sn(t.read());if(o)return yield Sn(void 0);yield yield Sn(r)}}finally{t.releaseLock()}})}function pl(n){return Y(n?.getReader)}function Ve(n){if(n instanceof oe)return n;if(n!=null){if(sl(n))return lw(n);if(il(n))return dw(n);if(al(n))return uw(n);if(cl(n))return Oy(n);if(ul(n))return hw(n);if(pl(n))return pw(n)}throw ll(n)}function lw(n){return new oe(e=>{let t=n[Di]();if(Y(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dw(n){return new oe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function uw(n){return new oe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Yc)})}function hw(n){return new oe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Oy(n){return new oe(e=>{fw(n,e).catch(t=>e.error(t))})}function pw(n){return Oy(hl(n))}function fw(n,e){var t,r,o,i;return L(this,void 0,void 0,function*(){try{for(t=ol(n);r=yield t.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){o={error:a}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})}function It(n,e,t,r=0,o=!1){let i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function fl(n,e=0){return se((t,r)=>{t.subscribe(te(r,o=>It(r,n,()=>r.next(o),e),()=>It(r,n,()=>r.complete(),e),o=>It(r,n,()=>r.error(o),e)))})}function yl(n,e=0){return se((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Ry(n,e){return Ve(n).pipe(yl(e),fl(e))}function Ny(n,e){return Ve(n).pipe(yl(e),fl(e))}function Fy(n,e){return new oe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function jy(n,e){return new oe(t=>{let r;return It(t,e,()=>{r=n[dl](),It(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(a){t.error(a);return}i?t.complete():t.next(o)},0,!0)}),()=>Y(r?.return)&&r.return()})}function gl(n,e){if(!n)throw new Error("Iterable cannot be null");return new oe(t=>{It(t,e,()=>{let r=n[Symbol.asyncIterator]();It(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function Vy(n,e){return gl(hl(n),e)}function Hy(n,e){if(n!=null){if(sl(n))return Ry(n,e);if(il(n))return Fy(n,e);if(al(n))return Ny(n,e);if(cl(n))return gl(n,e);if(ul(n))return jy(n,e);if(pl(n))return Vy(n,e)}throw ll(n)}function Ie(n,e){return e?Hy(n,e):Ve(n)}function B(...n){let e=br(n);return Ie(n,e)}function Ai(n,e){let t=Y(n)?n:()=>n,r=o=>o.error(t());return new oe(e?o=>e.schedule(r,0,o):r)}function z1(n){return!!n&&(n instanceof oe||Y(n.lift)&&Y(n.subscribe))}var Kn=_i(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ne(n,e){return se((t,r)=>{let o=0;t.subscribe(te(r,i=>{r.next(n.call(e,i,o++))}))})}var{isArray:yw}=Array;function gw(n,e){return yw(e)?n(...e):n(e)}function ml(n){return ne(e=>gw(n,e))}var{isArray:mw}=Array,{getPrototypeOf:vw,prototype:kw,keys:Mw}=Object;function vl(n){if(n.length===1){let e=n[0];if(mw(e))return{args:e,keys:null};if(ww(e)){let t=Mw(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function ww(n){return n&&typeof n=="object"&&vw(n)===kw}function kl(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}function $a(...n){let e=br(n),t=Jc(n),{args:r,keys:o}=vl(n);if(r.length===0)return Ie([],e);let i=new oe(Cw(r,e,o?a=>kl(o,a):Ot));return t?i.pipe(ml(t)):i}function Cw(n,e,t=Ot){return r=>{zy(e,()=>{let{length:o}=n,i=new Array(o),a=o,s=o;for(let c=0;c<o;c++)zy(e,()=>{let l=Ie(n[c],e),d=!1;l.subscribe(te(r,u=>{i[c]=u,d||(d=!0,s--),s||r.next(t(i.slice()))},()=>{--a||r.complete()}))},r)},r)}}function zy(n,e,t){n?It(t,n,e):e()}function By(n,e,t,r,o,i,a,s){let c=[],l=0,d=0,u=!1,p=()=>{u&&!c.length&&!l&&e.complete()},h=v=>l<r?m(v):c.push(v),m=v=>{i&&e.next(v),l++;let k=!1;Ve(t(v,d++)).subscribe(te(e,C=>{o?.(C),i?h(C):e.next(C)},()=>{k=!0},void 0,()=>{if(k)try{for(l--;c.length&&l<r;){let C=c.shift();a?It(e,a,()=>m(C)):m(C)}p()}catch(C){e.error(C)}}))};return n.subscribe(te(e,h,()=>{u=!0,p()})),()=>{s?.()}}function Re(n,e,t=1/0){return Y(e)?Re((r,o)=>ne((i,a)=>e(r,i,o,a))(Ve(n(r,o))),t):(typeof e=="number"&&(t=e),se((r,o)=>By(r,o,n,t)))}function _r(n=1/0){return Re(Ot,n)}function qy(){return _r(1)}function Ti(...n){return qy()(Ie(n,br(n)))}function Wa(n){return new oe(e=>{Ve(n()).subscribe(e)})}function B1(...n){let e=Jc(n),{args:t,keys:r}=vl(n),o=new oe(i=>{let{length:a}=t;if(!a){i.complete();return}let s=new Array(a),c=a,l=a;for(let d=0;d<a;d++){let u=!1;Ve(t[d]).subscribe(te(i,p=>{u||(u=!0,l--),s[d]=p},()=>c--,void 0,()=>{(!c||!u)&&(l||i.next(r?kl(r,s):s),i.complete())}))}});return e?o.pipe(ml(e)):o}function St(n,e){return se((t,r)=>{let o=0;t.subscribe(te(r,i=>n.call(e,i,o++)&&r.next(i)))})}function Yn(n){return se((e,t)=>{let r=null,o=!1,i;r=e.subscribe(te(t,void 0,void 0,a=>{i=Ve(n(a,Yn(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function Uy(n,e,t,r,o){return(i,a)=>{let s=t,c=e,l=0;i.subscribe(te(a,d=>{let u=l++;c=s?n(c,d,u):(s=!0,d),r&&a.next(c)},o&&(()=>{s&&a.next(c),a.complete()})))}}function xr(n,e){return Y(e)?Re(n,e,1):Re(n,1)}function Ir(n){return se((e,t)=>{let r=!1;e.subscribe(te(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Xn(n){return n<=0?()=>xt:se((e,t)=>{let r=0;e.subscribe(te(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Ml(n=bw){return se((e,t)=>{let r=!1;e.subscribe(te(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function bw(){return new Kn}function Ga(n){return se((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Qn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?St((o,i)=>n(o,i,r)):Ot,Xn(1),t?Ir(e):Ml(()=>new Kn))}function Pi(n){return n<=0?()=>xt:se((e,t)=>{let r=[];e.subscribe(te(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(let o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function q1(n,e){let t=arguments.length>=2;return r=>r.pipe(n?St((o,i)=>n(o,i,r)):Ot,Pi(1),t?Ir(e):Ml(()=>new Kn))}function U1(n,e){return se(Uy(n,e,arguments.length>=2,!0))}function $1(...n){let e=br(n);return se((t,r)=>{(e?Ti(n,t,e):Ti(n,t)).subscribe(r)})}function kt(n,e){return se((t,r)=>{let o=null,i=0,a=!1,s=()=>a&&!o&&r.complete();t.subscribe(te(r,c=>{o?.unsubscribe();let l=0,d=i++;Ve(n(c,d)).subscribe(o=te(r,u=>r.next(e?e(c,u,d,l++):u),()=>{o=null,s()}))},()=>{a=!0,s()}))})}function wl(n){return se((e,t)=>{Ve(n).subscribe(te(t,()=>t.complete(),Ua)),!t.closed&&e.subscribe(t)})}function Ze(n,e,t){let r=Y(n)||e||t?{next:n,error:e,complete:t}:n;return r?se((o,i)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;o.subscribe(te(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;s=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ot}function $y(n){let e=Z(null);try{return n()}finally{Z(e)}}var Wy=G(x({},go),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Gy(n){if(n.dirty=!1,n.version>0&&!wi(n))return;n.version++;let e=mo(n);try{n.cleanup(),n.fn()}finally{Mi(n,e)}}var xl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",F=class extends Error{code;constructor(e,t){super(tr(e,t)),this.code=e}};function _w(n){return`NG0${Math.abs(n)}`}function tr(n,e){return`${_w(n)}${e?": "+e:""}`}var Qa=globalThis;function fe(n){for(let e in n)if(n[e]===fe)return e;throw Error("")}function Yy(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function er(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(er).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function rh(n,e){return n?e?`${n} ${e}`:n:e||""}var xw=fe({__forward_ref__:fe});function Ft(n){return n.__forward_ref__=Ft,n.toString=function(){return er(this())},n}function Je(n){return oh(n)?n():n}function oh(n){return typeof n=="function"&&n.hasOwnProperty(xw)&&n.__forward_ref__===Ft}function O(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function jt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ja(n){return Iw(n,Il)}function ih(n){return Ja(n)!==null}function Iw(n,e){return n.hasOwnProperty(e)&&n[e]||null}function Sw(n){let e=n?.[Il]??null;return e||null}function G1(n){return n&&n.hasOwnProperty(bl)?n[bl]:null}var Il=fe({\u0275prov:fe}),bl=fe({\u0275inj:fe}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=O({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ah(n){return n&&!!n.\u0275providers}var sh=fe({\u0275cmp:fe}),ch=fe({\u0275dir:fe}),lh=fe({\u0275pipe:fe}),dh=fe({\u0275mod:fe}),Ka=fe({\u0275fac:fe}),So=fe({__NG_ELEMENT_ID__:fe}),Zy=fe({__NG_ENV_ID__:fe});function Do(n){return typeof n=="string"?n:n==null?"":String(n)}function Xy(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Do(n)}var Qy=fe({ngErrorCode:fe}),Dw=fe({ngErrorMessage:fe}),Ew=fe({ngTokenPath:fe});function uh(n,e){return Jy("",-200,e)}function Sl(n,e){throw new F(-201,!1)}function Jy(n,e,t){let r=new F(e,n);return r[Qy]=e,r[Dw]=n,t&&(r[Ew]=t),r}function Lw(n){return n[Qy]}var Z1;function eg(){return Z1}function Rt(n){let e=Z1;return Z1=n,e}function hh(n,e,t){let r=Ja(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Sl(n,"Injector")}var Aw={},Co=Aw,K1="__NG_DI_FLAG__",Y1=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=bo(t)||0;try{return this.injector.get(e,r&8?null:Co,r)}catch(o){if(vi(o))return o;throw o}}};function Tw(n,e=0){let t=Fc();if(t===void 0)throw new F(-203,!1);if(t===null)return hh(n,void 0,e);{let r=Pw(e),o=t.retrieve(n,r);if(vi(o)){if(r.optional)return null;throw o}return o}}function z(n,e=0){return(eg()||Tw)(Je(n),e)}function b(n,e){return z(n,bo(e))}function bo(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Pw(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function X1(n){let e=[];for(let t=0;t<n.length;t++){let r=Je(n[t]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let o,i=0;for(let a=0;a<r.length;a++){let s=r[a],c=Ow(s);typeof c=="number"?c===-1?o=s.token:i|=c:o=s}e.push(z(o,i))}else e.push(z(r))}return e}function tg(n,e){return n[K1]=e,n.prototype[K1]=e,n}function Ow(n){return n[K1]}function _o(n,e){let t=n.hasOwnProperty(Ka);return t?n[Ka]:null}function ng(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}function rg(n){return n.flat(Number.POSITIVE_INFINITY)}function Dl(n,e){n.forEach(t=>Array.isArray(t)?Dl(t,e):e(t))}function ph(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function es(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function og(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function ig(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(o===1)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;){let i=o-2;n[o]=n[i],o--}n[e]=t,n[e+1]=r}}function ag(n,e,t){let r=Ri(n,e);return r>=0?n[r|1]=t:(r=~r,ig(n,r,e,t)),r}function El(n,e){let t=Ri(n,e);if(t>=0)return n[t|1]}function Ri(n,e){return Rw(n,e,1)}function Rw(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){let i=r+(o-r>>1),a=n[i<<t];if(e===a)return i<<t;a>e?o=i:r=i+1}return~(o<<t)}var Dr={},Nt=[],Er=new V(""),fh=new V("",-1),yh=new V(""),Ya=class{get(e,t=Co){if(t===Co){let o=Jy("",-201);throw o.name="\u0275NotFound",o}return t}};function gh(n){return n[dh]||null}function nr(n){return n[sh]||null}function mh(n){return n[ch]||null}function sg(n){return n[lh]||null}function ts(n){return{\u0275providers:n}}function Ll(...n){return{\u0275providers:vh(!0,n),\u0275fromNgModule:!0}}function vh(n,...e){let t=[],r=new Set,o,i=a=>{t.push(a)};return Dl(e,a=>{let s=a;_l(s,i,[],r)&&(o||=[],o.push(s))}),o!==void 0&&cg(o,i),t}function cg(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:o}=n[t];kh(o,i=>{e(i,r)})}}function _l(n,e,t,r){if(n=Je(n),!n)return!1;let o=null,i=G1(n),a=!i&&nr(n);if(!i&&!a){let c=n.ngModule;if(i=G1(c),i)o=c;else return!1}else{if(a&&!a.standalone)return!1;o=n}let s=r.has(o);if(a){if(s)return!1;if(r.add(o),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let l of c)_l(l,e,t,r)}}else if(i){if(i.imports!=null&&!s){r.add(o);let l;try{Dl(i.imports,d=>{_l(d,e,t,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&cg(l,e)}if(!s){let l=_o(o)||(()=>new o);e({provide:o,useFactory:l,deps:Nt},o),e({provide:yh,useValue:o,multi:!0},o),e({provide:Er,useValue:()=>z(o),multi:!0},o)}let c=i.providers;if(c!=null&&!s){let l=n;kh(c,d=>{e(d,l)})}}else return!1;return o!==n&&n.providers!==void 0}function kh(n,e){for(let t of n)ah(t)&&(t=t.\u0275providers),Array.isArray(t)?kh(t,e):e(t)}var Nw=fe({provide:String,useValue:fe});function lg(n){return n!==null&&typeof n=="object"&&Nw in n}function Fw(n){return!!(n&&n.useExisting)}function jw(n){return!!(n&&n.useFactory)}function xo(n){return typeof n=="function"}function dg(n){return!!n.useClass}var ns=new V(""),Cl={},Ky={},W1;function rs(){return W1===void 0&&(W1=new Ya),W1}var qe=class{},Io=class extends qe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,J1(e,a=>this.processProvider(a)),this.records.set(fh,Oi(void 0,this)),o.has("environment")&&this.records.set(qe,Oi(void 0,this));let i=this.records.get(ns);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(yh,Nt,{self:!0}))}retrieve(e,t){let r=bo(t)||0;try{return this.get(e,Co,r)}catch(o){if(vi(o))return o;throw o}}destroy(){Za(this),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return Za(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Za(this);let t=In(this),r=Rt(void 0),o;try{return e()}finally{In(t),Rt(r)}}get(e,t=Co,r){if(Za(this),e.hasOwnProperty(Zy))return e[Zy](this);let o=bo(r),i,a=In(this),s=Rt(void 0);try{if(!(o&4)){let l=this.records.get(e);if(l===void 0){let d=qw(e)&&Ja(e);d&&this.injectableDefInScope(d)?l=Oi(Q1(e),Cl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,o)}let c=o&2?rs():this.parent;return t=o&8&&t===Co?null:t,c.get(e,t)}catch(c){let l=Lw(c);throw l===-200||l===-201?new F(l,null):c}finally{Rt(s),In(a)}}resolveInjectorInitializers(){let e=Z(null),t=In(this),r=Rt(void 0),o;try{let i=this.get(Er,Nt,{self:!0});for(let a of i)a()}finally{In(t),Rt(r),Z(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(er(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Je(e);let t=xo(e)?e:Je(e&&e.provide),r=Hw(e);if(!xo(e)&&e.multi===!0){let o=this.records.get(t);o||(o=Oi(void 0,Cl,!0),o.factory=()=>X1(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let o=Z(null);try{if(t.value===Ky)throw uh(er(e));return t.value===Cl&&(t.value=Ky,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Bw(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Z(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Je(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Q1(n){let e=Ja(n),t=e!==null?e.factory:_o(n);if(t!==null)return t;if(n instanceof V)throw new F(204,!1);if(n instanceof Function)return Vw(n);throw new F(204,!1)}function Vw(n){if(n.length>0)throw new F(204,!1);let t=Sw(n);return t!==null?()=>t.factory(n):()=>new n}function Hw(n){if(lg(n))return Oi(void 0,n.useValue);{let e=Mh(n);return Oi(e,Cl)}}function Mh(n,e,t){let r;if(xo(n)){let o=Je(n);return _o(o)||Q1(o)}else if(lg(n))r=()=>Je(n.useValue);else if(jw(n))r=()=>n.useFactory(...X1(n.deps||[]));else if(Fw(n))r=(o,i)=>z(Je(n.useExisting),i!==void 0&&i&8?8:void 0);else{let o=Je(n&&(n.useClass||n.provide));if(zw(n))r=()=>new o(...X1(n.deps));else return _o(o)||Q1(o)}return r}function Za(n){if(n.destroyed)throw new F(205,!1)}function Oi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function zw(n){return!!n.deps}function Bw(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function qw(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function J1(n,e){for(let t of n)Array.isArray(t)?J1(t,e):t&&ah(t)?J1(t.\u0275providers,e):e(t)}function ut(n,e){let t;n instanceof Io?(Za(n),t=n):t=new Y1(n);let r,o=In(t),i=Rt(void 0);try{return e()}finally{In(o),Rt(i)}}function ug(){return eg()!==void 0||Fc()!=null}var cn=0,W=1,$=2,Ke=3,Kt=4,Mt=5,Ni=6,Fi=7,et=8,Lr=9,En=10,Le=11,ji=12,wh=13,Eo=14,Dt=15,Ar=16,Lo=17,Ln=18,os=19,Ch=20,Jn=21,Al=22,rr=23,Vt=24,Ao=25,is=26,Ue=27,hg=1;var Tr=7,as=8,To=9,ht=10;function An(n){return Array.isArray(n)&&typeof n[hg]=="object"}function ln(n){return Array.isArray(n)&&n[hg]===!0}function bh(n){return(n.flags&4)!==0}function Pr(n){return n.componentOffset>-1}function ss(n){return(n.flags&1)===1}function Tn(n){return!!n.template}function Vi(n){return(n[$]&512)!==0}function Po(n){return(n[$]&256)===256}var pg="svg",fg="math";function Yt(n){for(;Array.isArray(n);)n=n[cn];return n}function _h(n,e){return Yt(e[n])}function dn(n,e){return Yt(e[n.index])}function cs(n,e){return n.data[e]}function yg(n,e){return n[e]}function Xt(n,e){let t=e[n];return An(t)?t:t[cn]}function gg(n){return(n[$]&4)===4}function Tl(n){return(n[$]&128)===128}function mg(n){return ln(n[Ke])}function Or(n,e){return e==null?null:n[e]}function xh(n){n[Lo]=0}function Ih(n){n[$]&1024||(n[$]|=1024,Tl(n)&&Rr(n))}function vg(n,e){for(;n>0;)e=e[Eo],n--;return e}function ls(n){return!!(n[$]&9216||n[Vt]?.dirty)}function Pl(n){n[En].changeDetectionScheduler?.notify(8),n[$]&64&&(n[$]|=1024),ls(n)&&Rr(n)}function Rr(n){n[En].changeDetectionScheduler?.notify(0);let e=Sr(n);for(;e!==null&&!(e[$]&8192||(e[$]|=8192,!Tl(e)));)e=Sr(e)}function Sh(n,e){if(Po(n))throw new F(911,!1);n[Jn]===null&&(n[Jn]=[]),n[Jn].push(e)}function kg(n,e){if(n[Jn]===null)return;let t=n[Jn].indexOf(e);t!==-1&&n[Jn].splice(t,1)}function Sr(n){let e=n[Ke];return ln(e)?e[Ke]:e}function Dh(n){return n[Fi]??=[]}function Eh(n){return n.cleanup??=[]}function Mg(n,e,t,r){let o=Dh(e);o.push(t),n.firstCreatePass&&Eh(n).push(r,o.length-1)}var Q={lFrame:Rg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var eh=!1;function wg(){return Q.lFrame.elementDepthCount}function Cg(){Q.lFrame.elementDepthCount++}function bg(){Q.lFrame.elementDepthCount--}function Lh(){return Q.bindingsEnabled}function Ah(){return Q.skipHydrationRootTNode!==null}function _g(n){return Q.skipHydrationRootTNode===n}function xg(){Q.skipHydrationRootTNode=null}function re(){return Q.lFrame.lView}function Ye(){return Q.lFrame.tView}function T(n){return Q.lFrame.contextLView=n,n[et]}function P(n){return Q.lFrame.contextLView=null,n}function tt(){let n=Th();for(;n!==null&&n.type===64;)n=n.parent;return n}function Th(){return Q.lFrame.currentTNode}function Ig(){let n=Q.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Hi(n,e){let t=Q.lFrame;t.currentTNode=n,t.isParent=e}function Ph(){return Q.lFrame.isParent}function Oh(){Q.lFrame.isParent=!1}function Sg(){return Q.lFrame.contextLView}function Rh(){return eh}function zi(n){let e=eh;return eh=n,e}function Dg(){return Q.lFrame.bindingIndex}function Eg(n){return Q.lFrame.bindingIndex=n}function Bi(){return Q.lFrame.bindingIndex++}function Nh(n){let e=Q.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Lg(){return Q.lFrame.inI18n}function Ag(n,e){let t=Q.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ol(e)}function Tg(){return Q.lFrame.currentDirectiveIndex}function Ol(n){Q.lFrame.currentDirectiveIndex=n}function Pg(n){let e=Q.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Fh(){return Q.lFrame.currentQueryIndex}function Rl(n){Q.lFrame.currentQueryIndex=n}function Uw(n){let e=n[W];return e.type===2?e.declTNode:e.type===1?n[Mt]:null}function jh(n,e,t){if(t&4){let o=e,i=n;for(;o=o.parent,o===null&&!(t&1);)if(o=Uw(i),o===null||(i=i[Eo],o.type&10))break;if(o===null)return!1;e=o,n=i}let r=Q.lFrame=Og();return r.currentTNode=e,r.lView=n,!0}function Nl(n){let e=Og(),t=n[W];Q.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Og(){let n=Q.lFrame,e=n===null?null:n.child;return e===null?Rg(n):e}function Rg(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Ng(){let n=Q.lFrame;return Q.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Vh=Ng;function Fl(){let n=Ng();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Fg(n){return(Q.lFrame.contextLView=vg(n,Q.lFrame.contextLView))[et]}function Nr(){return Q.lFrame.selectedIndex}function Fr(n){Q.lFrame.selectedIndex=n}function jl(){let n=Q.lFrame;return cs(n.tView,n.selectedIndex)}function jg(){return Q.lFrame.currentNamespace}var Vg=!0;function Vl(){return Vg}function Hl(n){Vg=n}function th(n,e=null,t=null,r){let o=Hh(n,e,t,r);return o.resolveInjectorInitializers(),o}function Hh(n,e=null,t=null,r,o=new Set){let i=[t||Nt,Ll(n)];return r=r||(typeof n=="object"?void 0:er(n)),new Io(i,e||rs(),r||null,o)}var dt=class n{static THROW_IF_NOT_FOUND=Co;static NULL=new Ya;static create(e,t){if(Array.isArray(e))return th({name:""},t,e,"");{let r=e.name??"";return th({name:r},e.parent,e.providers,r)}}static \u0275prov=O({token:n,providedIn:"any",factory:()=>z(fh)});static __NG_ELEMENT_ID__=-1},He=new V(""),un=(()=>{class n{static __NG_ELEMENT_ID__=$w;static __NG_ENV_ID__=t=>t}return n})(),Xa=class extends un{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Po(this._lView)}onDestroy(e){let t=this._lView;return Sh(t,e),()=>kg(t,e)}};function $w(){return new Xa(re())}var Zt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ht=new V("",{providedIn:"root",factory:()=>{let n=b(qe),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Zt),e.handleError(t))}}}),Hg={provide:Er,useValue:()=>void b(Zt),multi:!0};function zh(n){return typeof n=="function"&&n[lt]!==void 0}function nt(n,e){let[t,r,o]=S1(n,e?.equal),i=t,a=i[lt];return i.set=r,i.update=o,i.asReadonly=Bh.bind(i),i}function Bh(){let n=this[lt];if(n.readonlyFn===void 0){let e=()=>this();e[lt]=n,n.readonlyFn=e}return n.readonlyFn}function qh(n){return zh(n)&&typeof n.set=="function"}var qi=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=Ww}return n})();function Ww(){return new qi(re(),tt())}var Dn=class{},zl=new V("",{providedIn:"root",factory:()=>!1});var Uh=new V(""),$h=new V(""),or=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Be(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new oe(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})();function Oo(...n){}var ds=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:()=>new nh})}return n})(),nh=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Ki(n){return{toString:n}.toString()}var Bl="__parameters__";function t8(n){return function(...t){if(n){let r=n(...t);for(let o in r)this[o]=r[o]}}}function n8(n,e,t){return Ki(()=>{let r=t8(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let a=new o(...i);return s.annotation=a,s;function s(c,l,d){let u=c.hasOwnProperty(Bl)?c[Bl]:Object.defineProperty(c,Bl,{value:[]})[Bl];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(a),c}}return o.prototype.ngMetadataName=n,o.annotationCls=o,o})}var S0=tg(n8("Optional"),8);function r8(n){return typeof n=="function"}var Kl=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function km(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Qt=(()=>{let n=()=>Mm;return n.ngInherit=!0,n})();function Mm(n){return n.type.prototype.ngOnChanges&&(n.setInput=i8),o8}function o8(){let n=Cm(this),e=n?.current;if(e){let t=n.previous;if(t===Dr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function i8(n,e,t,r,o){let i=this.declaredInputs[r],a=Cm(n)||a8(n,{previous:Dr,current:null}),s=a.current||(a.current={}),c=a.previous,l=c[i];s[i]=new Kl(l&&l.currentValue,t,c===Dr),km(n,e,o,t)}var wm="__ngSimpleChanges__";function Cm(n){return n[wm]||null}function a8(n,e){return n[wm]=e}var zg=[];var ge=function(n,e=null,t){for(let r=0;r<zg.length;r++){let o=zg[r];o(n,e,t)}};function s8(n,e,t){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let a=Mm(e);(t.preOrderHooks??=[]).push(n,a),(t.preOrderCheckHooks??=[]).push(n,a)}o&&(t.preOrderHooks??=[]).push(0-n,o),i&&((t.preOrderHooks??=[]).push(n,i),(t.preOrderCheckHooks??=[]).push(n,i))}function bm(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let i=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=i;a&&(n.contentHooks??=[]).push(-t,a),s&&((n.contentHooks??=[]).push(t,s),(n.contentCheckHooks??=[]).push(t,s)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function $l(n,e,t){_m(n,e,3,t)}function Wl(n,e,t,r){(n[$]&3)===t&&_m(n,e,t,r)}function Wh(n,e){let t=n[$];(t&3)===e&&(t&=16383,t+=1,n[$]=t)}function _m(n,e,t,r){let o=r!==void 0?n[Lo]&65535:0,i=r??-1,a=e.length-1,s=0;for(let c=o;c<a;c++)if(typeof e[c+1]=="number"){if(s=e[c],r!=null&&s>=r)break}else e[c]<0&&(n[Lo]+=65536),(s<i||i==-1)&&(c8(n,t,e,c),n[Lo]=(n[Lo]&4294901760)+c+2),c++}function Bg(n,e){ge(4,n,e);let t=Z(null);try{e.call(n)}finally{Z(t),ge(5,n,e)}}function c8(n,e,t,r){let o=t[r]<0,i=t[r+1],a=o?-t[r]:t[r],s=n[a];o?n[$]>>14<n[Lo]>>16&&(n[$]&3)===e&&(n[$]+=16384,Bg(s,i)):Bg(s,i)}var $i=-1,No=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,o){this.factory=e,this.name=o,this.canSeeViewProviders=t,this.injectImpl=r}};function l8(n){return(n.flags&8)!==0}function d8(n){return(n.flags&16)!==0}function u8(n,e,t){let r=0;for(;r<t.length;){let o=t[r];if(typeof o=="number"){if(o!==0)break;r++;let i=t[r++],a=t[r++],s=t[r++];n.setAttribute(e,a,s,i)}else{let i=o,a=t[++r];h8(i)?n.setProperty(e,i,a):n.setAttribute(e,i,a),r++}}return r}function xm(n){return n===3||n===4||n===6}function h8(n){return n.charCodeAt(0)===64}function ps(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?t=o:t===0||(t===-1||t===2?qg(n,t,o,null,e[++r]):qg(n,t,o,null,null))}}return n}function qg(n,e,t,r,o){let i=0,a=n.length;if(e===-1)a=-1;else for(;i<n.length;){let s=n[i++];if(typeof s=="number"){if(s===e){a=-1;break}else if(s>e){a=i-1;break}}}for(;i<n.length;){let s=n[i];if(typeof s=="number")break;if(s===t){o!==null&&(n[i+1]=o);return}i++,o!==null&&i++}a!==-1&&(n.splice(a,0,e),i=a+1),n.splice(i++,0,t),o!==null&&n.splice(i++,0,o)}function Im(n){return n!==$i}function Yl(n){return n&32767}function p8(n){return n>>16}function Xl(n,e){let t=p8(n),r=e;for(;t>0;)r=r[Eo],t--;return r}var n0=!0;function Ug(n){let e=n0;return n0=n,e}var f8=256,Sm=f8-1,Dm=5,y8=0,Pn={};function g8(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(So)&&(r=t[So]),r==null&&(r=t[So]=y8++);let o=r&Sm,i=1<<o;e.data[n+(o>>Dm)]|=i}function Ql(n,e){let t=Em(n,e);if(t!==-1)return t;let r=e[W];r.firstCreatePass&&(n.injectorIndex=e.length,Gh(r.data,n),Gh(e,null),Gh(r.blueprint,null));let o=D0(n,e),i=n.injectorIndex;if(Im(o)){let a=Yl(o),s=Xl(o,e),c=s[W].data;for(let l=0;l<8;l++)e[i+l]=s[a+l]|c[a+l]}return e[i+8]=o,i}function Gh(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Em(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function D0(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;o!==null;){if(r=Om(o),r===null)return $i;if(t++,o=o[Eo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return $i}function r0(n,e,t){g8(n,e,t)}function m8(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,o=0;for(;o<r;){let i=t[o];if(xm(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof t[o]=="string";)o++;else{if(i===e)return t[o+1];o=o+2}}}return null}function Lm(n,e,t){if(t&8||n!==void 0)return n;Sl(e,"NodeInjector")}function Am(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let o=n[Lr],i=Rt(void 0);try{return o?o.get(e,r,t&8):hh(e,r,t&8)}finally{Rt(i)}}return Lm(r,e,t)}function Tm(n,e,t,r=0,o){if(n!==null){if(e[$]&2048&&!(r&2)){let a=w8(n,e,t,r,Pn);if(a!==Pn)return a}let i=Pm(n,e,t,r,Pn);if(i!==Pn)return i}return Am(e,t,r,o)}function Pm(n,e,t,r,o){let i=k8(t);if(typeof i=="function"){if(!jh(e,n,r))return r&1?Lm(o,t,r):Am(e,t,r,o);try{let a;if(a=i(r),a==null&&!(r&8))Sl(t);else return a}finally{Vh()}}else if(typeof i=="number"){let a=null,s=Em(n,e),c=$i,l=r&1?e[Dt][Mt]:null;for((s===-1||r&4)&&(c=s===-1?D0(n,e):e[s+8],c===$i||!Wg(r,!1)?s=-1:(a=e[W],s=Yl(c),e=Xl(c,e)));s!==-1;){let d=e[W];if($g(i,s,d.data)){let u=v8(s,e,t,a,r,l);if(u!==Pn)return u}c=e[s+8],c!==$i&&Wg(r,e[W].data[s+8]===l)&&$g(i,s,e)?(a=d,s=Yl(c),e=Xl(c,e)):s=-1}}return o}function v8(n,e,t,r,o,i){let a=e[W],s=a.data[n+8],c=r==null?Pr(s)&&n0:r!=a&&(s.type&3)!==0,l=o&1&&i===s,d=Gl(s,a,t,c,l);return d!==null?fs(e,a,d,s,o):Pn}function Gl(n,e,t,r,o){let i=n.providerIndexes,a=e.data,s=i&1048575,c=n.directiveStart,l=n.directiveEnd,d=i>>20,u=r?s:s+d,p=o?s+d:l;for(let h=u;h<p;h++){let m=a[h];if(h<c&&t===m||h>=c&&m.type===t)return h}if(o){let h=a[c];if(h&&Tn(h)&&h.type===t)return c}return null}function fs(n,e,t,r,o){let i=n[t],a=e.data;if(i instanceof No){let s=i;if(s.resolving){let h=Xy(a[t]);throw uh(h)}let c=Ug(s.canSeeViewProviders);s.resolving=!0;let l=a[t].type||a[t],d,u=s.injectImpl?Rt(s.injectImpl):null,p=jh(n,r,0);try{i=n[t]=s.factory(void 0,o,a,n,r),e.firstCreatePass&&t>=r.directiveStart&&s8(t,a[t],e)}finally{u!==null&&Rt(u),Ug(c),s.resolving=!1,Vh()}}return i}function k8(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(So)?n[So]:void 0;return typeof e=="number"?e>=0?e&Sm:M8:e}function $g(n,e,t){let r=1<<n;return!!(t[e+(n>>Dm)]&r)}function Wg(n,e){return!(n&2)&&!(n&1&&e)}var Ro=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Tm(this._tNode,this._lView,e,bo(r),t)}};function M8(){return new Ro(tt(),re())}function pn(n){return Ki(()=>{let e=n.prototype.constructor,t=e[Ka]||o0(e),r=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){let i=o[Ka]||o0(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function o0(n){return oh(n)?()=>{let e=o0(Je(n));return e&&e()}:_o(n)}function w8(n,e,t,r,o){let i=n,a=e;for(;i!==null&&a!==null&&a[$]&2048&&!Vi(a);){let s=Pm(i,a,t,r|2,Pn);if(s!==Pn)return s;let c=i.parent;if(!c){let l=a[Ch];if(l){let d=l.get(t,Pn,r);if(d!==Pn)return d}c=Om(a),a=a[Eo]}i=c}return o}function Om(n){let e=n[W],t=e.type;return t===2?e.declTNode:t===1?n[Mt]:null}function vs(n){return m8(tt(),n)}function C8(){return Yi(tt(),re())}function Yi(n,e){return new rt(dn(n,e))}var rt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=C8}return n})();function b8(n){return n instanceof rt?n.nativeElement:n}function _8(){return this._results[Symbol.iterator]()}var Jl=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Oe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=rg(e);(this._changesDetected=!ng(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=_8};function Rm(n){return(n.flags&128)===128}var E0=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(E0||{}),Nm=new Map,x8=0;function I8(){return x8++}function S8(n){Nm.set(n[os],n)}function i0(n){Nm.delete(n[os])}var Gg="__ngContext__";function Wi(n,e){An(e)?(n[Gg]=e[os],S8(e)):n[Gg]=e}function Fm(n){return Vm(n[ji])}function jm(n){return Vm(n[Kt])}function Vm(n){for(;n!==null&&!ln(n);)n=n[Kt];return n}var a0;function L0(n){a0=n}function Hm(){if(a0!==void 0)return a0;if(typeof document<"u")return document;throw new F(210,!1)}var pd=new V("",{providedIn:"root",factory:()=>D8}),D8="ng",fd=new V(""),Xi=new V("",{providedIn:"platform",factory:()=>"unknown"});var yd=new V("",{providedIn:"root",factory:()=>Hm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var E8="h",L8="b";var zm=!1,Bm=new V("",{providedIn:"root",factory:()=>zm});var A0=new V("");var A8=(n,e,t,r)=>{};function T8(n,e,t,r){A8(n,e,t,r)}function gd(n){return(n.flags&32)===32}var P8=()=>null;function qm(n,e,t=!1){return P8(n,e,t)}function Um(n,e){let t=n.contentQueries;if(t!==null){let r=Z(null);try{for(let o=0;o<t.length;o+=2){let i=t[o],a=t[o+1];if(a!==-1){let s=n.data[a];Rl(i),s.contentQueries(2,e[a],a)}}}finally{Z(r)}}}function s0(n,e,t){Rl(0);let r=Z(null);try{e(n,t)}finally{Z(r)}}function $m(n,e,t){if(bh(e)){let r=Z(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let a=o;a<i;a++){let s=n.data[a];if(s.contentQueries){let c=t[a];s.contentQueries(1,c,a)}}}finally{Z(r)}}}var ir=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(ir||{});var ql;function O8(){if(ql===void 0&&(ql=null,Qa.trustedTypes))try{ql=Qa.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ql}function Zg(n){return O8()?.createScriptURL(n)||n}var ed=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xl})`}};function ks(n){return n instanceof ed?n.changingThisBreaksApplicationSecurity:n}function T0(n,e){let t=Wm(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${xl})`)}return t===e}function Wm(n){return n instanceof ed&&n.getTypeName()||null}var R8=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Gm(n){return n=String(n),n.match(R8)?n:"unsafe:"+n}var md=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(md||{});function Zm(n){let e=Ym();return e?e.sanitize(md.URL,n)||"":T0(n,"URL")?ks(n):Gm(Do(n))}function Km(n){let e=Ym();if(e)return Zg(e.sanitize(md.RESOURCE_URL,n)||"");if(T0(n,"ResourceURL"))return Zg(ks(n));throw new F(904,!1)}function N8(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Km:Zm}function P0(n,e,t){return N8(e,t)(n)}function Ym(){let n=re();return n&&n[En].sanitizer}function Xm(n){return n instanceof Function?n():n}function F8(n,e,t){let r=n.length;for(;;){let o=n.indexOf(e,t);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}var Qm="ng-template";function j8(n,e,t,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&F8(e[o+1].toLowerCase(),t,0)!==-1)return!0}else if(O0(n))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===t)return!0}return!1}function O0(n){return n.type===4&&n.value!==Qm}function V8(n,e,t){let r=n.type===4&&!t?Qm:n.value;return e===r}function H8(n,e,t){let r=4,o=n.attrs,i=o!==null?q8(o):0,a=!1;for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number"){if(!a&&!hn(r)&&!hn(c))return!1;if(a&&hn(c))continue;a=!1,r=c|r&1;continue}if(!a)if(r&4){if(r=2|r&1,c!==""&&!V8(n,c,t)||c===""&&e.length===1){if(hn(r))return!1;a=!0}}else if(r&8){if(o===null||!j8(n,o,c,t)){if(hn(r))return!1;a=!0}}else{let l=e[++s],d=z8(c,o,O0(n),t);if(d===-1){if(hn(r))return!1;a=!0;continue}if(l!==""){let u;if(d>i?u="":u=o[d+1].toLowerCase(),r&2&&l!==u){if(hn(r))return!1;a=!0}}}}return hn(r)||a}function hn(n){return(n&1)===0}function z8(n,e,t,r){if(e===null)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){let a=e[o];if(a===n)return o;if(a===3||a===6)i=!0;else if(a===1||a===2){let s=e[++o];for(;typeof s=="string";)s=e[++o];continue}else{if(a===4)break;if(a===0){o+=4;continue}}o+=i?1:2}return-1}else return U8(e,n)}function Jm(n,e,t=!1){for(let r=0;r<e.length;r++)if(H8(n,e[r],t))return!0;return!1}function B8(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function q8(n){for(let e=0;e<n.length;e++){let t=n[e];if(xm(t))return e}return n.length}function U8(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function $8(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function Kg(n,e){return n?":not("+e.trim()+")":e}function W8(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let a=n[t];if(typeof a=="string")if(r&2){let s=n[++t];o+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?o+="."+a:r&4&&(o+=" "+a);else o!==""&&!hn(a)&&(e+=Kg(i,o),o=""),r=a,i=i||!hn(r);t++}return o!==""&&(e+=Kg(i,o)),e}function G8(n){return n.map(W8).join(",")}function Z8(n){let e=[],t=[],r=1,o=2;for(;r<n.length;){let i=n[r];if(typeof i=="string")o===2?i!==""&&e.push(i,n[++r]):o===8&&t.push(i);else{if(!hn(o))break;o=i}r++}return t.length&&e.push(1,...t),e}var fn={};function K8(n,e){return n.createText(e)}function Y8(n,e,t){n.setValue(e,t)}function ev(n,e,t){return n.createElement(e,t)}function td(n,e,t,r,o){n.insertBefore(e,t,r,o)}function tv(n,e,t){n.appendChild(e,t)}function Yg(n,e,t,r,o){r!==null?td(n,e,t,r,o):tv(n,e,t)}function X8(n,e,t,r){n.removeChild(null,e,t,r)}function Q8(n,e,t){n.setAttribute(e,"style",t)}function J8(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function nv(n,e,t){let{mergedAttrs:r,classes:o,styles:i}=t;r!==null&&u8(n,e,r),o!==null&&J8(n,e,o),i!==null&&Q8(n,e,i)}function R0(n,e,t,r,o,i,a,s,c,l,d){let u=Ue+r,p=u+o,h=eC(u,p),m=typeof l=="function"?l():l;return h[W]={type:n,blueprint:h,template:t,queries:null,viewQuery:s,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:d}}function eC(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:fn);return t}function tC(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=R0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function N0(n,e,t,r,o,i,a,s,c,l,d){let u=e.blueprint.slice();return u[cn]=o,u[$]=r|4|128|8|64|1024,(l!==null||n&&n[$]&2048)&&(u[$]|=2048),xh(u),u[Ke]=u[Eo]=n,u[et]=t,u[En]=a||n&&n[En],u[Le]=s||n&&n[Le],u[Lr]=c||n&&n[Lr]||null,u[Mt]=i,u[os]=I8(),u[Ni]=d,u[Ch]=l,u[Dt]=e.type==2?n[Dt]:u,u}function nC(n,e,t){let r=dn(e,n),o=tC(t),i=n[En].rendererFactory,a=F0(n,N0(n,o,null,rv(t),r,e,null,i.createRenderer(r,t),null,null,null));return n[e.index]=a}function rv(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function ov(n,e,t,r){if(t===0)return-1;let o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function F0(n,e){return n[ji]?n[wh][Kt]=e:n[ji]=e,n[wh]=e,e}function w(n=1){iv(Ye(),re(),Nr()+n,!1)}function iv(n,e,t,r){if(!r)if((e[$]&3)===3){let i=n.preOrderCheckHooks;i!==null&&$l(e,i,t)}else{let i=n.preOrderHooks;i!==null&&Wl(e,i,0,t)}Fr(t)}var vd=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(vd||{});function c0(n,e,t,r){let o=Z(null);try{let[i,a,s]=n.inputs[t],c=null;(a&vd.SignalBased)!==0&&(c=e[i][lt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,i):km(e,c,i,r)}finally{Z(o)}}var On=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(On||{}),rC;function j0(n,e){return rC(n,e)}var Gi=new Set,kd=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(kd||{}),zo=new V(""),Xg=new Set;function ar(n){Xg.has(n)||(Xg.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var av=!1,l0=class extends Oe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ug()&&(this.destroyRef=b(un,{optional:!0})??void 0,this.pendingTasks=b(or,{optional:!0})??void 0)}emit(e){let t=Z(null);try{super.next(e)}finally{Z(t)}}subscribe(e,t,r){let o=e,i=t||(()=>null),a=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:o,error:i,complete:a});return e instanceof je&&e.add(s),s}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ce=l0;function sv(n){let e,t;function r(){n=Oo;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Qg(n){return queueMicrotask(()=>n()),()=>{n=Oo}}var V0="isAngularZone",nd=V0+"_ID",oC=0,ze=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ce(!1);onMicrotaskEmpty=new Ce(!1);onStable=new Ce(!1);onError=new Ce(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=av}=e;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&r,a.shouldCoalesceRunChangeDetection=o,a.callbackScheduled=!1,a.scheduleInRootZone=i,sC(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(V0)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new F(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){let i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+o,e,iC,Oo,Oo);try{return i.runTask(a,t,r)}finally{i.cancelTask(a)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},iC={};function H0(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function aC(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){sv(()=>{n.callbackScheduled=!1,d0(n),n.isCheckStableRunning=!0,H0(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),d0(n)}function sC(n){let e=()=>{aC(n)},t=oC++;n._inner=n._inner.fork({name:"angular",properties:{[V0]:!0,[nd]:t,[nd+t]:!0},onInvokeTask:(r,o,i,a,s,c)=>{if(cC(c))return r.invokeTask(i,a,s,c);try{return Jg(n),r.invokeTask(i,a,s,c)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),em(n)}},onInvoke:(r,o,i,a,s,c,l)=>{try{return Jg(n),r.invoke(i,a,s,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!lC(c)&&e(),em(n)}},onHasTask:(r,o,i,a)=>{r.hasTask(i,a),o===i&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,d0(n),H0(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,o,i,a)=>(r.handleError(i,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function d0(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Jg(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function em(n){n._nesting--,H0(n)}var rd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ce;onMicrotaskEmpty=new Ce;onStable=new Ce;onError=new Ce;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}};function cC(n){return cv(n,"__ignore_ng_zone__")}function lC(n){return cv(n,"__scheduler_tick__")}function cv(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var z0=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})(),lv=[0,1,2,3],dv=(()=>{class n{ngZone=b(ze);scheduler=b(Dn);errorHandler=b(Zt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){b(zo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ge(16),this.executing=!0;for(let r of lv)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ge(17)}register(t){let{view:r}=t;r!==void 0?((r[Ao]??=[]).push(t),Rr(r),r[$]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(kd.AFTER_NEXT_RENDER,t):t()}static \u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}return n})(),od=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,o,i,a=null){this.impl=e,this.hooks=t,this.view=r,this.once=o,this.snapshot=a,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ao];e&&(this.view[Ao]=e.filter(t=>t!==this))}};function Ms(n,e){let t=e?.injector??b(dt);return ar("NgAfterNextRender"),uC(n,t,e,!0)}function dC(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function uC(n,e,t,r){let o=e.get(z0);o.impl??=e.get(dv);let i=e.get(zo,null,{optional:!0}),a=t?.manualCleanup!==!0?e.get(un):null,s=e.get(qi,null,{optional:!0}),c=new od(o.impl,dC(n),s?.view,r,a,i?.snapshot(null));return o.impl.register(c),c}var hC=new V("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function uv(n,e){let t=n.get(hC);if(Array.isArray(e))for(let r of e)t.queue.add(r);else t.queue.add(e);t.scheduler&&t.scheduler(n)}function pC(n,e){for(let[t,r]of e)uv(n,r.animateFns)}function tm(n,e,t,r){let o=n?.[is]?.enter;e!==null&&o&&o.has(t.index)&&pC(r,o)}function Ui(n,e,t,r,o,i,a,s){if(o!=null){let c,l=!1;ln(o)?c=o:An(o)&&(l=!0,o=o[cn]);let d=Yt(o);n===0&&r!==null?(tm(s,r,i,t),a==null?tv(e,r,d):td(e,r,d,a||null,!0)):n===1&&r!==null?(tm(s,r,i,t),td(e,r,d,a||null,!0)):n===2?nm(s,i,t,u=>{X8(e,d,l,u)}):n===3&&nm(s,i,t,()=>{e.destroyNode(d)}),c!=null&&_C(e,n,t,c,i,r,a)}}function fC(n,e){hv(n,e),e[cn]=null,e[Mt]=null}function yC(n,e,t,r,o,i){r[cn]=o,r[Mt]=e,Md(n,r,t,1,o,i)}function hv(n,e){e[En].changeDetectionScheduler?.notify(9),Md(n,e,e[Le],2,null,null)}function gC(n){let e=n[ji];if(!e)return Zh(n[W],n);for(;e;){let t=null;if(An(e))t=e[ji];else{let r=e[ht];r&&(t=r)}if(!t){for(;e&&!e[Kt]&&e!==n;)An(e)&&Zh(e[W],e),e=e[Ke];e===null&&(e=n),An(e)&&Zh(e[W],e),t=e&&e[Kt]}e=t}}function B0(n,e){let t=n[To],r=t.indexOf(e);t.splice(r,1)}function q0(n,e){if(Po(e))return;let t=e[Le];t.destroyNode&&Md(n,e,t,3,null,null),gC(e)}function Zh(n,e){if(Po(e))return;let t=Z(null);try{e[$]&=-129,e[$]|=256,e[Vt]&&vo(e[Vt]),kC(n,e),vC(n,e),e[W].type===1&&e[Le].destroy();let r=e[Ar];if(r!==null&&ln(e[Ke])){r!==e[Ke]&&B0(r,e);let o=e[Ln];o!==null&&o.detachView(n)}i0(e)}finally{Z(t)}}function nm(n,e,t,r){let o=n?.[is];if(o==null||o.leave==null||!o.leave.has(e.index))return r(!1);if(o.skipLeaveAnimations)return o.skipLeaveAnimations=!1,r(!1);n&&Gi.add(n),uv(t,()=>{if(o.leave&&o.leave.has(e.index)){let a=o.leave.get(e.index),s=[];if(a)for(let c=0;c<a.animateFns.length;c++){let l=a.animateFns[c],{promise:d}=l();s.push(d)}o.running=Promise.allSettled(s),mC(n,r)}else n&&Gi.delete(n),r(!1)})}function mC(n,e){let t=n[is]?.running;if(t){t.then(()=>{n[is].running=void 0,Gi.delete(n),e(!0)});return}e(!1)}function vC(n,e){let t=n.cleanup,r=e[Fi];if(t!==null)for(let a=0;a<t.length-1;a+=2)if(typeof t[a]=="string"){let s=t[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[t[a+1]];t[a].call(s)}r!==null&&(e[Fi]=null);let o=e[Jn];if(o!==null){e[Jn]=null;for(let a=0;a<o.length;a++){let s=o[a];s()}}let i=e[rr];if(i!==null){e[rr]=null;for(let a of i)a.destroy()}}function kC(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let o=e[t[r]];if(!(o instanceof No)){let i=t[r+1];if(Array.isArray(i))for(let a=0;a<i.length;a+=2){let s=o[i[a]],c=i[a+1];ge(4,s,c);try{c.call(s)}finally{ge(5,s,c)}}else{ge(4,o,i);try{i.call(o)}finally{ge(5,o,i)}}}}}function pv(n,e,t){return MC(n,e.parent,t)}function MC(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[cn];if(Pr(r)){let{encapsulation:o}=n.data[r.directiveStart+r.componentOffset];if(o===ir.None||o===ir.Emulated)return null}return dn(r,t)}function fv(n,e,t){return CC(n,e,t)}function wC(n,e,t){return n.type&40?dn(n,t):null}var CC=wC,rm;function U0(n,e,t,r){let o=pv(n,r,e),i=e[Le],a=r.parent||e[Mt],s=fv(a,r,e);if(o!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Yg(i,o,t[c],s,!1);else Yg(i,o,t,s,!1);rm!==void 0&&rm(i,r,e,t,o)}function us(n,e){if(e!==null){let t=e.type;if(t&3)return dn(e,n);if(t&4)return u0(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return us(n,r);{let o=n[e.index];return ln(o)?u0(-1,o):Yt(o)}}else{if(t&128)return us(n,e.next);if(t&32)return j0(e,n)()||Yt(n[e.index]);{let r=yv(n,e);if(r!==null){if(Array.isArray(r))return r[0];let o=Sr(n[Dt]);return us(o,r)}else return us(n,e.next)}}}return null}function yv(n,e){if(e!==null){let r=n[Dt][Mt],o=e.projection;return r.projection[o]}return null}function u0(n,e){let t=ht+n+1;if(t<e.length){let r=e[t],o=r[W].firstChild;if(o!==null)return us(r,o)}return e[Tr]}function $0(n,e,t,r,o,i,a){for(;t!=null;){let s=r[Lr];if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(a&&e===0&&(c&&Wi(Yt(c),r),t.flags|=2),!gd(t))if(l&8)$0(n,e,t.child,r,o,i,!1),Ui(e,n,s,o,c,t,i,r);else if(l&32){let d=j0(t,r),u;for(;u=d();)Ui(e,n,s,o,u,t,i,r);Ui(e,n,s,o,c,t,i,r)}else l&16?gv(n,e,r,t,o,i):Ui(e,n,s,o,c,t,i,r);t=a?t.projectionNext:t.next}}function Md(n,e,t,r,o,i){$0(t,r,n.firstChild,e,o,i,!1)}function bC(n,e,t){let r=e[Le],o=pv(n,t,e),i=t.parent||e[Mt],a=fv(i,t,e);gv(r,0,e,t,o,a)}function gv(n,e,t,r,o,i){let a=t[Dt],c=a[Mt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Ui(e,n,t[Lr],o,d,r,i,t)}else{let l=c,d=a[Ke];Rm(r)&&(l.flags|=128),$0(n,e,l,d,o,i,!0)}}function _C(n,e,t,r,o,i,a){let s=r[Tr],c=Yt(r);s!==c&&Ui(e,n,t,i,s,o,a);for(let l=ht;l<r.length;l++){let d=r[l];Md(d[W],d,n,e,i,s)}}function xC(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=r.indexOf("-")===-1?void 0:On.DashCase;o==null?n.removeStyle(t,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=On.Important),n.setStyle(t,r,o,i))}}function mv(n,e,t,r,o){let i=Nr(),a=r&2;try{Fr(-1),a&&e.length>Ue&&iv(n,e,Ue,!1),ge(a?2:0,o,t),t(r,o)}finally{Fr(i),ge(a?3:1,o,t)}}function W0(n,e,t){TC(n,e,t),(t.flags&64)===64&&PC(n,e,t)}function G0(n,e,t=dn){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let a=r[i+1],s=a===-1?t(e,n):n[a];n[o++]=s}}}function IC(n,e,t,r){let i=r.get(Bm,zm)||t===ir.ShadowDom,a=n.selectRootElement(e,i);return SC(a),a}function SC(n){DC(n)}var DC=()=>null;function EC(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function vv(n,e,t,r,o,i){let a=e[W];if(Z0(n,a,e,t,r)){Pr(n)&&AC(e,n.index);return}n.type&3&&(t=EC(t)),LC(n,e,t,r,o,i)}function LC(n,e,t,r,o,i){if(n.type&3){let a=dn(n,e);r=i!=null?i(r,n.value||"",t):r,o.setProperty(a,t,r)}else n.type&12}function AC(n,e){let t=Xt(e,n);t[$]&16||(t[$]|=64)}function TC(n,e,t){let r=t.directiveStart,o=t.directiveEnd;Pr(t)&&nC(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Ql(t,e);let i=t.initialInputs;for(let a=r;a<o;a++){let s=n.data[a],c=fs(e,n,a,t);if(Wi(c,e),i!==null&&FC(e,a-r,c,s,t,i),Tn(s)){let l=Xt(t.index,e);l[et]=fs(e,n,a,t)}}}function PC(n,e,t){let r=t.directiveStart,o=t.directiveEnd,i=t.index,a=Tg();try{Fr(i);for(let s=r;s<o;s++){let c=n.data[s],l=e[s];Ol(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&OC(c,l)}}finally{Fr(-1),Ol(a)}}function OC(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function kv(n,e){let t=n.directiveRegistry,r=null;if(t)for(let o=0;o<t.length;o++){let i=t[o];Jm(e,i.selectors,!1)&&(r??=[],Tn(i)?r.unshift(i):r.push(i))}return r}function RC(n,e,t,r,o,i){let a=dn(n,e);NC(e[Le],a,i,n.value,t,r,o)}function NC(n,e,t,r,o,i,a){if(i==null)n.removeAttribute(e,o,t);else{let s=a==null?Do(i):a(i,r||"",o);n.setAttribute(e,o,s,t)}}function FC(n,e,t,r,o,i){let a=i[e];if(a!==null)for(let s=0;s<a.length;s+=2){let c=a[s],l=a[s+1];c0(r,t,c,l)}}function jC(n,e,t,r,o){let i=Ue+t,a=e[W],s=o(a,e,n,r,t);e[i]=s,Hi(n,!0);let c=n.type===2;return c?(nv(e[Le],s,n),(wg()===0||ss(n))&&Wi(s,e),Cg()):Wi(s,e),Vl()&&(!c||!gd(n))&&U0(a,e,s,n),n}function VC(n){let e=n;return Ph()?Oh():(e=e.parent,Hi(e,!1)),e}function HC(n,e){let t=n[Lr];if(!t)return;let r;try{r=t.get(Ht,null)}catch{r=null}r?.(e)}function Z0(n,e,t,r,o){let i=n.inputs?.[r],a=n.hostDirectiveInputs?.[r],s=!1;if(a)for(let c=0;c<a.length;c+=2){let l=a[c],d=a[c+1],u=e.data[l];c0(u,t[l],d,o),s=!0}if(i)for(let c of i){let l=t[c],d=e.data[c];c0(d,l,r,o),s=!0}return s}function zC(n,e){let t=Xt(e,n),r=t[W];BC(r,t);let o=t[cn];o!==null&&t[Ni]===null&&(t[Ni]=qm(o,t[Lr])),ge(18),K0(r,t,t[et]),ge(19,t[et])}function BC(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function K0(n,e,t){Nl(e);try{let r=n.viewQuery;r!==null&&s0(1,r,t);let o=n.template;o!==null&&mv(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ln]?.finishViewCreation(n),n.staticContentQueries&&Um(n,e),n.staticViewQueries&&s0(2,n.viewQuery,t);let i=n.components;i!==null&&qC(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[$]&=-5,Fl()}}function qC(n,e){for(let t=0;t<e.length;t++)zC(n,e[t])}function Y0(n,e,t,r){let o=Z(null);try{let i=e.tView,s=n[$]&4096?4096:16,c=N0(n,i,t,s,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Ar]=l;let d=n[Ln];return d!==null&&(c[Ln]=d.createEmbeddedView(i)),K0(i,c,t),c}finally{Z(o)}}function id(n,e){return!e||e.firstChild===null||Rm(n)}function ys(n,e,t,r,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let i=e[t.index];i!==null&&r.push(Yt(i)),ln(i)&&Mv(i,r);let a=t.type;if(a&8)ys(n,e,t.child,r);else if(a&32){let s=j0(t,e),c;for(;c=s();)r.push(c)}else if(a&16){let s=yv(e,t);if(Array.isArray(s))r.push(...s);else{let c=Sr(e[Dt]);ys(c[W],c,s,r,!0)}}t=o?t.projectionNext:t.next}return r}function Mv(n,e){for(let t=ht;t<n.length;t++){let r=n[t],o=r[W].firstChild;o!==null&&ys(r[W],r,o,e)}n[Tr]!==n[cn]&&e.push(n[Tr])}function wv(n){if(n[Ao]!==null){for(let e of n[Ao])e.impl.addSequence(e);n[Ao].length=0}}var Cv=[];function UC(n){return n[Vt]??$C(n)}function $C(n){let e=Cv.pop()??Object.create(GC);return e.lView=n,e}function WC(n){n.lView[Vt]!==n&&(n.lView=null,Cv.push(n))}var GC=G(x({},go),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Rr(n.lView)},consumerOnSignalRead(){this.lView[Vt]=this}});function ZC(n){let e=n[Vt]??Object.create(KC);return e.lView=n,e}var KC=G(x({},go),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Sr(n.lView);for(;e&&!bv(e[W]);)e=Sr(e);e&&Ih(e)},consumerOnSignalRead(){this.lView[Vt]=this}});function bv(n){return n.type!==2}function _v(n){if(n[rr]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[rr])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[$]&8192)}}var YC=100;function xv(n,e=0){let r=n[En].rendererFactory,o=!1;o||r.begin?.();try{XC(n,e)}finally{o||r.end?.()}}function XC(n,e){let t=Rh();try{zi(!0),h0(n,e);let r=0;for(;ls(n);){if(r===YC)throw new F(103,!1);r++,h0(n,1)}}finally{zi(t)}}function QC(n,e,t,r){if(Po(e))return;let o=e[$],i=!1,a=!1;Nl(e);let s=!0,c=null,l=null;i||(bv(n)?(l=UC(e),c=mo(l)):Bc()===null?(s=!1,l=ZC(e),c=mo(l)):e[Vt]&&(vo(e[Vt]),e[Vt]=null));try{xh(e),Eg(n.bindingStartIndex),t!==null&&mv(n,e,t,2,r);let d=(o&3)===3;if(!i)if(d){let h=n.preOrderCheckHooks;h!==null&&$l(e,h,null)}else{let h=n.preOrderHooks;h!==null&&Wl(e,h,0,null),Wh(e,0)}if(a||JC(e),_v(e),Iv(e,0),n.contentQueries!==null&&Um(n,e),!i)if(d){let h=n.contentCheckHooks;h!==null&&$l(e,h)}else{let h=n.contentHooks;h!==null&&Wl(e,h,1),Wh(e,1)}tb(n,e);let u=n.components;u!==null&&Dv(e,u,0);let p=n.viewQuery;if(p!==null&&s0(2,p,r),!i)if(d){let h=n.viewCheckHooks;h!==null&&$l(e,h)}else{let h=n.viewHooks;h!==null&&Wl(e,h,2),Wh(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Al]){for(let h of e[Al])h();e[Al]=null}i||(wv(e),e[$]&=-73)}catch(d){throw i||Rr(e),d}finally{l!==null&&(Mi(l,c),s&&WC(l)),Fl()}}function Iv(n,e){for(let t=Fm(n);t!==null;t=jm(t))for(let r=ht;r<t.length;r++){let o=t[r];Sv(o,e)}}function JC(n){for(let e=Fm(n);e!==null;e=jm(e)){if(!(e[$]&2))continue;let t=e[To];for(let r=0;r<t.length;r++){let o=t[r];Ih(o)}}}function eb(n,e,t){ge(18);let r=Xt(e,n);Sv(r,t),ge(19,r[et])}function Sv(n,e){Tl(n)&&h0(n,e)}function h0(n,e){let r=n[W],o=n[$],i=n[Vt],a=!!(e===0&&o&16);if(a||=!!(o&64&&e===0),a||=!!(o&1024),a||=!!(i?.dirty&&wi(i)),a||=!1,i&&(i.dirty=!1),n[$]&=-9217,a)QC(r,n,r.template,n[et]);else if(o&8192){let s=Z(null);try{_v(n),Iv(n,1);let c=r.components;c!==null&&Dv(n,c,1),wv(n)}finally{Z(s)}}}function Dv(n,e,t){for(let r=0;r<e.length;r++)eb(n,e[r],t)}function tb(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let o=t[r];if(o<0)Fr(~o);else{let i=o,a=t[++r],s=t[++r];Ag(a,i);let c=e[i];ge(24,c),s(2,c),ge(25,c)}}}finally{Fr(-1)}}function X0(n,e){let t=Rh()?64:1088;for(n[En].changeDetectionScheduler?.notify(e);n;){n[$]|=t;let r=Sr(n);if(Vi(n)&&!r)return n;n=r}return null}function Ev(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function nb(n,e){let t=ht+e;if(t<n.length)return n[t]}function Q0(n,e,t,r=!0){let o=e[W];if(ob(o,e,n,t),r){let a=u0(t,n),s=e[Le],c=s.parentNode(n[Tr]);c!==null&&yC(o,n[Mt],s,e,c,a)}let i=e[Ni];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function rb(n,e){let t=ad(n,e);return t!==void 0&&q0(t[W],t),t}function ad(n,e){if(n.length<=ht)return;let t=ht+e,r=n[t];if(r){let o=r[Ar];o!==null&&o!==n&&B0(o,r),e>0&&(n[t-1][Kt]=r[Kt]);let i=es(n,ht+e);fC(r[W],r);let a=i[Ln];a!==null&&a.detachView(i[W]),r[Ke]=null,r[Kt]=null,r[$]&=-129}return r}function ob(n,e,t,r){let o=ht+r,i=t.length;r>0&&(t[o-1][Kt]=e),r<i-ht?(e[Kt]=t[o],ph(t,ht+r,e)):(t.push(e),e[Kt]=null),e[Ke]=t;let a=e[Ar];a!==null&&t!==a&&Lv(a,e);let s=e[Ln];s!==null&&s.insertView(n),Pl(e),e[$]|=128}function Lv(n,e){let t=n[To],r=e[Ke];if(An(r))n[$]|=2;else{let o=r[Ke][Dt];e[Dt]!==o&&(n[$]|=2)}t===null?n[To]=[e]:t.push(e)}var jr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[W];return ys(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[et]}set context(e){this._lView[et]=e}get destroyed(){return Po(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ke];if(ln(e)){let t=e[as],r=t?t.indexOf(this):-1;r>-1&&(ad(e,r),es(t,r))}this._attachedToViewContainer=!1}q0(this._lView[W],this._lView)}onDestroy(e){Sh(this._lView,e)}markForCheck(){X0(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[$]&=-129}reattach(){Pl(this._lView),this._lView[$]|=128}detectChanges(){this._lView[$]|=1024,xv(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Vi(this._lView),t=this._lView[Ar];t!==null&&!e&&B0(t,this._lView),hv(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e;let t=Vi(this._lView),r=this._lView[Ar];r!==null&&!t&&Lv(r,this._lView),Pl(this._lView)}};var Vr=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=ib;constructor(t,r,o){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){let i=Y0(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new jr(i)}}return n})();function ib(){return wd(tt(),re())}function wd(n,e){return n.type&4?new Vr(e,n,Yi(n,e)):null}function ws(n,e,t,r,o){let i=n.data[e];if(i===null)i=ab(n,e,t,r,o),Lg()&&(i.flags|=32);else if(i.type&64){i.type=t,i.value=r,i.attrs=o;let a=Ig();i.injectorIndex=a===null?-1:a.injectorIndex}return Hi(i,!0),i}function ab(n,e,t,r,o){let i=Th(),a=Ph(),s=a?i:i&&i.parent,c=n.data[e]=cb(n,s,t,e,r,o);return sb(n,c,i,a),c}function sb(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function cb(n,e,t,r,o,i){let a=e?e.injectorIndex:-1,s=0;return Ah()&&(s|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var MN=new RegExp(`^(\\d+)*(${L8}|${E8})*(.*)`);var lb=()=>null,db=()=>null;function p0(n,e){return lb(n,e)}function ub(n,e,t){return db(n,e,t)}var Av=class{},Cd=class{},f0=class{resolveComponentFactory(e){throw new F(917,!1)}},Cs=class{static NULL=new f0},Fo=class{},zt=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>hb()}return n})();function hb(){let n=re(),e=tt(),t=Xt(e.index,n);return(An(t)?t:n)[Le]}var Tv=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:()=>null})}return n})();var Zl={},y0=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let o=this.injector.get(e,Zl,r);return o!==Zl||t===Zl?o:this.parentInjector.get(e,t,r)}};function om(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(e!==null)for(let a=0;a<e.length;a++){let s=e[a];if(typeof s=="number")i=s;else if(i==1)o=rh(o,s);else if(i==2){let c=s,l=e[++a];r=rh(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function N(n,e=0){let t=re();if(t===null)return z(n,e);let r=tt();return Tm(r,t,Je(n),e)}function J0(){let n="invalid";throw new Error(n)}function Pv(n,e,t,r,o){let i=r===null?null:{"":-1},a=o(n,t);if(a!==null){let s=a,c=null,l=null;for(let d of a)if(d.resolveHostDirectives!==null){[s,c,l]=d.resolveHostDirectives(a);break}yb(n,e,t,s,i,c,l)}i!==null&&r!==null&&pb(t,r,i)}function pb(n,e,t){let r=n.localNames=[];for(let o=0;o<e.length;o+=2){let i=t[e[o+1]];if(i==null)throw new F(-301,!1);r.push(e[o],i)}}function fb(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function yb(n,e,t,r,o,i,a){let s=r.length,c=!1;for(let p=0;p<s;p++){let h=r[p];!c&&Tn(h)&&(c=!0,fb(n,t,p)),r0(Ql(t,e),n,h.type)}wb(t,n.data.length,s);for(let p=0;p<s;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let l=!1,d=!1,u=ov(n,e,s,null);s>0&&(t.directiveToIndex=new Map);for(let p=0;p<s;p++){let h=r[p];if(t.mergedAttrs=ps(t.mergedAttrs,h.hostAttrs),mb(n,t,e,u,h),Mb(u,h,o),a!==null&&a.has(h)){let[v,k]=a.get(h);t.directiveToIndex.set(h.type,[u,v+t.directiveStart,k+t.directiveStart])}else(i===null||!i.has(h))&&t.directiveToIndex.set(h.type,u);h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let m=h.type.prototype;!l&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!d&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),u++}gb(n,t,i)}function gb(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=n.data[r];if(t===null||!t.has(o))im(0,e,o,r),im(1,e,o,r),sm(e,r,!1);else{let i=t.get(o);am(0,e,i,r),am(1,e,i,r),sm(e,r,!0)}}}function im(n,e,t,r){let o=n===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let a;n===0?a=e.inputs??={}:a=e.outputs??={},a[i]??=[],a[i].push(r),Ov(e,i)}}function am(n,e,t,r){let o=n===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let a=o[i],s;n===0?s=e.hostDirectiveInputs??={}:s=e.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,i),Ov(e,a)}}function Ov(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function sm(n,e,t){let{attrs:r,inputs:o,hostDirectiveInputs:i}=n;if(r===null||!t&&o===null||t&&i===null||O0(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!t&&o.hasOwnProperty(c)){let l=o[c];for(let d of l)if(d===e){a??=[],a.push(c,r[s+1]);break}}else if(t&&i.hasOwnProperty(c)){let l=i[c];for(let d=0;d<l.length;d+=2)if(l[d]===e){a??=[],a.push(l[d+1],r[s+1]);break}}s+=2}n.initialInputs??=[],n.initialInputs.push(a)}function mb(n,e,t,r,o){n.data[r]=o;let i=o.factory||(o.factory=_o(o.type,!0)),a=new No(i,Tn(o),N,null);n.blueprint[r]=a,t[r]=a,vb(n,e,r,ov(n,t,o.hostVars,fn),o)}function vb(n,e,t,r,o){let i=o.hostBindings;if(i){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let s=~e.index;kb(a)!=s&&a.push(s),a.push(t,r,i)}}function kb(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Mb(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Tn(e)&&(t[""]=n)}}function wb(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Rv(n,e,t,r,o,i,a,s){let c=e[W],l=c.consts,d=Or(l,a),u=ws(c,n,t,r,d);return i&&Pv(c,e,u,Or(l,s),o),u.mergedAttrs=ps(u.mergedAttrs,u.attrs),u.attrs!==null&&om(u,u.attrs,!1),u.mergedAttrs!==null&&om(u,u.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,u),u}function Nv(n,e){bm(n,e),bh(e)&&n.queries.elementEnd(e)}function ep(n){return jv(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Fv(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function jv(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Hr(n,e,t){if(t===fn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Cb(n,e,t,r){let o=Hr(n,e,t);return Hr(n,e+1,r)||o}function Kh(n,e,t){return function r(o){let i=Pr(n)?Xt(n.index,e):e;X0(i,5);let a=e[et],s=cm(e,a,t,o),c=r.__ngNextListenerFn__;for(;c;)s=cm(e,a,c,o)&&s,c=c.__ngNextListenerFn__;return s}}function cm(n,e,t,r){let o=Z(null);try{return ge(6,e,t),t(r)!==!1}catch(i){return HC(n,i),!1}finally{ge(7,e,t),Z(o)}}function bb(n,e,t,r,o,i,a,s){let c=ss(n),l=!1,d=null;if(!r&&c&&(d=xb(e,t,i,n.index)),d!==null){let u=d.__ngLastListenerFn__||d;u.__ngNextListenerFn__=a,d.__ngLastListenerFn__=a,l=!0}else{let u=dn(n,t),p=r?r(u):u;T8(t,p,i,s);let h=o.listen(p,i,s);if(!_b(i)){let m=r?v=>r(Yt(v[n.index])):n.index;Vv(m,e,t,i,s,h,!1)}}return l}function _b(n){return n.startsWith("animation")||n.startsWith("transition")}function xb(n,e,t,r){let o=n.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let a=o[i];if(a===t&&o[i+1]===r){let s=e[Fi],c=o[i+2];return s&&s.length>c?s[c]:null}typeof a=="string"&&(i+=2)}return null}function Vv(n,e,t,r,o,i,a){let s=e.firstCreatePass?Eh(e):null,c=Dh(t),l=c.length;c.push(o,i),s&&s.push(r,n,l,(l+1)*(a?-1:1))}function lm(n,e,t,r,o,i){let a=e[t],s=e[W],l=s.data[t].outputs[r],u=a[l].subscribe(i);Vv(n.index,s,e,o,i,u,!0)}var g0=Symbol("BINDING");var sd=class extends Cs{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=nr(e);return new jo(t,this.ngModule)}};function Ib(n){return Object.keys(n).map(e=>{let[t,r,o]=n[e],i={propName:t,templateName:e,isSignal:(r&vd.SignalBased)!==0};return o&&(i.transform=o),i})}function Sb(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Db(n,e,t){let r=e instanceof qe?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new y0(t,r):t}function Eb(n){let e=n.get(Fo,null);if(e===null)throw new F(407,!1);let t=n.get(Tv,null),r=n.get(Dn,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Lb(n,e){let t=Hv(n);return ev(e,t,t==="svg"?pg:t==="math"?fg:null)}function Hv(n){return(n.selectors[0][0]||"div").toLowerCase()}var jo=class extends Cd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Ib(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Sb(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=G8(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,o,i,a){ge(22);let s=Z(null);try{let c=this.componentDef,l=Ab(r,c,a,i),d=Db(c,o||this.ngModule,e),u=Eb(d),p=u.rendererFactory.createRenderer(null,c),h=r?IC(p,r,c.encapsulation,d):Lb(c,p),m=a?.some(dm)||i?.some(C=>typeof C!="function"&&C.bindings.some(dm)),v=N0(null,l,null,512|rv(c),null,null,u,p,d,null,qm(h,d,!0));v[Ue]=h,Nl(v);let k=null;try{let C=Rv(Ue,v,2,"#host",()=>l.directiveRegistry,!0,0);nv(p,h,C),Wi(h,v),W0(l,v,C),$m(l,C,v),Nv(l,C),t!==void 0&&Pb(C,this.ngContentSelectors,t),k=Xt(C.index,v),v[et]=k[et],K0(l,v,null)}catch(C){throw k!==null&&i0(k),i0(v),C}finally{ge(23),Fl()}return new cd(this.componentType,v,!!m)}finally{Z(s)}}};function Ab(n,e,t,r){let o=n?["ng-version","20.3.9"]:Z8(e.selectors[0]),i=null,a=null,s=0;if(t)for(let d of t)s+=d[g0].requiredVars,d.create&&(d.targetIdx=0,(i??=[]).push(d)),d.update&&(d.targetIdx=0,(a??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let u=r[d];if(typeof u!="function")for(let p of u.bindings){s+=p[g0].requiredVars;let h=d+1;p.create&&(p.targetIdx=h,(i??=[]).push(p)),p.update&&(p.targetIdx=h,(a??=[]).push(p))}}let c=[e];if(r)for(let d of r){let u=typeof d=="function"?d:d.type,p=mh(u);c.push(p)}return R0(0,null,Tb(i,a),1,s,c,null,null,null,[o],null)}function Tb(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function dm(n){let e=n[g0].kind;return e==="input"||e==="twoWay"}var cd=class extends Av{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=cs(t[W],Ue),this.location=Yi(this._tNode,t),this.instance=Xt(this._tNode.index,t)[et],this.hostView=this.changeDetectorRef=new jr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView,i=Z0(r,o[W],o,e,t);this.previousInputValues.set(e,t);let a=Xt(r.index,o);X0(a,1)}get injector(){return new Ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Pb(n,e,t){let r=n.projection=[];for(let o=0;o<e.length;o++){let i=t[o];r.push(i!=null&&i.length?Array.from(i):null)}}var sr=(()=>{class n{static __NG_ELEMENT_ID__=Ob}return n})();function Ob(){let n=tt();return Bv(n,re())}var Rb=sr,zv=class extends Rb{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Yi(this._hostTNode,this._hostLView)}get injector(){return new Ro(this._hostTNode,this._hostLView)}get parentInjector(){let e=D0(this._hostTNode,this._hostLView);if(Im(e)){let t=Xl(e,this._hostLView),r=Yl(e),o=t[W].data[r+8];return new Ro(o,t)}else return new Ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=um(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(e,t,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let a=p0(this._lContainer,e.ssrId),s=e.createEmbeddedViewImpl(t||{},i,a);return this.insertImpl(s,o,id(this._hostTNode,a)),s}createComponent(e,t,r,o,i,a,s){let c=e&&!r8(e),l;if(c)l=t;else{let k=t||{};l=k.index,r=k.injector,o=k.projectableNodes,i=k.environmentInjector||k.ngModuleRef,a=k.directives,s=k.bindings}let d=c?e:new jo(nr(e)),u=r||this.parentInjector;if(!i&&d.ngModule==null){let C=(c?u:this.parentInjector).get(qe,null);C&&(i=C)}let p=nr(d.componentType??{}),h=p0(this._lContainer,p?.id??null),m=h?.firstChild??null,v=d.create(u,o,m,i,a,s);return this.insertImpl(v.hostView,l,id(this._hostTNode,h)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let o=e._lView;if(mg(o)){let s=this.indexOf(e);if(s!==-1)this.detach(s);else{let c=o[Ke],l=new zv(c,c[Mt],c[Ke]);l.detach(l.indexOf(e))}}let i=this._adjustIndex(t),a=this._lContainer;return Q0(a,o,i,r),e.attachToViewContainerRef(),ph(Yh(a),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=um(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=ad(this._lContainer,t);r&&(es(Yh(this._lContainer),t),q0(r[W],r))}detach(e){let t=this._adjustIndex(e,-1),r=ad(this._lContainer,t);return r&&es(Yh(this._lContainer),t)!=null?new jr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function um(n){return n[as]}function Yh(n){return n[as]||(n[as]=[])}function Bv(n,e){let t,r=e[n.index];return ln(r)?t=r:(t=Ev(r,e,null,n),e[n.index]=t,F0(e,t)),Fb(t,e,n,r),new zv(t,n,e)}function Nb(n,e){let t=n[Le],r=t.createComment(""),o=dn(e,n),i=t.parentNode(o);return td(t,i,r,t.nextSibling(o),!1),r}var Fb=Hb,jb=()=>!1;function Vb(n,e,t){return jb(n,e,t)}function Hb(n,e,t,r){if(n[Tr])return;let o;t.type&8?o=Yt(r):o=Nb(e,t),n[Tr]=o}var m0=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},v0=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){let a=t.getByIndex(i),s=this.queries[a.indexInDeclarationView];o.push(s.clone())}return new n(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)tp(e,t).matches!==null&&this.queries[t].setDirty()}},k0=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=Zb(e):this.predicate=e}},M0=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let o=t!==null?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,t!==null?t.push(i):t=[i])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},w0=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,t,zb(t,i)),this.matchTNodeWithReadOption(e,t,Gl(t,e,i,!1,!1))}else r===Vr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Gl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===rt||o===sr||o===Vr&&t.type&4)this.addMatch(t.index,-2);else{let i=Gl(t,e,o,!1,!1);i!==null&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function zb(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function Bb(n,e){return n.type&11?Yi(n,e):n.type&4?wd(n,e):null}function qb(n,e,t,r){return t===-1?Bb(e,n):t===-2?Ub(n,e,r):fs(n,n[W],t,e)}function Ub(n,e,t){if(t===rt)return Yi(e,n);if(t===Vr)return wd(e,n);if(t===sr)return Bv(e,n)}function qv(n,e,t,r){let o=e[Ln].queries[r];if(o.matches===null){let i=n.data,a=t.matches,s=[];for(let c=0;a!==null&&c<a.length;c+=2){let l=a[c];if(l<0)s.push(null);else{let d=i[l];s.push(qb(e,d,a[c+1],t.metadata.read))}}o.matches=s}return o.matches}function C0(n,e,t,r){let o=n.queries.getByIndex(t),i=o.matches;if(i!==null){let a=qv(n,e,o,t);for(let s=0;s<i.length;s+=2){let c=i[s];if(c>0)r.push(a[s/2]);else{let l=i[s+1],d=e[-c];for(let u=ht;u<d.length;u++){let p=d[u];p[Ar]===p[Ke]&&C0(p[W],p,l,r)}if(d[To]!==null){let u=d[To];for(let p=0;p<u.length;p++){let h=u[p];C0(h[W],h,l,r)}}}}}return r}function $b(n,e){return n[Ln].queries[e].queryList}function Wb(n,e,t){let r=new Jl((t&4)===4);return Mg(n,e,r,r.destroy),(e[Ln]??=new v0).queries.push(new m0(r))-1}function Gb(n,e,t,r){let o=Ye();if(o.firstCreatePass){let i=tt();Kb(o,new k0(e,t,r),i.index),Yb(o,n),(t&2)===2&&(o.staticContentQueries=!0)}return Wb(o,re(),t)}function Zb(n){return n.split(",").map(e=>e.trim())}function Kb(n,e,t){n.queries===null&&(n.queries=new M0),n.queries.track(new w0(e,t))}function Yb(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function tp(n,e){return n.queries.getByIndex(e)}function Xb(n,e){let t=n[W],r=tp(t,e);return r.crossesNgTemplate?C0(t,n,e,[]):qv(t,n,r,e)}var Vo=class{},bd=class{};var ld=class extends Vo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new sd(this);constructor(e,t,r,o=!0){super(),this.ngModuleType=e,this._parent=t;let i=gh(e);this._bootstrapComponents=Xm(i.bootstrap),this._r3Injector=Hh(e,t,[{provide:Vo,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver},...r],er(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},dd=class extends bd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ld(this.moduleType,e,[])}};var gs=class extends Vo{injector;componentFactoryResolver=new sd(this);instance=null;constructor(e){super();let t=new Io([...e.providers,{provide:Vo,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver}],e.parent||rs(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Qi(n,e,t=null){return new gs({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Qb=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=vh(!1,t.type),o=r.length>0?Qi([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=O({token:n,providedIn:"environment",factory:()=>new n(z(qe))})}return n})();function he(n){return Ki(()=>{let e=Uv(n),t=G(x({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===E0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(Qb).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ir.Emulated,styles:n.styles||Nt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ar("NgStandalone"),$v(t);let r=n.dependencies;return t.directiveDefs=hm(r,Jb),t.pipeDefs=hm(r,sg),t.id=n6(t),t})}function Jb(n){return nr(n)||mh(n)}function Jt(n){return Ki(()=>({type:n.type,bootstrap:n.bootstrap||Nt,declarations:n.declarations||Nt,imports:n.imports||Nt,exports:n.exports||Nt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function e6(n,e){if(n==null)return Dr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let o=n[r],i,a,s,c;Array.isArray(o)?(s=o[0],i=o[1],a=o[2]??i,c=o[3]||null):(i=o,a=o,s=vd.None,c=null),t[i]=[r,s,c],e[i]=a}return t}function t6(n){if(n==null)return Dr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function _e(n){return Ki(()=>{let e=Uv(n);return $v(e),e})}function Uv(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Dr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Nt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:e6(n.inputs,e),outputs:t6(n.outputs),debugInfo:null}}function $v(n){n.features?.forEach(e=>e(n))}function hm(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let o of t){let i=e(o);i!==null&&r.push(i)}return r}:null}function n6(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function r6(n){return Object.getPrototypeOf(n.prototype).constructor}function Et(n){let e=r6(n.type),t=!0,r=[n];for(;e;){let o;if(Tn(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);let a=n;a.inputs=Xh(n.inputs),a.declaredInputs=Xh(n.declaredInputs),a.outputs=Xh(n.outputs);let s=o.hostBindings;s&&c6(n,s);let c=o.viewQuery,l=o.contentQueries;if(c&&a6(n,c),l&&s6(n,l),o6(n,o),Yy(n.outputs,o.outputs),Tn(o)&&o.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let a=0;a<i.length;a++){let s=i[a];s&&s.ngInherit&&s(n),s===Et&&(t=!1)}}e=Object.getPrototypeOf(e)}i6(r)}function o6(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function i6(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=ps(o.hostAttrs,t=ps(t,o.hostAttrs))}}function Xh(n){return n===Dr?{}:n===Nt?[]:n}function a6(n,e){let t=n.viewQuery;t?n.viewQuery=(r,o)=>{e(r,o),t(r,o)}:n.viewQuery=e}function s6(n,e){let t=n.contentQueries;t?n.contentQueries=(r,o,i)=>{e(r,o,i),t(r,o,i)}:n.contentQueries=e}function c6(n,e){let t=n.hostBindings;t?n.hostBindings=(r,o)=>{e(r,o),t(r,o)}:n.hostBindings=e}function Wv(n,e,t,r,o,i,a,s){if(t.firstCreatePass){n.mergedAttrs=ps(n.mergedAttrs,n.attrs);let d=n.tView=R0(2,n,o,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}s&&(n.flags|=s),Hi(n,!1);let c=d6(t,e,n,r);Vl()&&U0(t,e,c,n),Wi(c,e);let l=Ev(c,e,c,n);e[r+Ue]=l,F0(e,l),Vb(l,n,e)}function l6(n,e,t,r,o,i,a,s,c,l,d){let u=t+Ue,p;return e.firstCreatePass?(p=ws(e,u,4,a||null,s||null),Lh()&&Pv(e,n,p,Or(e.consts,l),kv),bm(e,p)):p=e.data[u],Wv(p,n,e,t,r,o,i,c),ss(p)&&W0(e,n,p),l!=null&&G0(n,p,d),p}function np(n,e,t,r,o,i,a,s,c,l,d){let u=t+Ue,p;if(e.firstCreatePass){if(p=ws(e,u,4,a||null,s||null),l!=null){let h=Or(e.consts,l);p.localNames=[];for(let m=0;m<h.length;m+=2)p.localNames.push(h[m],-1)}}else p=e.data[u];return Wv(p,n,e,t,r,o,i,c),l!=null&&G0(n,p,d),p}function ie(n,e,t,r,o,i,a,s){let c=re(),l=Ye(),d=Or(l.consts,i);return l6(c,l,n,e,t,r,o,d,void 0,a,s),ie}var d6=u6;function u6(n,e,t,r){return Hl(!0),e[Le].createComment("")}var rp=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var op=new V("");function zr(n){return!!n&&typeof n.then=="function"}function ip(n){return!!n&&typeof n.subscribe=="function"}var ap=new V("");function _d(n){return ts([{provide:ap,multi:!0,useValue:n}])}var sp=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=b(ap,{optional:!0})??[];injector=b(dt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let i=ut(this.injector,o);if(zr(i))t.push(i);else if(ip(i)){let a=new Promise((s,c)=>{i.subscribe({complete:s,error:c})});t.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bs=new V("");function Gv(){I1(()=>{let n="";throw new F(600,n)})}function Zv(n){return n.isBoundToModule}var h6=10;var cr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(Ht);afterRenderManager=b(z0);zonelessEnabled=b(zl);rootEffectScheduler=b(ds);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Oe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=b(or);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ne(t=>!t))}constructor(){b(zo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=b(qe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,o=dt.NULL){return this._injector.get(ze).run(()=>{ge(10);let a=t instanceof Cd;if(!this._injector.get(sp).done){let m="";throw new F(405,m)}let c;a?c=t:c=this._injector.get(Cs).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=Zv(c)?void 0:this._injector.get(Vo),d=r||c.selector,u=c.create(o,[],d,l),p=u.location.nativeElement,h=u.injector.get(op,null);return h?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),hs(this.components,u),h?.unregisterApplication(p)}),this._loadComponent(u),ge(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ge(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(kd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new F(101,!1);let t=Z(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Z(t),this.afterTick.next(),ge(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Fo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<h6;)ge(14),this.synchronizeOnce(),ge(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!ls(o))continue;let i=r&&!this.zonelessEnabled?0:1;xv(o,i),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ls(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;hs(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(t),this._injector.get(bs,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>hs(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new F(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hs(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Bo(n,e,t,r){let o=re(),i=Bi();if(Hr(o,i,e)){let a=Ye(),s=jl();RC(s,o,n,e,t,r)}return Bo}var SN=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Br(n,e,t,r,o,i,a,s){ar("NgControlFlow");let c=re(),l=Ye(),d=Or(l.consts,i);return np(c,l,n,e,t,r,o,d,256,a,s),cp}function cp(n,e,t,r,o,i,a,s){ar("NgControlFlow");let c=re(),l=Ye(),d=Or(l.consts,i);return np(c,l,n,e,t,r,o,d,512,a,s),cp}function qr(n,e){ar("NgControlFlow");let t=re(),r=Bi(),o=t[r]!==fn?t[r]:-1,i=o!==-1?pm(t,Ue+o):void 0,a=0;if(Hr(t,r,n)){let s=Z(null);try{if(i!==void 0&&rb(i,a),n!==-1){let c=Ue+n,l=pm(t,c),d=p6(t[W],c),u=ub(l,d,t),p=Y0(t,d,e,{dehydratedView:u});Q0(l,p,a,id(d,u))}}finally{Z(s)}}else if(i!==void 0){let s=nb(i,a);s!==void 0&&(s[et]=e)}}function pm(n,e){return n[e]}function p6(n,e){return cs(n,e)}function j(n,e,t){let r=re(),o=Bi();if(Hr(r,o,e)){let i=Ye(),a=jl();vv(a,r,n,e,r[Le],t)}return j}function fm(n,e,t,r,o){Z0(e,n,t,o?"class":"style",r)}function y(n,e,t,r){let o=re(),i=o[W],a=n+Ue,s=i.firstCreatePass?Rv(a,o,2,e,kv,Lh(),t,r):i.data[a];if(jC(s,o,n,e,f6),ss(s)){let c=o[W];W0(c,o,s),$m(c,s,o)}return r!=null&&G0(o,s),y}function g(){let n=Ye(),e=tt(),t=VC(e);return n.firstCreatePass&&Nv(n,t),_g(t)&&xg(),bg(),t.classesWithoutHost!=null&&l8(t)&&fm(n,t,re(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&d8(t)&&fm(n,t,re(),t.stylesWithoutHost,!1),g}function ae(n,e,t,r){return y(n,e,t,r),g(),ae}var f6=(n,e,t,r,o)=>(Hl(!0),ev(e[Le],r,jg()));function me(){return re()}var _s="en-US";var y6=_s;function Kv(n){typeof n=="string"&&(y6=n.toLowerCase().replace(/_/g,"-"))}function I(n,e,t){let r=re(),o=Ye(),i=tt();return Yv(o,r,r[Le],i,n,e,t),I}function Yv(n,e,t,r,o,i,a){let s=!0,c=null;if((r.type&3||a)&&(c??=Kh(r,e,i),bb(r,n,e,a,t,o,i,c)&&(s=!1)),s){let l=r.outputs?.[o],d=r.hostDirectiveOutputs?.[o];if(d&&d.length)for(let u=0;u<d.length;u+=2){let p=d[u],h=d[u+1];c??=Kh(r,e,i),lm(r,e,p,h,o,c)}if(l&&l.length)for(let u of l)c??=Kh(r,e,i),lm(r,e,u,o,o,c)}}function D(n=1){return Fg(n)}function g6(n,e){let t=null,r=B8(n);for(let o=0;o<e.length;o++){let i=e[o];if(i==="*"){t=o;continue}if(r===null?Jm(n,i,!0):$8(r,i))return o}return t}function lp(n){let e=re()[Dt][Mt];if(!e.projection){let t=n?n.length:1,r=e.projection=og(t,null),o=r.slice(),i=e.child;for(;i!==null;){if(i.type!==128){let a=n?g6(i,n):0;a!==null&&(o[a]?o[a].projectionNext=i:r[a]=i,o[a]=i)}i=i.next}}}function dp(n,e=0,t,r,o,i){let a=re(),s=Ye(),c=r?n+1:null;c!==null&&np(a,s,c,r,o,i,null,t);let l=ws(s,Ue+n,16,null,t||null);l.projection===null&&(l.projection=e),Oh();let u=!a[Ni]||Ah();a[Dt][Mt].projection[l.projection]===null&&c!==null?m6(a,s,c):u&&!gd(l)&&bC(s,a,l)}function m6(n,e,t){let r=Ue+t,o=e.data[r],i=n[r],a=p0(i,o.tView.ssrId),s=Y0(n,o,void 0,{dehydratedView:a});Q0(i,s,0,id(o,a))}function up(n,e,t,r){Gb(n,e,t,r)}function hp(n){let e=re(),t=Ye(),r=Fh();Rl(r+1);let o=tp(t,r);if(n.dirty&&gg(e)===((o.metadata.flags&2)===2)){if(o.matches===null)n.reset([]);else{let i=Xb(e,r);n.reset(i,b8),n.notifyOnChanges()}return!0}return!1}function pp(){return $b(re(),Fh())}function fp(n){let e=Sg();return yg(e,Ue+n)}function Ul(n,e){return n<<17|e<<2}function Ho(n){return n>>17&32767}function v6(n){return(n&2)==2}function k6(n,e){return n&131071|e<<17}function b0(n){return n|2}function Zi(n){return(n&131068)>>2}function Qh(n,e){return n&-131069|e<<2}function M6(n){return(n&1)===1}function _0(n){return n|1}function w6(n,e,t,r,o,i){let a=i?e.classBindings:e.styleBindings,s=Ho(a),c=Zi(a);n[r]=t;let l=!1,d;if(Array.isArray(t)){let u=t;d=u[1],(d===null||Ri(u,d)>0)&&(l=!0)}else d=t;if(o)if(c!==0){let p=Ho(n[s+1]);n[r+1]=Ul(p,s),p!==0&&(n[p+1]=Qh(n[p+1],r)),n[s+1]=k6(n[s+1],r)}else n[r+1]=Ul(s,0),s!==0&&(n[s+1]=Qh(n[s+1],r)),s=r;else n[r+1]=Ul(c,0),s===0?s=r:n[c+1]=Qh(n[c+1],r),c=r;l&&(n[r+1]=b0(n[r+1])),ym(n,d,r,!0),ym(n,d,r,!1),C6(e,d,n,r,i),a=Ul(s,c),i?e.classBindings=a:e.styleBindings=a}function C6(n,e,t,r,o){let i=o?n.residualClasses:n.residualStyles;i!=null&&typeof e=="string"&&Ri(i,e)>=0&&(t[r+1]=_0(t[r+1]))}function ym(n,e,t,r){let o=n[t+1],i=e===null,a=r?Ho(o):Zi(o),s=!1;for(;a!==0&&(s===!1||i);){let c=n[a],l=n[a+1];b6(c,e)&&(s=!0,n[a+1]=r?_0(l):b0(l)),a=r?Ho(l):Zi(l)}s&&(n[t+1]=r?b0(o):_0(o))}function b6(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ri(n,e)>=0:!1}function Pe(n,e){return _6(n,e,null,!0),Pe}function _6(n,e,t,r){let o=re(),i=Ye(),a=Nh(2);if(i.firstUpdatePass&&I6(i,n,a,r),e!==fn&&Hr(o,a,e)){let s=i.data[Nr()];A6(i,s,o,o[Le],n,o[a+1]=T6(e,t),r,a)}}function x6(n,e){return e>=n.expandoStartIndex}function I6(n,e,t,r){let o=n.data;if(o[t+1]===null){let i=o[Nr()],a=x6(n,t);P6(i,r)&&e===null&&!a&&(e=!1),e=S6(o,i,e,r),w6(o,i,e,t,a,r)}}function S6(n,e,t,r){let o=Pg(n),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(t=Jh(null,n,e,t,r),t=ms(t,e.attrs,r),i=null);else{let a=e.directiveStylingLast;if(a===-1||n[a]!==o)if(t=Jh(o,n,e,t,r),i===null){let c=D6(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Jh(null,n,e,c[1],r),c=ms(c,e.attrs,r),E6(n,e,r,c))}else i=L6(n,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),t}function D6(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Zi(r)!==0)return n[Ho(r)]}function E6(n,e,t,r){let o=t?e.classBindings:e.styleBindings;n[Ho(o)]=r}function L6(n,e,t){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let a=n[i].hostAttrs;r=ms(r,a,t)}return ms(r,e.attrs,t)}function Jh(n,e,t,r,o){let i=null,a=t.directiveEnd,s=t.directiveStylingLast;for(s===-1?s=t.directiveStart:s++;s<a&&(i=e[s],r=ms(r,i.hostAttrs,o),i!==n);)s++;return n!==null&&(t.directiveStylingLast=s),r}function ms(n,e,t){let r=t?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let a=e[i];typeof a=="number"?o=a:o===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ag(n,a,t?!0:e[++i]))}return n===void 0?null:n}function A6(n,e,t,r,o,i,a,s){if(!(e.type&3))return;let c=n.data,l=c[s+1],d=M6(l)?gm(c,e,t,o,Zi(l),a):void 0;if(!ud(d)){ud(i)||v6(l)&&(i=gm(c,null,t,o,s,a));let u=_h(Nr(),t);xC(r,a,u,o,i)}}function gm(n,e,t,r,o,i){let a=e===null,s;for(;o>0;){let c=n[o],l=Array.isArray(c),d=l?c[1]:c,u=d===null,p=t[o+1];p===fn&&(p=u?Nt:void 0);let h=u?El(p,r):d===r?p:void 0;if(l&&!ud(h)&&(h=El(c,r)),ud(h)&&(s=h,a))return s;let m=n[o+1];o=a?Ho(m):Zi(m)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(s=El(c,r))}return s}function ud(n){return n!==void 0}function T6(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=er(ks(n)))),n}function P6(n,e){return(n.flags&(e?8:16))!==0}function M(n,e=""){let t=re(),r=Ye(),o=n+Ue,i=r.firstCreatePass?ws(r,o,1,e,null):r.data[o],a=O6(r,t,i,e,n);t[o]=a,Vl()&&U0(r,t,a,i),Hi(i,!1)}var O6=(n,e,t,r,o)=>(Hl(!0),K8(e[Le],r));function R6(n,e,t,r=""){return Hr(n,Bi(),t)?e+Do(t)+r:fn}function N6(n,e,t,r,o,i=""){let a=Dg(),s=Cb(n,a,t,o);return Nh(2),s?e+Do(t)+r+Do(o)+i:fn}function J(n){return ue("",n),J}function ue(n,e,t){let r=re(),o=R6(r,n,e,t);return o!==fn&&Xv(r,Nr(),o),ue}function xd(n,e,t,r,o){let i=re(),a=N6(i,n,e,t,r,o);return a!==fn&&Xv(i,Nr(),a),xd}function Xv(n,e,t){let r=_h(e,n);Y8(n[Le],r,t)}function ce(n,e,t){qh(e)&&(e=e());let r=re(),o=Bi();if(Hr(r,o,e)){let i=Ye(),a=jl();vv(a,r,n,e,r[Le],t)}return ce}function de(n,e){let t=qh(n);return t&&n.set(e),t}function le(n,e){let t=re(),r=Ye(),o=tt();return Yv(r,t,t[Le],o,n,e),le}function F6(n,e,t){let r=Ye();if(r.firstCreatePass){let o=Tn(n);x0(t,r.data,r.blueprint,o,!0),x0(e,r.data,r.blueprint,o,!1)}}function x0(n,e,t,r,o){if(n=Je(n),Array.isArray(n))for(let i=0;i<n.length;i++)x0(n[i],e,t,r,o);else{let i=Ye(),a=re(),s=tt(),c=xo(n)?n:Je(n.provide),l=Mh(n),d=s.providerIndexes&1048575,u=s.directiveStart,p=s.providerIndexes>>20;if(xo(n)||!n.multi){let h=new No(l,o,N,null),m=t0(c,e,o?d:d+p,u);m===-1?(r0(Ql(s,a),i,c),e0(i,n,e.length),e.push(c),s.directiveStart++,s.directiveEnd++,o&&(s.providerIndexes+=1048576),t.push(h),a.push(h)):(t[m]=h,a[m]=h)}else{let h=t0(c,e,d+p,u),m=t0(c,e,d,d+p),v=h>=0&&t[h],k=m>=0&&t[m];if(o&&!k||!o&&!v){r0(Ql(s,a),i,c);let C=H6(o?V6:j6,t.length,o,r,l,n);!o&&k&&(t[m].providerFactory=C),e0(i,n,e.length,0),e.push(c),s.directiveStart++,s.directiveEnd++,o&&(s.providerIndexes+=1048576),t.push(C),a.push(C)}else{let C=Qv(t[o?m:h],l,!o&&r);e0(i,n,h>-1?h:m,C)}!o&&r&&k&&t[m].componentProviders++}}}function e0(n,e,t,r){let o=xo(e),i=dg(e);if(o||i){let c=(i?Je(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){let d=l.indexOf(t);d===-1?l.push(t,[r,c]):l[d+1].push(r,c)}else l.push(t,c)}}}function Qv(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function t0(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function j6(n,e,t,r,o){return I0(this.multi,[])}function V6(n,e,t,r,o){let i=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=fs(r,r[W],this.providerFactory.index,o);a=c.slice(0,s),I0(i,a);for(let l=s;l<c.length;l++)a.push(c[l])}else a=[],I0(i,a);return a}function I0(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function H6(n,e,t,r,o,i){let a=new No(n,t,N,null);return a.multi=[],a.index=e,a.componentProviders=0,Qv(a,o,r&&!t),a}function Rn(n,e=[]){return t=>{t.providersResolver=(r,o)=>F6(r,o?o(n):n,e)}}function yp(n,e){return wd(n,e)}var hd=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},gp=(()=>{class n{compileModuleSync(t){return new dd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),o=gh(t),i=Xm(o.declarations).reduce((a,s)=>{let c=nr(s);return c&&a.push(new jo(c)),a},[]);return new hd(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var z6=(()=>{class n{zone=b(ze);changeDetectionScheduler=b(Dn);applicationRef=b(cr);applicationErrorHandler=b(Ht);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jv({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ze(G(x({},ek()),{scheduleInRootZone:t})),[{provide:ze,useFactory:n},{provide:Er,multi:!0,useFactory:()=>{let r=b(z6,{optional:!0});return()=>r.initialize()}},{provide:Er,multi:!0,useFactory:()=>{let r=b(B6);return()=>{r.initialize()}}},e===!0?{provide:Uh,useValue:!0}:[],{provide:$h,useValue:t??av},{provide:Ht,useFactory:()=>{let r=b(ze),o=b(qe),i;return a=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw a}):(i??=o.get(Zt),i.handleError(a))})}}}]}function ek(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var B6=(()=>{class n{subscription=new je;initialized=!1;zone=b(ze);pendingTasks=b(or);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ze.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ze.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tk=(()=>{class n{applicationErrorHandler=b(Ht);appRef=b(cr);taskService=b(or);ngZone=b(ze);zonelessEnabled=b(zl);tracing=b(zo,{optional:!0});disableScheduling=b(Uh,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new je;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(nd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b($h,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof rd||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Qg:sv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(nd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Qg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function q6(){return typeof $localize<"u"&&$localize.locale||_s}var Id=new V("",{providedIn:"root",factory:()=>b(Id,{optional:!0,skipSelf:!0})||q6()});function Xe(n){return $y(n)}function Ji(n,e){return Wc(n,e?.equal)}var mp=class{[lt];constructor(e){this[lt]=e}destroy(){this[lt].destroy()}};function vp(n,e){let t=e?.injector??b(dt),r=e?.manualCleanup!==!0?t.get(un):null,o,i=t.get(qi,null,{optional:!0}),a=t.get(Dn);return i!==null?(o=W6(i.view,a,n),r instanceof Xa&&r._lView===i.view&&(r=null)):o=G6(n,t.get(ds),a),o.injector=t,r!==null&&(o.onDestroyFn=r.onDestroy(()=>o.destroy())),new mp(o)}var nk=G(x({},Wy),{cleanupFns:void 0,zone:null,onDestroyFn:Oo,run(){let n=zi(!1);try{Gy(this)}finally{zi(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=Z(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Z(n)}}}),U6=G(x({},nk),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){vo(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),$6=G(x({},nk),{consumerMarkedDirty(){this.view[$]|=8192,Rr(this.view),this.notifier.notify(13)},destroy(){vo(this),this.onDestroyFn(),this.cleanup(),this.view[rr]?.delete(this)}});function W6(n,e,t){let r=Object.create($6);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=rk(r,t),n[rr]??=new Set,n[rr].add(r),r.consumerMarkedDirty(r),r}function G6(n,e,t){let r=Object.create(U6);return r.fn=rk(r,n),r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function rk(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var lk=Symbol("InputSignalNode#UNSET"),c_=G(x({},Gc),{transformFn:void 0,applyValueToInputSignal(n,e){bi(n,e)}});function dk(n,e){let t=Object.create(c_);t.value=n,t.transformFn=e?.transform;function r(){if(ki(t),t.value===lk){let o=null;throw new F(-950,o)}return t.value}return r[lt]=t,r}var Dd=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>vs(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},l_=new V("");l_.__NG_ELEMENT_ID__=n=>{let e=tt();if(e===null)throw new F(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new F(204,!1)};function ok(n,e){return dk(n,e)}function d_(n){return dk(lk,n)}var uk=(ok.required=d_,ok);var kp=new V(""),u_=new V("");function xs(n){return!n.moduleRef}function h_(n){let e=xs(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ze);return t.run(()=>{xs(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Ht),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:r})}),xs(n)){let i=()=>e.destroy(),a=n.platformInjector.get(kp);a.add(i),e.onDestroy(()=>{o.unsubscribe(),a.delete(i)})}else{let i=()=>n.moduleRef.destroy(),a=n.platformInjector.get(kp);a.add(i),n.moduleRef.onDestroy(()=>{hs(n.allPlatformModules,n.moduleRef),o.unsubscribe(),a.delete(i)})}return f_(r,t,()=>{let i=e.get(or),a=i.add(),s=e.get(sp);return s.runInitializers(),s.donePromise.then(()=>{let c=e.get(Id,_s);if(Kv(c||_s),!e.get(u_,!0))return xs(n)?e.get(cr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(xs(n)){let d=e.get(cr);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return p_?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void i.remove(a))})})}var p_;function f_(n,e,t){try{let r=t();return zr(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Sd=null;function y_(n=[],e){return dt.create({name:e,providers:[{provide:ns,useValue:"platform"},{provide:kp,useValue:new Set([()=>Sd=null])},...n]})}function g_(n=[]){if(Sd)return Sd;let e=y_(n);return Sd=e,Gv(),m_(e),e}function m_(n){let e=n.get(fd,null);ut(n,()=>{e?.forEach(t=>t())})}var yn=(()=>{class n{static __NG_ELEMENT_ID__=v_}return n})();function v_(n){return k_(tt(),re(),(n&16)===16)}function k_(n,e,t){if(Pr(n)&&!t){let r=Xt(n.index,e);return new jr(r,r)}else if(n.type&175){let r=e[Dt];return new jr(r,e)}return null}var Mp=class{constructor(){}supports(e){return ep(e)}create(e){return new wp(e)}},M_=(n,e)=>e,wp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||M_}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){let a=!r||t&&t.currentIndex<ik(r,o,i)?t:r,s=ik(a,o,i),c=a.currentIndex;if(a===r)o--,r=r._nextRemoved;else if(t=t._next,a.previousIndex==null)o++;else{i||(i=[]);let l=s-o,d=c-o;if(l!=d){for(let p=0;p<l;p++){let h=p<i.length?i[p]:i[p]=0,m=h+p;d<=m&&m<l&&(i[p]=h+1)}let u=a.previousIndex;i[u]=d-l}}s!==c&&e(a,s,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!ep(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,o,i,a;if(Array.isArray(e)){this.length=e.length;for(let s=0;s<this.length;s++)i=e[s],a=this._trackByFn(s,i),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,i,a,s),r=!0):(r&&(t=this._verifyReinsertion(t,i,a,s)),Object.is(t.item,i)||this._addIdentityChange(t,i)),t=t._next}else o=0,Fv(e,s=>{a=this._trackByFn(o,s),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,s,a,o),r=!0):(r&&(t=this._verifyReinsertion(t,s,a,o)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new Cp(t,r),i,o)),e}_verifyReinsertion(e,t,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let o=t===null?this._itHead:t._next;return e._next=o,e._prev=t,o===null?this._itTail=e:o._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ed),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ed),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Cp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},bp=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ed=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new bp,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,o=this.map.get(r);return o?o.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ik(n,e,t){let r=n.previousIndex;if(r===null)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}function ak(){return new _p([new Mp])}var _p=(()=>{class n{factories;static \u0275prov=O({token:n,providedIn:"root",factory:ak});constructor(t){this.factories=t}static create(t,r){if(r!=null){let o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=b(n,{optional:!0,skipSelf:!0});return n.create(t,r||ak())}}}find(t){let r=this.factories.find(o=>o.supports(t));if(r!=null)return r;throw new F(901,!1)}}return n})();function hk(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:o}=n;ge(8);try{let i=o?.injector??g_(r),a=[Jv({}),{provide:Dn,useExisting:tk},Hg,...t||[]],s=new gs({providers:a,parent:i,debugName:"",runEnvironmentInitializers:!1});return h_({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{ge(9)}}function Ur(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function pk(n){let e=nr(n);if(!e)return null;let t=new jo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var gk=null;function en(){return gk}function xp(n){gk??=n}var Is=class{},Ss=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>b(mk),providedIn:"platform"})}return n})(),Ip=new V(""),mk=(()=>{class n extends Ss{_location;_history;_doc=b(He);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return en().getBaseHref(this._doc)}onPopState(t){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Ld(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function fk(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function gn(n){return n&&n[0]!=="?"?`?${n}`:n}var mn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>b(Td),providedIn:"root"})}return n})(),Ad=new V(""),Td=(()=>{class n extends mn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(He).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ld(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+gn(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){let a=this.prepareExternalUrl(o+gn(i));this._platformLocation.pushState(t,r,a)}replaceState(t,r,o,i){let a=this.prepareExternalUrl(o+gn(i));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(Ss),z(Ad,8))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$r=(()=>{class n{_subject=new Oe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=b_(fk(yk(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+gn(r))}normalize(t){return n.stripTrailingSlash(C_(this._basePath,yk(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gn(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=gn;static joinWithSlash=Ld;static stripTrailingSlash=fk;static \u0275fac=function(r){return new(r||n)(z(mn))};static \u0275prov=O({token:n,factory:()=>w_(),providedIn:"root"})}return n})();function w_(){return new $r(z(mn))}function C_(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function yk(n){return n.replace(/\/index.html$/,"")}function b_(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Sp=(()=>{class n extends mn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Ld(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let a=this.prepareExternalUrl(o+gn(i))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,a)}replaceState(t,r,o,i){let a=this.prepareExternalUrl(o+gn(i))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(Ss),z(Ad,8))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var Pd=class{$implicit;ngForOf;index;count;constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Lt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((o,i,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new Pd(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(i===null?void 0:i);else if(i!==null){let s=r.get(i);r.move(s,a),vk(s,o)}});for(let o=0,i=r.length;o<i;o++){let s=r.get(o).context;s.index=o,s.count=i,s.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);vk(i,o)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(N(sr),N(Vr),N(_p))};static \u0275dir=_e({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function vk(n,e){n.context.$implicit=e.item}var $e=(()=>{class n{_viewContainer;_context=new Od;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){kk(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){kk(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(N(sr),N(Vr))};static \u0275dir=_e({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Od=class{$implicit=null;ngIf=null};function kk(n,e){if(n&&!n.createEmbeddedView)throw new F(2020,!1)}var Ee=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=jt({})}return n})();function Dp(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[o,i]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var Ds=class{};var Mk="browser";var wk=(()=>{class n{static \u0275prov=O({token:n,providedIn:"root",factory:()=>new Ep(b(He),window)})}return n})(),Ep=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(G(x({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=__(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(tr(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(G(x({},t),{left:o-a[0],top:i-a[1]}))}};function __(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let a=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(a)return a}o=r.nextNode()}}return null}var Es=class{_doc;constructor(e){this._doc=e}manager},Rd=(()=>{class n extends Es{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o,i){return t.addEventListener(r,o,i),()=>this.removeEventListener(t,r,o,i)}removeEventListener(t,r,o,i){return t.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||n)(z(He))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Fd=new V(""),Op=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(a=>{a.manager=this});let o=t.filter(a=>!(a instanceof Rd));this._plugins=o.slice().reverse();let i=t.find(a=>a instanceof Rd);i&&this._plugins.push(i)}addEventListener(t,r,o,i){return this._findPluginFor(r).addEventListener(t,r,o,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(z(Fd),z(ze))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Lp="ng-app-id";function Ck(n){for(let e of n)e.remove()}function bk(n,e){let t=e.createElement("style");return t.textContent=n,t}function x_(n,e,t,r){let o=n.head?.querySelectorAll(`style[${Lp}="${e}"],link[${Lp}="${e}"]`);if(o)for(let i of o)i.removeAttribute(Lp),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}function Tp(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Rp=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,x_(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let o of t)this.addUsage(o,this.inline,bk);r?.forEach(o=>this.addUsage(o,this.external,Tp))}removeStyles(t,r){for(let o of t)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,r,o){let i=r.get(t);i?i.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,o(t,this.doc)))})}removeUsage(t,r){let o=r.get(t);o&&(o.usage--,o.usage<=0&&(Ck(o.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Ck(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(t,bk(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(t,Tp(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(z(He),z(pd),z(yd,8),z(Xi))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Ap={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Np=/%COMP%/g;var xk="%COMP%",I_=`_nghost-${xk}`,S_=`_ngcontent-${xk}`,D_=!0,E_=new V("",{providedIn:"root",factory:()=>D_});function L_(n){return S_.replace(Np,n)}function A_(n){return I_.replace(Np,n)}function Ik(n,e){return e.map(t=>t.replace(Np,n))}var Fp=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,o,i,a,s,c,l=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=a,this.platformId=s,this.ngZone=c,this.nonce=l,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Ls(t,a,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(t,r);return o instanceof Nd?o.applyToHost(t):o instanceof As&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let a=this.doc,s=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case ir.Emulated:i=new Nd(c,l,r,this.appId,d,a,s,u,p);break;case ir.ShadowDom:return new Pp(c,l,t,r,a,s,this.nonce,u,p);default:i=new As(c,l,r,d,a,s,u,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(z(Op),z(Rp),z(pd),z(E_),z(He),z(Xi),z(ze),z(yd),z(zo,8))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Ls=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,o,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Ap[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(_k(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(_k(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;let i=Ap[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let o=Ap[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(On.DashCase|On.Important)?e.style.setProperty(t,r,o&On.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&On.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,o){if(typeof e=="string"&&(e=en().getGlobalEventTarget(this.doc,e),!e))throw new F(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,t,i)),this.eventManager.addEventListener(e,t,i,o)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function _k(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Pp=class extends Ls{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,o,i,a,s,c,l){super(e,i,a,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=Ik(o.id,d);for(let p of d){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let u=o.getExternalStyles?.();if(u)for(let p of u){let h=Tp(p,i);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},As=class extends Ls{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,o,i,a,s,c,l){super(e,i,a,s,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o;let d=r.styles;this.styles=l?Ik(l,d):d,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Gi.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Nd=class extends As{contentAttr;hostAttr;constructor(e,t,r,o,i,a,s,c,l){let d=o+"-"+r.id;super(e,t,r,i,a,s,c,l,d),this.contentAttr=L_(d),this.hostAttr=A_(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var jd=class n extends Is{supportsDOMEvents=!0;static makeCurrent(){xp(new n)}onAndCancel(e,t,r,o){return e.addEventListener(t,r,o),()=>{e.removeEventListener(t,r,o)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=T_();return t==null?null:P_(t)}resetBaseElement(){Ts=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Dp(document.cookie,e)}},Ts=null;function T_(){return Ts=Ts||document.head.querySelector("base"),Ts?Ts.getAttribute("href"):null}function P_(n){return new URL(n,document.baseURI).pathname}var O_=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Sk=["alt","control","meta","shift"],R_={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},N_={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Dk=(()=>{class n extends Es{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,o,i){let a=n.parseEventName(r),s=n.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>en().onAndCancel(t,a.domEventName,s,i))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=n._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),Sk.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),a+=l+".")}),a+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(t,r){let o=R_[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Sk.forEach(a=>{if(a!==o){let s=N_[a];s(t)&&(i+=a+".")}}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(z(He))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function jp(n,e,t){let r=x({rootComponent:n,platformRef:t?.platformRef},F_(e));return hk(r)}function F_(n){return{appProviders:[...B_,...n?.providers??[]],platformProviders:z_}}function j_(){jd.makeCurrent()}function V_(){return new Zt}function H_(){return L0(document),document}var z_=[{provide:Xi,useValue:Mk},{provide:fd,useValue:j_,multi:!0},{provide:He,useFactory:H_}];var B_=[{provide:ns,useValue:"root"},{provide:Zt,useFactory:V_},{provide:Fd,useClass:Rd,multi:!0,deps:[He]},{provide:Fd,useClass:Dk,multi:!0,deps:[He]},Fp,Rp,Op,{provide:Fo,useExisting:Fp},{provide:Ds,useClass:O_},[]];var Ek=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(z(He))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var K="primary",$s=Symbol("RouteTitle"),qp=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function $o(n){return new qp(n)}function Fk(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let o={};for(let i=0;i<r.length;i++){let a=r[i],s=n[i];if(a[0]===":")o[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function U_(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Nn(n[t],e[t]))return!1;return!0}function Nn(n,e){let t=n?Up(n):void 0,r=e?Up(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!jk(n[o],e[o]))return!1;return!0}function Up(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function jk(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}else return n===e}function Vk(n){return n.length>0?n[n.length-1]:null}function lr(n){return z1(n)?n:zr(n)?Ie(Promise.resolve(n)):B(n)}var $_={exact:zk,subset:Bk},Hk={exact:W_,subset:G_,ignored:()=>!0};function Lk(n,e,t){return $_[t.paths](n.root,e.root,t.matrixParams)&&Hk[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function W_(n,e){return Nn(n,e)}function zk(n,e,t){if(!qo(n.segments,e.segments)||!zd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!zk(n.children[r],e.children[r],t))return!1;return!0}function G_(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jk(n[t],e[t]))}function Bk(n,e,t){return qk(n,e,e.segments,t)}function qk(n,e,t,r){if(n.segments.length>t.length){let o=n.segments.slice(0,t.length);return!(!qo(o,t)||e.hasChildren()||!zd(o,t,r))}else if(n.segments.length===t.length){if(!qo(n.segments,t)||!zd(n.segments,t,r))return!1;for(let o in e.children)if(!n.children[o]||!Bk(n.children[o],e.children[o],r))return!1;return!0}else{let o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!qo(n.segments,o)||!zd(n.segments,o,r)||!n.children[K]?!1:qk(n.children[K],e,i,r)}}function zd(n,e,t){return e.every((r,o)=>Hk[t](n[o].parameters,r.parameters))}var jn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new pe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$o(this.queryParams),this._queryParamMap}toString(){return Y_.serialize(this)}},pe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bd(this)}},Wr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=$o(this.parameters),this._parameterMap}toString(){return $k(this)}};function Z_(n,e){return qo(n,e)&&n.every((t,r)=>Nn(t.parameters,e[r].parameters))}function qo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function K_(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===K&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==K&&(t=t.concat(e(o,r)))}),t}var Wo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>new Gr,providedIn:"root"})}return n})(),Gr=class{parse(e){let t=new Wp(e);return new jn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ps(e.root,!0)}`,r=J_(e.queryParams),o=typeof e.fragment=="string"?`#${X_(e.fragment)}`:"";return`${t}${r}${o}`}},Y_=new Gr;function Bd(n){return n.segments.map(e=>$k(e)).join("/")}function Ps(n,e){if(!n.hasChildren())return Bd(n);if(e){let t=n.children[K]?Ps(n.children[K],!1):"",r=[];return Object.entries(n.children).forEach(([o,i])=>{o!==K&&r.push(`${o}:${Ps(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=K_(n,(r,o)=>o===K?[Ps(n.children[K],!1)]:[`${o}:${Ps(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[K]!=null?`${Bd(n)}/${t[0]}`:`${Bd(n)}/(${t.join("//")})`}}function Uk(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vd(n){return Uk(n).replace(/%3B/gi,";")}function X_(n){return encodeURI(n)}function $p(n){return Uk(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qd(n){return decodeURIComponent(n)}function Ak(n){return qd(n.replace(/\+/g,"%20"))}function $k(n){return`${$p(n.path)}${Q_(n.parameters)}`}function Q_(n){return Object.entries(n).map(([e,t])=>`;${$p(e)}=${$p(t)}`).join("")}function J_(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(o=>`${Vd(t)}=${Vd(o)}`).join("&"):`${Vd(t)}=${Vd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var ex=/^[^\/()?;#]+/;function Vp(n){let e=n.match(ex);return e?e[0]:""}var tx=/^[^\/()?;=#]+/;function nx(n){let e=n.match(tx);return e?e[0]:""}var rx=/^[^=?&#]+/;function ox(n){let e=n.match(rx);return e?e[0]:""}var ix=/^[^&#]+/;function ax(n){let e=n.match(ix);return e?e[0]:""}var Wp=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[K]=new pe(e,t)),r}parseSegment(){let e=Vp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new Wr(qd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=nx(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=Vp(this.remaining);o&&(r=o,this.capture(r))}e[qd(t)]=qd(r)}parseQueryParam(e){let t=ox(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=ax(this.remaining);a&&(r=a,this.capture(r))}let o=Ak(t),i=Ak(r);if(e.hasOwnProperty(o)){let a=e[o];Array.isArray(a)||(a=[a],e[o]=a),a.push(i)}else e[o]=i}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Vp(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new F(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=K);let a=this.parseChildren();t[i??K]=Object.keys(a).length===1&&a[K]?a[K]:new pe([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function Wk(n){return n.segments.length>0?new pe([],{[K]:n}):n}function Gk(n){let e={};for(let[r,o]of Object.entries(n.children)){let i=Gk(o);if(r===K&&i.segments.length===0&&i.hasChildren())for(let[a,s]of Object.entries(i.children))e[a]=s;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let t=new pe(n.segments,e);return sx(t)}function sx(n){if(n.numberOfChildren===1&&n.children[K]){let e=n.children[K];return new pe(n.segments.concat(e.segments),e.children)}return n}function Zr(n){return n instanceof jn}function Zk(n,e,t=null,r=null){let o=Kk(n);return Yk(o,e,t,r)}function Kk(n){let e;function t(i){let a={};for(let c of i.children){let l=t(c);a[c.outlet]=l}let s=new pe(i.url,a);return i===n&&(e=s),s}let r=t(n.root),o=Wk(r);return e??o}function Yk(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return Hp(o,o,o,t,r);let i=cx(e);if(i.toRoot())return Hp(o,o,new pe([],{}),t,r);let a=lx(i,o,n),s=a.processChildren?Rs(a.segmentGroup,a.index,i.commands):Qk(a.segmentGroup,a.index,i.commands);return Hp(o,a.segmentGroup,s,t,r)}function Ud(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Fs(n){return typeof n=="object"&&n!=null&&n.outlets}function Hp(n,e,t,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let a;n===e?a=t:a=Xk(n,e,t);let s=Wk(Gk(a));return new jn(s,i,o)}function Xk(n,e,t){let r={};return Object.entries(n.children).forEach(([o,i])=>{i===e?r[o]=t:r[o]=Xk(i,e,t)}),new pe(n.segments,r)}var $d=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ud(r[0]))throw new F(4003,!1);let o=r.find(Fs);if(o&&o!==Vk(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cx(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new $d(!0,0,n);let e=0,t=!1,r=n.reduce((o,i,a)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let s={};return Object.entries(i.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:s}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:a===0?(i.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?t=!0:s===".."?e++:s!=""&&o.push(s))}),o):[...o,i]},[]);return new $d(t,e,r)}var na=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function lx(n,e,t){if(n.isAbsolute)return new na(e,!0,0);if(!t)return new na(e,!1,NaN);if(t.parent===null)return new na(t,!0,0);let r=Ud(n.commands[0])?0:1,o=t.segments.length-1+r;return dx(t,o,n.numberOfDoubleDots)}function dx(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new F(4005,!1);o=r.segments.length}return new na(r,!1,o-i)}function ux(n){return Fs(n[0])?n[0].outlets:{[K]:n}}function Qk(n,e,t){if(n??=new pe([],{}),n.segments.length===0&&n.hasChildren())return Rs(n,e,t);let r=hx(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let i=new pe(n.segments.slice(0,r.pathIndex),{});return i.children[K]=new pe(n.segments.slice(r.pathIndex),n.children),Rs(i,0,o)}else return r.match&&o.length===0?new pe(n.segments,{}):r.match&&!n.hasChildren()?Gp(n,e,t):r.match?Rs(n,0,o):Gp(n,e,t)}function Rs(n,e,t){if(t.length===0)return new pe(n.segments,{});{let r=ux(t),o={};if(Object.keys(r).some(i=>i!==K)&&n.children[K]&&n.numberOfChildren===1&&n.children[K].segments.length===0){let i=Rs(n.children[K],e,t);return new pe(n.segments,i.children)}return Object.entries(r).forEach(([i,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(o[i]=Qk(n.children[i],e,a))}),Object.entries(n.children).forEach(([i,a])=>{r[i]===void 0&&(o[i]=a)}),new pe(n.segments,o)}}function hx(n,e,t){let r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;let a=n.segments[o],s=t[r];if(Fs(s))break;let c=`${s}`,l=r<t.length-1?t[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Pk(c,l,a))return i;r+=2}else{if(!Pk(c,{},a))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Gp(n,e,t){let r=n.segments.slice(0,e),o=0;for(;o<t.length;){let i=t[o];if(Fs(i)){let c=px(i.outlets);return new pe(r,c)}if(o===0&&Ud(t[0])){let c=n.segments[e];r.push(new Wr(c.path,Tk(t[0]))),o++;continue}let a=Fs(i)?i.outlets[K]:`${i}`,s=o<t.length-1?t[o+1]:null;a&&s&&Ud(s)?(r.push(new Wr(a,Tk(s))),o+=2):(r.push(new Wr(a,{})),o++)}return new pe(r,{})}function px(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Gp(new pe([],{}),0,r))}),e}function Tk(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Pk(n,e,t){return n==t.path&&Nn(e,t.parameters)}var ra="imperative",We=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(We||{}),qt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Kr=class extends qt{type=We.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ut=class extends qt{urlAfterRedirects;type=We.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},wt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(wt||{}),ia=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(ia||{}),Fn=class extends qt{reason;code;type=We.NavigationCancel;constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Vn=class extends qt{reason;code;type=We.NavigationSkipped;constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o}},aa=class extends qt{error;target;type=We.NavigationError;constructor(e,t,r,o){super(e,t),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},js=class extends qt{urlAfterRedirects;state;type=We.RoutesRecognized;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wd=class extends qt{urlAfterRedirects;state;type=We.GuardsCheckStart;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gd=class extends qt{urlAfterRedirects;state;shouldActivate;type=We.GuardsCheckEnd;constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zd=class extends qt{urlAfterRedirects;state;type=We.ResolveStart;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kd=class extends qt{urlAfterRedirects;state;type=We.ResolveEnd;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yd=class{route;type=We.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xd=class{route;type=We.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qd=class{snapshot;type=We.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jd=class{snapshot;type=We.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eu=class{snapshot;type=We.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tu=class{snapshot;type=We.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sa=class{routerEvent;position;anchor;type=We.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Vs=class{},ca=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function fx(n){return!(n instanceof Vs)&&!(n instanceof ca)}function yx(n,e){return n.providers&&!n._injector&&(n._injector=Qi(n.providers,e,`Route: ${n.path}`)),n._injector??e}function kn(n){return n.outlet||K}function gx(n,e){let t=n.filter(r=>kn(r)===e);return t.push(...n.filter(r=>kn(r)!==e)),t}function ua(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var nu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ua(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Go(this.rootInjector)}},Go=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new nu(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(z(qe))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ru=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Zp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Zp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Kp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Kp(e,this._root).map(t=>t.value)}};function Zp(n,e){if(n===e.value)return e;for(let t of e.children){let r=Zp(n,t);if(r)return r}return null}function Kp(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Kp(n,t);if(r.length)return r.unshift(e),r}return[]}var Bt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ta(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Hs=class extends ru{snapshot;constructor(e,t){super(e),this.snapshot=t,r2(this,e)}toString(){return this.snapshot.toString()}};function Jk(n){let e=mx(n),t=new Be([new Wr("",{})]),r=new Be({}),o=new Be({}),i=new Be({}),a=new Be(""),s=new Hn(t,r,i,a,o,K,n,e.root);return s.snapshot=e.root,new Hs(new Bt(s,[]),e)}function mx(n){let e={},t={},r={},i=new Uo([],e,r,"",t,K,n,null,{});return new zs("",new Bt(i,[]))}var Hn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,o,i,a,s,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ne(l=>l[$s]))??B(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>$o(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>$o(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ou(n,e,t="emptyOnly"){let r,{routeConfig:o}=n;return e!==null&&(t==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),n.params),data:x(x({},e.data),n.data),resolve:x(x(x(x({},n.data),e.data),o?.data),n._resolvedData)}:r={params:x({},n.params),data:x({},n.data),resolve:x(x({},n.data),n._resolvedData??{})},o&&t4(o)&&(r.resolve[$s]=o.title),r}var Uo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[$s]}constructor(e,t,r,o,i,a,s,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$o(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$o(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},zs=class extends ru{url;constructor(e,t){super(t),this.url=e,r2(this,t)}toString(){return e4(this._root)}};function r2(n,e){e.value._routerState=n,e.children.forEach(t=>r2(n,t))}function e4(n){let e=n.children.length>0?` { ${n.children.map(e4).join(", ")} } `:"";return`${n.value}${e}`}function zp(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Nn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Nn(e.params,t.params)||n.paramsSubject.next(t.params),U_(e.url,t.url)||n.urlSubject.next(t.url),Nn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Yp(n,e){let t=Nn(n.params,e.params)&&Z_(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Yp(n.parent,e.parent))}function t4(n){return typeof n.title=="string"||n.title===null}var n4=new V(""),Ws=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=K;activateEvents=new Ce;deactivateEvents=new Ce;attachEvents=new Ce;detachEvents=new Ce;routerOutletData=uk();parentContexts=b(Go);location=b(sr);changeDetector=b(yn);inputBinder=b(Gs,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=t;let o=this.location,a=t.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new Xp(t,s,o.injector,this.routerOutletData);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=_e({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Qt]})}return n})(),Xp=class{route;childContexts;parent;outletData;constructor(e,t,r,o){this.route=e,this.childContexts=t,this.parent=r,this.outletData=o}get(e,t){return e===Hn?this.route:e===Go?this.childContexts:e===n4?this.outletData:this.parent.get(e,t)}},Gs=new V(""),o2=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,o=$a([r.queryParams,r.params,r.data]).pipe(kt(([i,a,s],c)=>(s=x(x(x({},i),a),s),c===0?B(s):Promise.resolve(s)))).subscribe(i=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let a=pk(r.component);if(!a){this.unsubscribeFromRouteData(t);return}for(let{templateName:s}of a.inputs)t.activatedComponentRef.setInput(s,i[s])});this.outletDataSubscriptions.set(t,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),i2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=he({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&ae(0,"router-outlet")},dependencies:[Ws],encapsulation:2})}return n})();function a2(n){let e=n.children&&n.children.map(a2),t=e?G(x({},n),{children:e}):x({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==K&&(t.component=i2),t}function vx(n,e,t){let r=Bs(n,e._root,t?t._root:void 0);return new Hs(r,e)}function Bs(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let o=kx(n,e,t);return new Bt(r,o)}else{if(n.shouldAttach(e.value)){let i=n.retrieve(e.value);if(i!==null){let a=i.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>Bs(n,s)),a}}let r=Mx(e.value),o=e.children.map(i=>Bs(n,i));return new Bt(r,o)}}function kx(n,e,t){return e.children.map(r=>{for(let o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Bs(n,r,o);return Bs(n,r)})}function Mx(n){return new Hn(new Be(n.url),new Be(n.params),new Be(n.queryParams),new Be(n.fragment),new Be(n.data),n.outlet,n.component,n)}var la=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},r4="ngNavigationCancelingError";function iu(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Zr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=o4(!1,wt.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function o4(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[r4]=!0,t.cancellationCode=e,t}function wx(n){return i4(n)&&Zr(n.url)}function i4(n){return!!n&&n[r4]}var Cx=(n,e,t,r)=>ne(o=>(new Qp(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)),Qp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,o,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),zp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let o=ta(t);e.children.forEach(i=>{let a=i.value.outlet;this.deactivateRoutes(i,o[a],r),delete o[a]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){let o=e.value,i=t?t.value:null;if(o===i)if(o.component){let a=r.getContext(o.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=ta(e);for(let a of Object.values(i))this.deactivateRouteAndItsChildren(a,o);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=ta(e);for(let a of Object.values(i))this.deactivateRouteAndItsChildren(a,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let o=ta(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new tu(i.value.snapshot))}),e.children.length&&this.forwardEvent(new Jd(e.value.snapshot))}activateRoutes(e,t,r){let o=e.value,i=t?t.value:null;if(zp(o),o===i)if(o.component){let a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(o.component){let a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let s=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),zp(s.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=o,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},au=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},oa=class{component;route;constructor(e,t){this.component=e,this.route=t}};function bx(n,e,t){let r=n._root,o=e?e._root:null;return Os(r,o,t,[r.value])}function _x(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ha(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!ih(n)?n:e.get(n):r}function Os(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=ta(e);return n.children.forEach(a=>{xx(a,i[a.value.outlet],t,r.concat([a.value]),o),delete i[a.value.outlet]}),Object.entries(i).forEach(([a,s])=>Ns(s,t.getContext(a),o)),o}function xx(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=n.value,a=e?e.value:null,s=t?t.getContext(n.value.outlet):null;if(a&&i.routeConfig===a.routeConfig){let c=Ix(a,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new au(r)):(i.data=a.data,i._resolvedData=a._resolvedData),i.component?Os(n,e,s?s.children:null,r,o):Os(n,e,t,r,o),c&&s&&s.outlet&&s.outlet.isActivated&&o.canDeactivateChecks.push(new oa(s.outlet.component,a))}else a&&Ns(e,s,o),o.canActivateChecks.push(new au(r)),i.component?Os(n,null,s?s.children:null,r,o):Os(n,null,t,r,o);return o}function Ix(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!qo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qo(n.url,e.url)||!Nn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yp(n,e)||!Nn(n.queryParams,e.queryParams);case"paramsChange":default:return!Yp(n,e)}}function Ns(n,e,t){let r=ta(n),o=n.value;Object.entries(r).forEach(([i,a])=>{o.component?e?Ns(a,e.children.getContext(i),t):Ns(a,null,t):Ns(a,e,t)}),o.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new oa(e.outlet.component,o)):t.canDeactivateChecks.push(new oa(null,o)):t.canDeactivateChecks.push(new oa(null,o))}function Zs(n){return typeof n=="function"}function Sx(n){return typeof n=="boolean"}function Dx(n){return n&&Zs(n.canLoad)}function Ex(n){return n&&Zs(n.canActivate)}function Lx(n){return n&&Zs(n.canActivateChild)}function Ax(n){return n&&Zs(n.canDeactivate)}function Tx(n){return n&&Zs(n.canMatch)}function a4(n){return n instanceof Kn||n?.name==="EmptyError"}var Hd=Symbol("INITIAL_VALUE");function da(){return kt(n=>$a(n.map(e=>e.pipe(Xn(1),$1(Hd)))).pipe(ne(e=>{for(let t of e)if(t!==!0){if(t===Hd)return Hd;if(t===!1||Px(t))return t}return!0}),St(e=>e!==Hd),Xn(1)))}function Px(n){return Zr(n)||n instanceof la}function Ox(n,e){return Re(t=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:a}}=t;return a.length===0&&i.length===0?B(G(x({},t),{guardsResult:!0})):Rx(a,r,o,n).pipe(Re(s=>s&&Sx(s)?Nx(r,i,n,e):B(s)),ne(s=>G(x({},t),{guardsResult:s})))})}function Rx(n,e,t,r){return Ie(n).pipe(Re(o=>zx(o.component,o.route,t,e,r)),Qn(o=>o!==!0,!0))}function Nx(n,e,t,r){return Ie(e).pipe(xr(o=>Ti(jx(o.route.parent,r),Fx(o.route,r),Hx(n,o.path,t),Vx(n,o.route,t))),Qn(o=>o!==!0,!0))}function Fx(n,e){return n!==null&&e&&e(new eu(n)),B(!0)}function jx(n,e){return n!==null&&e&&e(new Qd(n)),B(!0)}function Vx(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return B(!0);let o=r.map(i=>Wa(()=>{let a=ua(e)??t,s=ha(i,a),c=Ex(s)?s.canActivate(e,n):ut(a,()=>s(e,n));return lr(c).pipe(Qn())}));return B(o).pipe(da())}function Hx(n,e,t){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(a=>_x(a)).filter(a=>a!==null).map(a=>Wa(()=>{let s=a.guards.map(c=>{let l=ua(a.node)??t,d=ha(c,l),u=Lx(d)?d.canActivateChild(r,n):ut(l,()=>d(r,n));return lr(u).pipe(Qn())});return B(s).pipe(da())}));return B(i).pipe(da())}function zx(n,e,t,r,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return B(!0);let a=i.map(s=>{let c=ua(e)??o,l=ha(s,c),d=Ax(l)?l.canDeactivate(n,e,t,r):ut(c,()=>l(n,e,t,r));return lr(d).pipe(Qn())});return B(a).pipe(da())}function Bx(n,e,t,r){let o=e.canLoad;if(o===void 0||o.length===0)return B(!0);let i=o.map(a=>{let s=ha(a,n),c=Dx(s)?s.canLoad(e,t):ut(n,()=>s(e,t));return lr(c)});return B(i).pipe(da(),s4(r))}function s4(n){return O1(Ze(e=>{if(typeof e!="boolean")throw iu(n,e)}),ne(e=>e===!0))}function qx(n,e,t,r){let o=e.canMatch;if(!o||o.length===0)return B(!0);let i=o.map(a=>{let s=ha(a,n),c=Tx(s)?s.canMatch(e,t):ut(n,()=>s(e,t));return lr(c)});return B(i).pipe(da(),s4(r))}var qs=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Us=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ea(n){return Ai(new qs(n))}function Ux(n){return Ai(new F(4e3,!1))}function $x(n){return Ai(o4(!1,wt.GuardRejected))}var Jp=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return B(r);if(o.numberOfChildren>1||!o.children[K])return Ux(`${e.redirectTo}`);o=o.children[K]}}applyRedirectCommands(e,t,r,o,i){return Wx(t,o,i).pipe(ne(a=>{if(a instanceof jn)throw new Us(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),e,r);if(a[0]==="/")throw new Us(s);return s}))}applyRedirectCreateUrlTree(e,t,r,o){let i=this.createSegmentGroup(e,t.root,r,o);return new jn(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let s=i.substring(1);r[o]=t[s]}else r[o]=i}),r}createSegmentGroup(e,t,r,o){let i=this.createSegments(e,t.segments,r,o),a={};return Object.entries(t.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(e,c,r,o)}),new pe(i,a)}createSegments(e,t,r,o){return t.map(i=>i.path[0]===":"?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){let o=r[t.path.substring(1)];if(!o)throw new F(4001,!1);return o}findOrReturn(e,t){let r=0;for(let o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}};function Wx(n,e,t){if(typeof n=="string")return B(n);let r=n,{queryParams:o,fragment:i,routeConfig:a,url:s,outlet:c,params:l,data:d,title:u}=e;return lr(ut(t,()=>r({params:l,data:d,queryParams:o,fragment:i,routeConfig:a,url:s,outlet:c,title:u})))}var e2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gx(n,e,t,r,o){let i=c4(n,e,t);return i.matched?(r=yx(e,r),qx(r,e,t,o).pipe(ne(a=>a===!0?i:x({},e2)))):B(i)}function c4(n,e,t){if(e.path==="**")return Zx(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?x({},e2):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let o=(e.matcher||Fk)(t,n,e);if(!o)return x({},e2);let i={};Object.entries(o.posParams??{}).forEach(([s,c])=>{i[s]=c.path});let a=o.consumed.length>0?x(x({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:a,positionalParamSegments:o.posParams??{}}}function Zx(n){return{matched:!0,parameters:n.length>0?Vk(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Ok(n,e,t,r){return t.length>0&&Xx(n,t,r)?{segmentGroup:new pe(e,Yx(r,new pe(t,n.children))),slicedSegments:[]}:t.length===0&&Qx(n,t,r)?{segmentGroup:new pe(n.segments,Kx(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new pe(n.segments,n.children),slicedSegments:t}}function Kx(n,e,t,r){let o={};for(let i of t)if(cu(n,e,i)&&!r[kn(i)]){let a=new pe([],{});o[kn(i)]=a}return x(x({},r),o)}function Yx(n,e){let t={};t[K]=e;for(let r of n)if(r.path===""&&kn(r)!==K){let o=new pe([],{});t[kn(r)]=o}return t}function Xx(n,e,t){return t.some(r=>cu(n,e,r)&&kn(r)!==K)}function Qx(n,e,t){return t.some(r=>cu(n,e,r))}function cu(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Jx(n,e,t){return e.length===0&&!n.children[t]}var t2=class{};function e7(n,e,t,r,o,i,a="emptyOnly"){return new n2(n,e,t,r,o,a,i).recognize()}var t7=31,n2=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,o,i,a,s){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new Jp(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=Ok(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:t,rootSnapshot:r})=>{let o=new Bt(r,t),i=new zs("",o),a=Zk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(a),{state:i,tree:a}}))}match(e){let t=new Uo([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),K,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,K,t).pipe(ne(r=>({children:r,rootSnapshot:t})),Yn(r=>{if(r instanceof Us)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof qs?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,i):this.processSegment(e,t,r,r.segments,o,!0,i).pipe(ne(a=>a instanceof Bt?[a]:[]))}processChildren(e,t,r,o){let i=[];for(let a of Object.keys(r.children))a==="primary"?i.unshift(a):i.push(a);return Ie(i).pipe(xr(a=>{let s=r.children[a],c=gx(t,a);return this.processSegmentGroup(e,c,s,a,o)}),U1((a,s)=>(a.push(...s),a)),Ir(null),q1(),Re(a=>{if(a===null)return ea(r);let s=l4(a);return n7(s),B(s)}))}processSegment(e,t,r,o,i,a,s){return Ie(t).pipe(xr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,o,i,a,s).pipe(Yn(l=>{if(l instanceof qs)return B(null);throw l}))),Qn(c=>!!c),Yn(c=>{if(a4(c))return Jx(r,o,i)?B(new t2):ea(r);throw c}))}processSegmentAgainstRoute(e,t,r,o,i,a,s,c){return kn(r)!==a&&(a===K||!cu(o,i,r))?ea(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,i,a,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,i,a,c):ea(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,a,s){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:u,remainingSegments:p}=c4(t,o,i);if(!c)return ea(t);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>t7&&(this.allowRedirects=!1));let h=new Uo(i,l,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Rk(o),kn(o),o.component??o._loadedComponent??null,o,Nk(o)),m=ou(h,s,this.paramsInheritanceStrategy);return h.params=Object.freeze(m.params),h.data=Object.freeze(m.data),this.applyRedirects.applyRedirectCommands(d,o.redirectTo,u,h,e).pipe(kt(k=>this.applyRedirects.lineralizeSegments(o,k)),Re(k=>this.processSegment(e,r,t,k.concat(p),a,!1,s)))}matchSegmentAgainstRoute(e,t,r,o,i,a){let s=Gx(t,r,o,e,this.urlSerializer);return r.path==="**"&&(t.children={}),s.pipe(kt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(kt(({routes:l})=>{let d=r._loadedInjector??e,{parameters:u,consumedSegments:p,remainingSegments:h}=c,m=new Uo(p,u,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Rk(r),kn(r),r.component??r._loadedComponent??null,r,Nk(r)),v=ou(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(v.params),m.data=Object.freeze(v.data);let{segmentGroup:k,slicedSegments:C}=Ok(t,p,h,l);if(C.length===0&&k.hasChildren())return this.processChildren(d,l,k,m).pipe(ne(S=>new Bt(m,S)));if(l.length===0&&C.length===0)return B(new Bt(m,[]));let R=kn(r)===i;return this.processSegment(d,l,k,C,R?K:i,!0,m).pipe(ne(S=>new Bt(m,S instanceof Bt?[S]:[])))}))):ea(t)))}getChildConfig(e,t,r){return t.children?B({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?B({routes:t._loadedRoutes,injector:t._loadedInjector}):Bx(e,t,r,this.urlSerializer).pipe(Re(o=>o?this.configLoader.loadChildren(e,t).pipe(Ze(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):$x(t))):B({routes:[],injector:e})}};function n7(n){n.sort((e,t)=>e.value.outlet===K?-1:t.value.outlet===K?1:e.value.outlet.localeCompare(t.value.outlet))}function r7(n){let e=n.value.routeConfig;return e&&e.path===""}function l4(n){let e=[],t=new Set;for(let r of n){if(!r7(r)){e.push(r);continue}let o=e.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),t.add(o)):e.push(r)}for(let r of t){let o=l4(r.children);e.push(new Bt(r.value,o))}return e.filter(r=>!t.has(r))}function Rk(n){return n.data||{}}function Nk(n){return n.resolve||{}}function o7(n,e,t,r,o,i){return Re(a=>e7(n,e,t,r,a.extractedUrl,o,i).pipe(ne(({state:s,tree:c})=>G(x({},a),{targetSnapshot:s,urlAfterRedirects:c}))))}function i7(n,e){return Re(t=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return B(t);let i=new Set(o.map(c=>c.route)),a=new Set;for(let c of i)if(!a.has(c))for(let l of d4(c))a.add(l);let s=0;return Ie(a).pipe(xr(c=>i.has(c)?a7(c,r,n,e):(c.data=ou(c,c.parent,n).resolve,B(void 0))),Ze(()=>s++),Pi(1),Re(c=>s===a.size?B(t):xt))})}function d4(n){let e=n.children.map(t=>d4(t)).flat();return[n,...e]}function a7(n,e,t,r){let o=n.routeConfig,i=n._resolve;return o?.title!==void 0&&!t4(o)&&(i[$s]=o.title),Wa(()=>(n.data=ou(n,n.parent,t).resolve,s7(i,n,e,r).pipe(ne(a=>(n._resolvedData=a,n.data=x(x({},n.data),a),null)))))}function s7(n,e,t,r){let o=Up(n);if(o.length===0)return B({});let i={};return Ie(o).pipe(Re(a=>c7(n[a],e,t,r).pipe(Qn(),Ze(s=>{if(s instanceof la)throw iu(new Gr,s);i[a]=s}))),Pi(1),ne(()=>i),Yn(a=>a4(a)?xt:Ai(a)))}function c7(n,e,t,r){let o=ua(e)??r,i=ha(n,o),a=i.resolve?i.resolve(e,t):ut(o,()=>i(e,t));return lr(a)}function Bp(n){return kt(e=>{let t=n(e);return t?Ie(t).pipe(ne(()=>e)):B(e)})}var s2=(()=>{class n{buildTitle(t){let r,o=t.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===K);return r}getResolvedTitleForRoute(t){return t.data[$s]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>b(u4),providedIn:"root"})}return n})(),u4=(()=>{class n extends s2{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(z(Ek))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yr=new V("",{providedIn:"root",factory:()=>({})}),Zo=new V(""),lu=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(gp);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return B(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=lr(ut(t,()=>r.loadComponent())).pipe(ne(p4),kt(f4),Ze(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),Ga(()=>{this.componentLoaders.delete(r)})),i=new Li(o,()=>new Oe).pipe(Ei());return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=h4(r,this.compiler,t,this.onLoadEndListener).pipe(Ga(()=>{this.childrenLoaders.delete(r)})),a=new Li(i,()=>new Oe).pipe(Ei());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function h4(n,e,t,r){return lr(ut(t,()=>n.loadChildren())).pipe(ne(p4),kt(f4),Re(o=>o instanceof bd||Array.isArray(o)?B(o):Ie(e.compileModuleAsync(o))),ne(o=>{r&&r(n);let i,a,s=!1;return Array.isArray(o)?(a=o,s=!0):(i=o.create(t).injector,a=i.get(Zo,[],{optional:!0,self:!0}).flat()),{routes:a.map(a2),injector:i}}))}function l7(n){return n&&typeof n=="object"&&"default"in n}function p4(n){return l7(n)?n.default:n}function f4(n){return B(n)}var du=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>b(d7),providedIn:"root"})}return n})(),d7=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),c2=new V(""),l2=new V("");function y4(n,e,t){let r=n.get(l2),o=n.get(He);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let i,a=new Promise(l=>{i=l}),s=o.startViewTransition(()=>(i(),u7(n)));s.ready.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&ut(n,()=>c({transition:s,from:e,to:t})),a}function u7(n){return new Promise(e=>{Ms({read:()=>setTimeout(e)},{injector:n})})}var d2=new V(""),uu=(()=>{class n{currentNavigation=nt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Oe;transitionAbortWithErrorSubject=new Oe;configLoader=b(lu);environmentInjector=b(qe);destroyRef=b(un);urlSerializer=b(Wo);rootContexts=b(Go);location=b($r);inputBindingEnabled=b(Gs,{optional:!0})!==null;titleStrategy=b(s2);options=b(Yr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(du);createViewTransition=b(c2,{optional:!0});navigationErrorHandler=b(d2,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>B(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=o=>this.events.next(new Yd(o)),r=o=>this.events.next(new Xd(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Xe(()=>{this.transitions?.next(G(x({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Be(null),this.transitions.pipe(St(r=>r!==null),kt(r=>{let o=!1;return B(r).pipe(kt(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",wt.SupersededByNewNavigation),xt;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?G(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=i.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&s!=="reload")return this.events.next(new Vn(i.id,this.urlSerializer.serialize(i.rawUrl),"",ia.IgnoredSameUrlNavigation)),i.resolve(!1),xt;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return B(i).pipe(kt(c=>(this.events.next(new Kr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?xt:Promise.resolve(c))),o7(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ze(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=c.urlAfterRedirects,d));let l=new js(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:l,source:d,restoredState:u,extras:p}=i,h=new Kr(c,this.urlSerializer.serialize(l),d,u);this.events.next(h);let m=Jk(this.rootComponentType).snapshot;return this.currentTransition=r=G(x({},i),{targetSnapshot:m,urlAfterRedirects:l,extras:G(x({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(v=>(v.finalUrl=l,v)),B(r)}else return this.events.next(new Vn(i.id,this.urlSerializer.serialize(i.extractedUrl),"",ia.IgnoredByUrlHandlingStrategy)),i.resolve(!1),xt}),Ze(i=>{let a=new Wd(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(a)}),ne(i=>(this.currentTransition=r=G(x({},i),{guards:bx(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),Ox(this.environmentInjector,i=>this.events.next(i)),Ze(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw iu(this.urlSerializer,i.guardsResult);let a=new Gd(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(a)}),St(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",wt.GuardRejected),!1)),Bp(i=>{if(i.guards.canActivateChecks.length!==0)return B(i).pipe(Ze(a=>{let s=new Zd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),kt(a=>{let s=!1;return B(a).pipe(i7(this.paramsInheritanceStrategy,this.environmentInjector),Ze({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(a,"",wt.NoDataFromResolver)}}))}),Ze(a=>{let s=new Kd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}))}),Bp(i=>{let a=s=>{let c=[];if(s.routeConfig?.loadComponent){let l=ua(s)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,s.routeConfig).pipe(Ze(d=>{s.component=d}),ne(()=>{})))}for(let l of s.children)c.push(...a(l));return c};return $a(a(i.targetSnapshot.root)).pipe(Ir(null),Xn(1))}),Bp(()=>this.afterPreactivation()),kt(()=>{let{currentSnapshot:i,targetSnapshot:a}=r,s=this.createViewTransition?.(this.environmentInjector,i.root,a.root);return s?Ie(s).pipe(ne(()=>r)):B(r)}),ne(i=>{let a=vx(t.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=G(x({},i),{targetRouterState:a}),this.currentNavigation.update(s=>(s.targetRouterState=a,s)),r}),Ze(()=>{this.events.next(new Vs)}),Cx(this.rootContexts,t.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Xn(1),wl(new oe(i=>{let a=r.abortController.signal,s=()=>i.next();return a.addEventListener("abort",s),()=>a.removeEventListener("abort",s)}).pipe(St(()=>!o&&!r.targetRouterState),Ze(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",wt.Aborted)}))),Ze({next:i=>{o=!0,this.lastSuccessfulNavigation=Xe(this.currentNavigation),this.events.next(new Ut(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),wl(this.transitionAbortWithErrorSubject.pipe(Ze(i=>{throw i}))),Ga(()=>{o||this.cancelNavigationTransition(r,"",wt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Yn(i=>{if(this.destroyed)return r.resolve(!1),xt;if(o=!0,i4(i))this.events.next(new Fn(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),wx(i)?this.events.next(new ca(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let a=new aa(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let s=ut(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(s instanceof la){let{message:c,cancellationCode:l}=iu(this.urlSerializer,s);this.events.next(new Fn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new ca(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(a),i}catch(s){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(s)}}return xt}))}))}cancelNavigationTransition(t,r,o){let i=new Fn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Xe(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function h7(n){return n!==ra}var g4=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>b(p7),providedIn:"root"})}return n})(),su=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},p7=(()=>{class n extends su{static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),m4=(()=>{class n{urlSerializer=b(Wo);options=b(Yr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b($r);urlHandlingStrategy=b(du);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new jn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:o}){let i=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,a=o??i;return a instanceof jn?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:o}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=t):this.rawUrlTree=o}routerState=Jk(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>b(f7),providedIn:"root"})}return n})(),f7=(()=>{class n extends m4{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Kr?this.updateStateMemento():t instanceof Vn?this.commitTransition(r):t instanceof js?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Vs?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Fn&&t.code!==wt.SupersededByNewNavigation&&t.code!==wt.Redirect?this.restoreHistory(r):t instanceof aa?this.restoreHistory(r,!0):t instanceof Ut&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:o}){let{replaceUrl:i,state:a}=r;if(this.location.isCurrentPathEqualTo(t)||i){let s=this.browserPageId,c=x(x({},a),this.generateNgRouterState(o,s));this.location.replaceState(t,"",c)}else{let s=x(x({},a),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(t,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===t.finalUrl&&i===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hu(n,e){n.events.pipe(St(t=>t instanceof Ut||t instanceof Fn||t instanceof aa||t instanceof Vn),ne(t=>t instanceof Ut||t instanceof Vn?0:(t instanceof Fn?t.code===wt.Redirect||t.code===wt.SupersededByNewNavigation:!1)?2:1),St(t=>t!==2),Xn(1)).subscribe(()=>{e()})}var y7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},g7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ae=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(rp);stateManager=b(m4);options=b(Yr,{optional:!0})||{};pendingTasks=b(or);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(uu);urlSerializer=b(Wo);location=b($r);urlHandlingStrategy=b(du);injector=b(qe);_events=new Oe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(g4);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(Zo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(Gs,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new je;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=Xe(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Fn&&r.code!==wt.Redirect&&r.code!==wt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ut)this.navigated=!0;else if(r instanceof ca){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=x({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||h7(o.source)},a);this.scheduleNavigation(s,ra,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}fx(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ra,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,o)=>{this.navigateToSyncWithBrowser(t,o,r)})}navigateToSyncWithBrowser(t,r,o){let i={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=x({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let s=this.parseUrl(t);this.scheduleNavigation(s,r,a,i).catch(c=>{this.disposed||this.injector.get(Ht)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Xe(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(a2),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:o,queryParams:i,fragment:a,queryParamsHandling:s,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:a,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=x(x({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let p=o?o.snapshot:this.routerState.snapshot.root;u=Kk(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),u=this.currentUrlTree.root}return Yk(u,t,d,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let o=Zr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,ra,null,r)}navigate(t,r={skipLocationChange:!1}){return m7(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(tr(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let o;if(r===!0?o=x({},y7):r===!1?o=x({},g7):o=r,Zr(t))return Lk(this.currentUrlTree,t,o);let i=this.parseUrl(t);return Lk(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,a){if(this.disposed)return Promise.resolve(!1);let s,c,l;a?(s=a.resolve,c=a.reject,l=a.promise):l=new Promise((u,p)=>{s=u,c=p});let d=this.pendingTasks.add();return hu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:s,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function m7(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new F(4008,!1)}var pa=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=nt(null);get href(){return Xe(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Oe;applicationErrorHandler=b(Ht);options=b(Yr,{optional:!0});constructor(t,r,o,i,a,s){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=a,this.locationStrategy=s,this.reactiveHref.set(b(new Dd("href"),{optional:!0}));let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=o=>o==="merge"||o==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(o=>{o instanceof Ut&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Zr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,o,i,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(t!==0||r||o||i||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,t,r):o.removeAttribute(i,t)}get urlTree(){return this.routerLinkInput===null?null:Zr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(N(Ae),N(Hn),vs("tabindex"),N(zt),N(rt),N(mn))};static \u0275dir=_e({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,o){r&1&&I("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Bo("href",o.reactiveHref(),P0)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ur],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ur],replaceUrl:[2,"replaceUrl","replaceUrl",Ur],routerLink:"routerLink"},features:[Qt]})}return n})(),h2=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ce;constructor(t,r,o,i,a){this.router=t,this.element=r,this.renderer=o,this.cdr=i,this.link=a,this.routerEventsSubscription=t.events.subscribe(s=>{s instanceof Ut&&this.update()})}ngAfterContentInit(){B(this.links.changes,B(null)).pipe(_r()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ie(t).pipe(_r()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=v7(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let i=o.urlTree;return i?t.isActive(i,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(N(Ae),N(rt),N(zt),N(yn),N(pa,8))};static \u0275dir=_e({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,i){if(r&1&&up(i,pa,5),r&2){let a;hp(a=pp())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Qt]})}return n})();function v7(n){return!!n.paths}var Ks=class{};var v4=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,o,i){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(St(t=>t instanceof Ut),xr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=Qi(i.providers,t,`Route: ${i.path}`));let a=i._injector??t,s=i._loadedInjector??a;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(a,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(s,i.children??i._loadedRoutes))}return Ie(o).pipe(_r())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(t,r):o=B(null);let i=o.pipe(Re(a=>a===null?B(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(t,r);return Ie([i,a]).pipe(_r())}else return i})}static \u0275fac=function(r){return new(r||n)(z(Ae),z(qe),z(Ks),z(lu))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),k4=new V(""),k7=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ra;restoredId=0;store={};constructor(t,r,o,i,a={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Kr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ut?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Vn&&t.code===ia.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof sa))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>f(this,null,function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new sa(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){J0()};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function p2(n,...e){return ts([{provide:Zo,multi:!0,useValue:n},[],{provide:Hn,useFactory:M4,deps:[Ae]},{provide:bs,multi:!0,useFactory:w4},e.map(t=>t.\u0275providers)])}function M4(n){return n.routerState.root}function Ys(n,e){return{\u0275kind:n,\u0275providers:e}}function w4(){let n=b(dt);return e=>{let t=n.get(cr);if(e!==t.components[0])return;let r=n.get(Ae),o=n.get(C4);n.get(f2)===1&&r.initialNavigation(),n.get(x4,null,{optional:!0})?.setUpPreloading(),n.get(k4,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var C4=new V("",{factory:()=>new Oe}),f2=new V("",{providedIn:"root",factory:()=>1});function b4(){let n=[{provide:A0,useValue:!0},{provide:f2,useValue:0},_d(()=>{let e=b(dt);return e.get(Ip,Promise.resolve()).then(()=>new Promise(r=>{let o=e.get(Ae),i=e.get(C4);hu(o,()=>{r(!0)}),e.get(uu).afterPreactivation=()=>(r(!0),i.closed?B(void 0):i),o.initialNavigation()}))})];return Ys(2,n)}function _4(){let n=[_d(()=>{b(Ae).setUpLocationChangeListener()}),{provide:f2,useValue:2}];return Ys(3,n)}var x4=new V("");function I4(n){return Ys(0,[{provide:x4,useExisting:v4},{provide:Ks,useExisting:n}])}function S4(){return Ys(8,[o2,{provide:Gs,useExisting:o2}])}function D4(n){ar("NgRouterViewTransitions");let e=[{provide:c2,useValue:y4},{provide:l2,useValue:x({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ys(9,e)}var E4=[$r,{provide:Wo,useClass:Gr},Ae,Go,{provide:Hn,useFactory:M4,deps:[Ae]},lu,[]],y2=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[E4,[],{provide:Zo,multi:!0,useValue:t},[],r?.errorHandler?{provide:d2,useValue:r.errorHandler}:[],{provide:Yr,useValue:r||{}},r?.useHash?w7():C7(),M7(),r?.preloadingStrategy?I4(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?b7(r):[],r?.bindToComponentInputs?S4().\u0275providers:[],r?.enableViewTransitions?D4().\u0275providers:[],_7()]}}static forChild(t){return{ngModule:n,providers:[{provide:Zo,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=jt({})}return n})();function M7(){return{provide:k4,useFactory:()=>{let n=b(wk),e=b(ze),t=b(Yr),r=b(uu),o=b(Wo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new k7(o,r,n,e,t)}}}function w7(){return{provide:mn,useClass:Sp}}function C7(){return{provide:mn,useClass:Td}}function b7(n){return[n.initialNavigation==="disabled"?_4().\u0275providers:[],n.initialNavigation==="enabledBlocking"?b4().\u0275providers:[]]}var u2=new V("");function _7(){return[{provide:u2,useFactory:w4},{provide:bs,multi:!0,useExisting:u2}]}var H4=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(N(zt),N(rt))};static \u0275dir=_e({type:n})}return n})(),wu=(()=>{class n extends H4{static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=_e({type:n,features:[Et]})}return n})(),rc=new V(""),x7={provide:rc,useExisting:Ft(()=>v2),multi:!0},v2=(()=>{class n extends wu{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=_e({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){r&1&&I("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Rn([x7]),Et]})}return n})(),I7={provide:rc,useExisting:Ft(()=>Qe),multi:!0};function S7(){let n=en()?en().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var D7=new V(""),Qe=(()=>{class n extends H4{_compositionMode;_composing=!1;constructor(t,r,o){super(t,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!S7())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(N(zt),N(rt),N(D7,8))};static \u0275dir=_e({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&I("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},standalone:!1,features:[Rn([I7]),Et]})}return n})();function E7(n){return n==null||z4(n)===0}function z4(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Cu=new V(""),B4=new V("");function L7(n){return E7(n.value)?{required:!0}:null}function A7(n){return e=>{let t=e.value?.length??z4(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function A4(n){return null}function q4(n){return n!=null}function U4(n){return zr(n)?Ie(n):n}function $4(n){let e={};return n.forEach(t=>{e=t!=null?x(x({},e),t):e}),Object.keys(e).length===0?null:e}function W4(n,e){return e.map(t=>t(n))}function T7(n){return!n.validate}function G4(n){return n.map(e=>T7(e)?e:t=>e.validate(t))}function P7(n){if(!n)return null;let e=n.filter(q4);return e.length==0?null:function(t){return $4(W4(t,e))}}function k2(n){return n!=null?P7(G4(n)):null}function O7(n){if(!n)return null;let e=n.filter(q4);return e.length==0?null:function(t){let r=W4(t,e).map(U4);return B1(r).pipe(ne($4))}}function M2(n){return n!=null?O7(G4(n)):null}function T4(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function R7(n){return n._rawValidators}function N7(n){return n._rawAsyncValidators}function g2(n){return n?Array.isArray(n)?n:[n]:[]}function fu(n,e){return Array.isArray(n)?n.includes(e):n===e}function P4(n,e){let t=g2(e);return g2(n).forEach(o=>{fu(t,o)||t.push(o)}),t}function O4(n,e){return g2(e).filter(t=>!fu(n,t))}var yu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=k2(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=M2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ga=class extends yu{name;get formDirective(){return null}get path(){return null}},nc=class extends yu{_parent=null;name=null;valueAccessor=null},gu=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},F7={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},vW=G(x({},F7),{"[class.ng-submitted]":"isSubmitted"}),pt=(()=>{class n extends gu{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(N(nc,2))};static \u0275dir=_e({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Pe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Et]})}return n})(),Qr=(()=>{class n extends gu{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(N(ga,10))};static \u0275dir=_e({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Pe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Et]})}return n})();var Xs="VALID",pu="INVALID",fa="PENDING",Qs="DISABLED",Xr=class{},mu=class extends Xr{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ec=class extends Xr{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},tc=class extends Xr{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ya=class extends Xr{status;source;constructor(e,t){super(),this.status=e,this.source=t}},m2=class extends Xr{source;constructor(e){super(),this.source=e}},vu=class extends Xr{source;constructor(e){super(),this.source=e}};function Z4(n){return(bu(n)?n.validators:n)||null}function j7(n){return Array.isArray(n)?k2(n):n||null}function K4(n,e){return(bu(e)?e.asyncValidators:n)||null}function V7(n){return Array.isArray(n)?M2(n):n||null}function bu(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function H7(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new F(1e3,"");if(!r[t])throw new F(1001,"")}function z7(n,e,t){n._forEachChild((r,o)=>{if(t[o]===void 0)throw new F(1002,"")})}var ku=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Xe(this.statusReactive)}set status(e){Xe(()=>this.statusReactive.set(e))}_status=Ji(()=>this.statusReactive());statusReactive=nt(void 0);get valid(){return this.status===Xs}get invalid(){return this.status===pu}get pending(){return this.status==fa}get disabled(){return this.status===Qs}get enabled(){return this.status!==Qs}errors;get pristine(){return Xe(this.pristineReactive)}set pristine(e){Xe(()=>this.pristineReactive.set(e))}_pristine=Ji(()=>this.pristineReactive());pristineReactive=nt(!0);get dirty(){return!this.pristine}get touched(){return Xe(this.touchedReactive)}set touched(e){Xe(()=>this.touchedReactive.set(e))}_touched=Ji(()=>this.touchedReactive());touchedReactive=nt(!1);get untouched(){return!this.touched}_events=new Oe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(P4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(P4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(O4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(O4(e,this._rawAsyncValidators))}hasValidator(e){return fu(this._rawValidators,e)}hasAsyncValidator(e){return fu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(G(x({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new tc(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new tc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(G(x({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ec(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ec(!0,r))}markAsPending(e={}){this.status=fa;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ya(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(G(x({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Qs,this.errors=null,this._forEachChild(o=>{o.disable(G(x({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mu(this.value,r)),this._events.next(new ya(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(G(x({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Xs,this._forEachChild(r=>{r.enable(G(x({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(G(x({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xs||this.status===fa)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mu(this.value,t)),this._events.next(new ya(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(G(x({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qs:Xs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=fa,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=U4(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ya(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ce,this.statusChanges=new Ce}_calculateStatus(){return this._allControlsDisabled()?Qs:this.errors?pu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fa)?fa:this._anyControlsHaveStatus(pu)?pu:Xs}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),o&&this._events.next(new ec(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new tc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=j7(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=V7(this._rawAsyncValidators)}},Mu=class extends ku{constructor(e,t,r){super(Z4(t),K4(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){z7(this,!0,e),Object.keys(e).forEach(r=>{H7(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new vu(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var w2=new V("",{providedIn:"root",factory:()=>C2}),C2="always";function B7(n,e){return[...e.path,n]}function Y4(n,e,t=C2){X4(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),U7(n,e),W7(n,e),$7(n,e),q7(n,e)}function R4(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function q7(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function X4(n,e){let t=R7(n);e.validator!==null?n.setValidators(T4(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=N7(n);e.asyncValidator!==null?n.setAsyncValidators(T4(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let o=()=>n.updateValueAndValidity();R4(e._rawValidators,o),R4(e._rawAsyncValidators,o)}function U7(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Q4(n,e)})}function $7(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Q4(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Q4(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function W7(n,e){let t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function G7(n,e){n==null,X4(n,e)}function Z7(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function K7(n){return Object.getPrototypeOf(n.constructor)===wu}function Y7(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function X7(n,e){if(!e)return null;Array.isArray(e);let t,r,o;return e.forEach(i=>{i.constructor===Qe?t=i:K7(i)?r=i:o=i}),o||r||t||null}var Q7={provide:ga,useExisting:Ft(()=>dr)},Js=Promise.resolve(),dr=(()=>{class n extends ga{callSetDisabledState;get submitted(){return Xe(this.submittedReactive)}_submitted=Ji(()=>this.submittedReactive());submittedReactive=nt(!1);_directives=new Set;form;ngSubmit=new Ce;options;constructor(t,r,o){super(),this.callSetDisabledState=o,this.form=new Mu({},k2(t),M2(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Js.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Y4(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Js.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Js.then(()=>{let r=this._findContainer(t.path),o=new Mu({});G7(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Js.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Js.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Y7(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new m2(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(N(Cu,10),N(B4,10),N(w2,8))};static \u0275dir=_e({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&I("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Rn([Q7]),Et]})}return n})();function N4(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function F4(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var J7=class extends ku{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Z4(t),K4(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(F4(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new vu(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){N4(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){N4(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){F4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var eI={provide:nc,useExisting:Ft(()=>ot)},j4=Promise.resolve(),ot=(()=>{class n extends nc{_changeDetectorRef;callSetDisabledState;control=new J7;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ce;constructor(t,r,o,i,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=X7(this,i)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Z7(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Y4(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){j4.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,o=r!==0&&Ur(r);j4.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?B7(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(N(ga,9),N(Cu,10),N(B4,10),N(rc,10),N(yn,8),N(w2,8))};static \u0275dir=_e({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Rn([eI]),Et,Qt]})}return n})();var Jr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=_e({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var tI={provide:rc,useExisting:Ft(()=>eo),multi:!0};function J4(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function nI(n){return n.split(":")[0]}var eo=(()=>{class n extends wu{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=b(cr).injector;destroyRef=b(un);cdr=b(yn);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Ms({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),o=J4(r,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=nI(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=_e({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&I("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Rn([tI]),Et]})}return n})(),ma=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(J4(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(N(rt),N(zt),N(eo,9))};static \u0275dir=_e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),rI={provide:rc,useExisting:Ft(()=>eM),multi:!0};function V4(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function oI(n){return n.split(":")[0]}var eM=(()=>{class n extends wu{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let o=t.map(i=>this._getOptionId(i));r=(i,a)=>{i._setSelected(o.indexOf(a.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let a=i;for(let s=0;s<a.length;s++){let c=a[s],l=this._getOptionValue(c.value);o.push(l)}}else{let a=r.options;for(let s=0;s<a.length;s++){let c=a[s];if(c.selected){let l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,t(o)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=oI(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=_e({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&I("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Rn([rI]),Et]})}return n})(),va=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(V4(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(V4(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(N(rt),N(zt),N(eM,9))};static \u0275dir=_e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function iI(n){return typeof n=="number"?n:parseInt(n,10)}var tM=(()=>{class n{_validator=A4;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):A4,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=_e({type:n,features:[Qt]})}return n})();var aI={provide:Cu,useExisting:Ft(()=>ur),multi:!0};var ur=(()=>{class n extends tM{required;inputName="required";normalizeInput=Ur;createValidator=t=>L7;enabled(t){return t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=_e({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Bo("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Rn([aI]),Et]})}return n})();var sI={provide:Cu,useExisting:Ft(()=>oc),multi:!0},oc=(()=>{class n extends tM{minlength;inputName="minlength";normalizeInput=t=>iI(t);createValidator=t=>A7(t);static \u0275fac=(()=>{let t;return function(o){return(t||(t=pn(n)))(o||n)}})();static \u0275dir=_e({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Bo("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[Rn([sI]),Et]})}return n})();var cI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=jt({})}return n})();var ft=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:w2,useValue:t.callSetDisabledState??C2}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=jt({imports:[cI]})}return n})();var lI=["*"];var nM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]];var rM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]];var oM=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]];var iM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]];var aM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]];var sM=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]];var cM=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]];var lM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]];var dM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]];var uM=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]];var hM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]];var pM=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]];var fM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]];var yM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]];var gM=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]];var mM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]];var vM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]];var kM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]];var ic={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},b2=new V("LucideIcons",{factory:()=>new ac({})}),ac=class{constructor(e){this.icons=e}getIcon(e){return this.hasIcon(e)?this.icons[e]:null}hasIcon(e){return typeof this.icons=="object"&&e in this.icons}},dI=(()=>{class n{constructor(){this.color=ic.stroke,this.size=ic.width,this.strokeWidth=ic["stroke-width"],this.absoluteStrokeWidth=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uI(n,e=3){return parseFloat(n.toFixed(e)).toString(10)}var yt=(()=>{class n{constructor(t,r,o,i,a){this.elem=t,this.renderer=r,this.changeDetector=o,this.iconProviders=i,this.iconConfig=a,this.absoluteStrokeWidth=!1,this.defaultSize=ic.height}get size(){return this._size??this.iconConfig.size}set size(t){t?this._size=this.parseNumber(t):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(t){t?this._strokeWidth=this.parseNumber(t):delete this._strokeWidth}ngOnChanges(t){if(t.name||t.img||t.color||t.size||t.absoluteStrokeWidth||t.strokeWidth||t.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let o=this.getIcon(this.toPascalCase(r));if(o)this.replaceElement(o);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(t){let r=G(x({},ic),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?uI(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),o=this.createElement(["svg",r,t]);o.classList.add("lucide"),typeof this.name=="string"&&o.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&o.classList.add(...this.class.split(/ /).map(a=>a.trim()).filter(a=>a.length>0));let i=this.elem.nativeElement.childNodes;for(let a of i)this.renderer.removeChild(this.elem.nativeElement,a);this.renderer.appendChild(this.elem.nativeElement,o)}toPascalCase(t){return t.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,o,i)=>o.toUpperCase()+i.toLowerCase())}parseNumber(t){if(typeof t=="string"){let r=parseInt(t,10);if(isNaN(r))throw new Error(`${t} is not numeric.`);return r}return t}getIcon(t){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(t))return r.getIcon(t);return null}createElement([t,r,o=[]]){let i=this.renderer.createElement(t,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(a=>{let s=typeof r[a]=="string"?r[a]:r[a].toString(10);this.renderer.setAttribute(i,a,s)}),o.length&&o.forEach(a=>{let s=this.createElement(a);this.renderer.appendChild(i,s)}),i}}return n.\u0275fac=function(t){return new(t||n)(N(rt),N(zt),N(yn),N(b2),N(dI))},n.\u0275cmp=he({type:n,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[Qt],ngContentSelectors:lI,decls:1,vars:0,template:function(t,r){t&1&&(lp(),dp(0))},encapsulation:2}),n})(),_2=class{constructor(e){this.icons=e}},hI=n=>new ac(n??{}),it=(()=>{class n{static pick(t){return{ngModule:n,providers:[{provide:b2,multi:!0,useValue:new ac(t)},{provide:b2,multi:!0,useFactory:hI,deps:[[new S0,_2]]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Jt({type:n}),n.\u0275inj=jt({imports:[[]]}),n})();xe();var MM=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};var sc=class extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}},cc=class extends sc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},lc=class extends sc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},dc=class extends sc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},x2=(function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n})(x2||{});var uc=class{constructor(e,{headers:t={},customFetch:r,region:o=x2.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=MM(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return L(this,arguments,void 0,function*(t,r={}){var o;try{let{headers:i,method:a,body:s,signal:c}=r,l={},{region:d}=r;d||(d=this.region);let u=new URL(`${this.url}/${t}`);d&&d!=="any"&&(l["x-region"]=d,u.searchParams.set("forceFunctionRegion",d));let p;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",p=s):typeof s=="string"?(l["Content-Type"]="text/plain",p=s):typeof FormData<"u"&&s instanceof FormData?p=s:(l["Content-Type"]="application/json",p=JSON.stringify(s)):p=s;let h=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:p,signal:c}).catch(C=>{throw C.name==="AbortError"?C:new cc(C)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new lc(h);if(!h.ok)throw new dc(h);let v=((o=h.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),k;return v==="application/json"?k=yield h.json():v==="application/octet-stream"||v==="application/pdf"?k=yield h.blob():v==="text/event-stream"?k=h:v==="multipart/form-data"?k=yield h.formData():k=yield h.text(),{data:k,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new cc(i)}:{data:null,error:i,response:i instanceof dc||i instanceof lc?i.context:void 0}}})}};var B2=$3(LM(),1),{PostgrestClient:AM,PostgrestQueryBuilder:UW,PostgrestFilterBuilder:$W,PostgrestTransformBuilder:WW,PostgrestBuilder:GW,PostgrestError:bI}=B2.default||B2;var q2=class{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let t=process.versions;if(t&&t.node){let r=t.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){let r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},U2=q2;var TM="2.78.0";var PM=`realtime-js/${TM}`,OM="1.0.0";var pc=1e4,RM=1e3,NM=100,fc=(function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n})(fc||{}),Ge=(function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n})(Ge||{}),tn=(function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n})(tn||{}),$2=(function(n){return n.websocket="websocket",n})($2||{}),Ko=(function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n})(Ko||{});var xu=class{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let o=t.getUint8(1),i=t.getUint8(2),a=this.HEADER_LENGTH+2,s=r.decode(e.slice(a,a+o));a=a+o;let c=r.decode(e.slice(a,a+i));a=a+i;let l=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:s,event:c,payload:l}}};var Ma=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Se=(function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n})(Se||{}),G2=(n,e,t={})=>{var r;let o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=_I(a,n,e,o),i),{}):{}},_I=(n,e,t,r)=>{let o=e.find(s=>s.name===n),i=o?.type,a=t[n];return i&&!r.includes(i)?FM(i,a):W2(a)},FM=(n,e)=>{if(n.charAt(0)==="_"){let t=n.slice(1,n.length);return DI(e,t)}switch(n){case Se.bool:return xI(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return II(e);case Se.json:case Se.jsonb:return SI(e);case Se.timestamp:return EI(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return W2(e);default:return W2(e)}},W2=n=>n,xI=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},II=n=>{if(typeof n=="string"){let e=parseFloat(n);if(!Number.isNaN(e))return e}return n},SI=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},DI=(n,e)=>{if(typeof n!="string")return n;let t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let i,a=n.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(s=>FM(e,s))}return n},EI=n=>typeof n=="string"?n.replace(" ","T"):n,Iu=n=>{let e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};var wa=class{constructor(e,t,r={},o=pc){this.channel=e,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var yc=class n{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,o,i,a),this.pendingDiffs.forEach(c=>{this.state=n.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=n.syncDiff(this.state,o,i,a),s())}),this.onJoin((o,i,a)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:a})}),this.onLeave((o,i,a)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,o){let i=this.cloneDeep(e),a=this.transformState(t),s={},c={};return this.map(i,(l,d)=>{a[l]||(c[l]=d)}),this.map(a,(l,d)=>{let u=i[l];if(u){let p=d.map(k=>k.presence_ref),h=u.map(k=>k.presence_ref),m=d.filter(k=>h.indexOf(k.presence_ref)<0),v=u.filter(k=>p.indexOf(k.presence_ref)<0);m.length>0&&(s[l]=m),v.length>0&&(c[l]=v)}else s[l]=d}),this.syncDiff(i,{joins:s,leaves:c},r,o)}static syncDiff(e,t,r,o){let{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(s,c)=>{var l;let d=(l=e[s])!==null&&l!==void 0?l:[];if(e[s]=this.cloneDeep(c),d.length>0){let u=e[s].map(h=>h.presence_ref),p=d.filter(h=>u.indexOf(h.presence_ref)<0);e[s].unshift(...p)}r(s,d,c)}),this.map(a,(s,c)=>{let l=e[s];if(!l)return;let d=c.map(u=>u.presence_ref);l=l.filter(u=>d.indexOf(u.presence_ref)<0),e[s]=l,o(s,l,c),l.length===0&&delete e[s]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{let o=e[r];return"metas"in o?t[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var gc=(function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n})(gc||{}),hr=(function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n})(hr||{});var mc=class n{constructor(e,t={config:{}},r){var o,i;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new wa(this,tn.join,this.params,this.timeout),this.rejoinTimer=new Ma(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new yc(this),this.broadcastEndpointURL=Iu(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ge.closed){let{config:{broadcast:a,presence:s,private:c}}=this.params,l=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&o!==void 0?o:[],d=!!this.bindings[gc.PRESENCE]&&this.bindings[gc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,u={},p={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>e?.(hr.CHANNEL_ERROR,h)),this._onClose(()=>e?.(hr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",m=>f(this,[m],function*({postgres_changes:h}){var v;if(this.socket.setAuth(),h===void 0){e?.(hr.SUBSCRIBED);return}else{let k=this.bindings.postgres_changes,C=(v=k?.length)!==null&&v!==void 0?v:0,R=[];for(let S=0;S<C;S++){let _=k[S],{filter:{event:A,schema:ee,table:U,filter:X}}=_,De=h&&h[S];if(De&&De.event===A&&De.schema===ee&&De.table===U&&De.filter===X)R.push(Object.assign(Object.assign({},_),{id:De.id}));else{this.unsubscribe(),this.state=Ge.errored,e?.(hr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(hr.SUBSCRIBED);return}})).receive("error",h=>{this.state=Ge.errored,e?.(hr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e?.(hr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return f(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return f(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this.state===Ge.joined&&e===gc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}httpSend(o,i){return f(this,arguments,function*(e,t,r={}){var a;let s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");let c={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let d=l.statusText;try{let u=yield l.json();d=u.error||u.message||d}catch{}return Promise.reject(new Error(d))})}send(r){return f(this,arguments,function*(e,t={}){var o,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{let d=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=t.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=d.body)===null||i===void 0?void 0:i.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,c,l;let d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ge.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new wa(this,tn.leave,{},e),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ge.closed,this.bindings={}}_fetchWithTimeout(e,t,r){return f(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),a=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(i),a})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new wa(this,e,t,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>NM){let t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var o,i;let a=e.toLocaleLowerCase(),{close:s,error:c,leave:l,join:d}=tn;if(r&&[s,c,l,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,t,r);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(h=>{var m,v,k;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((k=(v=h.filter)===null||v===void 0?void 0:v.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(h=>h.callback(p,r)):(i=this.bindings[a])===null||i===void 0||i.filter(h=>{var m,v,k,C,R,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){let _=h.id,A=(m=h.filter)===null||m===void 0?void 0:m.event;return _&&((v=t.ids)===null||v===void 0?void 0:v.includes(_))&&(A==="*"||A?.toLocaleLowerCase()===((k=t.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{let _=(R=(C=h?.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return _==="*"||_===((S=t?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof p=="object"&&"ids"in p){let m=p.data,{schema:v,table:k,commit_timestamp:C,type:R,errors:S}=m;p=Object.assign(Object.assign({},{schema:v,table:k,commit_timestamp:C,eventType:R,new:{},old:{},errors:S}),this._getPayloadRecords(m))}h.callback(p,r)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let o=e.toLocaleLowerCase(),i={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&n.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tn.close,{},e)}_onError(e){this._on(tn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=G2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=G2(e.columns,e.old_record)),t}};var Z2=()=>{},Su={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},AI=[1e3,2e3,5e3,1e4],TI=1e4,PI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,vc=class{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pc,this.transport=null,this.heartbeatIntervalMs=Su.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Z2,this.ref=0,this.reconnectTimer=null,this.logger=Z2,this.conn=null,this.sendBuffer=[],this.serializer=new xu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>import("./chunk-Z76GK7AR.js").then(({default:s})=>s(...a)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${$2.websocket}`,this.httpEndpoint=Iu(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=U2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:OM}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return f(this,null,function*(){let t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return f(this,null,function*(){let e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fc.connecting:return Ko.Connecting;case fc.open:return Ko.Open;case fc.closing:return Ko.Closing;default:return Ko.Closed}}isConnected(){return this.connectionState()===Ko.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){let r=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new mc(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){let{topic:t,event:r,payload:o,ref:i}=e,a=()=>{this.encode(e,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${t} ${r} (${i})`,o),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(e=null){return f(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return f(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(RM,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Su.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:a}=t,s=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${s}`.trim(),i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(o,i,a)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(tn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${r}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{let r=new Blob([PI],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}_performAuth(e=null){return f(this,null,function*(){let t;e?t=e:this.accessToken?t=yield this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{let o={access_token:t,version:PM};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(tn.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return f(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ma(()=>f(this,null,function*(){setTimeout(()=>f(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Su.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var t,r,o,i,a,s,c,l,d;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:pc,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Su.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e?.heartbeatCallback)!==null&&s!==void 0?s:Z2,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:u=>AI[u-1]||TI,this.encode=(l=e?.encode)!==null&&l!==void 0?l:(u,p)=>p(JSON.stringify(u)),this.decode=(d=e?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};xe();var Ca=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Me(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Du=class extends Ca{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yo=class extends Ca{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};xe();xe();var ba=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},jM=()=>L(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-Z76GK7AR.js")).Response:Response}),Eu=n=>{if(Array.isArray(n))return n.map(t=>Eu(t));if(typeof n=="function"||n!==Object(n))return n;let e={};return Object.entries(n).forEach(([t,r])=>{let o=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=Eu(r)}),e},VM=n=>{if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var K2=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},OI=(n,e,t)=>L(void 0,void 0,void 0,function*(){let r=yield jM();n instanceof r&&!t?.noResolveJson?n.json().then(o=>{let i=n.status||500,a=o?.statusCode||i+"";e(new Du(K2(o),i,a))}).catch(o=>{e(new Yo(K2(o),o))}):e(new Yo(K2(n),n))}),RI=(n,e,t,r)=>{let o={method:n,headers:e?.headers||{}};return n==="GET"||!r?o:(VM(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function kc(n,e,t,r,o,i){return L(this,void 0,void 0,function*(){return new Promise((a,s)=>{n(t,RI(e,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>OI(c,s,r))})})}function ro(n,e,t,r){return L(this,void 0,void 0,function*(){return kc(n,"GET",e,t,r)})}function At(n,e,t,r,o){return L(this,void 0,void 0,function*(){return kc(n,"POST",e,r,o,t)})}function Mc(n,e,t,r,o){return L(this,void 0,void 0,function*(){return kc(n,"PUT",e,r,o,t)})}function HM(n,e,t,r){return L(this,void 0,void 0,function*(){return kc(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function _a(n,e,t,r,o){return L(this,void 0,void 0,function*(){return kc(n,"DELETE",e,r,o,t)})}xe();xe();var Lu=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return L(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Me(e))return{data:null,error:e};throw e}})}};var zM,Y2=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[zM]="BlobDownloadBuilder",this.promise=null}asStream(){return new Lu(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return L(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Me(e))return{data:null,error:e};throw e}})}};zM=Symbol.toStringTag;var BM=Y2;var NI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Au=class{constructor(e,t={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=ba(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,o){return L(this,void 0,void 0,function*(){try{let i,a=Object.assign(Object.assign({},qM),o),s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)}),c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(s=Object.assign(Object.assign({},s),o.headers));let l=this._removeEmptyFolders(t),d=this._getFinalPath(l),u=yield(e=="PUT"?Mc:At)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:s},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}})}upload(e,t,r){return L(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,o){return L(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),a=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",t);try{let c,l=Object.assign({upsert:qM.upsert},o),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType);let u=yield Mc(this.fetch,s.toString(),c,{headers:d});return{data:{path:i,fullPath:u.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Me(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return L(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");let i=yield At(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),a=new URL(this.url+i.url),s=a.searchParams.get("token");if(!s)throw new Ca("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}update(e,t,r){return L(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return L(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Me(o))return{data:null,error:o};throw o}})}copy(e,t,r){return L(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Me(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,r){return L(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield At(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Me(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,r){return L(this,void 0,void 0,function*(){try{let o=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Me(o))return{data:null,error:o};throw o}})}download(e,t){let o=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),a=i?`?${i}`:"",s=this._getFinalPath(e),c=()=>ro(this.fetch,`${this.url}/${o}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new BM(c,this.shouldThrowOnError)}info(e){return L(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let r=yield ro(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Eu(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}exists(e){return L(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield HM(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r)&&r instanceof Yo){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){let r=this._getFinalPath(e),o=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&o.push(i);let s=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${l}`)}}}remove(e){return L(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}list(e,t,r){return L(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},NI),t),{prefix:e||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Me(o))return{data:null,error:o};throw o}})}listV2(e,t){return L(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield At(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};xe();var Tu="2.78.0";var Pu={"X-Client-Info":`storage-js/${Tu}`};var Ou=class{constructor(e,t={},r,o){this.shouldThrowOnError=!1;let i=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pu),t),this.fetch=ba(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return L(this,void 0,void 0,function*(){try{let t=this.listBucketOptionsToQueryString(e);return{data:yield ro(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}getBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield ro(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}createBucket(e){return L(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Me(o))return{data:null,error:o};throw o}})}updateBucket(e,t){return L(this,void 0,void 0,function*(){try{return{data:yield Mc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}emptyBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}deleteBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}};xe();var Ru=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pu),t),this.fetch=ba(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}listBuckets(e){return L(this,void 0,void 0,function*(){try{let t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);let r=t.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield ro(this.fetch,o,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}deleteBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Me(t))return{data:null,error:t};throw t}})}};xe();xe();var xa={"X-Client-Info":`storage-js/${Tu}`,"Content-Type":"application/json"};var Nu=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function gt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Ia=class extends Nu{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fu=class extends Nu{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};xe();var Sa=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};var UM=n=>{if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var $M=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),FI=(n,e,t)=>L(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!t?.noResolveJson){let o=n.status||500,i=n;if(typeof i.json=="function")i.json().then(a=>{let s=a?.statusCode||a?.code||o+"";e(new Ia($M(a),o,s))}).catch(()=>{let a=o+"",s=i.statusText||`HTTP ${o} error`;e(new Ia(s,o,a))});else{let a=o+"",s=i.statusText||`HTTP ${o} error`;e(new Ia(s,o,a))}}else e(new Fu($M(n),n))}),jI=(n,e,t,r)=>{let o={method:n,headers:e?.headers||{}};return n==="GET"||!r?o:(UM(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),t))};function VI(n,e,t,r,o,i){return L(this,void 0,void 0,function*(){return new Promise((a,s)=>{n(t,jI(e,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>FI(c,s,r))})})}function mt(n,e,t,r,o){return L(this,void 0,void 0,function*(){return VI(n,"POST",e,r,o,t)})}var ju=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xa),t),this.fetch=Sa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return L(this,void 0,void 0,function*(){try{return{data:(yield mt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}getIndex(e,t){return L(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}listIndexes(e){return L(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return L(this,void 0,void 0,function*(){try{return{data:(yield mt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}};xe();var Vu=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xa),t),this.fetch=Sa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return L(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield mt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}getVectors(e){return L(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}listVectors(e){return L(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield mt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}queryVectors(e){return L(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}deleteVectors(e){return L(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield mt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}};xe();var Hu=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xa),t),this.fetch=Sa(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return L(this,void 0,void 0,function*(){try{return{data:(yield mt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}getBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}listBuckets(){return L(this,arguments,void 0,function*(e={}){try{return{data:yield mt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return L(this,void 0,void 0,function*(){try{return{data:(yield mt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}};var wc=class extends Hu{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new zu(this.url,this.headers,e,this.fetch)}},zu=class extends ju{constructor(e,t,r,o){super(e,t,o),this.vectorBucketName=r}createIndex(e){let t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return L(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return L(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return L(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return L(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Bu(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Bu=class extends Vu{constructor(e,t,r,o,i){super(e,t,i),this.vectorBucketName=r,this.indexName=o}putVectors(e){let t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return L(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return L(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return L(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return L(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return L(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var Cc=class extends Ou{constructor(e,t={},r,o){super(e,t,r,o)}from(e){return new Au(this.url,this.headers,e,this.fetch)}get vectors(){return new wc(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ru(this.url+"/iceberg",this.headers,this.fetch)}};var WM="2.78.0";var bc="";typeof Deno<"u"?bc="deno":typeof document<"u"?bc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bc="react-native":bc="node";var HI={"X-Client-Info":`supabase-js-${bc}/${WM}`},GM={headers:HI},ZM={schema:"public"},KM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YM={};Gf();var zI=n=>{let e;return n?e=n:typeof fetch>"u"?e=$f:e=fetch,(...t)=>e(...t)},BI=()=>typeof Headers>"u"?Wf:Headers,XM=(n,e,t)=>{let r=zI(t),o=BI();return(i,a)=>f(null,null,function*(){var s;let c=(s=yield e())!==null&&s!==void 0?s:n,l=new o(a?.headers);return l.has("apikey")||l.set("apikey",n),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:l}))})};function qI(n){return n.endsWith("/")?n:n+"/"}function QM(n,e){var t,r;let{db:o,auth:i,realtime:a,global:s}=n,{db:c,auth:l,realtime:d,global:u}=e,p={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},u),s),{headers:Object.assign(Object.assign({},(t=u?.headers)!==null&&t!==void 0?t:{}),(r=s?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>f(null,null,function*(){return""})};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}function JM(n){let e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qI(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}xe();xe();var qu="2.78.0";var Xo=30*1e3,Uu=3,$u=Uu*Xo,e5="http://localhost:9999",t5="supabase.auth.token";var n5={"X-Client-Info":`gotrue-js/${qu}`};var _c="X-Supabase-Api-Version",X2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},r5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,o5=600*1e3;var oo=class extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function H(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var Wu=class extends oo{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function i5(n){return H(n)&&n.name==="AuthApiError"}var nn=class extends oo{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},zn=class extends oo{constructor(e,t,r,o){super(e,r,o),this.name=t,this.status=r}},bt=class extends zn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function a5(n){return H(n)&&n.name==="AuthSessionMissingError"}var pr=class extends zn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Qo=class extends zn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Jo=class extends zn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function s5(n){return H(n)&&n.name==="AuthImplicitGrantRedirectError"}var xc=class extends zn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Da=class extends zn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function Gu(n){return H(n)&&n.name==="AuthRetryableFetchError"}var Ic=class extends zn{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var ei=class extends zn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var Zu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),c5=` 	
\r=`.split(""),UI=(()=>{let n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<c5.length;e+=1)n[c5[e].charCodeAt(0)]=-2;for(let e=0;e<Zu.length;e+=1)n[Zu[e].charCodeAt(0)]=e;return n})();function l5(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(Zu[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(Zu[r]),e.queuedBits-=6}}function d5(n,e,t){let r=UI[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Q2(n){let e=[],t=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=a=>{GI(a,r,t)};for(let a=0;a<n.length;a+=1)d5(n.charCodeAt(a),o,i);return e.join("")}function $I(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function WI(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}$I(r,e)}}function GI(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function io(n){let e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)d5(n.charCodeAt(o),t,r);return new Uint8Array(e)}function u5(n){let e=[];return WI(n,t=>e.push(t)),new Uint8Array(e)}function fr(n){let e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};return n.forEach(o=>l5(o,t,r)),l5(null,t,r),e.join("")}function h5(n){return Math.round(Date.now()/1e3)+n}function p5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}var at=()=>typeof window<"u"&&typeof document<"u",ti={tested:!1,writable:!1},Ku=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ti.tested)return ti.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ti.tested=!0,ti.writable=!0}catch{ti.tested=!0,ti.writable=!1}return ti.writable};function f5(n){let e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return t.searchParams.forEach((r,o)=>{e[o]=r}),e}var Yu=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-Z76GK7AR.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},y5=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ni=(n,e,t)=>f(null,null,function*(){yield n.setItem(e,JSON.stringify(t))}),ao=(n,e)=>f(null,null,function*(){let t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),yr=(n,e)=>f(null,null,function*(){yield n.removeItem(e)}),Sc=class n{constructor(){this.promise=new n.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};Sc.promiseConstructor=Promise;function Xu(n){let e=n.split(".");if(e.length!==3)throw new ei("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!r5.test(e[r]))throw new ei("JWT not in base64url format");return{header:JSON.parse(Q2(e[0])),payload:JSON.parse(Q2(e[1])),signature:io(e[2]),raw:{header:e[0],payload:e[1]}}}function g5(n){return f(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),n)})})}function m5(n,e){return new Promise((r,o)=>{f(null,null,function*(){for(let i=0;i<1/0;i++)try{let a=yield n(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){o(a);return}}})})}function ZI(n){return("0"+n.toString(16)).substr(-2)}function KI(){let e=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,o="";for(let i=0;i<56;i++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,ZI).join("")}function YI(n){return f(this,null,function*(){let t=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function XI(n){return f(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let t=yield YI(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function ri(n,e,t=!1){return f(this,null,function*(){let r=KI(),o=r;t&&(o+="/PASSWORD_RECOVERY"),yield ni(n,`${e}-code-verifier`,o);let i=yield XI(r);return[i,r===i?"plain":"s256"]})}var QI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function v5(n){let e=n.headers.get(_c);if(!e||!e.match(QI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function k5(n){if(!n)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function M5(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var JI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function oi(n){if(!JI.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qu(){let n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function w5(n,e){return new Proxy(n,{get:(t,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,o)}})}function J2(n){return JSON.parse(JSON.stringify(n))}var ii=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),eS=[502,503,504];function C5(n){return f(this,null,function*(){var e;if(!y5(n))throw new Da(ii(n),0);if(eS.includes(n.status))throw new Da(ii(n),n.status);let t;try{t=yield n.json()}catch(i){throw new nn(ii(i),i)}let r,o=v5(n);if(o&&o.getTime()>=X2["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Ic(ii(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new bt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Ic(ii(t),n.status,t.weak_password.reasons);throw new Wu(ii(t),n.status||500,r)})}var tS=(n,e,t,r)=>{let o={method:n,headers:e?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};function q(n,e,t,r){return f(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[_c]||(i[_c]=X2["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let a=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=yield nS(n,e,t+s,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function nS(n,e,t,r,o,i){return f(this,null,function*(){let a=tS(e,r,o,i),s;try{s=yield n(t,Object.assign({},a))}catch(c){throw console.error(c),new Da(ii(c),0)}if(s.ok||(yield C5(s)),r?.noResolveJson)return s;try{return yield s.json()}catch(c){yield C5(c)}})}function rn(n){var e;let t=null;rS(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=h5(n.expires_in)));let r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function ef(n){let e=rn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Bn(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function b5(n){return{data:n,error:null}}function _5(n){let{action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i}=n,a=Zn(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},a);return{data:{properties:s,user:c},error:null}}function tf(n){return n}function rS(n){return n.access_token&&n.refresh_token&&n.expires_in}var Ju=["global","local","others"];var Ea=class{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Yu(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return f(this,arguments,function*(e,t=Ju[0]){if(Ju.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ju.join(", ")}`);try{return yield q(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(H(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return f(this,arguments,function*(e,t={}){try{return yield q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Bn})}catch(o){if(H(o))return{data:{user:null},error:o};throw o}})}generateLink(e){return f(this,null,function*(){try{let{options:t}=e,r=Zn(e,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:_5,redirectTo:t?.redirectTo})}catch(t){if(H(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return f(this,null,function*(){try{return yield q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Bn})}catch(t){if(H(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return f(this,null,function*(){var t,r,o,i,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=yield q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:tf});if(d.error)throw d.error;let u=yield d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(m=>{let v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(m.split(";")[1].split("=")[1]);l[`${k}Page`]=v}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(H(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return f(this,null,function*(){oi(e);try{return yield q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Bn})}catch(t){if(H(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return f(this,null,function*(){oi(e);try{return yield q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Bn})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return f(this,null,function*(){oi(e);try{return yield q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Bn})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return f(this,null,function*(){oi(e.userId);try{let{data:t,error:r}=yield q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(H(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return f(this,null,function*(){oi(e.userId),oi(e.id);try{return{data:yield q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(H(t))return{data:null,error:t};throw t}})}_listOAuthClients(e){return f(this,null,function*(){var t,r,o,i,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=yield q(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:tf});if(d.error)throw d.error;let u=yield d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(m=>{let v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(m.split(";")[1].split("=")[1]);l[`${k}Page`]=v}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(H(l))return{data:{clients:[]},error:l};throw l}})}_createOAuthClient(e){return f(this,null,function*(){try{return yield q(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(H(t))return{data:null,error:t};throw t}})}_getOAuthClient(e){return f(this,null,function*(){try{return yield q(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(H(t))return{data:null,error:t};throw t}})}_updateOAuthClient(e,t){return f(this,null,function*(){try{return yield q(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(e){return f(this,null,function*(){try{return yield q(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(H(t))return{data:null,error:t};throw t}})}_regenerateOAuthClientSecret(e){return f(this,null,function*(){try{return yield q(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(H(t))return{data:null,error:t};throw t}})}};function nf(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}var ai={debug:!!(globalThis&&Ku()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Dc=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},e1=class extends Dc{};function rf(n,e,t){return f(this,null,function*(){ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ai.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>f(null,null,function*(){if(o){ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return yield t()}finally{ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new e1(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ai.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}function x5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function of(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function I5(n){return parseInt(n,16)}function S5(n){let e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function D5(n){var e;let{chainId:t,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:a,notBefore:s,requestId:c,resources:l,scheme:d,uri:u,version:p}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}let h=of(n.address),m=d?`${d}://${r}`:r,v=n.statement?`${n.statement}
`:"",k=`${m} wants you to sign in with your Ethereum account:
${h}

${v}`,C=`URI: ${u}
Version: ${p}
Chain ID: ${t}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),s&&(C+=`
Not Before: ${s.toISOString()}`),c&&(C+=`
Request ID: ${c}`),l){let R=`
Resources:`;for(let S of l){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);R+=`
- ${S}`}C+=R}return`${k}
${C}`}xe();var Te=class extends Error{constructor({message:e,code:t,cause:r,name:o}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=t}},si=class extends Te{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}};function E5({error:n,options:e}){var t,r,o;let{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=i.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Te({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){let a=window.location.hostname;if(af(a)){if(i.rp.id!==a)return new Te({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function L5({error:n,options:e}){let{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Te({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){let r=window.location.hostname;if(af(r)){if(t.rpId!==r)return new Te({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var sf=class{createNewAbortSignal(){if(this.controller){let t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},oS=new sf;function T5(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);let{challenge:e,user:t,excludeCredentials:r}=n,o=Zn(n,["challenge","user","excludeCredentials"]),i=io(e).buffer,a=Object.assign(Object.assign({},t),{id:io(t.id).buffer}),s=Object.assign(Object.assign({},o),{challenge:i,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];s.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:io(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function P5(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);let{challenge:e,allowCredentials:t}=n,r=Zn(n,["challenge","allowCredentials"]),o=io(e).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(t&&t.length>0){i.allowCredentials=new Array(t.length);for(let a=0;a<t.length;a++){let s=t[a];i.allowCredentials[a]=Object.assign(Object.assign({},s),{id:io(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function O5(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let t=n;return{id:n.id,rawId:n.id,response:{attestationObject:fr(new Uint8Array(n.response.attestationObject)),clientDataJSON:fr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function R5(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let t=n,r=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:fr(new Uint8Array(o.authenticatorData)),clientDataJSON:fr(new Uint8Array(o.clientDataJSON)),signature:fr(new Uint8Array(o.signature)),userHandle:o.userHandle?fr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function af(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function A5(){var n,e;return!!(at()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}function iS(n){return f(this,null,function*(){try{let e=yield navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new si("Browser returned unexpected credential type",e)}:{data:null,error:new si("Empty credential response",e)}}catch(e){return{data:null,error:E5({error:e,options:n})}}})}function aS(n){return f(this,null,function*(){try{let e=yield navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new si("Browser returned unexpected credential type",e)}:{data:null,error:new si("Empty credential response",e)}}catch(e){return{data:null,error:L5({error:e,options:n})}}})}var sS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},cS={userVerification:"preferred",hints:["security-key"]};function t1(...n){let e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),t=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of n)if(o)for(let i in o){let a=o[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(t(a))r[i]=a;else if(e(a)){let s=r[i];e(s)?r[i]=t1(s,a):r[i]=t1(a)}else r[i]=a}return r}function lS(n,e){return t1(sS,n,e||{})}function dS(n,e){return t1(cS,n,e||{})}var n1=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return f(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(a,s){return f(this,arguments,function*({factorId:e,webauthn:t,friendlyName:r,signal:o},i){try{let{data:c,error:l}=yield this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:l};let d=o??oS.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:u}=c.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(c.webauthn.type){case"create":{let u=lS(c.webauthn.credential_options.publicKey,i?.create),{data:p,error:h}=yield iS({publicKey:u,signal:d});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{let u=dS(c.webauthn.credential_options.publicKey,i?.request),{data:p,error:h}=yield aS(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:u,signal:d}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(c){return H(c)?{data:null,error:c}:{data:null,error:new nn("Unexpected error in challenge",c)}}})}_verify(o){return f(this,arguments,function*({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})})}_authenticate(a,s){return f(this,arguments,function*({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},i){if(!t)return{data:null,error:new oo("rpId is required for WebAuthn authentication")};try{if(!A5())return{data:null,error:new nn("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:o},{request:i});if(!c)return{data:null,error:l};let{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:r,credential_response:d.credential_response}})}catch(c){return H(c)?{data:null,error:c}:{data:null,error:new nn("Unexpected error in authenticate",c)}}})}_register(a,s){return f(this,arguments,function*({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},i){if(!t)return{data:null,error:new oo("rpId is required for WebAuthn registration")};try{if(!A5())return{data:null,error:new nn("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this._enroll({friendlyName:e});if(!c)return yield this.client.mfa.listFactors().then(p=>{var h;return(h=p.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};let{data:d,error:u}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:o},{create:i});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:u}}catch(c){return H(c)?{data:null,error:c}:{data:null,error:new nn("Unexpected error in register",c)}}})}};x5();var uS={url:e5,storageKey:t5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:n5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function N5(n,e,t){return f(this,null,function*(){return yield t()})}var La={},hS=(()=>{class n{get jwks(){var t,r;return(r=(t=La[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){La[this.storageKey]=Object.assign(Object.assign({},La[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=La[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){La[this.storageKey]=Object.assign(Object.assign({},La[this.storageKey]),{cachedAt:t})}constructor(t){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&at()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},uS),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ea({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Yu(i.fetch),this.lock=i.lock||N5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:at()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=rf:this.lock=N5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new n1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Ku()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=nf(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>f(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qu}) ${new Date().toISOString()}`,...t),this}initialize(){return f(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=f(this,null,function*(){return yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return f(this,null,function*(){var t;try{let r=f5(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),at()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:a}=yield this._getSessionFromURL(r,o);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),s5(a)){let l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return yield this._removeSession(),{error:a}}let{session:s,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),yield this._saveSession(s),setTimeout(()=>f(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return H(r)?{error:r}:{error:new nn("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return f(this,null,function*(){var r,o,i;try{let a=yield q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:rn}),{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}})}signUp(t){return f(this,null,function*(){var r,o,i;try{let a;if("email"in t){let{email:u,password:p,options:h}=t,m=null,v=null;this.flowType==="pkce"&&([m,v]=yield ri(this.storage,this.storageKey)),a=yield q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},xform:rn})}else if("phone"in t){let{phone:u,password:p,options:h}=t;a=yield q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:p,data:(o=h?.data)!==null&&o!==void 0?o:{},channel:(i=h?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:rn})}else throw new Qo("You must provide either an email or phone number and a password");let{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithPassword(t){return f(this,null,function*(){try{let r;if("email"in t){let{email:a,password:s,options:c}=t;r=yield q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ef})}else if("phone"in t){let{phone:a,password:s,options:c}=t;r=yield q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ef})}else throw new Qo("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new pr}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return f(this,null,function*(){var r,o,i,a;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})})}exchangeCodeForSession(t){return f(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>f(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return f(this,null,function*(){let{chain:r}=t;switch(r){case"ethereum":return yield this.signInWithEthereum(t);case"solana":return yield this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(t){return f(this,null,function*(){var r,o,i,a,s,c,l,d,u,p,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{let{chain:k,wallet:C,statement:R,options:S}=t,_;if(at())if(typeof C=="object")_=C;else{let E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")_=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=C}let A=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href),ee=yield _.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ee||ee.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let U=of(ee[0]),X=(o=S?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!X){let E=yield _.request({method:"eth_chainId"});X=I5(E)}let De={domain:A.host,address:U,statement:R,uri:A.href,version:"1",chainId:X,nonce:(i=S?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=S?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(c=S?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=S?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(d=S?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=S?.signInWithEthereum)===null||u===void 0?void 0:u.resources};m=D5(De),v=yield _.request({method:"personal_sign",params:[S5(m),U]})}try{let{data:k,error:C}=yield q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:rn});if(C)throw C;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new pr}:(k.session&&(yield this._saveSession(k.session),yield this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:C})}catch(k){if(H(k))return{data:{user:null,session:null},error:k};throw k}})}signInWithSolana(t){return f(this,null,function*(){var r,o,i,a,s,c,l,d,u,p,h,m;let v,k;if("message"in t)v=t.message,k=t.signature;else{let{chain:C,wallet:R,statement:S,options:_}=t,A;if(at())if(typeof R=="object")A=R;else{let U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))A=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=R}let ee=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){let U=yield A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:ee.host,uri:ee.href}),S?{statement:S}:null)),X;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")X=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)X=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)v=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),k=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${ee.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${ee.href}`,`Issued At: ${(i=(o=_?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((d=_?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((p=(u=_?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||p===void 0)&&p.length?["Resources",..._.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);let U=yield A.signMessage(new TextEncoder().encode(v),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=U}}try{let{data:C,error:R}=yield q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:fr(k)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:rn});if(R)throw R;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new pr}:(C.session&&(yield this._saveSession(C.session),yield this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:R})}catch(C){if(H(C))return{data:{user:null,session:null},error:C};throw C}})}_exchangeCodeForSession(t){return f(this,null,function*(){let r=yield ao(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:a,error:s}=yield q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:rn});if(yield yr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new pr}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(H(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})}signInWithIdToken(t){return f(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:a,nonce:s}=t,c=yield q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:rn}),{data:l,error:d}=c;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new pr}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return f(this,null,function*(){var r,o,i,a,s;try{if("email"in t){let{email:c,options:l}=t,d=null,u=null;this.flowType==="pkce"&&([d,u]=yield ri(this.storage,this.storageKey));let{error:p}=yield q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){let{phone:c,options:l}=t,{data:d,error:u}=yield q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(s=l?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:u}}throw new Qo("You must provide either an email or phone number.")}catch(c){if(H(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(t){return f(this,null,function*(){var r,o;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(o=t.options)===null||o===void 0?void 0:o.captchaToken);let{data:s,error:c}=yield q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:rn});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");let l=s.session,d=s.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(t){return f(this,null,function*(){var r,o,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=yield ri(this.storage,this.storageKey)),yield q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:b5})}catch(a){if(H(a))return{data:null,error:a};throw a}})}reauthenticate(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return f(this,null,function*(){try{return yield this._useSession(t=>f(this,null,function*(){let{data:{session:r},error:o}=t;if(o)throw o;if(!r)throw new bt;let{error:i}=yield q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(t){if(H(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return f(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:o,type:i,options:a}=t,{error:s}=yield q(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){let{phone:o,type:i,options:a}=t,{data:s,error:c}=yield q(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:c}}throw new Qo("You must provide either an email or phone number and a type")}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return this._useSession(r=>f(this,null,function*(){return r}))}))})}_acquireLock(t,r){return f(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=f(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(f(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,t,()=>f(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(f(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return f(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return f(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield ao(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let o=t.expires_at?t.expires_at*1e3-Date.now()<$u:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){let s=yield ao(this.userStorage,this.storageKey+"-user");s?.user?t.user=s.user:t.user=Qu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){let s={value:this.suppressGetSessionWarning};t.user=w5(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:i,error:a}=yield this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return f(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return f(this,null,function*(){try{return t?yield q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Bn}):yield this._useSession(r=>f(this,null,function*(){var o,i,a;let{data:s,error:c}=r;if(c)throw c;return!(!((o=s.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bt}:yield q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Bn})}))}catch(r){if(H(r))return a5(r)&&(yield this._removeSession(),yield yr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return f(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(o){return f(this,arguments,function*(t,r={}){try{return yield this._useSession(i=>f(this,null,function*(){let{data:a,error:s}=i;if(s)throw s;if(!a.session)throw new bt;let c=a.session,l=null,d=null;this.flowType==="pkce"&&t.email!=null&&([l,d]=yield ri(this.storage,this.storageKey));let{data:u,error:p}=yield q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:d}),jwt:c.access_token,xform:Bn});if(p)throw p;return c.user=u.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(H(i))return{data:{user:null},error:i};throw i}})}setSession(t){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return f(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new bt;let r=Date.now()/1e3,o=r,i=!0,a=null,{payload:s}=Xu(t.access_token);if(s.exp&&(o=s.exp,i=o<=r),i){let{data:c,error:l}=yield this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};a=c}else{let{data:c,error:l}=yield this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(H(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;if(!t){let{data:s,error:c}=r;if(c)throw c;t=(o=s.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new bt;let{data:i,error:a}=yield this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return f(this,null,function*(){try{if(!at())throw new Jo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Jo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xc("No code detected.");let{data:S,error:_}=yield this._exchangeCodeForSession(t.code);if(_)throw _;let A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:S.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:c,expires_at:l,token_type:d}=t;if(!a||!c||!s||!d)throw new Jo("No session defined in URL");let u=Math.round(Date.now()/1e3),p=parseInt(c),h=u+p;l&&(h=parseInt(l));let m=h-u;m*1e3<=Xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);let v=h-p;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,u);let{data:k,error:C}=yield this._getUser(a);if(C)throw C;let R={provider_token:o,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:h,refresh_token:s,token_type:d,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:t.type},error:null}}catch(o){if(H(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return f(this,null,function*(){let r=yield ao(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return f(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return f(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return{error:a};let s=(o=i.session)===null||o===void 0?void 0:o.access_token;if(s){let{error:c}=yield this.admin.signOut(s,t);if(c&&!(i5(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(yield this._removeSession(),yield yr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=p5(),o={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),f(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(t){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var o,i;try{let{data:{session:a},error:s}=r;if(s)throw s;yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",a),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}}))})}resetPasswordForEmail(o){return f(this,arguments,function*(t,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=yield ri(this.storage,this.storageKey,!0));try{return yield q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(H(s))return{data:null,error:s};throw s}})}getUserIdentities(){return f(this,null,function*(){var t;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}})}linkIdentity(t){return f(this,null,function*(){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)})}linkIdentityOAuth(t){return f(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(a=>f(this,null,function*(){var s,c,l,d,u;let{data:p,error:h}=a;if(h)throw h;let m=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield q(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})}));if(i)throw i;return at()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if(H(o))return{data:{provider:t.provider,url:null},error:o};throw o}})}linkIdentityIdToken(t){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var o;try{let{error:i,data:{session:a}}=r;if(i)throw i;let{options:s,provider:c,token:l,access_token:d,nonce:u}=t,p=yield q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=a?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:l,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:rn}),{data:h,error:m}=p;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new pr}:(h.session&&(yield this._saveSession(h.session),yield this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}))})}unlinkIdentity(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o,i;let{data:a,error:s}=r;if(s)throw s;return yield q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(H(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return f(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield m5(i=>f(this,null,function*(){return i>0&&(yield g5(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rn})}),(i,a)=>{let s=200*Math.pow(2,i);return a&&Gu(a)&&Date.now()+s-o<Xo})}catch(o){if(this._debug(r,"error",o),H(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return f(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),at()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}})}_recoverAndRefresh(){return f(this,null,function*(){var t,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=yield ao(this.storage,this.storageKey);if(i&&this.userStorage){let s=yield ao(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},yield ni(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s?.user)!==null&&t!==void 0?t:Qu()}else if(i&&!i.user&&!i.user){let s=yield ao(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,yield yr(this.storage,this.storageKey+"-user"),yield ni(this.storage,this.storageKey,i)):i.user=Qu()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&(yield this._removeSession());return}let a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$u;if(this._debug(o,`session has${a?"":" not"} expired with margin of ${$u}s`),a){if(this.autoRefreshToken&&i.refresh_token){let{error:s}=yield this._callRefreshToken(i.refresh_token);s&&(console.error(s),Gu(s)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:s,error:c}=yield this._getUser(i.access_token);!c&&s?.user?(i.user=s.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(o,"error getting user data, skipping SIGNED_IN notification",s)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}})}_callRefreshToken(t){return f(this,null,function*(){var r,o;if(!t)throw new bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Sc;let{data:a,error:s}=yield this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new bt;yield this._saveSession(a.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);let c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),H(a)){let s={data:null,error:a};return Gu(a)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(t,r,o=!0){return f(this,null,function*(){let i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:r});let a=[],s=Array.from(this.stateChangeEmitters.values()).map(c=>f(this,null,function*(){try{yield c.callback(t,r)}catch(l){a.push(l)}}));if(yield Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}})}_saveSession(t){return f(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;let r=Object.assign({},t),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&(yield ni(this.userStorage,this.storageKey+"-user",{user:r.user}));let i=Object.assign({},r);delete i.user;let a=J2(i);yield ni(this.storage,this.storageKey,a)}else{let i=J2(r);yield ni(this.storage,this.storageKey,i)}})}_removeSession(){return f(this,null,function*(){this._debug("#_removeSession()"),yield yr(this.storage,this.storageKey),yield yr(this.storage,this.storageKey+"-code-verifier"),yield yr(this.storage,this.storageKey+"-user"),this.userStorage&&(yield yr(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&at()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return f(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),Xo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>f(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return f(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return f(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>f(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-t)/Xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Xo}ms, refresh threshold is ${Uu} ticks`),i<=Uu&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Dc)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return f(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!at()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>f(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return f(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,o){return f(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[a,s]=yield ri(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(c.toString())}if(o?.queryParams){let a=new URLSearchParams(o.queryParams);i.push(a.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${i.join("&")}`})}_unenroll(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;return a?{data:null,error:a}:yield q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(H(r))return{data:null,error:r};throw r}})}_enroll(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o,i;let{data:a,error:s}=r;if(s)return{data:null,error:s};let c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:d}=yield q(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(H(r))return{data:null,error:r};throw r}})}_verify(t){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return{data:null,error:a};let s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?O5(t.webauthn.credential_response):R5(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:l}=yield q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:l})}))}catch(r){if(H(r))return{data:null,error:r};throw r}}))})}_challenge(t){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var o;let{data:i,error:a}=r;if(a)return{data:null,error:a};let s=yield q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(s.error)return s;let{data:c}=s;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:T5(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:P5(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(H(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return f(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:t.factorId});return o?{data:null,error:o}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return f(this,null,function*(){var t;let{data:{user:r},error:o}=yield this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let a of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}})}_getAuthenticatorAssuranceLevel(){return f(this,null,function*(){var t,r;let{data:{session:o},error:i}=yield this.getSession();if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Xu(o.access_token),s=null;a.aal&&(s=a.aal);let c=s;((r=(t=o.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:d},error:null}})}_getAuthorizationDetails(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:o},error:i}=r;return i?{data:null,error:i}:o?yield q(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:o.access_token,xform:a=>({data:a,error:null})}):{data:null,error:new bt}}))}catch(r){if(H(r))return{data:null,error:r};throw r}})}_approveAuthorization(t,r){return f(this,null,function*(){try{return yield this._useSession(o=>f(this,null,function*(){let{data:{session:i},error:a}=o;if(a)return{data:null,error:a};if(!i)return{data:null,error:new bt};let s=yield q(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&at()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s}))}catch(o){if(H(o))return{data:null,error:o};throw o}})}_denyAuthorization(t,r){return f(this,null,function*(){try{return yield this._useSession(o=>f(this,null,function*(){let{data:{session:i},error:a}=o;if(a)return{data:null,error:a};if(!i)return{data:null,error:new bt};let s=yield q(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&at()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s}))}catch(o){if(H(o))return{data:null,error:o};throw o}})}fetchJwk(o){return f(this,arguments,function*(t,r={keys:[]}){let i=r.keys.find(l=>l.kid===t);if(i)return i;let a=Date.now();if(i=this.jwks.keys.find(l=>l.kid===t),i&&this.jwks_cached_at+o5>a)return i;let{data:s,error:c}=yield q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,i=s.keys.find(l=>l.kid===t),!i)?null:i})}getClaims(o){return f(this,arguments,function*(t,r={}){try{let i=t;if(!i){let{data:v,error:k}=yield this.getSession();if(k||!v.session)return{data:null,error:k};i=v.session.access_token}let{header:a,payload:s,signature:c,raw:{header:l,payload:d}}=Xu(i);r?.allowExpired||k5(s.exp);let u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){let{error:v}=yield this.getUser(i);if(v)throw v;return{data:{claims:s,header:a,signature:c},error:null}}let p=M5(a.alg),h=yield crypto.subtle.importKey("jwk",u,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,h,c,u5(`${l}.${d}`))))throw new ei("Invalid JWT signature");return{data:{claims:s,header:a,signature:c},error:null}}catch(i){if(H(i))return{data:null,error:i};throw i}})}}return n.nextInstanceID=0,n})(),cf=hS;var pS=cf,lf=pS;var r1=class extends lf{constructor(e){super(e)}};var o1=class{constructor(e,t,r){var o,i,a;this.supabaseUrl=e,this.supabaseKey=t;let s=JM(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);let c=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:ZM,realtime:YM,auth:Object.assign(Object.assign({},KM),{storageKey:c}),global:GM},d=QM(r??{},l);this.storageKey=(o=d.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(u,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=XM(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new AM(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Cc(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new uc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return f(this,null,function*(){var e,t;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:a,flowType:s,lock:c,debug:l},d,u){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new r1({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:i,flowType:s,lock:c,debug:l,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new vc(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var F5=(n,e,t)=>new o1(n,e,t);function fS(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}fS()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var ci={production:!1,enableAuth:!0,supabaseUrl:"https://zrkzkteruybaujoekdan.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpya3prdGVydXliYXVqb2VrZGFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxODAzNTUsImV4cCI6MjA3Nzc1NjM1NX0._UT310p01cnP0oH0OsEdaE06XuzhlzEC1UWJruld_N8"};var Tt=(()=>{let e=class e{constructor(){this.supabase=F5(ci.supabaseUrl,ci.supabaseKey)}getClient(){return this.supabase}signInWithEmail(r){return f(this,null,function*(){return yield this.supabase.auth.signInWithPassword({email:r.email,password:r.password})})}signUpWithEmail(r){return f(this,null,function*(){let o=document.querySelector("base")?.href||window.location.origin;return yield this.supabase.auth.signUp({email:r.email,password:r.password,options:{emailRedirectTo:o,data:{displayName:r.name}}})})}getUser(){return f(this,null,function*(){return yield this.supabase.auth.getUser()})}signOut(){return f(this,null,function*(){yield this.supabase.auth.signOut(),sessionStorage.removeItem("releaseflowUser")})}resetPasswordForEmail(r){return f(this,null,function*(){try{let o=document.querySelector("base")?.href||window.location.origin,{error:i}=yield this.supabase.auth.resetPasswordForEmail(r,{redirectTo:o+"update-password"});if(i)throw i}catch(o){throw new Error(o.message||"Erreur lors de l\u2019envoi du mail de r\xE9initialisation.")}})}exchangeCodeForSession(r){return f(this,null,function*(){if(!r.includes("access_token"))throw new Error("Token manquant");let o=yield this.supabase.auth.exchangeCodeForSession(r);if(o.error)throw new Error(o.error.message);return o})}updatePassword(r){return f(this,null,function*(){let o=yield this.supabase.auth.updateUser({password:r});if(o.error)throw new Error(o.error.message);return o})}getSession(){return f(this,null,function*(){return this.supabase.auth.getSession()})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var so=(()=>{let e=class e{constructor(r){this.supabase=r,this.eventsSubject=new Be([]),this.events$=this.eventsSubject.asObservable(),this.loadEvents()}loadEvents(){return f(this,null,function*(){let{data:r,error:o}=yield this.supabase.getClient().from("events").select("*").order("event_date",{ascending:!0});if(o){console.error("Error loading events:",o);return}this.eventsSubject.next(r||[])})}createEvent(r){return f(this,null,function*(){let{data:o,error:i}=yield this.supabase.getClient().from("events").insert([r]).select().single();return i?(console.error("Error creating event:",i),null):(yield this.loadEvents(),o)})}updateEvent(r,o){return f(this,null,function*(){let{error:i}=yield this.supabase.getClient().from("events").update(G(x({},o),{updated_at:new Date().toISOString()})).eq("id",r);return i?(console.error("Error updating event:",i),!1):(yield this.loadEvents(),!0)})}deleteEvent(r){return f(this,null,function*(){let{error:o}=yield this.supabase.getClient().from("events").delete().eq("id",r);return o?(console.error("Error deleting event:",o),!1):(yield this.loadEvents(),!0)})}getEventsByDateRange(r,o){return this.eventsSubject.value.filter(a=>{let s=new Date(a.event_date);return s>=r&&s<=o})}getEventsByDate(r){return this.eventsSubject.value.filter(o=>o.event_date===r)}};e.\u0275fac=function(o){return new(o||e)(z(Tt))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function yS(n,e){if(n&1){let t=me();y(0,"button",18),I("click",function(){T(t);let o=D();return P(o.openAddEventModal())}),ae(1,"lucide-icon",19),M(2," Ajouter "),g()}}function gS(n,e){n&1&&(y(0,"span",31),M(1,"Pass\xE9"),g())}function mS(n,e){if(n&1){let t=me();y(0,"div",30)(1,"button",32),I("click",function(){T(t);let o=D().$implicit,i=D();return P(i.openEditEventModal(o))}),ae(2,"lucide-icon",33),g(),y(3,"button",34),I("click",function(){T(t);let o=D().$implicit,i=D();return P(i.deleteEvent(o.id))}),ae(4,"lucide-icon",35),g()()}}function vS(n,e){if(n&1&&(y(0,"div",20)(1,"div",21)(2,"div",22),ae(3,"lucide-icon",23),g(),y(4,"div",24)(5,"div",25)(6,"span",26),M(7),g(),ie(8,gS,2,0,"span",27),g(),y(9,"div",28),M(10),g(),y(11,"div",29),M(12),g()()(),Br(13,mS,5,0,"div",30),g()),n&2){let t=e.$implicit,r=D();Pe("past-event",r.isPastEvent(t.event_date)),w(2),Pe("badge-livraison",t.event_type==="livraison")("badge-mep",t.event_type==="mep"),w(),j("name",t.event_type==="livraison"?"package":"rocket"),w(4),J(t.title),w(),j("ngIf",r.isPastEvent(t.event_date)),w(2),ue(" ",r.formatDate(t.event_date)," "),w(2),ue(" ",t.description," "),w(),qr(r.readonly?-1:13)}}function kS(n,e){if(n&1){let t=me();y(0,"button",51),I("click",function(){T(t);let o=D(2);return P(o.confirmDelete())}),M(1,"Supprimer"),g()}}function MS(n,e){if(n&1){let t=me();y(0,"div",36),I("click",function(){T(t);let o=D();return P(o.closeModal())}),y(1,"div",37),I("click",function(o){return T(t),P(o.stopPropagation())}),y(2,"div",38)(3,"h3"),M(4),g(),y(5,"button",39),I("click",function(){T(t);let o=D();return P(o.closeModal())}),M(6,"\xD7"),g()(),y(7,"div",40)(8,"div",41)(9,"label"),M(10,"Type"),g(),y(11,"select",42),le("ngModelChange",function(o){T(t);let i=D();return de(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),P(o)}),I("ngModelChange",function(){T(t);let o=D();return P(o.updateModalTitle())}),y(12,"option",43),M(13,"Livraison (LV)"),g(),y(14,"option",44),M(15,"Mise en Production (MEP)"),g()()(),y(16,"div",41)(17,"label"),M(18,"Version"),g(),y(19,"input",45),le("ngModelChange",function(o){T(t);let i=D();return de(i.modalEvent.version,o)||(i.modalEvent.version=o),P(o)}),I("ngModelChange",function(){T(t);let o=D();return P(o.updateModalTitle())}),g()(),y(20,"div",41)(21,"label"),M(22,"Date"),g(),y(23,"input",46),le("ngModelChange",function(o){T(t);let i=D();return de(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),P(o)}),g()(),y(24,"div",41)(25,"label"),M(26,"Description"),g(),y(27,"textarea",47),le("ngModelChange",function(o){T(t);let i=D();return de(i.modalEvent.description,o)||(i.modalEvent.description=o),P(o)}),g()()(),y(28,"div",48),ie(29,kS,2,0,"button",49),y(30,"button",50),I("click",function(){T(t);let o=D();return P(o.closeModal())}),M(31,"Annuler"),g(),y(32,"button",18),I("click",function(){T(t);let o=D();return P(o.saveEvent())}),M(33),g()()()()}if(n&2){let t=D();w(4),J(t.isEditMode?"Modifier":"Nouvel \xE9v\xE9nement"),w(7),ce("ngModel",t.modalEvent.event_type),w(8),ce("ngModel",t.modalEvent.version),w(4),ce("ngModel",t.modalEvent.event_date),w(4),ce("ngModel",t.modalEvent.description),w(2),j("ngIf",t.isEditMode),w(4),J(t.isEditMode?"Sauvegarder":"Cr\xE9er")}}var a1=(()=>{let e=class e{constructor(r){this.eventService=r,this.events=[],this.filteredEvents=[],this.searchText="",this.showPastEvents=!1,this.showModal=!1,this.isEditMode=!1,this.readonly=!1,this.modalEvent={},this.modalEventId=null}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.filterEvents()})}filterEvents(){let r=this.events;if(!this.showPastEvents){let o=new Date;o.setHours(0,0,0,0),r=r.filter(i=>new Date(i.event_date)>=o)}if(this.searchText){let o=this.searchText.toLowerCase();r=r.filter(i=>i.title.toLowerCase().includes(o)||i.version.toLowerCase().includes(o)||i.description.toLowerCase().includes(o))}this.filteredEvents=r.sort((o,i)=>new Date(o.event_date).getTime()-new Date(i.event_date).getTime())}isPastEvent(r){let o=new Date(r),i=new Date;return i.setHours(0,0,0,0),o<i}openAddEventModal(){this.isEditMode=!1,this.modalEventId=null,this.modalEvent={event_type:"livraison",version:"",event_date:new Date().toISOString().split("T")[0],description:"",title:""},this.showModal=!0}openEditEventModal(r){this.isEditMode=!0,this.modalEventId=r.id,this.modalEvent=x({},r),this.showModal=!0}closeModal(){this.showModal=!1,this.modalEvent={},this.modalEventId=null}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return f(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode&&this.modalEventId?yield this.eventService.updateEvent(this.modalEventId,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}confirmDelete(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&this.deleteEvent(this.modalEventId)}deleteEvent(r){return f(this,null,function*(){yield this.eventService.deleteEvent(r),this.closeModal()})}formatDate(r){return new Date(r).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}};e.\u0275fac=function(o){return new(o||e)(N(so))},e.\u0275cmp=he({type:e,selectors:[["app-event-list"]],inputs:{readonly:"readonly"},decls:22,vars:6,consts:[[1,"event-list-container"],[1,"header"],["name","calendar","size","22"],[1,"btn-primary"],[1,"filters-section"],[1,"search-box"],["name","search","size","18",1,"search-icon"],["type","text","placeholder","Rechercher...","lucide-icon","",3,"ngModelChange","ngModel"],[1,"toggle-row"],[1,"toggle-label"],["name","lucide-history","size","18"],[1,"toggle-material"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"slider"],[1,"events-info"],[1,"badge","coming"],["class","event-card",3,"past-event",4,"ngFor","ngForOf"],["class","modal",3,"click",4,"ngIf"],[1,"btn-primary",3,"click"],["name","plus","size","16"],[1,"event-card"],[1,"left"],[1,"type-badge"],["size","22",3,"name"],[1,"info"],[1,"row-1"],[1,"title"],["class","badge past",4,"ngIf"],[1,"row-2","date"],[1,"row-3","desc"],[1,"actions-cell"],[1,"badge","past"],["title","Modifier",1,"icon-btn","edit-btn",3,"click"],["name","pen-line","size","20"],["title","Supprimer",1,"icon-btn","delete-btn",3,"click"],["name","trash-2","size","20"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","3",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"div",1)(2,"h2"),ae(3,"lucide-icon",2),M(4," \xC9v\xE9nements"),g(),Br(5,yS,3,0,"button",3),g(),y(6,"div",4)(7,"div",5),ae(8,"lucide-icon",6),y(9,"input",7),le("ngModelChange",function(s){return de(i.searchText,s)||(i.searchText=s),s}),I("ngModelChange",function(){return i.filterEvents()}),g()(),y(10,"label",8)(11,"span",9),ae(12,"lucide-icon",10),M(13," \xC9v\xE9nements pass\xE9s"),g(),y(14,"div",11)(15,"input",12),le("ngModelChange",function(s){return de(i.showPastEvents,s)||(i.showPastEvents=s),s}),I("change",function(){return i.filterEvents()}),g(),ae(16,"span",13),g()()(),y(17,"div",14)(18,"span",15),M(19),g()(),ie(20,vS,14,12,"div",16)(21,MS,34,7,"div",17),g()),o&2&&(w(5),qr(i.readonly?-1:5),w(4),ce("ngModel",i.searchText),w(6),ce("ngModel",i.showPastEvents),w(4),ue("",i.filteredEvents.length," \xE9v\xE9nements"),w(),j("ngForOf",i.filteredEvents),w(),j("ngIf",i.showModal))},dependencies:[Ee,Lt,$e,ft,ma,va,Qe,v2,eo,pt,ot,it,yt],styles:['.badge.coming[_ngcontent-%COMP%]{background:#e8f0ff;color:#5083e6}.toggle-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;cursor:pointer}.toggle-row[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:14px;color:#333;-webkit-user-select:none;user-select:none}.toggle-material[_ngcontent-%COMP%]{position:relative;width:46px;height:24px;display:inline-block}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-material[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000208;border-radius:24px;transition:.25s}.toggle-material[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{content:"";position:absolute;width:18px;height:18px;left:3px;bottom:3px;background:#fff;border-radius:50%;transition:.25s;box-shadow:0 2px 4px #00000040}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background:#3d6df2}.toggle-material[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.event-list-container[_ngcontent-%COMP%]{padding:1.5rem;height:100%;display:flex;flex-direction:column;background:#fff;border-right:1px solid #e2e8f0;overflow:hidden}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;gap:.5rem}h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a1a1a;margin:0}.btn-primary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#2563eb;color:#fff;padding:.5rem .75rem;border:none;border-radius:4px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.filters-section[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-direction:column;gap:.75rem}.search-box[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{position:absolute;left:.5rem;color:#6b7280;pointer-events:none}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.4rem .4rem .4rem 2rem;border:1px solid #dee2e6;border-radius:4px;font-size:.8rem}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}.filter-toggle[_ngcontent-%COMP%]{display:flex;align-items:center}.filter-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-size:.8rem;color:#495057;cursor:pointer}.filter-toggle[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{cursor:pointer}.events-info[_ngcontent-%COMP%]{padding:.25rem 0;font-size:.75rem;color:#6b7280;margin-bottom:.5rem}.info-text[_ngcontent-%COMP%]{font-weight:500}.events-table[_ngcontent-%COMP%]{flex:1;overflow-y:auto;border:1px solid #e9ecef;border-radius:4px;margin-bottom:.5rem}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.75rem}thead[_ngcontent-%COMP%]{background:#f8f9fa;position:sticky;top:0;z-index:10}th[_ngcontent-%COMP%]{text-align:left;padding:.5rem;font-weight:600;color:#495057;border-bottom:1px solid #dee2e6}td[_ngcontent-%COMP%]{padding:.5rem;border-bottom:1px solid #e9ecef;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}tr.past-event[_ngcontent-%COMP%]{opacity:.6}.type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.25rem;padding:.2rem .4rem;border-radius:3px;font-size:.65rem;font-weight:600}.badge-livraison[_ngcontent-%COMP%]{background:#dcfce7;color:#15803d}.badge-mep[_ngcontent-%COMP%]{background:#f3e8ff;color:#7e22ce}.title-cell[_ngcontent-%COMP%], .version-cell[_ngcontent-%COMP%]{font-weight:500}.description-cell[_ngcontent-%COMP%]{color:#6b7280}.actions-cell[_ngcontent-%COMP%]{display:flex;gap:.25rem;justify-content:center}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;padding:.25rem;cursor:pointer;transition:all .2s;border-radius:3px;display:flex;align-items:center;justify-content:center;color:#495057}.icon-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9}.edit-btn[_ngcontent-%COMP%]:hover{color:#f59e0b}.delete-btn[_ngcontent-%COMP%]{color:#ef4444}.delete-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#ef4444}.empty-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:150px;color:#6b7280;font-size:.8rem}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:450px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.75rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:28px;height:28px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.25rem}.form-group[_ngcontent-%COMP%]{margin-bottom:.875rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.8rem;font-weight:500;color:#495057;margin-bottom:.375rem}input[type=text][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.4rem;border:1px solid #dee2e6;border-radius:4px;font-size:.8rem;font-family:inherit;box-sizing:border-box}input[type=text][_ngcontent-%COMP%]:focus, input[type=date][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.25rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.4rem .8rem;border:none;border-radius:4px;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}.event-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:14px 18px;border:1px solid #eee;border-radius:10px;margin-bottom:8px;background:#fff;transition:transform .12s ease,box-shadow .12s ease,background-color .12s ease;font-size:18px}.event-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 14px #00000014;background-color:#fafafa;cursor:pointer}.event-card.past-event[_ngcontent-%COMP%]{opacity:.7}.left[_ngcontent-%COMP%]{display:flex;gap:14px;align-items:flex-start}.icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;background:#e9f7ef;display:flex;justify-content:center;align-items:center}.info[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.title[_ngcontent-%COMP%]{font-weight:600}.badge[_ngcontent-%COMP%]{padding:2px 8px;border-radius:8px;font-size:12px}.badge.past[_ngcontent-%COMP%]{background:#efefef;color:#666}.date[_ngcontent-%COMP%]{font-size:15px;color:#666;margin-top:2px}.desc[_ngcontent-%COMP%]{margin-top:6px;font-size:15px;color:#444}body.dark-mode[_nghost-%COMP%]   .event-list-container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-list-container[_ngcontent-%COMP%]{background:#1e293b;border-right-color:#334155}body.dark-mode[_nghost-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#334155;border-color:#475569;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .toggle-row[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .toggle-row[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .event-card[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-card[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}body.dark-mode[_nghost-%COMP%]   .event-card[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .event-card[_ngcontent-%COMP%]:hover{background-color:#334155}body.dark-mode[_nghost-%COMP%]   .title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .date[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#94a3b8}body.dark-mode[_nghost-%COMP%]   .desc[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .desc[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .badge.past[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .badge.past[_ngcontent-%COMP%]{background:#334155;color:#94a3b8}']});let n=e;return n})();function wS(n,e){if(n&1){let t=me();y(0,"div",12),I("click",function(){let o=T(t).$implicit,i=D(2);return P(i.emitOpenEvent(o))}),y(1,"div",13)(2,"div",14),ae(3,"lucide-icon",15),g(),y(4,"div",16)(5,"div",17),M(6),g(),y(7,"div",18),M(8),g(),y(9,"div",19),M(10),g()()(),y(11,"div",20)(12,"button",21),I("click",function(o){let i=T(t).$implicit,a=D(2);return o.stopPropagation(),P(a.emitOpenEvent(i))}),ae(13,"lucide-icon",22),g()()()}if(n&2){let t=e.$implicit;w(2),Pe("badge-livraison",t.event_type==="livraison")("badge-mep",t.event_type==="mep"),w(),j("name",t.event_type==="livraison"?"package":"rocket"),w(3),J(t.title),w(2),xd("",t.event_date," \u2022 ",t.version),w(2),J(t.description)}}function CS(n,e){if(n&1&&(y(0,"div"),ie(1,wS,14,9,"div",11),g()),n&2){let t=D();w(),j("ngForOf",t.events)}}function bS(n,e){n&1&&(y(0,"div",23),M(1,"Aucun \xE9v\xE9nement pour ce jour."),g())}var s1=(()=>{let e=class e{constructor(){this.events=[],this.dateStr=null,this.readonly=!1,this.close=new Ce,this.openEvent=new Ce,this.add=new Ce}onClose(){this.close.emit()}emitOpenEvent(r){this.openEvent.emit(r)}onAdd(){setTimeout(()=>this.add.emit(this.dateStr),0)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=he({type:e,selectors:[["app-day-events-modal"]],inputs:{events:"events",dateStr:"dateStr",readonly:"readonly"},outputs:{close:"close",openEvent:"openEvent",add:"add"},decls:17,vars:3,consts:[["noEvents",""],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[4,"ngIf","ngIfElse"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],["name","plus","size","14"],["class","day-event-row",3,"click",4,"ngFor","ngForOf"],[1,"day-event-row",3,"click"],[1,"left"],[1,"type-badge"],["size","18",3,"name"],[1,"info"],[1,"title"],[1,"meta"],[1,"desc"],[1,"actions"],["title","Modifier",1,"icon-btn",3,"click"],["name","pen-line","size","16"],[1,"empty-state"]],template:function(o,i){if(o&1){let a=me();y(0,"div",1),I("click",function(){return T(a),P(i.onClose())}),y(1,"div",2),I("click",function(c){return T(a),P(c.stopPropagation())}),y(2,"div",3)(3,"h3"),M(4),g(),y(5,"button",4),I("click",function(){return T(a),P(i.onClose())}),M(6,"\xD7"),g()(),y(7,"div",5),ie(8,CS,2,1,"div",6)(9,bS,2,0,"ng-template",null,0,yp),g(),y(11,"div",7)(12,"button",8),I("click",function(){return T(a),P(i.onClose())}),M(13,"Fermer"),g(),y(14,"button",9),I("click",function(){return T(a),P(i.onAdd())}),ae(15,"lucide-icon",10),M(16," Ajouter "),g()()()()}if(o&2){let a=fp(10);w(4),ue("\xC9v\xE9nements du jour - ",i.dateStr),w(4),j("ngIf",i.events&&i.events.length)("ngIfElse",a)}},dependencies:[Ee,Lt,$e,it,yt],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:520px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:1rem;max-height:60vh;overflow:auto}.day-event-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;padding:.75rem;border-bottom:1px solid #f1f5f9;cursor:pointer;align-items:flex-start}.left[_ngcontent-%COMP%]{display:flex;gap:12px}.type-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:8px}.badge-livraison[_ngcontent-%COMP%]{background:#dcfce7;color:#15803d}.badge-mep[_ngcontent-%COMP%]{background:#f3e8ff;color:#7e22ce}.info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600}.info[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280}.info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{margin-top:6px;color:#495057;font-size:.9rem}.actions[_ngcontent-%COMP%]{display:flex;gap:8px}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:6px;border-radius:6px}.empty-state[_ngcontent-%COMP%]{padding:1rem;color:#6b7280}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem;border-top:1px solid #e9ecef}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none;padding:.5rem .75rem;border-radius:6px}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057;border:none;padding:.5rem .75rem;border-radius:6px}"]});let n=e;return n})();function _S(n,e){if(n&1){let t=me();y(0,"div",6),I("click",function(){T(t);let o=D();return P(o.toggleSidebar())}),g()}}var c1=(()=>{let e=class e{constructor(){this.isOpen=!1,this.toggleEvent=new Ce,this.isMobile=window.innerWidth<1024,window.addEventListener("resize",()=>{this.isMobile=window.innerWidth<1024})}toggleSidebar(){this.toggleEvent.emit()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=he({type:e,selectors:[["app-sidebar-panel"]],inputs:{isOpen:"isOpen"},outputs:{toggleEvent:"toggleEvent"},decls:6,vars:5,consts:[[1,"sidebar-wrapper"],["class","sidebar-overlay",3,"click",4,"ngIf"],[1,"sidebar-content"],[3,"readonly"],[1,"sidebar-toggle",3,"click"],["size","20",3,"name"],[1,"sidebar-overlay",3,"click"]],template:function(o,i){o&1&&(y(0,"div",0),ie(1,_S,1,0,"div",1),y(2,"div",2),ae(3,"app-event-list",3),g(),y(4,"button",4),I("click",function(){return i.toggleSidebar()}),ae(5,"lucide-icon",5),g()()),o&2&&(Pe("open",i.isOpen),w(),j("ngIf",i.isOpen&&i.isMobile),w(2),j("readonly",!0),w(2),j("name",i.isOpen?"panel-left-close":"panel-left-open"))},dependencies:[Ee,$e,a1,it,yt],styles:[".sidebar-wrapper[_ngcontent-%COMP%]{position:relative;height:100%;display:flex}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:99}.sidebar-content[_ngcontent-%COMP%]{width:350px;height:100%;background:#fff;border-right:1px solid #e2e8f0;overflow-y:auto;z-index:100;transition:transform .3s ease;transform:translate(0)}.sidebar-wrapper[_ngcontent-%COMP%]:not(.open)   .sidebar-content[_ngcontent-%COMP%]{position:absolute;transform:translate(-100%)}.sidebar-toggle[_ngcontent-%COMP%]{position:fixed;bottom:2rem;left:1rem;width:44px;height:44px;background:#2563eb;color:#fff;border:none;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:101;box-shadow:0 4px 12px #2563eb4d;transition:all .3s}.sidebar-toggle[_ngcontent-%COMP%]:hover{background:#1d4ed8;box-shadow:0 6px 16px #2563eb66}@media (max-width: 1024px){.sidebar-wrapper[_ngcontent-%COMP%]{position:fixed;top:80px;left:0;width:100%;height:calc(100vh - 80px);z-index:50;pointer-events:none}.sidebar-content[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%], .sidebar-toggle[_ngcontent-%COMP%]{pointer-events:auto}.sidebar-content[_ngcontent-%COMP%]{position:absolute}}@media (max-width: 768px){.sidebar-content[_ngcontent-%COMP%]{width:280px}}"]});let n=e;return n})();function xS(n,e){if(n&1&&(y(0,"div",10),M(1),g()),n&2){let t=e.$implicit;w(),J(t)}}function IS(n,e){if(n&1){let t=me();y(0,"div",16),I("click",function(o){let i=T(t).$implicit,a=D().$implicit,s=D();return o.stopPropagation(),P(s.openEventModal(i,a.date))}),ae(1,"lucide-icon",17),M(2),g()}if(n&2){let t=e.$implicit;Pe("event-livraison",t.event_type==="livraison")("event-mep",t.event_type==="mep"),w(),j("name",t.event_type==="livraison"?"package":"rocket"),w(),ue(" ",t.title.substring(0,10)," ")}}function SS(n,e){if(n&1){let t=me();y(0,"div",11),I("click",function(){let o=T(t).$implicit,i=D();return P(i.onDayClick(o))}),y(1,"div",12),M(2),g(),y(3,"div",13),ie(4,IS,3,6,"div",14),y(5,"button",15),I("click",function(o){let i=T(t).$implicit,a=D();return o.stopPropagation(),P(a.openAddEventModal(i.date))}),M(6,"+"),g()()()}if(n&2){let t=e.$implicit;Pe("other-month",!t.isCurrentMonth)("today",t.isToday),w(2),J(t.dayNumber),w(2),j("ngForOf",t.events)}}function DS(n,e){if(n&1){let t=me();y(0,"app-day-events-modal",18),I("close",function(){T(t);let o=D();return P(o.showDayEventsModal=!1)})("openEvent",function(o){T(t);let i=D();return P(i.openEventModal(o,i.selectedDayDateStr))})("add",function(o){T(t);let i=D();return P(i.onDayModalAdd(o))}),g()}if(n&2){let t=D();j("events",t.selectedDayEvents)("dateStr",t.selectedDayDateStr)}}function ES(n,e){if(n&1){let t=me();y(0,"button",35),I("click",function(){T(t);let o=D(2);return P(o.deleteEvent())}),M(1,"Supprimer"),g()}}function LS(n,e){if(n&1){let t=me();y(0,"div",19),I("click",function(){T(t);let o=D();return P(o.closeModal())}),y(1,"div",20),I("click",function(o){return T(t),P(o.stopPropagation())}),y(2,"div",21)(3,"h3"),M(4),g(),y(5,"button",22),I("click",function(){T(t);let o=D();return P(o.closeModal())}),M(6,"\xD7"),g()(),y(7,"div",23)(8,"div",24)(9,"label"),M(10,"Type"),g(),y(11,"select",25),le("ngModelChange",function(o){T(t);let i=D();return de(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),P(o)}),I("ngModelChange",function(){T(t);let o=D();return P(o.updateModalTitle())}),y(12,"option",26),M(13,"Livraison (LV)"),g(),y(14,"option",27),M(15,"Mise en Production (MEP)"),g()()(),y(16,"div",24)(17,"label"),M(18,"Version"),g(),y(19,"input",28),le("ngModelChange",function(o){T(t);let i=D();return de(i.modalEvent.version,o)||(i.modalEvent.version=o),P(o)}),I("ngModelChange",function(){T(t);let o=D();return P(o.updateModalTitle())}),g()(),y(20,"div",24)(21,"label"),M(22,"Date"),g(),y(23,"input",29),le("ngModelChange",function(o){T(t);let i=D();return de(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),P(o)}),g()(),y(24,"div",24)(25,"label"),M(26,"Description"),g(),y(27,"textarea",30),le("ngModelChange",function(o){T(t);let i=D();return de(i.modalEvent.description,o)||(i.modalEvent.description=o),P(o)}),g()()(),y(28,"div",31),ie(29,ES,2,0,"button",32),y(30,"button",33),I("click",function(){T(t);let o=D();return P(o.closeModal())}),M(31,"Annuler"),g(),y(32,"button",34),I("click",function(){T(t);let o=D();return P(o.saveEvent())}),M(33),g()()()()}if(n&2){let t=D();w(4),J(t.isEditMode?"Modifier l'\xE9v\xE9nement":"Nouvel \xE9v\xE9nement"),w(7),ce("ngModel",t.modalEvent.event_type),w(8),ce("ngModel",t.modalEvent.version),w(4),ce("ngModel",t.modalEvent.event_date),w(4),ce("ngModel",t.modalEvent.description),w(2),j("ngIf",t.isEditMode),w(4),J(t.isEditMode?"Sauvegarder":"Cr\xE9er")}}var j5=(()=>{let e=class e{constructor(r){this.eventService=r,this.currentDate=new Date,this.calendarDays=[],this.weekDays=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],this.events=[],this.sidebarOpen=!0,this.showModal=!1,this.isEditMode=!1,this.modalEvent={},this.showDayEventsModal=!1,this.selectedDayEvents=[],this.selectedDayDateStr=null}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.generateCalendar()})}generateCalendar(){let r=this.currentDate.getFullYear(),o=this.currentDate.getMonth(),i=new Date(r,o,1),a=new Date(r,o+1,0),s=i.getDay();s=s===0?6:s-1;let c=new Date(r,o,0).getDate();this.calendarDays=[];for(let d=s-1;d>=0;d--){let u=new Date(r,o-1,c-d);this.calendarDays.push({dayNumber:c-d,date:this.formatDateToString(u),isCurrentMonth:!1,isToday:!1,events:[]})}for(let d=1;d<=a.getDate();d++){let u=new Date(r,o,d),p=this.formatDateToString(u),h=this.eventService.getEventsByDate(p);this.calendarDays.push({dayNumber:d,date:p,isCurrentMonth:!0,isToday:this.isToday(u),events:h})}let l=42-this.calendarDays.length;for(let d=1;d<=l;d++){let u=new Date(r,o+1,d);this.calendarDays.push({dayNumber:d,date:this.formatDateToString(u),isCurrentMonth:!1,isToday:!1,events:[]})}}formatDateToString(r){let o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0");return`${o}-${i}-${a}`}isToday(r){let o=new Date;return r.getDate()===o.getDate()&&r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()}getMonthYear(){return this.currentDate.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}previousMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1),this.generateCalendar()}nextMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1),this.generateCalendar()}openAddEventModal(r){this.isEditMode=!1,this.modalEvent={event_type:"livraison",version:"",event_date:r??"",description:"",title:""},this.showModal=!0}openEventModal(r,o){this.showDayEventsModal=!1,this.isEditMode=!0,this.modalEvent=x({},r),this.showModal=!0}onDayClick(r){r&&r.events&&r.events.length>0?(this.selectedDayEvents=r.events,this.selectedDayDateStr=r.date,this.showDayEventsModal=!0):r&&r.date&&this.openAddEventModal(r.date)}onDayModalAdd(r){this.showDayEventsModal=!1,setTimeout(()=>this.openAddEventModal(r),0)}closeModal(){this.showModal=!1,this.modalEvent={}}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return f(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode?yield this.eventService.updateEvent(this.modalEvent.id,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}deleteEvent(){return f(this,null,function*(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&(yield this.eventService.deleteEvent(this.modalEvent.id),this.closeModal())})}};e.\u0275fac=function(o){return new(o||e)(N(so))},e.\u0275cmp=he({type:e,selectors:[["app-calendar-view"]],decls:15,vars:6,consts:[[1,"calendar-wrapper"],[3,"toggleEvent","isOpen"],[1,"calendar-container"],[1,"calendar-header"],[1,"nav-btn",3,"click"],[1,"calendar-grid"],["class","day-header",4,"ngFor","ngForOf"],["class","calendar-day",3,"other-month","today","click",4,"ngFor","ngForOf"],[3,"events","dateStr","close","openEvent","add",4,"ngIf"],["class","modal",3,"click",4,"ngIf"],[1,"day-header"],[1,"calendar-day",3,"click"],[1,"day-number"],[1,"day-events"],["class","event-item",3,"event-livraison","event-mep","click",4,"ngFor","ngForOf"],[1,"add-event-btn",3,"click"],[1,"event-item",3,"click"],["size","12",3,"name"],[3,"close","openEvent","add","events","dateStr"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","4",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"app-sidebar-panel",1),I("toggleEvent",function(){return i.sidebarOpen=!i.sidebarOpen}),g(),y(2,"div",2)(3,"div",3)(4,"button",4),I("click",function(){return i.previousMonth()}),M(5,"\u2039"),g(),y(6,"h2"),M(7),g(),y(8,"button",4),I("click",function(){return i.nextMonth()}),M(9,"\u203A"),g()(),y(10,"div",5),ie(11,xS,2,1,"div",6)(12,SS,7,6,"div",7),g(),ie(13,DS,1,2,"app-day-events-modal",8)(14,LS,34,7,"div",9),g()()),o&2&&(w(),j("isOpen",i.sidebarOpen),w(6),J(i.getMonthYear()),w(4),j("ngForOf",i.weekDays),w(),j("ngForOf",i.calendarDays),w(),j("ngIf",i.showDayEventsModal),w(),j("ngIf",i.showModal))},dependencies:[Ee,Lt,$e,ft,ma,va,Qe,eo,pt,ot,it,yt,c1,s1],styles:[".calendar-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 80px)}.calendar-container[_ngcontent-%COMP%]{flex:1;padding:2rem;overflow-y:auto}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#1a1a1a;margin:0}.nav-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:6px;width:40px;height:40px;font-size:1.5rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#2563eb}.calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;background:#dee2e6;border:1px solid #dee2e6;border-radius:8px;overflow:hidden}.day-header[_ngcontent-%COMP%]{background:#2563eb;padding:1rem;text-align:center;font-weight:600;font-size:.875rem;color:#fff}.calendar-day[_ngcontent-%COMP%]{background:#fff;min-height:120px;padding:.5rem;position:relative;transition:background-color .2s}.calendar-day[_ngcontent-%COMP%]:hover{background:#f8f9fa}.calendar-day.other-month[_ngcontent-%COMP%]{background:#f8f9fa;opacity:.5}.calendar-day.today[_ngcontent-%COMP%]{background:#eff6ff}.day-number[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:#1a1a1a;margin-bottom:.5rem}.day-events[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.event-item[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:500;cursor:pointer;transition:all .2s;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.event-item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.event-item.event-mep[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.add-event-btn[_ngcontent-%COMP%]{background:transparent;border:1px dashed #dee2e6;border-radius:4px;padding:.25rem;font-size:1rem;color:#6b7280;cursor:pointer;margin-top:.25rem;transition:all .2s}.add-event-btn[_ngcontent-%COMP%]:hover{border-color:#2563eb;color:#2563eb;background:#eff6ff}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:32px;height:32px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#495057;margin-bottom:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;font-family:inherit;box-sizing:border-box}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.5rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}body.dark-mode[_nghost-%COMP%]   .calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover{background:#334155;border-color:#60a5fa;color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .calendar-grid[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-grid[_ngcontent-%COMP%]{background:#334155;border-color:#334155}body.dark-mode[_nghost-%COMP%]   .day-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .day-header[_ngcontent-%COMP%]{background:#1e40af;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%]{background:#1e293b}body.dark-mode[_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .calendar-day[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .calendar-day.other-month[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-day.other-month[_ngcontent-%COMP%]{background:#0f172a;opacity:.7}body.dark-mode[_nghost-%COMP%]   .calendar-day.today[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .calendar-day.today[_ngcontent-%COMP%]{background:#1e3a8a}body.dark-mode[_nghost-%COMP%]   .day-number[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .day-number[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .event-item[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-item[_ngcontent-%COMP%]{background:#1e3a8a;color:#93c5fd}body.dark-mode[_nghost-%COMP%]   .event-item.event-mep[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .event-item.event-mep[_ngcontent-%COMP%]{background:#14532d;color:#86efac}body.dark-mode[_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%]{border-color:#475569;color:#64748b}body.dark-mode[_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .add-event-btn[_ngcontent-%COMP%]:hover{border-color:#60a5fa;color:#60a5fa;background:#1e3a8a}"]});let n=e;return n})();function AS(n,e){if(n&1){let t=me();y(0,"div",21),I("click",function(o){let i=T(t).$implicit,a=D(3);return o.stopPropagation(),P(a.openEventModal(i))}),ae(1,"lucide-icon",22),M(2),g()}if(n&2){let t=e.$implicit;Pe("event-livraison",t.event_type==="livraison")("event-mep",t.event_type==="mep"),w(),j("name",t.event_type==="livraison"?"package":"rocket"),w(),ue(" ",t.title.substring(0,14)," ")}}function TS(n,e){if(n&1){let t=me();y(0,"div",17),I("click",function(){let o=T(t).$implicit,i=D(2);return P(i.onRowClick(o))}),y(1,"div",13),M(2),g(),y(3,"div",14),M(4),g(),y(5,"div",15)(6,"div",18),ie(7,AS,3,6,"div",19),y(8,"button",20),I("click",function(o){let i=T(t).$implicit,a=D(2);return o.stopPropagation(),P(a.openAddEventModal(i.dateStr))}),M(9," + "),g()()()()}if(n&2){let t=e.$implicit;Pe("has-events",t.events.length>0)("today",t.isToday),w(2),J(t.dayNumber),w(2),J(t.dayName),w(3),j("ngForOf",t.events)}}function PS(n,e){if(n&1&&(y(0,"div",9)(1,"h3",10),M(2),g(),y(3,"div",11)(4,"div",12)(5,"div",13),M(6,"Date"),g(),y(7,"div",14),M(8,"Jour"),g(),y(9,"div",15),M(10,"\xC9v\xE9nements"),g()(),ie(11,TS,10,7,"div",16),g()()),n&2){let t=e.$implicit;w(2),J(t.title),w(9),j("ngForOf",t.days)}}function OS(n,e){if(n&1){let t=me();y(0,"app-day-events-modal",23),I("close",function(){T(t);let o=D();return P(o.showDayEventsModal=!1)})("openEvent",function(o){T(t);let i=D();return P(i.openEventModal(o))})("add",function(o){T(t);let i=D();return P(i.onDayModalAdd(o))}),g()}if(n&2){let t=D();j("events",t.selectedDayEvents)("dateStr",t.selectedDayDateStr)}}function RS(n,e){if(n&1){let t=me();y(0,"button",40),I("click",function(){T(t);let o=D(2);return P(o.deleteEvent())}),M(1,"Supprimer"),g()}}function NS(n,e){if(n&1){let t=me();y(0,"div",24),I("click",function(){T(t);let o=D();return P(o.closeModal())}),y(1,"div",25),I("click",function(o){return T(t),P(o.stopPropagation())}),y(2,"div",26)(3,"h3"),M(4),g(),y(5,"button",27),I("click",function(){T(t);let o=D();return P(o.closeModal())}),M(6,"\xD7"),g()(),y(7,"div",28)(8,"div",29)(9,"label"),M(10,"Type"),g(),y(11,"select",30),le("ngModelChange",function(o){T(t);let i=D();return de(i.modalEvent.event_type,o)||(i.modalEvent.event_type=o),P(o)}),I("ngModelChange",function(){T(t);let o=D();return P(o.updateModalTitle())}),y(12,"option",31),M(13,"Livraison (LV)"),g(),y(14,"option",32),M(15,"Mise en Production (MEP)"),g()()(),y(16,"div",29)(17,"label"),M(18,"Version"),g(),y(19,"input",33),le("ngModelChange",function(o){T(t);let i=D();return de(i.modalEvent.version,o)||(i.modalEvent.version=o),P(o)}),I("ngModelChange",function(){T(t);let o=D();return P(o.updateModalTitle())}),g()(),y(20,"div",29)(21,"label"),M(22,"Date"),g(),y(23,"input",34),le("ngModelChange",function(o){T(t);let i=D();return de(i.modalEvent.event_date,o)||(i.modalEvent.event_date=o),P(o)}),g()(),y(24,"div",29)(25,"label"),M(26,"Description"),g(),y(27,"textarea",35),le("ngModelChange",function(o){T(t);let i=D();return de(i.modalEvent.description,o)||(i.modalEvent.description=o),P(o)}),g()()(),y(28,"div",36),ie(29,RS,2,0,"button",37),y(30,"button",38),I("click",function(){T(t);let o=D();return P(o.closeModal())}),M(31,"Annuler"),g(),y(32,"button",39),I("click",function(){T(t);let o=D();return P(o.saveEvent())}),M(33),g()()()()}if(n&2){let t=D();w(4),J(t.isEditMode?"Modifier l'\xE9v\xE9nement":"Nouvel \xE9v\xE9nement"),w(7),ce("ngModel",t.modalEvent.event_type),w(8),ce("ngModel",t.modalEvent.version),w(4),ce("ngModel",t.modalEvent.event_date),w(4),ce("ngModel",t.modalEvent.description),w(2),j("ngIf",t.isEditMode),w(4),J(t.isEditMode?"Sauvegarder":"Cr\xE9er")}}var V5=(()=>{let e=class e{constructor(r){this.eventService=r,this.startDate=new Date,this.monthsData=[],this.events=[],this.sidebarOpen=!0,this.showModal=!1,this.isEditMode=!1,this.modalEvent={},this.dayNames=["D","L","M","M","J","V","S"],this.showDayEventsModal=!1,this.selectedDayEvents=[],this.selectedDayDateStr=null,this.startDate.setDate(1)}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=r,this.generateCompactView()})}generateCompactView(){this.monthsData=[];let r=4;for(let o=0;o<r;o++){let i=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+o,1),a=i.toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),s=new Date(i.getFullYear(),i.getMonth()+1,0).getDate(),c=[];for(let l=1;l<=s;l++){let d=new Date(i.getFullYear(),i.getMonth(),l),u=this.formatDateToString(d),p=this.eventService.getEventsByDate(u);c.push({dayNumber:String(l).padStart(2,"0"),dayName:this.getDayName(d),dateStr:u,isToday:this.isToday(d),events:p})}this.monthsData.push({title:a,days:c})}}formatDateToString(r){let o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0");return`${o}-${i}-${a}`}getDayName(r){let o=r.getDay();return this.dayNames[o]}isToday(r){let o=new Date;return r.getDate()===o.getDate()&&r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()}getPeriodTitle(){let r=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+2,0);return`${this.startDate.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})} - ${r.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}`}previousPeriod(){this.startDate=new Date(this.startDate.getFullYear(),this.startDate.getMonth()-3,1),this.generateCompactView()}nextPeriod(){this.startDate=new Date(this.startDate.getFullYear(),this.startDate.getMonth()+3,1),this.generateCompactView()}openAddEventModal(r){this.isEditMode=!1,this.modalEvent={event_type:"livraison",version:"",event_date:r,description:"",title:""},this.showModal=!0}openEventModal(r){this.showDayEventsModal=!1,this.isEditMode=!0,this.modalEvent=x({},r),this.showModal=!0}onRowClick(r){r&&r.events&&r.events.length>0?(this.selectedDayEvents=r.events,this.selectedDayDateStr=r.dateStr,this.showDayEventsModal=!0):r&&r.dateStr&&this.openAddEventModal(r.dateStr)}onDayModalAdd(r){this.showDayEventsModal=!1,setTimeout(()=>this.openAddEventModal(r??""),0)}closeModal(){this.showModal=!1,this.modalEvent={}}updateModalTitle(){let r=this.modalEvent.event_type==="livraison"?"LV":"MEP";this.modalEvent.title=`${r} ${this.modalEvent.version}`}saveEvent(){return f(this,null,function*(){if(!this.modalEvent.version||!this.modalEvent.event_date){alert("Version et date sont obligatoires");return}this.updateModalTitle(),this.isEditMode?yield this.eventService.updateEvent(this.modalEvent.id,this.modalEvent):yield this.eventService.createEvent(this.modalEvent),this.closeModal()})}deleteEvent(){return f(this,null,function*(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet \xE9v\xE9nement ?")&&(yield this.eventService.deleteEvent(this.modalEvent.id),this.closeModal())})}};e.\u0275fac=function(o){return new(o||e)(N(so))},e.\u0275cmp=he({type:e,selectors:[["app-compact-view"]],decls:14,vars:5,consts:[[1,"compact-wrapper"],[3,"toggleEvent","isOpen"],[1,"compact-container"],[1,"compact-header"],[1,"nav-btn",3,"click"],[1,"months-grid"],["class","month-column",4,"ngFor","ngForOf"],[3,"events","dateStr","close","openEvent","add",4,"ngIf"],["class","modal",3,"click",4,"ngIf"],[1,"month-column"],[1,"month-title"],[1,"compact-table"],[1,"table-header"],[1,"col-date"],[1,"col-day"],[1,"col-events"],["class","table-row",3,"has-events","today","click",4,"ngFor","ngForOf"],[1,"table-row",3,"click"],[1,"events-list"],["class","compact-event",3,"event-livraison","event-mep","click",4,"ngFor","ngForOf"],[1,"add-compact-btn",3,"click"],[1,"compact-event",3,"click"],["size","11",3,"name"],[3,"close","openEvent","add","events","dateStr"],[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","livraison"],["value","mep"],["type","text",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],["rows","4",3,"ngModelChange","ngModel"],[1,"modal-footer"],["class","btn-delete",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"btn-delete",3,"click"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"app-sidebar-panel",1),I("toggleEvent",function(){return i.sidebarOpen=!i.sidebarOpen}),g(),y(2,"div",2)(3,"div",3)(4,"button",4),I("click",function(){return i.previousPeriod()}),M(5,"\u2039"),g(),y(6,"h2"),M(7),g(),y(8,"button",4),I("click",function(){return i.nextPeriod()}),M(9,"\u203A"),g()(),y(10,"div",5),ie(11,PS,12,2,"div",6),g()(),ie(12,OS,1,2,"app-day-events-modal",7)(13,NS,34,7,"div",8),g()),o&2&&(w(),j("isOpen",i.sidebarOpen),w(6),J(i.getPeriodTitle()),w(4),j("ngForOf",i.monthsData),w(),j("ngIf",i.showDayEventsModal),w(),j("ngIf",i.showModal))},dependencies:[Ee,Lt,$e,ft,ma,va,Qe,eo,pt,ot,it,yt,c1,s1],styles:[".compact-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 80px)}.compact-container[_ngcontent-%COMP%]{flex:1;padding:2rem;overflow-y:auto}.compact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#1a1a1a;margin:0}.nav-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:6px;width:40px;height:40px;font-size:1.5rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.nav-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#2563eb}.months-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1.5rem}.month-column[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 1px 3px #0000001a}.month-title[_ngcontent-%COMP%]{background:#2563eb;margin:0;padding:1rem;font-size:1.125rem;font-weight:600;color:#fff;text-align:center;border-bottom:2px solid #dee2e6}.compact-table[_ngcontent-%COMP%]{font-size:.8rem}.table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:50px 50px 1fr;background:#f8f9fa;font-weight:600;color:#495057;border-bottom:1px solid #dee2e6;position:sticky;top:0;z-index:10}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:.75rem .5rem;border-right:1px solid #e9ecef}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-right:none}.table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:50px 50px 1fr;border-bottom:1px solid #e9ecef;transition:background-color .2s;min-height:36px}.table-row[_ngcontent-%COMP%]:hover{background:#f8f9fa}.table-row.today[_ngcontent-%COMP%]{background:#eff6ff}.table-row.has-events[_ngcontent-%COMP%]{background:#fefce8}.table-row.has-events[_ngcontent-%COMP%]:hover{background:#fef9c3}.col-date[_ngcontent-%COMP%], .col-day[_ngcontent-%COMP%]{padding:.5rem;border-right:1px solid #e9ecef;display:flex;align-items:center;justify-content:center;font-weight:500}.col-events[_ngcontent-%COMP%]{padding:.5rem;display:flex;align-items:center}.events-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem;width:100%}.compact-event[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;padding:.125rem .375rem;border-radius:3px;font-size:.7rem;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.compact-event[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.compact-event.event-mep[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.add-compact-btn[_ngcontent-%COMP%]{background:transparent;border:1px dashed #dee2e6;border-radius:3px;padding:.125rem .375rem;font-size:.7rem;color:#6b7280;cursor:pointer;transition:all .2s}.add-compact-btn[_ngcontent-%COMP%]:hover{border-color:#2563eb;color:#2563eb;background:#eff6ff}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 20px 25px -5px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1a1a1a}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:#6b7280;cursor:pointer;line-height:1;padding:0;width:32px;height:32px}.close-btn[_ngcontent-%COMP%]:hover{color:#1a1a1a}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#495057;margin-bottom:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;font-family:inherit;box-sizing:border-box}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}textarea[_ngcontent-%COMP%]{resize:vertical}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.5rem;border-top:1px solid #e9ecef;gap:.5rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;margin-right:auto}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}body.dark-mode[_nghost-%COMP%]   .compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .compact-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .nav-btn[_ngcontent-%COMP%]:hover{background:#334155;border-color:#60a5fa;color:#60a5fa}body.dark-mode[_nghost-%COMP%]   .month-column[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .month-column[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 1px 3px #0000004d}body.dark-mode[_nghost-%COMP%]   .month-title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .month-title[_ngcontent-%COMP%]{background:#1e40af;border-bottom-color:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .table-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-header[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1;border-bottom-color:#475569}body.dark-mode[_nghost-%COMP%]   .table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-right-color:#475569}body.dark-mode[_nghost-%COMP%]   .table-row[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]{border-bottom-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background:#334155}body.dark-mode[_nghost-%COMP%]   .table-row.today[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row.today[_ngcontent-%COMP%]{background:#1e3a8a}body.dark-mode[_nghost-%COMP%]   .table-row.has-events[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .table-row.has-events[_ngcontent-%COMP%]{background:#3f3f46}body.dark-mode[_nghost-%COMP%]   .table-row.has-events[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .table-row.has-events[_ngcontent-%COMP%]:hover{background:#52525b}body.dark-mode[_nghost-%COMP%]   .col-date[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .col-date[_ngcontent-%COMP%], body.dark-mode[_nghost-%COMP%]   .col-day[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .col-day[_ngcontent-%COMP%]{border-right-color:#334155}body.dark-mode[_nghost-%COMP%]   .compact-event[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .compact-event[_ngcontent-%COMP%]{background:#1e3a8a;color:#93c5fd}body.dark-mode[_nghost-%COMP%]   .compact-event.event-mep[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .compact-event.event-mep[_ngcontent-%COMP%]{background:#14532d;color:#86efac}body.dark-mode[_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%]{border-color:#475569;color:#64748b}body.dark-mode[_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .add-compact-btn[_ngcontent-%COMP%]:hover{border-color:#60a5fa;color:#60a5fa;background:#1e3a8a}@media (max-width: 1200px){.months-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let n=e;return n})();function FS(n,e){if(n&1&&(y(0,"div",16)(1,"div",17)(2,"span",18),ae(3,"lucide-icon",19),g(),y(4,"span",20),M(5),g(),y(6,"span",21),M(7),g()(),y(8,"div",22)(9,"p"),M(10),g()()()),n&2){let t=e.$implicit;Pe("is-livraison",t.event_type==="livraison")("is-mep",t.event_type==="mep"),w(3),j("name",t.event_type==="livraison"?"package":"rocket"),w(2),J(t.title),w(2),J(t.version),w(3),J(t.description)}}function jS(n,e){if(n&1&&(y(0,"div",10)(1,"div",11)(2,"div",12),M(3),g(),y(4,"div",13),ie(5,FS,11,8,"div",14),g()(),ae(6,"div",15),g()),n&2){let t=e.$implicit,r=e.index,o=D();Pe("left",!o.isHorizontal&&r%2===0)("right",!o.isHorizontal&&r%2!==0),w(3),J(o.formatDate(t.date)),w(2),j("ngForOf",t.events)}}function VS(n,e){n&1&&(y(0,"div",23)(1,"p"),M(2,"Aucun \xE9v\xE9nement \xE0 afficher"),g()())}var H5=(()=>{let e=class e{constructor(r){this.eventService=r,this.events=[],this.groupedEvents=[],this.isHorizontal=!1}toggleMode(){this.isHorizontal=!this.isHorizontal}ngOnInit(){this.eventService.events$.subscribe(r=>{this.events=[...r].sort((o,i)=>new Date(o.event_date).getTime()-new Date(i.event_date).getTime()),this.groupEvents()})}groupEvents(){this.groupedEvents=[];for(let r of this.events){let o=new Date(r.event_date).toDateString(),i=this.groupedEvents[this.groupedEvents.length-1];i&&new Date(i.date).toDateString()===o?i.events.push(r):this.groupedEvents.push({date:r.event_date,events:[r]})}}formatDate(r){return new Date(r).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}};e.\u0275fac=function(o){return new(o||e)(N(so))},e.\u0275cmp=he({type:e,selectors:[["app-timeline-view"]],decls:14,vars:7,consts:[[1,"timeline-container"],[1,"header"],["name","git-commit","size","22"],[1,"toggle-btn",3,"click","title"],["size","20",3,"name"],[1,"timeline-wrapper"],[1,"timeline"],[1,"timeline-line"],["class","timeline-item",3,"left","right",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"timeline-item"],[1,"content"],[1,"date-badge"],[1,"events-group"],["class","card",3,"is-livraison","is-mep",4,"ngFor","ngForOf"],[1,"dot"],[1,"card"],[1,"card-header"],[1,"type-icon"],["size","18",3,"name"],[1,"title"],[1,"version"],[1,"card-body"],[1,"empty-state"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"div",1)(2,"h2"),ae(3,"lucide-icon",2),M(4," Timeline"),g(),y(5,"button",3),I("click",function(){return i.toggleMode()}),ae(6,"lucide-icon",4),y(7,"span"),M(8),g()()(),y(9,"div",5)(10,"div",6),ae(11,"div",7),ie(12,jS,7,6,"div",8)(13,VS,3,0,"div",9),g()()()),o&2&&(w(5),j("title",i.isHorizontal?"Passer en vue verticale":"Passer en vue horizontale"),w(),j("name",i.isHorizontal?"align-justify":"columns"),w(2),J(i.isHorizontal?"Vue Verticale":"Vue Horizontale"),w(),Pe("horizontal",i.isHorizontal),w(3),j("ngForOf",i.groupedEvents),w(),j("ngIf",i.events.length===0))},dependencies:[Ee,Lt,$e,it,yt],styles:['.timeline-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden;background:#f8fafc}.timeline-container[_ngcontent-%COMP%]:has(.timeline-wrapper.horizontal){overflow-y:auto}.header[_ngcontent-%COMP%]{padding:2rem;margin-bottom:0;display:flex;justify-content:space-between;align-items:center;flex-shrink:0}.toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#fff;border:1px solid #e2e8f0;border-radius:8px;cursor:pointer;font-weight:500;color:#64748b;transition:all .2s;box-shadow:0 1px 2px #0000000d}.toggle-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#334155}.timeline-wrapper[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;padding:2rem;position:relative}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar{height:12px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:6px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#cbd5e1;border-radius:6px;border:3px solid #f1f5f9}.timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#94a3b8}.timeline-wrapper.horizontal[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;display:flex;align-items:center;padding:2rem;height:auto;min-height:100%}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;align-items:center;height:auto;min-height:600px;min-width:100%;max-width:none;padding:4rem;margin:0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-line[_ngcontent-%COMP%]{width:100%;height:4px;top:40px;left:0;transform:none;background:linear-gradient(to right,#e2e8f0,#cbd5e1,#e2e8f0)}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:320px;flex-shrink:0;margin:0 1.5rem;height:auto;min-height:200px;position:relative;display:flex;left:auto;right:auto;padding:80px 0 0;text-align:left;overflow:visible;flex-direction:column;justify-content:flex-start;align-self:stretch}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;max-height:none;overflow-y:visible;padding-right:0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#cbd5e1;border-radius:4px}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{left:auto;right:auto;text-align:left;padding-left:0;padding-right:0}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{position:absolute;inset:30px auto auto 50%;transform:translate(-50%);margin:0;flex-shrink:0;z-index:20}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:50%;transform:translate(-50%);width:2px;background:#e2e8f0;z-index:1;top:40px;height:40px;bottom:auto}.timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:row}h2[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;font-size:1.8rem;color:#1e293b;margin:0;background:#fff;padding:.5rem 1.5rem;border-radius:50px;box-shadow:0 4px 6px -1px #0000001a}.timeline[_ngcontent-%COMP%]{position:relative;max-width:1000px;margin:0 auto;padding:2rem 0}.timeline-line[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);width:4px;height:100%;background:linear-gradient(to bottom,#e2e8f0,#cbd5e1,#e2e8f0);border-radius:2px}.timeline-item[_ngcontent-%COMP%]{position:relative;margin-bottom:3rem;width:50%}.timeline-item.left[_ngcontent-%COMP%]{left:0;padding-right:3rem;text-align:right}.timeline-item.right[_ngcontent-%COMP%]{left:50%;padding-left:3rem;text-align:left}.timeline-item[_ngcontent-%COMP%]:after{content:"";position:absolute;top:30px;height:2px;width:3rem;background:#e2e8f0;z-index:1}.timeline-item.left[_ngcontent-%COMP%]:after{right:0}.timeline-item.right[_ngcontent-%COMP%]:after{left:0}.dot[_ngcontent-%COMP%]{position:absolute;top:20px;width:20px;height:20px;background:#fff;border:4px solid #3b82f6;border-radius:50%;z-index:10;box-shadow:0 0 0 4px #3b82f633;transition:all .3s ease}.timeline-item.left[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{right:-10px}.timeline-item.right[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{left:-10px}.timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%]{transform:scale(1.2);background:#3b82f6;box-shadow:0 0 0 6px #3b82f64d}.content[_ngcontent-%COMP%]{position:relative;transition:transform .3s ease}.timeline-item[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]{transform:translateY(-5px)}.date-badge[_ngcontent-%COMP%]{display:inline-block;background:#475569;color:#fff;padding:.25rem .75rem;border-radius:20px;font-size:.85rem;font-weight:600;margin-bottom:.5rem;box-shadow:0 2px 4px #0000001a}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border-left:5px solid transparent;position:relative;overflow:hidden}.card[_ngcontent-%COMP%] + .card[_ngcontent-%COMP%]{margin-top:1rem}.card.is-livraison[_ngcontent-%COMP%]{border-left-color:#10b981}.card.is-mep[_ngcontent-%COMP%]{border-left-color:#8b5cf6}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem;border-bottom:1px solid #f1f5f9;padding-bottom:.75rem}.timeline-item.left[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:row-reverse}.type-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:8px}.is-livraison[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.is-mep[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{background:#ede9fe;color:#7c3aed}.title[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:#1e293b}.version[_ngcontent-%COMP%]{background:#f1f5f9;padding:.1rem .5rem;border-radius:4px;font-size:.8rem;font-family:monospace;color:#64748b}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b;line-height:1.5;font-size:.95rem}.empty-state[_ngcontent-%COMP%]{text-align:center;color:#94a3b8;padding:2rem}@media (max-width: 768px){.timeline-line[_ngcontent-%COMP%]{left:30px}.timeline-item[_ngcontent-%COMP%]{width:100%;padding-left:70px;padding-right:0;text-align:left}.timeline-item.left[_ngcontent-%COMP%], .timeline-item.right[_ngcontent-%COMP%]{left:0;text-align:left;padding-right:0;padding-left:70px}.timeline-item.left[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%], .timeline-item.right[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{left:20px;right:auto}.timeline-item.left[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:row}.timeline-item[_ngcontent-%COMP%]:after{width:40px;left:30px;right:auto}}body.dark-mode[_nghost-%COMP%]   .timeline-container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-container[_ngcontent-%COMP%]{background:#0f172a}body.dark-mode[_nghost-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{background:#1e293b;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .timeline-line[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-line[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#334155,#475569,#334155)}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-line[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-line[_ngcontent-%COMP%]{background:linear-gradient(to right,#334155,#475569,#334155)}body.dark-mode[_nghost-%COMP%]   .date-badge[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .date-badge[_ngcontent-%COMP%]{background:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .card[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 4px 6px -1px #0000004d,0 2px 4px -1px #0000001a}body.dark-mode[_nghost-%COMP%]   .title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .version[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .version[_ngcontent-%COMP%]{background:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:after, body.dark-mode   [_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:after{background:#334155}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:before{background:#334155}body.dark-mode[_nghost-%COMP%]   .dot[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .dot[_ngcontent-%COMP%]{background:#1e293b;border-color:#60a5fa;box-shadow:0 0 0 4px #60a5fa33}body.dark-mode[_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .timeline-item[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%]{background:#60a5fa;box-shadow:0 0 0 6px #60a5fa4d}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e293b}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#475569;border-color:#1e293b}body.dark-mode[_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, body.dark-mode   [_nghost-%COMP%]   .timeline-wrapper.horizontal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#64748b}']});let n=e;return n})();var z5=(()=>{let e=class e{constructor(){this.email=nt(""),this.password=nt(""),this.supabaseService=b(Tt),this.router=b(Ae)}signInWithEmail(){return f(this,null,function*(){let{error:r}=yield this.supabaseService.signInWithEmail({email:this.email(),password:this.password()});r?alert("Error signing in: "+r.message):this.router.navigate(["/compact"])})}navigateToSignup(){this.router.navigate(["/signup"])}navigateToForgot(){this.router.navigate(["/forgot-password"])}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=he({type:e,selectors:[["app-login"]],decls:16,vars:2,consts:[[1,"container"],[3,"ngSubmit"],["type","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Password","required","",3,"ngModelChange","ngModel"],["type","submit"],[3,"click"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"h2"),M(2,"Login"),g(),y(3,"form",1),I("ngSubmit",function(){return i.signInWithEmail()}),y(4,"input",2),le("ngModelChange",function(s){return de(i.email,s)||(i.email=s),s}),g(),y(5,"input",3),le("ngModelChange",function(s){return de(i.password,s)||(i.password=s),s}),g(),y(6,"button",4),M(7,"Sign In"),g()(),y(8,"p"),M(9,"Don't have an account? "),y(10,"a",5),I("click",function(){return i.navigateToSignup()}),M(11,"Sign Up"),g()(),y(12,"p"),M(13,"Forgot your password ? "),y(14,"a",5),I("click",function(){return i.navigateToForgot()}),M(15,"Send me a link"),g()()()),o&2&&(w(4),ce("ngModel",i.email),w(),ce("ngModel",i.password))},dependencies:[ft,Jr,Qe,pt,Qr,ur,ot,dr],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}"]});let n=e;return n})();function HS(n,e){if(n&1&&(y(0,"div",9),M(1),g()),n&2){let t=D();w(),ue(" ",t.error," ")}}function zS(n,e){if(n&1&&(y(0,"div",10),M(1),g()),n&2){let t=D();w(),ue(" ",t.message," ")}}var B5=(()=>{let e=class e{constructor(){this.name="",this.email="",this.password="",this.confirmPassword="",this.message="",this.error="",this.supabaseService=b(Tt),this.router=b(Ae)}signUp(){return f(this,null,function*(){if(this.error="",this.message="",this.password.length<6){this.error="Le mot de passe doit contenir au moins 6 caract\xE8res.";return}if(this.password!==this.confirmPassword){this.error="Les mots de passe ne correspondent pas.";return}let{error:r}=yield this.supabaseService.signUpWithEmail({name:this.name,email:this.email,password:this.password});r?alert("Error signing up: "+r.message):(alert("Check your email to confirm your account!"),this.router.navigate(["/login"]))})}navigateToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=he({type:e,selectors:[["app-signup"]],decls:16,vars:6,consts:[[1,"container"],["type","text","name","name","placeholder","Full Name","required","",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","minlength","6","placeholder","Mot de passe (Minimum 6 caract\xE8res)","required","",3,"ngModelChange","ngModel"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirmez votre mot de passe","minlength","6","required","",3,"ngModelChange","ngModel"],["type","button",3,"click"],["class","message error",4,"ngIf"],["class","message success",4,"ngIf"],[3,"click"],[1,"message","error"],[1,"message","success"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"h2"),M(2,"Sign Up"),g(),y(3,"form")(4,"input",1),le("ngModelChange",function(s){return de(i.name,s)||(i.name=s),s}),g(),y(5,"input",2),le("ngModelChange",function(s){return de(i.email,s)||(i.email=s),s}),g(),y(6,"input",3),le("ngModelChange",function(s){return de(i.password,s)||(i.password=s),s}),g(),y(7,"input",4),le("ngModelChange",function(s){return de(i.confirmPassword,s)||(i.confirmPassword=s),s}),g(),y(8,"button",5),I("click",function(){return i.signUp()}),M(9,"Sign Up"),g()(),ie(10,HS,2,1,"div",6)(11,zS,2,1,"div",7),y(12,"p"),M(13,"Already have an account? "),y(14,"a",8),I("click",function(){return i.navigateToLogin()}),M(15,"Log In"),g()()()),o&2&&(w(4),ce("ngModel",i.name),w(),ce("ngModel",i.email),w(),ce("ngModel",i.password),w(),ce("ngModel",i.confirmPassword),w(3),j("ngIf",i.error),w(),j("ngIf",i.message))},dependencies:[ft,Jr,Qe,pt,Qr,ur,oc,ot,dr,Ee,$e],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.container[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.container[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:hover{background-color:#2980b9}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}.message[_ngcontent-%COMP%]{margin-top:20px;padding:12px;border-radius:5px;text-align:center;font-size:14px}.message.error[_ngcontent-%COMP%]{background-color:#fee;color:#c33;border:1px solid #fcc}.message.success[_ngcontent-%COMP%]{background-color:#efe;color:#3c3;border:1px solid #cfc}"]});let n=e;return n})();var q5=(n,e)=>f(null,null,function*(){if(!ci.enableAuth)return!0;let t=b(Tt),r=b(Ae),{data:o}=yield t.getUser();return o.user?!0:(r.navigate(["/login"],{queryParams:{returnUrl:e.url}}),!1)});var U5=(()=>{let e=class e{constructor(){this.darkMode=nt(!1);let r=localStorage.getItem("theme");if(r==="dark")this.darkMode.set(!0);else if(r==="light")this.darkMode.set(!1);else{let o=window.matchMedia("(prefers-color-scheme: dark)").matches;this.darkMode.set(o)}vp(()=>{this.darkMode()?(document.body.classList.add("dark-mode"),localStorage.setItem("theme","dark")):(document.body.classList.remove("dark-mode"),localStorage.setItem("theme","light"))})}toggleTheme(){this.darkMode.update(r=>!r)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function BS(n){return n instanceof Element}function Na(n){return n instanceof HTMLElement}function co(n){return typeof n=="function"}function Lc(n){return typeof n=="string"}function vt(n){return n===void 0}var Ac=class{on(e,t,r,o=!1){var i;return vt(this.bindings)&&(this.bindings={}),vt(this.bindings[e])&&(this.bindings[e]=[]),(i=this.bindings[e])==null||i.push({handler:t,ctx:r,once:o}),this}once(e,t,r){return this.on(e,t,r,!0)}off(e,t){if(vt(this.bindings)||vt(this.bindings[e]))return this;if(vt(t))delete this.bindings[e];else{var r;(r=this.bindings[e])==null||r.forEach((o,i)=>{if(o.handler===t){var a;(a=this.bindings[e])==null||a.splice(i,1)}})}return this}trigger(e,...t){if(!vt(this.bindings)&&this.bindings[e]){var r;(r=this.bindings[e])==null||r.forEach((o,i)=>{let{ctx:a,handler:s,once:c}=o,l=a||this;if(s.apply(l,t),c){var d;(d=this.bindings[e])==null||d.splice(i,1)}})}return this}};function Pt(){return Pt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pt.apply(null,arguments)}function Af(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}var uo={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};uo.defaultMerge;function qS(n,e){return e}function US(n,e){return n.filter(t=>t!==void 0)}function $5(n){return typeof n!="object"||n===null?0:Array.isArray(n)?2:GS(n)?1:n instanceof Set?3:n instanceof Map?4:5}function $S(n){let e=new Set;for(let t of n)for(let r of[...Object.keys(t),...Object.getOwnPropertySymbols(t)])e.add(r);return e}function WS(n,e){return typeof n=="object"&&Object.prototype.propertyIsEnumerable.call(n,e)}function f3(n){return{*[Symbol.iterator](){for(let e of n)for(let t of e)yield t}}}var W5=new Set(["[object Object]","[object Module]"]);function GS(n){if(!W5.has(Object.prototype.toString.call(n)))return!1;let{constructor:e}=n;if(e===void 0)return!0;let t=e.prototype;return!(t===null||typeof t!="object"||!W5.has(Object.prototype.toString.call(t))||!t.hasOwnProperty("isPrototypeOf"))}function ZS(n,e,t){let r={};for(let o of $S(n)){let i=[];for(let c of n)WS(c,o)&&i.push(c[o]);if(i.length===0)continue;let a=e.metaDataUpdater(t,{key:o,parents:n}),s=y3(i,e,a);s!==uo.skip&&(o==="__proto__"?Object.defineProperty(r,o,{value:s,configurable:!0,enumerable:!0,writable:!0}):r[o]=s)}return r}function KS(n){return n.flat()}function YS(n){return new Set(f3(n))}function XS(n){return new Map(f3(n))}function QS(n){return n.at(-1)}var l1={mergeRecords:ZS,mergeArrays:KS,mergeSets:YS,mergeMaps:XS,mergeOthers:QS};function Tf(...n){return JS({})(...n)}function JS(n,e){let t=e9(n,r);function r(...o){return y3(o,t,e)}return r}function e9(n,e){var t,r,o;return{defaultMergeFunctions:l1,mergeFunctions:Pt({},l1,Object.fromEntries(Object.entries(n).filter(([i,a])=>Object.hasOwn(l1,i)).map(([i,a])=>a===!1?[i,l1.mergeOthers]:[i,a]))),metaDataUpdater:(t=n.metaDataUpdater)!=null?t:qS,deepmerge:e,useImplicitDefaultMerging:(r=n.enableImplicitDefaultMerging)!=null?r:!1,filterValues:n.filterValues===!1?void 0:(o=n.filterValues)!=null?o:US,actions:uo}}function y3(n,e,t){var r;let o=(r=e.filterValues==null?void 0:e.filterValues(n,t))!=null?r:n;if(o.length===0)return;if(o.length===1)return uf(o,e,t);let i=$5(o[0]);if(i!==0&&i!==5){for(let a=1;a<o.length;a++)if($5(o[a])!==i)return uf(o,e,t)}switch(i){case 1:return t9(o,e,t);case 2:return n9(o,e,t);case 3:return r9(o,e,t);case 4:return o9(o,e,t);default:return uf(o,e,t)}}function t9(n,e,t){let r=e.mergeFunctions.mergeRecords(n,e,t);return r===uo.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeRecords!==e.defaultMergeFunctions.mergeRecords?e.defaultMergeFunctions.mergeRecords(n,e,t):r}function n9(n,e,t){let r=e.mergeFunctions.mergeArrays(n,e,t);return r===uo.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeArrays!==e.defaultMergeFunctions.mergeArrays?e.defaultMergeFunctions.mergeArrays(n):r}function r9(n,e,t){let r=e.mergeFunctions.mergeSets(n,e,t);return r===uo.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeSets!==e.defaultMergeFunctions.mergeSets?e.defaultMergeFunctions.mergeSets(n):r}function o9(n,e,t){let r=e.mergeFunctions.mergeMaps(n,e,t);return r===uo.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeMaps!==e.defaultMergeFunctions.mergeMaps?e.defaultMergeFunctions.mergeMaps(n):r}function uf(n,e,t){let r=e.mergeFunctions.mergeOthers(n,e,t);return r===uo.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeOthers!==e.defaultMergeFunctions.mergeOthers?e.defaultMergeFunctions.mergeOthers(n):r}function Pf(n){let e=Object.getOwnPropertyNames(n.constructor.prototype);for(let t=0;t<e.length;t++){let r=e[t],o=n[r];r!=="constructor"&&typeof o=="function"&&(n[r]=o.bind(n))}return n}function i9(n,e){return t=>{if(n.isOpen()){let r=n.el&&t.currentTarget===n.el;(!vt(e)&&t.currentTarget.matches(e)||r)&&n.tour.next()}}}function a9(n){let{event:e,selector:t}=n.options.advanceOn||{};if(e){let r=i9(n,t),o=null;if(!vt(t)&&(o=document.querySelector(t),!o))return console.error(`No element was found for the selector supplied to advanceOn: ${t}`);o?(o.addEventListener(e,r),n.on("destroy",()=>o.removeEventListener(e,r))):(document.body.addEventListener(e,r,!0),n.on("destroy",()=>document.body.removeEventListener(e,r,!0)))}else return console.error("advanceOn was defined, but no event name was passed.")}var ff=class{constructor(e){}},yf=class{constructor(e,t){}};function g3(n){return!Lc(n)||n===""?"":n.charAt(n.length-1)!=="-"?`${n}-`:n}function s9(n){let e=n.options.attachTo||{},t=Object.assign({},e);if(co(t.element)&&(t.element=t.element.call(n)),Lc(t.element)){try{t.element=document.querySelector(t.element)}catch{}t.element||console.error(`The element for this Shepherd step was not found ${e.element}`)}return t}function c9(n){return n.options.extraHighlights?n.options.extraHighlights.flatMap(e=>Array.from(document.querySelectorAll(e))):[]}function m3(n){return n==null?!0:!n.element||!n.on}function v3(){let n=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(e=="x"?t:t&3|8).toString(16)})}var l9=["top","right","bottom","left"],G5=["start","end"],Z5=l9.reduce((n,e)=>n.concat(e,e+"-"+G5[0],e+"-"+G5[1]),[]),Fa=Math.min,di=Math.max,h1=Math.round,d1=Math.floor,Un=n=>({x:n,y:n}),d9={left:"right",right:"left",bottom:"top",top:"bottom"},u9={start:"end",end:"start"};function gf(n,e,t){return di(n,Fa(e,t))}function fi(n,e){return typeof n=="function"?n(e):n}function mr(n){return n.split("-")[0]}function gr(n){return n.split("-")[1]}function Of(n){return n==="x"?"y":"x"}function Rf(n){return n==="y"?"height":"width"}function ui(n){return["top","bottom"].includes(mr(n))?"y":"x"}function Nf(n){return Of(ui(n))}function k3(n,e,t){t===void 0&&(t=!1);let r=gr(n),o=Nf(n),i=Rf(o),a=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=f1(a)),[a,f1(a)]}function h9(n){let e=f1(n);return[p1(n),e,p1(e)]}function p1(n){return n.replace(/start|end/g,e=>u9[e])}function p9(n,e,t){let r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?o:r:e?r:o;case"left":case"right":return e?i:a;default:return[]}}function f9(n,e,t,r){let o=gr(n),i=p9(mr(n),t==="start",r);return o&&(i=i.map(a=>a+"-"+o),e&&(i=i.concat(i.map(p1)))),i}function f1(n){return n.replace(/left|right|bottom|top/g,e=>d9[e])}function y9(n){return Pt({top:0,right:0,bottom:0,left:0},n)}function M3(n){return typeof n!="number"?y9(n):{top:n,right:n,bottom:n,left:n}}function y1(n){let{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}var g9=["crossAxis","alignment","allowedPlacements","autoAlignment"],m9=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],v9=["mainAxis","crossAxis","limiter"];function K5(n,e,t){let{reference:r,floating:o}=n,i=ui(e),a=Nf(e),s=Rf(a),c=mr(e),l=i==="y",d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,p=r[s]/2-o[s]/2,h;switch(c){case"top":h={x:d,y:r.y-o.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-o.width,y:u};break;default:h={x:r.x,y:r.y}}switch(gr(e)){case"start":h[a]-=p*(t&&l?-1:1);break;case"end":h[a]+=p*(t&&l?-1:1);break}return h}var k9=(n,e,t)=>f(null,null,function*(){let{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=t,s=i.filter(Boolean),c=yield a.isRTL==null?void 0:a.isRTL(e),l=yield a.getElementRects({reference:n,floating:e,strategy:o}),{x:d,y:u}=K5(l,r,c),p=r,h={},m=0;for(let v=0;v<s.length;v++){let{name:k,fn:C}=s[v],{x:R,y:S,data:_,reset:A}=yield C({x:d,y:u,initialPlacement:r,placement:p,strategy:o,middlewareData:h,rects:l,platform:a,elements:{reference:n,floating:e}});d=R??d,u=S??u,h=Pt({},h,{[k]:Pt({},h[k],_)}),A&&m<=50&&(m++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(l=A.rects===!0?yield a.getElementRects({reference:n,floating:e,strategy:o}):A.rects),{x:d,y:u}=K5(l,p,c)),v=-1)}return{x:d,y:u,placement:p,strategy:o,middlewareData:h}});function Ff(n,e){return f(this,null,function*(){var t;e===void 0&&(e={});let{x:r,y:o,platform:i,rects:a,elements:s,strategy:c}=n,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:p=!1,padding:h=0}=fi(e,n),m=M3(h),k=s[p?u==="floating"?"reference":"floating":u],C=y1(yield i.getClippingRect({element:(t=yield i.isElement==null?void 0:i.isElement(k))==null||t?k:k.contextElement||(yield i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:l,rootBoundary:d,strategy:c})),R=u==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,S=yield i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating),_=(yield i.isElement==null?void 0:i.isElement(S))?(yield i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},A=y1(i.convertOffsetParentRelativeRectToViewportRelativeRect?yield i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:R,offsetParent:S,strategy:c}):R);return{top:(C.top-A.top+m.top)/_.y,bottom:(A.bottom-C.bottom+m.bottom)/_.y,left:(C.left-A.left+m.left)/_.x,right:(A.right-C.right+m.right)/_.x}})}var M9=n=>({name:"arrow",options:n,fn(t){return f(this,null,function*(){let{x:r,y:o,placement:i,rects:a,platform:s,elements:c,middlewareData:l}=t,{element:d,padding:u=0}=fi(n,t)||{};if(d==null)return{};let p=M3(u),h={x:r,y:o},m=Nf(i),v=Rf(m),k=yield s.getDimensions(d),C=m==="y",R=C?"top":"left",S=C?"bottom":"right",_=C?"clientHeight":"clientWidth",A=a.reference[v]+a.reference[m]-h[m]-a.floating[v],ee=h[m]-a.reference[m],U=yield s.getOffsetParent==null?void 0:s.getOffsetParent(d),X=U?U[_]:0;(!X||!(yield s.isElement==null?void 0:s.isElement(U)))&&(X=c.floating[_]||a.floating[v]);let De=A/2-ee/2,E=X/2-k[v]/2-1,we=Fa(p[R],E),Fe=Fa(p[S],E),ye=we,_t=X-k[v]-Fe,st=X/2-k[v]/2+De,an=gf(ye,st,_t),Mr=!l.arrow&&gr(i)!=null&&st!==an&&a.reference[v]/2-(st<ye?we:Fe)-k[v]/2<0,Gt=Mr?st<ye?st-ye:st-_t:0;return{[m]:h[m]+Gt,data:Pt({[m]:an,centerOffset:st-an-Gt},Mr&&{alignmentOffset:Gt}),reset:Mr}})}});function w9(n,e,t){return(n?[...t.filter(o=>gr(o)===n),...t.filter(o=>gr(o)!==n)]:t.filter(o=>mr(o)===o)).filter(o=>n?gr(o)===n||(e?p1(o)!==o:!1):!0)}var C9=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,fn(r){return f(this,null,function*(){var o,i,a;let{rects:s,middlewareData:c,placement:l,platform:d,elements:u}=r,p=fi(e,r),{crossAxis:h=!1,alignment:m,allowedPlacements:v=Z5,autoAlignment:k=!0}=p,C=Af(p,g9),R=m!==void 0||v===Z5?w9(m||null,k,v):v,S=yield Ff(r,C),_=((o=c.autoPlacement)==null?void 0:o.index)||0,A=R[_];if(A==null)return{};let ee=k3(A,s,yield d.isRTL==null?void 0:d.isRTL(u.floating));if(l!==A)return{reset:{placement:R[0]}};let U=[S[mr(A)],S[ee[0]],S[ee[1]]],X=[...((i=c.autoPlacement)==null?void 0:i.overflows)||[],{placement:A,overflows:U}],De=R[_+1];if(De)return{data:{index:_+1,overflows:X},reset:{placement:De}};let E=X.map(ye=>{let _t=gr(ye.placement);return[ye.placement,_t&&h?ye.overflows.slice(0,2).reduce((st,an)=>st+an,0):ye.overflows[0],ye.overflows]}).sort((ye,_t)=>ye[1]-_t[1]),Fe=((a=E.filter(ye=>ye[2].slice(0,gr(ye[0])?2:3).every(_t=>_t<=0))[0])==null?void 0:a[0])||E[0][0];return Fe!==l?{data:{index:_+1,overflows:X},reset:{placement:Fe}}:{}})}}},b9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(r){return f(this,null,function*(){var o,i;let{placement:a,middlewareData:s,rects:c,initialPlacement:l,platform:d,elements:u}=r,p=fi(e,r),{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:R=!0}=p,S=Af(p,m9);if((o=s.arrow)!=null&&o.alignmentOffset)return{};let _=mr(a),A=ui(l),ee=mr(l)===l,U=yield d.isRTL==null?void 0:d.isRTL(u.floating),X=v||(ee||!R?[f1(l)]:h9(l)),De=C!=="none";!v&&De&&X.push(...f9(l,R,C,U));let E=[l,...X],we=yield Ff(r,S),Fe=[],ye=((i=s.flip)==null?void 0:i.overflows)||[];if(h&&Fe.push(we[_]),m){let Gt=k3(a,c,U);Fe.push(we[Gt[0]],we[Gt[1]])}if(ye=[...ye,{placement:a,overflows:Fe}],!Fe.every(Gt=>Gt<=0)){var _t,st;let Gt=(((_t=s.flip)==null?void 0:_t.index)||0)+1,mi=E[Gt];if(mi){var an;let wr=m==="alignment"?A!==ui(mi):!1,xn=((an=ye[0])==null?void 0:an.overflows[0])>0;if(!wr||xn)return{data:{index:Gt,overflows:ye},reset:{placement:mi}}}let _n=(st=ye.filter(wr=>wr.overflows[0]<=0).sort((wr,xn)=>wr.overflows[1]-xn.overflows[1])[0])==null?void 0:st.placement;if(!_n)switch(k){case"bestFit":{var Mr;let wr=(Mr=ye.filter(xn=>{if(De){let Cr=ui(xn.placement);return Cr===A||Cr==="y"}return!0}).map(xn=>[xn.placement,xn.overflows.filter(Cr=>Cr>0).reduce((Cr,B3)=>Cr+B3,0)]).sort((xn,Cr)=>xn[1]-Cr[1])[0])==null?void 0:Mr[0];wr&&(_n=wr);break}case"initialPlacement":_n=l;break}if(a!==_n)return{reset:{placement:_n}}}return{}})}}},_9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(r){return f(this,null,function*(){let{x:o,y:i,placement:a}=r,s=fi(e,r),{mainAxis:c=!0,crossAxis:l=!1,limiter:d={fn:S=>{let{x:_,y:A}=S;return{x:_,y:A}}}}=s,u=Af(s,v9),p={x:o,y:i},h=yield Ff(r,u),m=ui(mr(a)),v=Of(m),k=p[v],C=p[m];if(c){let S=v==="y"?"top":"left",_=v==="y"?"bottom":"right",A=k+h[S],ee=k-h[_];k=gf(A,k,ee)}if(l){let S=m==="y"?"top":"left",_=m==="y"?"bottom":"right",A=C+h[S],ee=C-h[_];C=gf(A,C,ee)}let R=d.fn(Pt({},r,{[v]:k,[m]:C}));return Pt({},R,{data:{x:R.x-o,y:R.y-i,enabled:{[v]:c,[m]:l}}})})}}},x9=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:r,y:o,placement:i,rects:a,middlewareData:s}=t,{offset:c=0,mainAxis:l=!0,crossAxis:d=!0}=fi(e,t),u={x:r,y:o},p=ui(i),h=Of(p),m=u[h],v=u[p],k=fi(c,t),C=typeof k=="number"?{mainAxis:k,crossAxis:0}:Pt({mainAxis:0,crossAxis:0},k);if(l){let _=h==="y"?"height":"width",A=a.reference[h]-a.floating[_]+C.mainAxis,ee=a.reference[h]+a.reference[_]-C.mainAxis;m<A?m=A:m>ee&&(m=ee)}if(d){var R,S;let _=h==="y"?"width":"height",A=["top","left"].includes(mr(i)),ee=a.reference[p]-a.floating[_]+(A&&((R=s.offset)==null?void 0:R[p])||0)+(A?0:C.crossAxis),U=a.reference[p]+a.reference[_]+(A?0:((S=s.offset)==null?void 0:S[p])||0)-(A?C.crossAxis:0);v<ee?v=ee:v>U&&(v=U)}return{[h]:m,[p]:v}}}};function m1(){return typeof window<"u"}function za(n){return w3(n)?(n.nodeName||"").toLowerCase():"#document"}function $t(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Gn(n){var e;return(e=(w3(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function w3(n){return m1()?n instanceof Node||n instanceof $t(n).Node:!1}function Mn(n){return m1()?n instanceof Element||n instanceof $t(n).Element:!1}function $n(n){return m1()?n instanceof HTMLElement||n instanceof $t(n).HTMLElement:!1}function Y5(n){return!m1()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof $t(n).ShadowRoot}function Rc(n){let{overflow:e,overflowX:t,overflowY:r,display:o}=wn(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(o)}function I9(n){return["table","td","th"].includes(za(n))}function v1(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function jf(n){let e=Vf(),t=Mn(n)?wn(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function S9(n){let e=lo(n);for(;$n(e)&&!ja(e);){if(jf(e))return e;if(v1(e))return null;e=lo(e)}return null}function Vf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ja(n){return["html","body","#document"].includes(za(n))}function wn(n){return $t(n).getComputedStyle(n)}function k1(n){return Mn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function lo(n){if(za(n)==="html")return n;let e=n.assignedSlot||n.parentNode||Y5(n)&&n.host||Gn(n);return Y5(e)?e.host:e}function C3(n){let e=lo(n);return ja(e)?n.ownerDocument?n.ownerDocument.body:n.body:$n(e)&&Rc(e)?e:C3(e)}function Tc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);let o=C3(n),i=o===((r=n.ownerDocument)==null?void 0:r.body),a=$t(o);if(i){let s=mf(a);return e.concat(a,a.visualViewport||[],Rc(o)?o:[],s&&t?Tc(s):[])}return e.concat(o,Tc(o,[],t))}function mf(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function b3(n){let e=wn(n),t=parseFloat(e.width)||0,r=parseFloat(e.height)||0,o=$n(n),i=o?n.offsetWidth:t,a=o?n.offsetHeight:r,s=h1(t)!==i||h1(r)!==a;return s&&(t=i,r=a),{width:t,height:r,$:s}}function Hf(n){return Mn(n)?n:n.contextElement}function Oa(n){let e=Hf(n);if(!$n(e))return Un(1);let t=e.getBoundingClientRect(),{width:r,height:o,$:i}=b3(e),a=(i?h1(t.width):t.width)/r,s=(i?h1(t.height):t.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}var D9=Un(0);function _3(n){let e=$t(n);return!Vf()||!e.visualViewport?D9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function E9(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==$t(n)?!1:e}function yi(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);let o=n.getBoundingClientRect(),i=Hf(n),a=Un(1);e&&(r?Mn(r)&&(a=Oa(r)):a=Oa(n));let s=E9(i,t,r)?_3(i):Un(0),c=(o.left+s.x)/a.x,l=(o.top+s.y)/a.y,d=o.width/a.x,u=o.height/a.y;if(i){let p=$t(i),h=r&&Mn(r)?$t(r):r,m=p,v=mf(m);for(;v&&r&&h!==m;){let k=Oa(v),C=v.getBoundingClientRect(),R=wn(v),S=C.left+(v.clientLeft+parseFloat(R.paddingLeft))*k.x,_=C.top+(v.clientTop+parseFloat(R.paddingTop))*k.y;c*=k.x,l*=k.y,d*=k.x,u*=k.y,c+=S,l+=_,m=$t(v),v=mf(m)}}return y1({width:d,height:u,x:c,y:l})}function zf(n,e){let t=k1(n).scrollLeft;return e?e.left+t:yi(Gn(n)).left+t}function x3(n,e,t){t===void 0&&(t=!1);let r=n.getBoundingClientRect(),o=r.left+e.scrollLeft-(t?0:zf(n,r)),i=r.top+e.scrollTop;return{x:o,y:i}}function L9(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n,i=o==="fixed",a=Gn(r),s=e?v1(e.floating):!1;if(r===a||s&&i)return t;let c={scrollLeft:0,scrollTop:0},l=Un(1),d=Un(0),u=$n(r);if((u||!u&&!i)&&((za(r)!=="body"||Rc(a))&&(c=k1(r)),$n(r))){let h=yi(r);l=Oa(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}let p=a&&!u&&!i?x3(a,c,!0):Un(0);return{width:t.width*l.x,height:t.height*l.y,x:t.x*l.x-c.scrollLeft*l.x+d.x+p.x,y:t.y*l.y-c.scrollTop*l.y+d.y+p.y}}function A9(n){return Array.from(n.getClientRects())}function T9(n){let e=Gn(n),t=k1(n),r=n.ownerDocument.body,o=di(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=di(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight),a=-t.scrollLeft+zf(n),s=-t.scrollTop;return wn(r).direction==="rtl"&&(a+=di(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}function P9(n,e){let t=$t(n),r=Gn(n),o=t.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,c=0;if(o){i=o.width,a=o.height;let l=Vf();(!l||l&&e==="fixed")&&(s=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:s,y:c}}function O9(n,e){let t=yi(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,i=$n(n)?Oa(n):Un(1),a=n.clientWidth*i.x,s=n.clientHeight*i.y,c=o*i.x,l=r*i.y;return{width:a,height:s,x:c,y:l}}function X5(n,e,t){let r;if(e==="viewport")r=P9(n,t);else if(e==="document")r=T9(Gn(n));else if(Mn(e))r=O9(e,t);else{let o=_3(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return y1(r)}function I3(n,e){let t=lo(n);return t===e||!Mn(t)||ja(t)?!1:wn(t).position==="fixed"||I3(t,e)}function R9(n,e){let t=e.get(n);if(t)return t;let r=Tc(n,[],!1).filter(s=>Mn(s)&&za(s)!=="body"),o=null,i=wn(n).position==="fixed",a=i?lo(n):n;for(;Mn(a)&&!ja(a);){let s=wn(a),c=jf(a);!c&&s.position==="fixed"&&(o=null),(i?!c&&!o:!c&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Rc(a)&&!c&&I3(n,a))?r=r.filter(d=>d!==a):o=s,a=lo(a)}return e.set(n,r),r}function N9(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n,a=[...t==="clippingAncestors"?v1(e)?[]:R9(e,this._c):[].concat(t),r],s=a[0],c=a.reduce((l,d)=>{let u=X5(e,d,o);return l.top=di(u.top,l.top),l.right=Fa(u.right,l.right),l.bottom=Fa(u.bottom,l.bottom),l.left=di(u.left,l.left),l},X5(e,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function F9(n){let{width:e,height:t}=b3(n);return{width:e,height:t}}function j9(n,e,t){let r=$n(e),o=Gn(e),i=t==="fixed",a=yi(n,!0,i,e),s={scrollLeft:0,scrollTop:0},c=Un(0);function l(){c.x=zf(o)}if(r||!r&&!i)if((za(e)!=="body"||Rc(o))&&(s=k1(e)),r){let h=yi(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else o&&l();i&&!r&&o&&l();let d=o&&!r&&!i?x3(o,s):Un(0),u=a.left+s.scrollLeft-c.x-d.x,p=a.top+s.scrollTop-c.y-d.y;return{x:u,y:p,width:a.width,height:a.height}}function hf(n){return wn(n).position==="static"}function Q5(n,e){if(!$n(n)||wn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Gn(n)===t&&(t=t.ownerDocument.body),t}function S3(n,e){let t=$t(n);if(v1(n))return t;if(!$n(n)){let o=lo(n);for(;o&&!ja(o);){if(Mn(o)&&!hf(o))return o;o=lo(o)}return t}let r=Q5(n,e);for(;r&&I9(r)&&hf(r);)r=Q5(r,e);return r&&ja(r)&&hf(r)&&!jf(r)?t:r||S9(n)||t}var V9=function(e){return f(this,null,function*(){let t=this.getOffsetParent||S3,r=this.getDimensions,o=yield r(e.floating);return{reference:j9(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}})};function H9(n){return wn(n).direction==="rtl"}var z9={convertOffsetParentRelativeRectToViewportRelativeRect:L9,getDocumentElement:Gn,getClippingRect:N9,getOffsetParent:S3,getElementRects:V9,getClientRects:A9,getDimensions:F9,getScale:Oa,isElement:Mn,isRTL:H9};function D3(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function B9(n,e){let t=null,r,o=Gn(n);function i(){var s;clearTimeout(r),(s=t)==null||s.disconnect(),t=null}function a(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),i();let l=n.getBoundingClientRect(),{left:d,top:u,width:p,height:h}=l;if(s||e(),!p||!h)return;let m=d1(u),v=d1(o.clientWidth-(d+p)),k=d1(o.clientHeight-(u+h)),C=d1(d),S={rootMargin:-m+"px "+-v+"px "+-k+"px "+-C+"px",threshold:di(0,Fa(1,c))||1},_=!0;function A(ee){let U=ee[0].intersectionRatio;if(U!==c){if(!_)return a();U?a(!1,U):r=setTimeout(()=>{a(!1,1e-7)},1e3)}U===1&&!D3(l,n.getBoundingClientRect())&&a(),_=!1}try{t=new IntersectionObserver(A,Pt({},S,{root:o.ownerDocument}))}catch{t=new IntersectionObserver(A,S)}t.observe(n)}return a(!0),i}function q9(n,e,t,r){r===void 0&&(r={});let{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=Hf(n),d=o||i?[...l?Tc(l):[],...Tc(e)]:[];d.forEach(C=>{o&&C.addEventListener("scroll",t,{passive:!0}),i&&C.addEventListener("resize",t)});let u=l&&s?B9(l,t):null,p=-1,h=null;a&&(h=new ResizeObserver(C=>{let[R]=C;R&&R.target===l&&h&&(h.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=h)==null||S.observe(e)})),t()}),l&&!c&&h.observe(l),h.observe(e));let m,v=c?yi(n):null;c&&k();function k(){let C=yi(n);v&&!D3(v,C)&&t(),v=C,m=requestAnimationFrame(k)}return t(),()=>{var C;d.forEach(R=>{o&&R.removeEventListener("scroll",t),i&&R.removeEventListener("resize",t)}),u?.(),(C=h)==null||C.disconnect(),h=null,c&&cancelAnimationFrame(m)}}var U9=C9,$9=_9,W9=b9,G9=M9,Z9=x9,K9=(n,e,t)=>{let r=new Map,o=Pt({platform:z9},t),i=Pt({},o.platform,{_c:r});return k9(n,e,Pt({},o,{platform:i}))};function Y9(n){n.cleanup&&n.cleanup();let e=n._getResolvedAttachToOptions(),t=e.element,r=nD(e,n),o=m3(e);return o&&(t=document.body,n.shepherdElementComponent.getElement().classList.add("shepherd-centered")),n.cleanup=q9(t,n.el,()=>{if(!n.el){n.cleanup==null||n.cleanup();return}J9(t,n,r,o)}),n.target=e.element,r}function X9(n,e){return{floatingUIOptions:Tf(n.floatingUIOptions||{},e.floatingUIOptions||{})}}function Q9(n){n.cleanup&&n.cleanup(),n.cleanup=null}function J9(n,e,t,r){return K9(n,e.el,t).then(eD(e,r)).then(o=>new Promise(i=>{setTimeout(()=>i(o),300)})).then(o=>{o!=null&&o.el&&(o.el.tabIndex=0,o.el.focus({preventScroll:!0}))})}function eD(n,e){return({x:t,y:r,placement:o,middlewareData:i})=>(n.el&&(e?Object.assign(n.el.style,{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}):Object.assign(n.el.style,{position:"absolute",left:`${t}px`,top:`${r}px`}),n.el.dataset.popperPlacement=o,tD(n.el,i)),n)}function tD(n,e){let t=n.querySelector(".shepherd-arrow");if(Na(t)&&e.arrow){let{x:r,y:o}=e.arrow;Object.assign(t.style,{left:r!=null?`${r}px`:"",top:o!=null?`${o}px`:""})}}function nD(n,e){var t,r,o;let i={strategy:"absolute"};i.middleware=[];let a=rD(e),s=m3(n),c=(t=n.on)==null?void 0:t.includes("auto"),l=(n==null||(r=n.on)==null?void 0:r.includes("-start"))||(n==null||(o=n.on)==null?void 0:o.includes("-end"));if(!s){if(c){var d;i.middleware.push(U9({crossAxis:!0,alignment:l?n==null||(d=n.on)==null?void 0:d.split("-").pop():null}))}else i.middleware.push(W9());if(i.middleware.push($9({limiter:Z9(),crossAxis:!0})),a){let u=typeof e.options.arrow=="object"?e.options.arrow:{padding:4};i.middleware.push(G9({element:a,padding:l?u.padding:0}))}c||(i.placement=n.on)}return Tf(i,e.options.floatingUIOptions||{})}function rD(n){return n.options.arrow&&n.el?n.el.querySelector(".shepherd-arrow"):!1}function Wt(){}function oD(n,e){for(let t in e)n[t]=e[t];return n}function E3(n){return n()}function J5(){return Object.create(null)}function Nc(n){n.forEach(E3)}function Bf(n){return typeof n=="function"}function vr(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function iD(n){return Object.keys(n).length===0}function Va(n,e){n.appendChild(e)}function bn(n,e,t){n.insertBefore(e,t||null)}function on(n){n.parentNode&&n.parentNode.removeChild(n)}function aD(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function Wn(n){return document.createElement(n)}function e3(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function L3(n){return document.createTextNode(n)}function g1(){return L3(" ")}function sD(){return L3("")}function M1(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function be(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}var cD=["width","height"];function t3(n,e){let t=Object.getOwnPropertyDescriptors(n.__proto__);for(let r in e)e[r]==null?n.removeAttribute(r):r==="style"?n.style.cssText=e[r]:r==="__value"?n.value=n[r]=e[r]:t[r]&&t[r].set&&cD.indexOf(r)===-1?n[r]=e[r]:be(n,r,e[r])}function lD(n){return Array.from(n.childNodes)}function Aa(n,e,t){n.classList.toggle(e,!!t)}var Pc;function Ec(n){Pc=n}function qf(){if(!Pc)throw new Error("Function called outside component initialization");return Pc}function dD(n){qf().$$.on_mount.push(n)}function Uf(n){qf().$$.after_update.push(n)}function uD(n){qf().$$.on_destroy.push(n)}var Pa=[],Ha=[],Ra=[],n3=[],hD=Promise.resolve(),vf=!1;function pD(){vf||(vf=!0,hD.then(A3))}function kf(n){Ra.push(n)}var pf=new Set,Ta=0;function A3(){if(Ta!==0)return;let n=Pc;do{try{for(;Ta<Pa.length;){let e=Pa[Ta];Ta++,Ec(e),fD(e.$$)}}catch(e){throw Pa.length=0,Ta=0,e}for(Ec(null),Pa.length=0,Ta=0;Ha.length;)Ha.pop()();for(let e=0;e<Ra.length;e+=1){let t=Ra[e];pf.has(t)||(pf.add(t),t())}Ra.length=0}while(Pa.length);for(;n3.length;)n3.pop()();vf=!1,pf.clear(),Ec(n)}function fD(n){if(n.fragment!==null){n.update(),Nc(n.before_update);let e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(kf)}}function yD(n){let e=[],t=[];Ra.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),Ra=e}var u1=new Set,li;function hi(){li={r:0,c:[],p:li}}function pi(){li.r||Nc(li.c),li=li.p}function ve(n,e){n&&n.i&&(u1.delete(n),n.i(e))}function Ne(n,e,t,r){if(n&&n.o){if(u1.has(n))return;u1.add(n),li.c.push(()=>{u1.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function r3(n){return n?.length!==void 0?n:Array.from(n)}function gD(n,e){let t={},r={},o={$$scope:1},i=n.length;for(;i--;){let a=n[i],s=e[i];if(s){for(let c in a)c in s||(r[c]=1);for(let c in s)o[c]||(t[c]=s[c],o[c]=1);n[i]=s}else for(let c in a)o[c]=1}for(let a in r)a in t||(t[a]=void 0);return t}function gi(n){n&&n.c()}function ho(n,e,t){let{fragment:r,after_update:o}=n.$$;r&&r.m(e,t),kf(()=>{let i=n.$$.on_mount.map(E3).filter(Bf);n.$$.on_destroy?n.$$.on_destroy.push(...i):Nc(i),n.$$.on_mount=[]}),o.forEach(kf)}function po(n,e){let t=n.$$;t.fragment!==null&&(yD(t.after_update),Nc(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function mD(n,e){n.$$.dirty[0]===-1&&(Pa.push(n),pD(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function kr(n,e,t,r,o,i,a=null,s=[-1]){let c=Pc;Ec(n);let l=n.$$={fragment:null,ctx:[],props:i,update:Wt,not_equal:o,bound:J5(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:J5(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};a&&a(l.root);let d=!1;if(l.ctx=t?t(n,e.props||{},(u,p,...h)=>{let m=h.length?h[0]:p;return l.ctx&&o(l.ctx[u],l.ctx[u]=m)&&(!l.skip_bound&&l.bound[u]&&l.bound[u](m),d&&mD(n,u)),p}):[],l.update(),d=!0,Nc(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){let u=lD(e.target);l.fragment&&l.fragment.l(u),u.forEach(on)}else l.fragment&&l.fragment.c();e.intro&&ve(n.$$.fragment),ho(n,e.target,e.anchor),A3()}Ec(c)}var Cn=class{constructor(){this.$$=void 0,this.$$set=void 0}$destroy(){po(this,1),this.$destroy=Wt}$on(e,t){if(!Bf(t))return Wt;let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!iD(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}},vD="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vD);function kD(n){let e,t,r,o,i;return{c(){e=Wn("button"),be(e,"aria-label",t=n[3]?n[3]:null),be(e,"class",r=`${n[1]||""} shepherd-button ${n[4]?"shepherd-button-secondary":""}`),e.disabled=n[2],be(e,"tabindex","0"),be(e,"type","button")},m(a,s){bn(a,e,s),e.innerHTML=n[5],o||(i=M1(e,"click",function(){Bf(n[0])&&n[0].apply(this,arguments)}),o=!0)},p(a,[s]){n=a,s&32&&(e.innerHTML=n[5]),s&8&&t!==(t=n[3]?n[3]:null)&&be(e,"aria-label",t),s&18&&r!==(r=`${n[1]||""} shepherd-button ${n[4]?"shepherd-button-secondary":""}`)&&be(e,"class",r),s&4&&(e.disabled=n[2])},i:Wt,o:Wt,d(a){a&&on(e),o=!1,i()}}}function MD(n,e,t){let{config:r,step:o}=e,i,a,s,c,l,d;function u(p){return co(p)?p=p.call(o):p}return n.$$set=p=>{"config"in p&&t(6,r=p.config),"step"in p&&t(7,o=p.step)},n.$$.update=()=>{n.$$.dirty&192&&(t(0,i=r.action?r.action.bind(o.tour):null),t(1,a=r.classes),t(2,s=r.disabled?u(r.disabled):!1),t(3,c=r.label?u(r.label):null),t(4,l=r.secondary),t(5,d=r.text?u(r.text):null))},[i,a,s,c,l,d,r,o]}var Mf=class extends Cn{constructor(e){super(),kr(this,e,MD,kD,vr,{config:6,step:7})}};function o3(n,e,t){let r=n.slice();return r[2]=e[t],r}function i3(n){let e,t,r=r3(n[1]),o=[];for(let a=0;a<r.length;a+=1)o[a]=a3(o3(n,r,a));let i=a=>Ne(o[a],1,1,()=>{o[a]=null});return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=sD()},m(a,s){for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(a,s);bn(a,e,s),t=!0},p(a,s){if(s&3){r=r3(a[1]);let c;for(c=0;c<r.length;c+=1){let l=o3(a,r,c);o[c]?(o[c].p(l,s),ve(o[c],1)):(o[c]=a3(l),o[c].c(),ve(o[c],1),o[c].m(e.parentNode,e))}for(hi(),c=r.length;c<o.length;c+=1)i(c);pi()}},i(a){if(!t){for(let s=0;s<r.length;s+=1)ve(o[s]);t=!0}},o(a){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)Ne(o[s]);t=!1},d(a){a&&on(e),aD(o,a)}}}function a3(n){let e,t;return e=new Mf({props:{config:n[2],step:n[0]}}),{c(){gi(e.$$.fragment)},m(r,o){ho(e,r,o),t=!0},p(r,o){let i={};o&2&&(i.config=r[2]),o&1&&(i.step=r[0]),e.$set(i)},i(r){t||(ve(e.$$.fragment,r),t=!0)},o(r){Ne(e.$$.fragment,r),t=!1},d(r){po(e,r)}}}function wD(n){let e,t,r=n[1]&&i3(n);return{c(){e=Wn("footer"),r&&r.c(),be(e,"class","shepherd-footer")},m(o,i){bn(o,e,i),r&&r.m(e,null),t=!0},p(o,[i]){o[1]?r?(r.p(o,i),i&2&&ve(r,1)):(r=i3(o),r.c(),ve(r,1),r.m(e,null)):r&&(hi(),Ne(r,1,1,()=>{r=null}),pi())},i(o){t||(ve(r),t=!0)},o(o){Ne(r),t=!1},d(o){o&&on(e),r&&r.d()}}}function CD(n,e,t){let r,{step:o}=e;return n.$$set=i=>{"step"in i&&t(0,o=i.step)},n.$$.update=()=>{n.$$.dirty&1&&t(1,r=o.options.buttons)},[o,r]}var wf=class extends Cn{constructor(e){super(),kr(this,e,CD,wD,vr,{step:0})}};function bD(n){let e,t,r,o,i;return{c(){e=Wn("button"),t=Wn("span"),t.textContent="\xD7",be(t,"aria-hidden","true"),be(e,"aria-label",r=n[0].label?n[0].label:"Close Tour"),be(e,"class","shepherd-cancel-icon"),be(e,"type","button")},m(a,s){bn(a,e,s),Va(e,t),o||(i=M1(e,"click",n[1]),o=!0)},p(a,[s]){s&1&&r!==(r=a[0].label?a[0].label:"Close Tour")&&be(e,"aria-label",r)},i:Wt,o:Wt,d(a){a&&on(e),o=!1,i()}}}function _D(n,e,t){let{cancelIcon:r,step:o}=e,i=a=>{a.preventDefault(),o.cancel()};return n.$$set=a=>{"cancelIcon"in a&&t(0,r=a.cancelIcon),"step"in a&&t(2,o=a.step)},[r,i,o]}var Cf=class extends Cn{constructor(e){super(),kr(this,e,_D,bD,vr,{cancelIcon:0,step:2})}};function xD(n){let e;return{c(){e=Wn("h3"),be(e,"id",n[1]),be(e,"class","shepherd-title")},m(t,r){bn(t,e,r),n[3](e)},p(t,[r]){r&2&&be(e,"id",t[1])},i:Wt,o:Wt,d(t){t&&on(e),n[3](null)}}}function ID(n,e,t){let{labelId:r,element:o,title:i}=e;Uf(()=>{co(i)&&t(2,i=i()),t(0,o.innerHTML=i,o)});function a(s){Ha[s?"unshift":"push"](()=>{o=s,t(0,o)})}return n.$$set=s=>{"labelId"in s&&t(1,r=s.labelId),"element"in s&&t(0,o=s.element),"title"in s&&t(2,i=s.title)},[o,r,i,a]}var bf=class extends Cn{constructor(e){super(),kr(this,e,ID,xD,vr,{labelId:1,element:0,title:2})}};function s3(n){let e,t;return e=new bf({props:{labelId:n[0],title:n[2]}}),{c(){gi(e.$$.fragment)},m(r,o){ho(e,r,o),t=!0},p(r,o){let i={};o&1&&(i.labelId=r[0]),o&4&&(i.title=r[2]),e.$set(i)},i(r){t||(ve(e.$$.fragment,r),t=!0)},o(r){Ne(e.$$.fragment,r),t=!1},d(r){po(e,r)}}}function c3(n){let e,t;return e=new Cf({props:{cancelIcon:n[3],step:n[1]}}),{c(){gi(e.$$.fragment)},m(r,o){ho(e,r,o),t=!0},p(r,o){let i={};o&8&&(i.cancelIcon=r[3]),o&2&&(i.step=r[1]),e.$set(i)},i(r){t||(ve(e.$$.fragment,r),t=!0)},o(r){Ne(e.$$.fragment,r),t=!1},d(r){po(e,r)}}}function SD(n){let e,t,r,o=n[2]&&s3(n),i=n[3]&&n[3].enabled&&c3(n);return{c(){e=Wn("header"),o&&o.c(),t=g1(),i&&i.c(),be(e,"class","shepherd-header")},m(a,s){bn(a,e,s),o&&o.m(e,null),Va(e,t),i&&i.m(e,null),r=!0},p(a,[s]){a[2]?o?(o.p(a,s),s&4&&ve(o,1)):(o=s3(a),o.c(),ve(o,1),o.m(e,t)):o&&(hi(),Ne(o,1,1,()=>{o=null}),pi()),a[3]&&a[3].enabled?i?(i.p(a,s),s&8&&ve(i,1)):(i=c3(a),i.c(),ve(i,1),i.m(e,null)):i&&(hi(),Ne(i,1,1,()=>{i=null}),pi())},i(a){r||(ve(o),ve(i),r=!0)},o(a){Ne(o),Ne(i),r=!1},d(a){a&&on(e),o&&o.d(),i&&i.d()}}}function DD(n,e,t){let{labelId:r,step:o}=e,i,a;return n.$$set=s=>{"labelId"in s&&t(0,r=s.labelId),"step"in s&&t(1,o=s.step)},n.$$.update=()=>{n.$$.dirty&2&&(t(2,i=o.options.title),t(3,a=o.options.cancelIcon))},[r,o,i,a]}var _f=class extends Cn{constructor(e){super(),kr(this,e,DD,SD,vr,{labelId:0,step:1})}};function ED(n){let e;return{c(){e=Wn("div"),be(e,"class","shepherd-text"),be(e,"id",n[1])},m(t,r){bn(t,e,r),n[3](e)},p(t,[r]){r&2&&be(e,"id",t[1])},i:Wt,o:Wt,d(t){t&&on(e),n[3](null)}}}function LD(n,e,t){let{descriptionId:r,element:o,step:i}=e;Uf(()=>{let{text:s}=i.options;co(s)&&(s=s.call(i)),Na(s)?o.appendChild(s):t(0,o.innerHTML=s,o)});function a(s){Ha[s?"unshift":"push"](()=>{o=s,t(0,o)})}return n.$$set=s=>{"descriptionId"in s&&t(1,r=s.descriptionId),"element"in s&&t(0,o=s.element),"step"in s&&t(2,i=s.step)},[o,r,i,a]}var xf=class extends Cn{constructor(e){super(),kr(this,e,LD,ED,vr,{descriptionId:1,element:0,step:2})}};function l3(n){let e,t;return e=new _f({props:{labelId:n[1],step:n[2]}}),{c(){gi(e.$$.fragment)},m(r,o){ho(e,r,o),t=!0},p(r,o){let i={};o&2&&(i.labelId=r[1]),o&4&&(i.step=r[2]),e.$set(i)},i(r){t||(ve(e.$$.fragment,r),t=!0)},o(r){Ne(e.$$.fragment,r),t=!1},d(r){po(e,r)}}}function d3(n){let e,t;return e=new xf({props:{descriptionId:n[0],step:n[2]}}),{c(){gi(e.$$.fragment)},m(r,o){ho(e,r,o),t=!0},p(r,o){let i={};o&1&&(i.descriptionId=r[0]),o&4&&(i.step=r[2]),e.$set(i)},i(r){t||(ve(e.$$.fragment,r),t=!0)},o(r){Ne(e.$$.fragment,r),t=!1},d(r){po(e,r)}}}function u3(n){let e,t;return e=new wf({props:{step:n[2]}}),{c(){gi(e.$$.fragment)},m(r,o){ho(e,r,o),t=!0},p(r,o){let i={};o&4&&(i.step=r[2]),e.$set(i)},i(r){t||(ve(e.$$.fragment,r),t=!0)},o(r){Ne(e.$$.fragment,r),t=!1},d(r){po(e,r)}}}function AD(n){let e,t=!vt(n[2].options.title)||n[2].options.cancelIcon&&n[2].options.cancelIcon.enabled,r,o=!vt(n[2].options.text),i,a=Array.isArray(n[2].options.buttons)&&n[2].options.buttons.length,s,c=t&&l3(n),l=o&&d3(n),d=a&&u3(n);return{c(){e=Wn("div"),c&&c.c(),r=g1(),l&&l.c(),i=g1(),d&&d.c(),be(e,"class","shepherd-content")},m(u,p){bn(u,e,p),c&&c.m(e,null),Va(e,r),l&&l.m(e,null),Va(e,i),d&&d.m(e,null),s=!0},p(u,[p]){p&4&&(t=!vt(u[2].options.title)||u[2].options.cancelIcon&&u[2].options.cancelIcon.enabled),t?c?(c.p(u,p),p&4&&ve(c,1)):(c=l3(u),c.c(),ve(c,1),c.m(e,r)):c&&(hi(),Ne(c,1,1,()=>{c=null}),pi()),p&4&&(o=!vt(u[2].options.text)),o?l?(l.p(u,p),p&4&&ve(l,1)):(l=d3(u),l.c(),ve(l,1),l.m(e,i)):l&&(hi(),Ne(l,1,1,()=>{l=null}),pi()),p&4&&(a=Array.isArray(u[2].options.buttons)&&u[2].options.buttons.length),a?d?(d.p(u,p),p&4&&ve(d,1)):(d=u3(u),d.c(),ve(d,1),d.m(e,null)):d&&(hi(),Ne(d,1,1,()=>{d=null}),pi())},i(u){s||(ve(c),ve(l),ve(d),s=!0)},o(u){Ne(c),Ne(l),Ne(d),s=!1},d(u){u&&on(e),c&&c.d(),l&&l.d(),d&&d.d()}}}function TD(n,e,t){let{descriptionId:r,labelId:o,step:i}=e;return n.$$set=a=>{"descriptionId"in a&&t(0,r=a.descriptionId),"labelId"in a&&t(1,o=a.labelId),"step"in a&&t(2,i=a.step)},[r,o,i]}var If=class extends Cn{constructor(e){super(),kr(this,e,TD,AD,vr,{descriptionId:0,labelId:1,step:2})}};function h3(n){let e;return{c(){e=Wn("div"),be(e,"class","shepherd-arrow"),be(e,"data-popper-arrow","")},m(t,r){bn(t,e,r)},d(t){t&&on(e)}}}function PD(n){let e,t,r,o,i,a,s,c,l=n[4].options.arrow&&n[4].options.attachTo&&n[4].options.attachTo.element&&n[4].options.attachTo.on&&h3();r=new If({props:{descriptionId:n[2],labelId:n[3],step:n[4]}});let d=[{"aria-describedby":o=vt(n[4].options.text)?null:n[2]},{"aria-labelledby":i=n[4].options.title?n[3]:null},n[1],{open:"true"}],u={};for(let p=0;p<d.length;p+=1)u=oD(u,d[p]);return{c(){e=Wn("dialog"),l&&l.c(),t=g1(),gi(r.$$.fragment),t3(e,u),Aa(e,"shepherd-has-cancel-icon",n[5]),Aa(e,"shepherd-has-title",n[6]),Aa(e,"shepherd-element",!0)},m(p,h){bn(p,e,h),l&&l.m(e,null),Va(e,t),ho(r,e,null),n[18](e),a=!0,s||(c=M1(e,"keydown",n[7]),s=!0)},p(p,[h]){p[4].options.arrow&&p[4].options.attachTo&&p[4].options.attachTo.element&&p[4].options.attachTo.on?l||(l=h3(),l.c(),l.m(e,t)):l&&(l.d(1),l=null);let m={};h&4&&(m.descriptionId=p[2]),h&8&&(m.labelId=p[3]),h&16&&(m.step=p[4]),r.$set(m),t3(e,u=gD(d,[(!a||h&20&&o!==(o=vt(p[4].options.text)?null:p[2]))&&{"aria-describedby":o},(!a||h&24&&i!==(i=p[4].options.title?p[3]:null))&&{"aria-labelledby":i},h&2&&p[1],{open:"true"}])),Aa(e,"shepherd-has-cancel-icon",p[5]),Aa(e,"shepherd-has-title",p[6]),Aa(e,"shepherd-element",!0)},i(p){a||(ve(r.$$.fragment,p),a=!0)},o(p){Ne(r.$$.fragment,p),a=!1},d(p){p&&on(e),l&&l.d(),po(r),n[18](null),s=!1,c()}}}var OD=9,RD=27,ND=37,FD=39;function p3(n){return n.split(" ").filter(e=>!!e.length)}function jD(n,e,t){let{attachToElement:r,attachTofocusableDialogElements:o,classPrefix:i,element:a,descriptionId:s,focusableAttachToElements:c,firstFocusableAttachToElement:l,lastFocusableAttachToElement:d,firstFocusableDialogElement:u,focusableDialogElements:p,lastFocusableDialogElement:h,labelId:m,step:v,dataStepId:k}=e,C,R,S,_=()=>a;dD(()=>{t(1,k={[`data-${i}shepherd-step-id`]:v.id}),t(13,p=[...a.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')]),t(12,u=p[0]),t(14,h=p[p.length-1]);let E=v._getResolvedAttachToOptions();E!=null&&E.element&&(t(8,r=E.element),t(8,r.tabIndex=0,r),t(9,c=[r,...r.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')]),t(10,l=c[0]),t(11,d=c[c.length-1]),r.addEventListener("keydown",X))}),uD(()=>{var E;(E=r)==null||E.removeEventListener("keydown",X)}),Uf(()=>{S!==v.options.classes&&A()});function A(){ee(S),S=v.options.classes,U(S)}function ee(E){if(Lc(E)){let we=p3(E);we.length&&a.classList.remove(...we)}}function U(E){if(Lc(E)){let we=p3(E);we.length&&a.classList.add(...we)}}let X=E=>{let{tour:we}=v;switch(E.keyCode){case OD:if((!c||c.length===0)&&p.length===0){E.preventDefault();break}if(E.shiftKey)if(document.activeElement===u||document.activeElement.classList.contains("shepherd-element")){var Fe;E.preventDefault(),((Fe=d)!=null?Fe:h).focus()}else document.activeElement===l&&(E.preventDefault(),h.focus());else if(document.activeElement===h){var ye;E.preventDefault(),((ye=l)!=null?ye:u).focus()}else document.activeElement===d&&(E.preventDefault(),u.focus());break;case RD:we.options.exitOnEsc&&(E.preventDefault(),E.stopPropagation(),v.cancel());break;case ND:we.options.keyboardNavigation&&(E.preventDefault(),E.stopPropagation(),we.back());break;case FD:we.options.keyboardNavigation&&(E.preventDefault(),E.stopPropagation(),we.next());break}};function De(E){Ha[E?"unshift":"push"](()=>{a=E,t(0,a)})}return n.$$set=E=>{"attachToElement"in E&&t(8,r=E.attachToElement),"attachTofocusableDialogElements"in E&&t(15,o=E.attachTofocusableDialogElements),"classPrefix"in E&&t(16,i=E.classPrefix),"element"in E&&t(0,a=E.element),"descriptionId"in E&&t(2,s=E.descriptionId),"focusableAttachToElements"in E&&t(9,c=E.focusableAttachToElements),"firstFocusableAttachToElement"in E&&t(10,l=E.firstFocusableAttachToElement),"lastFocusableAttachToElement"in E&&t(11,d=E.lastFocusableAttachToElement),"firstFocusableDialogElement"in E&&t(12,u=E.firstFocusableDialogElement),"focusableDialogElements"in E&&t(13,p=E.focusableDialogElements),"lastFocusableDialogElement"in E&&t(14,h=E.lastFocusableDialogElement),"labelId"in E&&t(3,m=E.labelId),"step"in E&&t(4,v=E.step),"dataStepId"in E&&t(1,k=E.dataStepId)},n.$$.update=()=>{n.$$.dirty&16&&(t(5,C=v.options&&v.options.cancelIcon&&v.options.cancelIcon.enabled),t(6,R=v.options&&v.options.title))},[a,k,s,m,v,C,R,X,r,c,l,d,u,p,h,o,i,_,De]}var Sf=class extends Cn{constructor(e){super(),kr(this,e,jD,PD,vr,{attachToElement:8,attachTofocusableDialogElements:15,classPrefix:16,element:0,descriptionId:2,focusableAttachToElements:9,firstFocusableAttachToElement:10,lastFocusableAttachToElement:11,firstFocusableDialogElement:12,focusableDialogElements:13,lastFocusableDialogElement:14,labelId:3,step:4,dataStepId:1,getElement:17})}get getElement(){return this.$$.ctx[17]}},Oc=class extends Ac{constructor(e,t={}){return super(),this._resolvedAttachTo=void 0,this._resolvedExtraHighlightElements=void 0,this.classPrefix=void 0,this.el=void 0,this.target=void 0,this.tour=void 0,this.tour=e,this.classPrefix=this.tour.options?g3(this.tour.options.classPrefix):"",this.styles=e.styles,this._resolvedAttachTo=null,Pf(this),this._setOptions(t),this}cancel(){this.tour.cancel(),this.trigger("cancel")}complete(){this.tour.complete(),this.trigger("complete")}destroy(){Q9(this),Na(this.el)&&(this.el.remove(),this.el=null),this._updateStepTargetOnHide(),this.trigger("destroy")}getTour(){return this.tour}hide(){var e;(e=this.tour.modal)==null||e.hide(),this.trigger("before-hide"),this.el&&(this.el.hidden=!0),this._updateStepTargetOnHide(),this.trigger("hide")}_resolveExtraHiglightElements(){return this._resolvedExtraHighlightElements=c9(this),this._resolvedExtraHighlightElements}_resolveAttachToOptions(){return this._resolvedAttachTo=s9(this),this._resolvedAttachTo}_getResolvedAttachToOptions(){return this._resolvedAttachTo===null?this._resolveAttachToOptions():this._resolvedAttachTo}isOpen(){return!!(this.el&&!this.el.hidden)}show(){return co(this.options.beforeShowPromise)?Promise.resolve(this.options.beforeShowPromise()).then(()=>this._show()):Promise.resolve(this._show())}updateStepOptions(e){Object.assign(this.options,e),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}getElement(){return this.el}getTarget(){return this.target}_createTooltipContent(){let e=`${this.id}-description`,t=`${this.id}-label`;return this.shepherdElementComponent=new Sf({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:e,labelId:t,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()}_scrollTo(e){let{element:t}=this._getResolvedAttachToOptions();co(this.options.scrollToHandler)?this.options.scrollToHandler(t):BS(t)&&typeof t.scrollIntoView=="function"&&t.scrollIntoView(e)}_getClassOptions(e){let t=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,r=e.classes?e.classes:"",o=t&&t.classes?t.classes:"",i=[...r.split(" "),...o.split(" ")],a=new Set(i);return Array.from(a).join(" ").trim()}_setOptions(e={}){let t=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;t=Tf({},t||{}),this.options=Object.assign({arrow:!0},t,e,X9(t,e));let{when:r}=this.options;this.options.classes=this._getClassOptions(e),this.destroy(),this.id=this.options.id||`step-${v3()}`,r&&Object.keys(r).forEach(o=>{this.on(o,r[o],this)})}_setupElements(){vt(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&a9(this),Y9(this)}_show(){var e;this.trigger("before-show"),this._resolveAttachToOptions(),this._resolveExtraHiglightElements(),this._setupElements(),this.tour.modal||this.tour.setupModal(),(e=this.tour.modal)==null||e.setupForStep(this),this._styleTargetElementForStep(this),this.el&&(this.el.hidden=!1),this.options.scrollTo&&setTimeout(()=>{this._scrollTo(this.options.scrollTo)}),this.el&&(this.el.hidden=!1);let t=this.shepherdElementComponent.getElement(),r=this.target||document.body,o=this._resolvedExtraHighlightElements;r.classList.add(`${this.classPrefix}shepherd-enabled`),r.classList.add(`${this.classPrefix}shepherd-target`),t.classList.add("shepherd-enabled"),o?.forEach(i=>{i.classList.add(`${this.classPrefix}shepherd-enabled`),i.classList.add(`${this.classPrefix}shepherd-target`)}),this.trigger("show")}_styleTargetElementForStep(e){let t=e.target,r=e._resolvedExtraHighlightElements;if(!t)return;let o=e.options.highlightClass;o&&(t.classList.add(o),r?.forEach(i=>i.classList.add(o))),t.classList.remove("shepherd-target-click-disabled"),r?.forEach(i=>i.classList.remove("shepherd-target-click-disabled")),e.options.canClickTarget===!1&&(t.classList.add("shepherd-target-click-disabled"),r?.forEach(i=>i.classList.add("shepherd-target-click-disabled")))}_updateStepTargetOnHide(){let e=this.target||document.body,t=this._resolvedExtraHighlightElements,r=this.options.highlightClass;r&&(e.classList.remove(r),t?.forEach(o=>o.classList.remove(r))),e.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`),t?.forEach(o=>{o.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`)})}};function VD(n){if(n){let{steps:e}=n;e.forEach(t=>{t.options&&t.options.canClickTarget===!1&&t.options.attachTo&&(Na(t.target)&&t.target.classList.remove("shepherd-target-click-disabled"),t._resolvedExtraHighlightElements&&t._resolvedExtraHighlightElements.forEach(r=>{Na(r)&&r.classList.remove("shepherd-target-click-disabled")}))})}}function HD(n){let e="",{innerWidth:t,innerHeight:r}=window;return n.forEach(o=>{let{width:i,height:a,x:s=0,y:c=0,r:l=0}=o,{topLeft:d=0,topRight:u=0,bottomRight:p=0,bottomLeft:h=0}=typeof l=="number"?{topLeft:l,topRight:l,bottomRight:l,bottomLeft:l}:l;e+=`M${s+d},${c}      a${d},${d},0,0,0-${d},${d}      V${a+c-h}      a${h},${h},0,0,0,${h},${h}      H${i+s-p}      a${p},${p},0,0,0,${p}-${p}      V${c+u}      a${u},${u},0,0,0-${u}-${u}      Z`}),`M${t},${r}          H0          V0          H${t}          V${r}          Z          ${e}`.replace(/\s/g,"")}function zD(n){let e,t,r,o,i;return{c(){e=e3("svg"),t=e3("path"),be(t,"d",n[2]),be(e,"class",r=`${n[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)},m(a,s){bn(a,e,s),Va(e,t),n[11](e),o||(i=M1(e,"touchmove",n[3]),o=!0)},p(a,[s]){s&4&&be(t,"d",a[2]),s&2&&r!==(r=`${a[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)&&be(e,"class",r)},i:Wt,o:Wt,d(a){a&&on(e),n[11](null),o=!1,i()}}}function T3(n){if(!n)return null;let t=n instanceof HTMLElement&&window.getComputedStyle(n).overflowY;return t!=="hidden"&&t!=="visible"&&n.scrollHeight>=n.clientHeight?n:T3(n.parentElement)}function BD(n){let e={top:0,left:0};if(!n)return e;let t=n.ownerDocument.defaultView;for(;t!==window.top;){var r;let a=(r=t)==null?void 0:r.frameElement;if(a){var o,i;let s=a.getBoundingClientRect();e.top+=s.top+((o=s.scrollTop)!=null?o:0),e.left+=s.left+((i=s.scrollLeft)!=null?i:0)}t=t.parent}return e}function qD(n,e){let t=n.getBoundingClientRect(),r=t.y||t.top,o=t.bottom||r+t.height;if(e){let a=e.getBoundingClientRect(),s=a.y||a.top,c=a.bottom||s+a.height;r=Math.max(r,s),o=Math.min(o,c)}let i=Math.max(o-r,0);return{y:r,height:i}}function UD(n,e,t){let{element:r,openingProperties:o}=e,i=!1,a,s;l();let c=()=>r;function l(){t(4,o=[{width:0,height:0,x:0,y:0,r:0}])}function d(){t(1,i=!1),C()}function u(_=0,A=0,ee=0,U=0,X,De,E){if(De){let we=[De,...E||[]];t(4,o=[]);for(let Fe of we){if(!Fe||we.indexOf(Fe)!==we.lastIndexOf(Fe))continue;let{y:ye,height:_t}=qD(Fe,X),{x:st,width:an,left:Mr}=Fe.getBoundingClientRect();we.some(mi=>{if(mi===Fe)return!1;let _n=mi.getBoundingClientRect();return st>=_n.left&&st+an<=_n.right&&ye>=_n.top&&ye+_t<=_n.bottom})||o.push({width:an+_*2,height:_t+_*2,x:(st||Mr)+ee-_,y:ye+U-_,r:A})}}else l()}function p(_){C(),_.tour.options.useModalOverlay?(R(_),h()):d()}function h(){t(1,i=!0)}let m=_=>{_.preventDefault()},v=_=>{_.stopPropagation()};function k(){window.addEventListener("touchmove",m,{passive:!1})}function C(){a&&(cancelAnimationFrame(a),a=void 0),window.removeEventListener("touchmove",m,{passive:!1})}function R(_){let{modalOverlayOpeningPadding:A,modalOverlayOpeningRadius:ee,modalOverlayOpeningXOffset:U=0,modalOverlayOpeningYOffset:X=0}=_.options,De=BD(_.target),E=T3(_.target),we=()=>{a=void 0,u(A,ee,U+De.left,X+De.top,E,_.target,_._resolvedExtraHighlightElements),a=requestAnimationFrame(we)};we(),k()}function S(_){Ha[_?"unshift":"push"](()=>{r=_,t(0,r)})}return n.$$set=_=>{"element"in _&&t(0,r=_.element),"openingProperties"in _&&t(4,o=_.openingProperties)},n.$$.update=()=>{n.$$.dirty&16&&t(2,s=HD(o))},[r,i,s,v,o,c,l,d,u,p,h,S]}var Df=class extends Cn{constructor(e){super(),kr(this,e,UD,zD,vr,{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10})}get getElement(){return this.$$.ctx[5]}get closeModalOpening(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}get positionModal(){return this.$$.ctx[8]}get setupForStep(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}},Ef=class extends Ac{constructor(){super(),this.activeTour=void 0,Pf(this)}},Lf=class extends Ac{constructor(e={}){super(),this.trackedEvents=["active","cancel","complete","show"],this.classPrefix=void 0,this.currentStep=void 0,this.focusedElBeforeOpen=void 0,this.id=void 0,this.modal=void 0,this.options=void 0,this.steps=void 0,Pf(this);let t={exitOnEsc:!0,keyboardNavigation:!0};return this.options=Object.assign({},t,e),this.classPrefix=g3(this.options.classPrefix),this.steps=[],this.addSteps(this.options.steps),["active","cancel","complete","inactive","show","start"].map(o=>{(i=>{this.on(i,a=>{a=a||{},a.tour=this,qn.trigger(i,a)})})(o)}),this._setTourID(e.id),this}addStep(e,t){let r=e;return r instanceof Oc?r.tour=this:r=new Oc(this,r),vt(t)?this.steps.push(r):this.steps.splice(t,0,r),r}addSteps(e){return Array.isArray(e)&&e.forEach(t=>{this.addStep(t)}),this}back(){let e=this.steps.indexOf(this.currentStep);this.show(e-1,!1)}cancel(){return f(this,null,function*(){if(this.options.confirmCancel){let e=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?",t;co(this.options.confirmCancel)?t=yield this.options.confirmCancel():t=window.confirm(e),t&&this._done("cancel")}else this._done("cancel")})}complete(){this._done("complete")}getById(e){return this.steps.find(t=>t.id===e)}getCurrentStep(){return this.currentStep}hide(){let e=this.getCurrentStep();if(e)return e.hide()}isActive(){return qn.activeTour===this}next(){let e=this.steps.indexOf(this.currentStep);e===this.steps.length-1?this.complete():this.show(e+1,!0)}removeStep(e){let t=this.getCurrentStep();this.steps.some((r,o)=>{if(r.id===e)return r.isOpen()&&r.hide(),r.destroy(),this.steps.splice(o,1),!0}),t&&t.id===e&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}show(e=0,t=!0){let r=Lc(e)?this.getById(e):this.steps[e];r&&(this._updateStateBeforeShow(),co(r.options.showOn)&&!r.options.showOn()?this._skipStep(r,t):(this.currentStep=r,this.trigger("show",{step:r,previous:this.currentStep}),r.show()))}start(){return f(this,null,function*(){this.trigger("start"),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this.setupModal(),this._setupActiveTour(),this.next()})}_done(e){let t=this.steps.indexOf(this.currentStep);if(Array.isArray(this.steps)&&this.steps.forEach(r=>r.destroy()),VD(this),this.trigger(e,{index:t}),qn.activeTour=null,this.trigger("inactive",{tour:this}),this.modal&&this.modal.hide(),(e==="cancel"||e==="complete")&&this.modal){let r=document.querySelector(".shepherd-modal-overlay-container");r&&(r.remove(),this.modal=null)}Na(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()}_setupActiveTour(){this.trigger("active",{tour:this}),qn.activeTour=this}setupModal(){this.modal=new Df({target:this.options.modalContainer||document.body,props:{styles:this.styles}})}_skipStep(e,t){let r=this.steps.indexOf(e);if(r===this.steps.length-1)this.complete();else{let o=t?r+1:r-1;this.show(o,t)}}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}_setTourID(e){let t=this.options.tourName||"tour",r=e||v3();this.id=`${t}--${r}`}},qn=new Ef,P3=typeof window>"u";qn.Step=P3?ff:Oc;qn.Tour=P3?yf:Lf;function $D(n){return n.offsetWidth===0&&n.offsetHeight===0}function WD(n){let{classes:e,disabled:t,label:r,secondary:o,type:i,text:a}=n,s=["back","cancel","next"];if(!i)return n;if(s.indexOf(i)===-1)throw new Error("'type' property must be one of 'back', 'cancel', or 'next'");return{action:this[i].bind(this),classes:e,disabled:t,label:r,secondary:o,text:a}}var O3=(()=>{let e=class e{constructor(){this.confirmCancel=!1,this.defaultStepOptions={},this.exitOnEsc=!0,this.isActive=!1,this.keyboardNavigation=!0,this.messageForUser=null,this.modal=!1,this.requiredElements=[],this.tourName=void 0,this.tourObject=null}back(){this.tourObject?.back()}cancel(){this.tourObject?.cancel()}complete(){this.tourObject?.complete()}hide(){this.tourObject?.hide()}next(){this.tourObject?.next()}show(r){this.tourObject?.show(r)}start(){this.isActive=!0,this.tourObject?.start()}onTourFinish(r){this.isActive=!1}addSteps(r){this._initialize();let o=this.tourObject;if(!(!o||!r||!Array.isArray(r)||r.length===0)){if(!this.requiredElementsPresent()){o.addStep({buttons:[{text:"Exit",action:o.cancel}],id:"error",title:this.errorTitle,text:[this.messageForUser]});return}r.forEach(i=>{i.buttons&&(i.buttons=i.buttons.map(WD.bind(this),this)),o.addStep(i)})}}requiredElementsPresent(){let r=!0;return this.requiredElements.forEach(o=>{let i=document.querySelector(o.selector);r&&(!i||$D(i))&&(r=!1,this.errorTitle=o.title,this.messageForUser=o.message)}),r}_initialize(){let r=new qn.Tour({confirmCancel:this.confirmCancel,confirmCancelMessage:this.confirmCancelMessage,defaultStepOptions:this.defaultStepOptions,keyboardNavigation:this.keyboardNavigation,tourName:this.tourName,useModalOverlay:this.modal,exitOnEsc:this.exitOnEsc});r.on("complete",this.onTourFinish.bind(this,"complete")),r.on("cancel",this.onTourFinish.bind(this,"cancel")),this.tourObject=r}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var R3=(()=>{let e=class e{constructor(r){this.tour=r}startTutorial(){this.tour.start()}init(){this.tour.modal=!0,this.tour.defaultStepOptions={classes:"btn-theme",scrollTo:{behavior:"smooth",block:"center"},cancelIcon:{enabled:!0},arrow:!0},this.tour.addSteps([{id:"profile-step-2",title:"Actions",text:"Ici tu peux modifier ton profil.",attachTo:{element:'[data-tour="profile"]',on:"left"},buttons:[{text:"Suivant",action:()=>this.tour.next()}]},{id:"profile-step-1",title:"Dark Mode",text:'Cliquez ici pour activer le th\xE8me Sombre ou rebasculer au th\xE8me Clair <div class="shepherd-progress">\xC9tape 1 sur 4</div>',attachTo:{element:'[data-tour="darkmode-1"]',on:"bottom"},buttons:[{text:"Terminer",action:()=>this.tour.complete()}]}])}stopTutorial(){this.tour&&this.tour.cancel()}};e.\u0275fac=function(o){return new(o||e)(z(O3))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function KD(n,e){if(n&1&&(y(0,"div",2)(1,"p"),M(2),g(),y(3,"p"),M(4),g(),y(5,"p"),M(6),g()()),n&2){let t=D();w(2),ue("User ID: ",t.user.id),w(2),ue("Email: ",t.user.email),w(2),ue("Display Name: ",t.user.user_metadata.displayName)}}var N3=(()=>{let e=class e{constructor(r){this.tuto=r,this.user=null,this.loading=!1,this.showInfo=!1,this.supabaseService=b(Tt),this.router=b(Ae),this.themeService=b(U5)}ngOnInit(){this.tuto.init()}replayTutorial(){this.tuto.startTutorial()}toggleUserInfo(){return f(this,null,function*(){this.user?this.showInfo=!this.showInfo:(yield this.fetchUser(),this.showInfo=!0)})}fetchUser(){return f(this,null,function*(){this.loading=!0;try{let{data:r}=yield this.supabaseService.getUser();this.user=r.user,this.user||this.router.navigate(["/login"])}finally{this.loading=!1}})}signOut(){return f(this,null,function*(){yield this.supabaseService.signOut(),this.router.navigate(["/login"])})}updatePassword(){return f(this,null,function*(){this.router.navigate(["/update-password"])})}toggleTheme(){this.themeService.toggleTheme()}};e.\u0275fac=function(o){return new(o||e)(N(R3))},e.\u0275cmp=he({type:e,selectors:[["app-profile"]],decls:17,vars:5,consts:[[1,"container"],[1,"btn","btn-primary",3,"click","disabled"],[1,"user-info"],["data-tour","darkmode-1",1,"btn","btn-theme",3,"click"],["size","20",3,"name"],[1,"btn","btn-secondary",3,"click"],[1,"btn",3,"click"],[1,"help-button",3,"click"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"h2"),M(2,"User Profile"),g(),y(3,"p"),M(4,"Congratulations! Welcome to secure auth with Angular + Supabase is running. \u{1F389}"),g(),y(5,"button",1),I("click",function(){return i.toggleUserInfo()}),M(6),g(),Br(7,KD,7,3,"div",2),y(8,"button",3),I("click",function(){return i.toggleTheme()}),ae(9,"lucide-icon",4),M(10),g(),y(11,"button",5),I("click",function(){return i.updatePassword()}),M(12,"Modifier le mot de passe"),g(),y(13,"button",6),I("click",function(){return i.signOut()}),M(14,"Sign Out"),g(),y(15,"button",7),I("click",function(){return i.replayTutorial()}),M(16,"?"),g()()),o&2&&(w(5),j("disabled",i.loading),w(),ue(" ",i.loading?"Chargement...":i.showInfo?"Masquer les informations":"Afficher les informations personnelles"," "),w(),qr(i.showInfo&&i.user?7:-1),w(2),j("name",i.themeService.darkMode()?"sun":"moon"),w(),ue(" ",i.themeService.darkMode()?"Mode Clair":"Mode Sombre"," "))},dependencies:[it,yt],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;text-align:left}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1.5rem;font-weight:500;text-align:left}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:#555;line-height:1.5;text-align:left}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{font-size:1.1rem;margin-bottom:2rem;color:#27ae60}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type){font-weight:500;color:#2c3e50;word-break:break-all}.container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;width:100%;padding:.85rem;margin-top:1rem;background-color:#e74c3c;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease}.container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#c0392b}.container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;margin-top:2rem}.container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.container[_ngcontent-%COMP%]   .btn-theme[_ngcontent-%COMP%]{background-color:#3498db;margin-top:2rem}.container[_ngcontent-%COMP%]   .btn-theme[_ngcontent-%COMP%]:hover{background-color:#2980b9}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]{background:#1e293b;box-shadow:0 6px 18px #0000004d}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type, body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{color:#4ade80}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type), body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:first-of-type){color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#334155;color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#475569;color:#f8fafc}.user-info[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;background:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}body.dark-mode[_nghost-%COMP%]   .user-info[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .user-info[_ngcontent-%COMP%]{background:#334155;border-color:#475569}"]});let n=e;return n})();function YD(n,e){if(n&1&&(y(0,"div",8),M(1),g()),n&2){let t=D();w(),ue(" ",t.message," ")}}var F3=(()=>{let e=class e{constructor(r){this.supabaseService=r,this.email="",this.message="",this.loading=!1,this.router=b(Ae)}onSubmit(){return f(this,null,function*(){this.loading=!0;try{yield this.supabaseService.resetPasswordForEmail(this.email),this.message="Un lien de r\xE9initialisation a \xE9t\xE9 envoy\xE9 \xE0 votre adresse email."}catch(r){this.message=`Erreur : ${r.message}`}finally{this.loading=!1}})}navigateToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(o){return new(o||e)(N(Tt))},e.\u0275cmp=he({type:e,selectors:[["app-forgot-password"]],decls:14,vars:2,consts:[[1,"forgot-password-container"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","placeholder","Votre email",3,"ngModelChange","ngModel"],["type","submit"],["class","message",4,"ngIf"],[3,"click"],[1,"message"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"h2"),M(2,"Mot de passe oubli\xE9"),g(),y(3,"form",1),I("ngSubmit",function(){return i.onSubmit()}),y(4,"div",2)(5,"label",3),M(6,"Email"),g(),y(7,"input",4),le("ngModelChange",function(s){return de(i.email,s)||(i.email=s),s}),g()(),y(8,"button",5),M(9,"Envoyer le lien de r\xE9initialisation"),g()(),ie(10,YD,2,1,"div",6),y(11,"p")(12,"a",7),I("click",function(){return i.navigateToLogin()}),M(13,"Retour au Log In"),g()()()),o&2&&(w(7),ce("ngModel",i.email),w(3),j("ngIf",i.message))},dependencies:[ft,Jr,Qe,pt,Qr,ur,ot,dr,Ee,$e],styles:[".forgot-password-container[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 6px 18px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.forgot-password-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;text-align:center;margin-bottom:2rem;font-weight:500}.forgot-password-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2c3e50;font-weight:500}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{width:100%;padding:.85rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.forgot-password-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.forgot-password-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.85rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s ease;margin-top:.5rem}.forgot-password-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#2980b9}.forgot-password-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;text-align:center;border-radius:6px;background-color:#e8f4fc;color:#2c3e50;border:1px solid #b8d8f0}p[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#555;font-size:.9rem}a[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;cursor:pointer;transition:color .3s ease}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2980b9;text-decoration:underline}"]});let n=e;return n})();function XD(n,e){if(n&1){let t=me();y(0,"form",8),I("ngSubmit",function(){T(t);let o=D();return P(o.onSubmit())}),y(1,"div",9)(2,"label",10),M(3,"Nouveau mot de passe"),g(),y(4,"input",11),le("ngModelChange",function(o){T(t);let i=D();return de(i.newPassword,o)||(i.newPassword=o),P(o)}),g()(),y(5,"div",9)(6,"label",12),M(7,"Confirmer le mot de passe"),g(),y(8,"input",13),le("ngModelChange",function(o){T(t);let i=D();return de(i.confirmPassword,o)||(i.confirmPassword=o),P(o)}),g()(),y(9,"button",14),M(10),g()()}if(n&2){let t=D();w(4),ce("ngModel",t.newPassword),j("disabled",t.loading),w(4),ce("ngModel",t.confirmPassword),j("disabled",t.loading),w(),j("disabled",t.loading),w(),ue(" ",t.loading?"Mise \xE0 jour...":"Mettre \xE0 jour le mot de passe"," ")}}function QD(n,e){if(n&1&&(y(0,"div",15),M(1),g()),n&2){let t=D();w(),ue(" ",t.error," ")}}function JD(n,e){if(n&1&&(y(0,"div",16),M(1),g()),n&2){let t=D();w(),ue(" ",t.message," ")}}var j3=(()=>{let e=class e{constructor(r,o){this.supabaseService=r,this.router=o,this.newPassword="",this.confirmPassword="",this.message="",this.error="",this.loading=!1,this.success=!1}ngOnInit(){return f(this,null,function*(){let{data:r}=yield this.supabaseService.getSession();r.session||(this.error="Session invalide. Veuillez demander un nouveau lien de r\xE9initialisation.")})}onSubmit(){return f(this,null,function*(){if(this.error="",this.message="",this.newPassword.length<6){this.error="Le mot de passe doit contenir au moins 6 caract\xE8res.";return}if(this.newPassword!==this.confirmPassword){this.error="Les mots de passe ne correspondent pas.";return}this.loading=!0;try{let{error:r}=yield this.supabaseService.updatePassword(this.newPassword);r?this.error="Erreur : "+r.message:(this.message="Mot de passe mis \xE0 jour avec succ\xE8s !",this.success=!0)}catch(r){this.error="Une erreur est survenue : "+r.message}finally{this.loading=!1}})}goToProfile(){this.router.navigate(["/profile"])}goToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(o){return new(o||e)(N(Tt),N(Ae))},e.\u0275cmp=he({type:e,selectors:[["app-update-password"]],decls:13,vars:3,consts:[[1,"update-password-container"],[1,"update-password-card"],[1,"subtitle"],[3,"ngSubmit",4,"ngIf"],["class","message error",4,"ngIf"],["class","message success",4,"ngIf"],[1,"profile-button",3,"click"],[1,"login-button",3,"click"],[3,"ngSubmit"],[1,"form-group"],["for","newPassword"],["type","password","id","newPassword","name","newPassword","required","","minlength","6","placeholder","Minimum 6 caract\xE8res",3,"ngModelChange","ngModel","disabled"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","","minlength","6","placeholder","Confirmez votre mot de passe",3,"ngModelChange","ngModel","disabled"],["type","submit",3,"disabled"],[1,"message","error"],[1,"message","success"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"div",1)(2,"h2"),M(3,"Mettre \xE0 jour votre mot de passe"),g(),y(4,"p",2),M(5,"Veuillez entrer votre nouveau mot de passe"),g(),ie(6,XD,11,6,"form",3)(7,QD,2,1,"div",4)(8,JD,2,1,"div",5),y(9,"button",6),I("click",function(){return i.goToProfile()}),M(10," Retour au profil "),g(),y(11,"button",7),I("click",function(){return i.goToLogin()}),M(12," Retour \xE0 la connexion "),g()()()),o&2&&(w(6),j("ngIf",!i.success&&(!i.error||i.newPassword)),w(),j("ngIf",i.error),w(),j("ngIf",i.message))},dependencies:[ft,Jr,Qe,pt,Qr,ur,oc,ot,dr,Ee,$e],styles:[".update-password-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.update-password-card[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:10px;box-shadow:0 10px 25px #0003;max-width:400px;width:100%}h2[_ngcontent-%COMP%]{margin:0 0 10px;color:#333;font-size:24px;text-align:center}.subtitle[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:30px;font-size:14px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500;font-size:14px}input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:5px;font-size:14px;box-sizing:border-box;transition:border-color .3s}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}button[_ngcontent-%COMP%]{width:100%;padding:12px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:5px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .2s,box-shadow .2s}button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.login-button[_ngcontent-%COMP%]{margin-top:20px;background:linear-gradient(135deg,#2ecc71,#27ae60)}.login-button[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #2ecc7166}.profile-button[_ngcontent-%COMP%]{margin-top:20px;background:linear-gradient(135deg,#cc2e85 0% 100%)}.profile-button[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #2ecc7166}.message[_ngcontent-%COMP%]{margin-top:20px;padding:12px;border-radius:5px;text-align:center;font-size:14px}.message.error[_ngcontent-%COMP%]{background-color:#fee;color:#c33;border:1px solid #fcc}.message.success[_ngcontent-%COMP%]{background-color:#efe;color:#3c3;border:1px solid #cfc}"]});let n=e;return n})();var V3=(()=>{let e=class e{constructor(){this.tour=null}startTutorial(){this.tour=new qn.Tour({useModalOverlay:!0,defaultStepOptions:{classes:"shepherd-theme-dark",scrollTo:{behavior:"smooth",block:"center"},cancelIcon:{enabled:!0}}}),this.tour.addStep({id:"step-1",title:"\u2795 Cr\xE9er un ticket",text:'Cliquez ici pour cr\xE9er un nouveau ticket dans votre tableau.<div class="shepherd-progress">\xC9tape 1 sur 4</div>',attachTo:{element:".create-ticket-btn",on:"bottom"},buttons:[{text:"Suivant",action:this.tour.next,classes:"shepherd-button-primary"}]}),this.tour.addStep({id:"step-2",title:"\u{1F50D} Recherche rapide",text:'Utilisez la recherche pour filtrer vos tickets rapidement.<div class="shepherd-progress">\xC9tape 2 sur 4</div>',attachTo:{element:".search-input",on:"bottom"},buttons:[{text:"Pr\xE9c\xE9dent",action:this.tour.back,classes:"shepherd-button-secondary"},{text:"Suivant",action:this.tour.next,classes:"shepherd-button-primary"}]}),this.tour.addStep({id:"step-3",title:"\u{1F4CB} Tableau Kanban",text:'Glissez-d\xE9posez vos tickets entre les colonnes pour changer leur statut.<div class="shepherd-progress">\xC9tape 3 sur 4</div>',attachTo:{element:".kanban-board",on:"top"},buttons:[{text:"Pr\xE9c\xE9dent",action:this.tour.back,classes:"shepherd-button-secondary"},{text:"Suivant",action:this.tour.next,classes:"shepherd-button-primary"}]}),this.tour.addStep({id:"step-4",title:"\u{1F3AB} \xC9dition rapide",text:'Cliquez sur un ticket pour \xE9diter ses d\xE9tails directement.<div class="shepherd-progress">\xC9tape 4 sur 4</div>',attachTo:{element:".ticket-card",on:"right"},buttons:[{text:"Pr\xE9c\xE9dent",action:this.tour.back,classes:"shepherd-button-secondary"},{text:"Terminer",action:this.tour.complete,classes:"shepherd-button-primary"}]}),this.tour.on("complete",()=>{console.log("\u2705 Tutorial termin\xE9"),localStorage.setItem("kanban-tutorial-completed","true")}),this.tour.on("cancel",()=>{console.log("\u274C Tutorial annul\xE9")}),this.tour.start()}stopTutorial(){this.tour&&this.tour.cancel()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function tE(n,e){if(n&1){let t=me();y(0,"div",13),I("click",function(){let o=T(t).$implicit,i=D();return P(i.editTicket(o))}),y(1,"h4"),M(2),g(),y(3,"p"),M(4),g(),y(5,"div",14)(6,"span",15),M(7),g()()()}if(n&2){let t=e.$implicit;w(2),J(t.title),w(2),J(t.description),w(3),ue("\u{1F464} ",t.assignee)}}function nE(n,e){if(n&1){let t=me();y(0,"div",13),I("click",function(){let o=T(t).$implicit,i=D();return P(i.editTicket(o))}),y(1,"h4"),M(2),g(),y(3,"p"),M(4),g(),y(5,"div",14)(6,"span",15),M(7),g()()()}if(n&2){let t=e.$implicit;w(2),J(t.title),w(2),J(t.description),w(3),ue("\u{1F464} ",t.assignee)}}function rE(n,e){if(n&1){let t=me();y(0,"div",16),I("click",function(){let o=T(t).$implicit,i=D();return P(i.editTicket(o))}),y(1,"h4"),M(2),g(),y(3,"p"),M(4),g(),y(5,"div",14)(6,"span",15),M(7),g()()()}if(n&2){let t=e.$implicit;w(2),J(t.title),w(2),J(t.description),w(3),ue("\u{1F464} ",t.assignee)}}var H3=(()=>{let e=class e{constructor(r){this.tutorialService=r,this.tutorialCompleted=!1,this.searchQuery="",this.tickets=[{id:1,title:"Responsive sur Releaseflow",description:"Adapter l'interface mobile",status:"backlog",assignee:"Beno\xEEt Briens"},{id:2,title:"Fix bug d'authentification",description:"Corriger le probl\xE8me de session",status:"in-progress",assignee:"Marie Dupont"},{id:3,title:"Ajouter tests unitaires",description:"Couverture \xE0 80%",status:"done",assignee:"Jean Martin"}]}ngAfterViewInit(){this.tutorialCompleted=localStorage.getItem("kanban-tutorial-completed")==="true",this.tutorialCompleted||setTimeout(()=>{this.startTutorial()},1e3)}startTutorial(){this.tutorialService.startTutorial()}resetTutorial(){localStorage.removeItem("kanban-tutorial-completed"),this.tutorialCompleted=!1,this.startTutorial()}getTicketsByStatus(r){return this.tickets.filter(o=>o.status===r)}createTicket(){let r={id:Date.now(),title:"Nouveau ticket",description:"Description",status:"backlog",assignee:"Non assign\xE9"};this.tickets.push(r),console.log("Ticket cr\xE9\xE9:",r)}onSearch(){console.log("Recherche:",this.searchQuery)}editTicket(r){console.log("\xC9dition du ticket:",r)}};e.\u0275fac=function(o){return new(o||e)(N(V3))},e.\u0275cmp=he({type:e,selectors:[["app-kanban-board"]],decls:35,vars:7,consts:[[1,"kanban-container"],[1,"toolbar"],[1,"search-bar"],["type","text","placeholder","\u{1F50D} Rechercher dans un ticket...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"create-ticket-btn",3,"click"],[1,"kanban-board"],[1,"kanban-column"],[1,"column-header"],[1,"count"],[1,"tickets-list"],["class","ticket-card",3,"click",4,"ngFor","ngForOf"],["class","ticket-card done",3,"click",4,"ngFor","ngForOf"],["title","Relancer le tutorial",1,"help-button",3,"click"],[1,"ticket-card",3,"click"],[1,"ticket-footer"],[1,"assignee"],[1,"ticket-card","done",3,"click"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"div",1)(2,"h1"),M(3,"\u{1F4CA} Tableau SIDE"),g(),y(4,"div",2)(5,"input",3),le("ngModelChange",function(s){return de(i.searchQuery,s)||(i.searchQuery=s),s}),I("input",function(){return i.onSearch()}),g()(),y(6,"button",4),I("click",function(){return i.createTicket()}),M(7,"\u2795 Nouveau ticket"),g()(),y(8,"div",5)(9,"div",6)(10,"div",7)(11,"h3"),M(12,"\u{1F4DD} BACKLOG"),g(),y(13,"span",8),M(14),g()(),y(15,"div",9),ie(16,tE,8,3,"div",10),g()(),y(17,"div",6)(18,"div",7)(19,"h3"),M(20,"\u26A1 EN COURS"),g(),y(21,"span",8),M(22),g()(),y(23,"div",9),ie(24,nE,8,3,"div",10),g()(),y(25,"div",6)(26,"div",7)(27,"h3"),M(28,"\u2705 TERMIN\xC9"),g(),y(29,"span",8),M(30),g()(),y(31,"div",9),ie(32,rE,8,3,"div",11),g()()(),y(33,"button",12),I("click",function(){return i.resetTutorial()}),M(34," ? "),g()()),o&2&&(w(5),ce("ngModel",i.searchQuery),w(9),J(i.getTicketsByStatus("backlog").length),w(2),j("ngForOf",i.getTicketsByStatus("backlog")),w(6),J(i.getTicketsByStatus("in-progress").length),w(2),j("ngForOf",i.getTicketsByStatus("in-progress")),w(6),J(i.getTicketsByStatus("done").length),w(2),j("ngForOf",i.getTicketsByStatus("done")))},dependencies:[ft,Qe,pt,ot,Ee,Lt],styles:[".kanban-container[_ngcontent-%COMP%]{padding:24px;background-color:#f5f6f8;min-height:100vh}.toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-bottom:30px;background:#fff;padding:20px;border-radius:8px;box-shadow:0 1px 3px #0000001a}.toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;color:#172b4d}.search-bar[_ngcontent-%COMP%]{flex:1;max-width:400px}.search-input[_ngcontent-%COMP%]{width:100%;padding:10px 16px;border:2px solid #dfe1e6;border-radius:6px;font-size:14px;transition:all .2s}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0052cc;box-shadow:0 0 0 3px #0052cc1a}.create-ticket-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#0052cc;color:#fff;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;white-space:nowrap}.create-ticket-btn[_ngcontent-%COMP%]:hover{background-color:#0747a6;transform:translateY(-1px);box-shadow:0 4px 8px #0052cc4d}.kanban-board[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:flex-start}.kanban-column[_ngcontent-%COMP%]{flex:1;background-color:#f4f5f7;padding:16px;border-radius:8px;min-height:500px}.column-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:12px;border-bottom:2px solid #dfe1e6}.column-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#172b4d;font-weight:600}.column-header[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background-color:#dfe1e6;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:600;color:#5e6c84}.tickets-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.ticket-card[_ngcontent-%COMP%]{background:#fff;padding:16px;border-radius:6px;box-shadow:0 1px 3px #0000001f;cursor:pointer;transition:all .2s}.ticket-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.ticket-card.done[_ngcontent-%COMP%]{opacity:.7}.ticket-card.done[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-decoration:line-through}.ticket-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;color:#172b4d;font-weight:600}.ticket-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px;font-size:13px;color:#5e6c84;line-height:1.4}.ticket-card[_ngcontent-%COMP%]   .ticket-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:12px}.ticket-card[_ngcontent-%COMP%]   .ticket-footer[_ngcontent-%COMP%]   .assignee[_ngcontent-%COMP%]{color:#5e6c84}.help-button[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;width:60px;height:60px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;cursor:pointer;font-size:24px;box-shadow:0 4px 12px #0000004d;z-index:1000;transition:all .3s}.help-button[_ngcontent-%COMP%]:hover{transform:scale(1.1) rotate(10deg);box-shadow:0 6px 20px #0006}.help-button[_ngcontent-%COMP%]:active{transform:scale(.95)}"]});let n=e;return n})();var z3=[{path:"login",component:z5},{path:"signup",component:B5},{path:"forgot-password",component:F3},{path:"",canActivate:[q5],children:[{path:"",redirectTo:"/compact",pathMatch:"full"},{path:"list",component:a1},{path:"calendar",component:j5},{path:"compact",component:V5},{path:"timeline",component:H5},{path:"profile",component:N3},{path:"update-password",component:j3},{path:"kanban",component:H3}]},{path:"**",redirectTo:"login"}];function oE(n,e){n&1&&(y(0,"a",11),M(1,"Kanban"),g())}var iE=(()=>{let e=class e{constructor(){this.environment=ci}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=he({type:e,selectors:[["app-root"]],decls:20,vars:1,consts:[[1,"app-container"],[1,"navbar"],[1,"nav-content"],[1,"app-title"],[1,"nav-links"],["routerLink","/calendar","routerLinkActive","active"],["routerLink","/compact","routerLinkActive","active"],["routerLink","/list","routerLinkActive","active"],["routerLink","/timeline","routerLinkActive","active"],["data-tour","profile","routerLink","/profile","routerLinkActive","active"],["name","user",1,"icon"],["routerLink","/kanban","routerLinkActive","active"]],template:function(o,i){o&1&&(y(0,"div",0)(1,"nav",1)(2,"div",2)(3,"h1",3),M(4,"Calendrier Livraisons & MEP"),g(),y(5,"div",4)(6,"a",5),M(7,"Calendrier"),g(),y(8,"a",6),M(9,"Vue Compacte"),g(),y(10,"a",7),M(11,"Liste"),g(),y(12,"a",8),M(13,"Timeline"),g(),y(14,"a",9),ae(15,"lucide-icon",10),M(16," Profil "),g(),Br(17,oE,2,0,"a",11),g()()(),y(18,"main"),ae(19,"router-outlet"),g()()),o&2&&(w(17),qr(i.environment.production===!1?17:-1))},dependencies:[Ee,y2,Ws,pa,h2,it,yt],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background:#f1f5f9}.app-container[_ngcontent-%COMP%]{min-height:100vh}.navbar[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e2e8f0;position:sticky;top:0;z-index:100;box-shadow:0 1px 3px #0000000d}.nav-content[_ngcontent-%COMP%]{max-width:1600px;margin:0 auto;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center}.app-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#1e293b}.nav-links[_ngcontent-%COMP%]{display:flex;gap:.5rem}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:6px;text-decoration:none;color:#64748b;font-weight:500;transition:all .2s}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff}main[_ngcontent-%COMP%]{min-height:calc(100vh - 80px)}.icon[_ngcontent-%COMP%]{width:18px;height:18px;margin-right:6px;vertical-align:middle;fill:currentColor}body.dark-mode[_nghost-%COMP%], body.dark-mode   [_nghost-%COMP%]{background:#0f172a}body.dark-mode[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{background:#1e293b;border-bottom-color:#334155}body.dark-mode[_nghost-%COMP%]   .app-title[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .app-title[_ngcontent-%COMP%]{color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#cbd5e1}body.dark-mode[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, body.dark-mode   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#334155;color:#f8fafc}body.dark-mode[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], body.dark-mode   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#2563eb;color:#fff}"]});let n=e;return n})();jp(iE,{providers:[p2(z3),Ll(it.pick({User:vM,Search:fM,X:kM,Package:cM,Plus:hM,Trash2:mM,PenLine:uM,Rocket:pM,Menu:aM,PanelLeftClose:lM,PanelLeftOpen:dM,LucideHistory:iM,Calendar:nM,GitCommit:oM,Columns:rM,AlignJustify:gM,Sun:yM,Moon:sM}))]});export{iE as App};
